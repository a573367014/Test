var _0x2b8d=['baseTransform','charPosDatas','intensitys','writingMode','baseWidth','isHorizontal','baseHeight','maxFontSize','bend','tan','bendVertical','archCurve','transform','lineToQuadraticBezier','_factorial','_combination','_bernsteinBasis','_linearBasis','_basisFunction','linear','_calculateSTUfromX','_calculateXfromSTU','XWidth','YWidth','ZWidth','_changeP','_addP','_initSTUs','STUs','_calculateDeformedGeometry','pattern','intensity','intensity1','basisType','bernstein','_initP','maxLineWidth','_getP','adjustControlPoints','combineForFFD','factorialForFFD','caculateForBezierFFD','caculateForFFD','linearBasis','caculateForLinearFFD','horizontal-tb','lowerRoof','angledProjection','foldedCorner','creatFFDControlPoints','concaveCurve','upperArchCurve','lowerArchCurve','skew','flagCurve','trapezoid','lowerTrapezoid','topTrapezoid','horizontalTrapezoid','verticalStretching','runPattern','runPattern1','runPattern2','runPattern3','runPattern4','runPattern5','runPattern6','runPattern7','runPattern8','runPattern0','fround','PerCharCalculation','minX','maxX','bboxPerLine','rowNum','runPattern9','curve','patchwork','fontSize','translateVec','step','centerPos','arch2','stepFarAndNear','centerX','centerY','boxCenter','horizontalRotate','horizontalCurvedRotate','getPerCharAndCurveFunc','funcPerChar','funcPerCurve','arbitraryOffsetRotate','randNum','diviate','ellipse','isFollowTangent','rectangular','pentagon','polygon','heart','calculateNewCenter','resetPointPos','resetPointPosWithoutRotate','calculateNewCenterWithoutRotate','newCenterPos','LRUMap','textGeometry\x20options\x20is','deformation','url','catch','info','Error\x20occurred\x20when\x20parsing\x20font','cloneDeep','initPosArray','baseLineHeight','bulbCurve','bevel','upperRoof','字体挤出缩放','extrudeScaleX','extrudeScaleY','getAttribute','Bend','BendForPaths','FFDForPaths','TWIST','Verbatim','VerbatimForPaths','createTextModel','loadFont','object','opentype.js','lru_map','function','amd','exports','lodash','fontParser','undefined','prototype','hasOwnProperty','call','default','value','done','resolve','apply','__esModule','@babel/helpers\x20-\x20typeof','iterator','constructor','symbol','@@iterator','@@asyncIterator','toStringTag','create','_invoke','suspendedStart','executing','completed','throw','arg','delegate','next','method','sent','_sent','return','abrupt','normal','type','suspendedYield','wrap','getPrototypeOf','forEach','__await','then','The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method','nextLoc','catchLoc','finallyLoc','tryEntries','push','completion','root','reset','length','displayName','isGeneratorFunction','GeneratorFunction','name','mark','setPrototypeOf','AsyncIterator','async','toString','[object\x20Generator]','keys','reverse','values','prev','charAt','slice','rval','tryLoc','end','try\x20statement\x20without\x20catch\x20or\x20finally','break','continue','complete','illegal\x20catch\x20attempt','regeneratorRuntime\x20=\x20r','_listeners','indexOf','splice','target','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','enumerable','configurable','writable','defineProperty','random','toUpperCase','max','min','DEG2RAD','RAD2DEG','pow','ceil','LN2','log','elements','identity','set','clone','fromArray','copy','copyPosition','extractBasis','setFromMatrixColumn','makeBasis','makeRotationFromQuaternion','compose','lookAt','subVectors','lengthSq','normalize','abs','crossVectors','warn','THREE.Matrix4:\x20.multiply()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.multiplyMatrices(\x20a,\x20b\x20)\x20instead.','multiplyMatrices','premultiply','multiplyScalar','applyToBufferAttribute','getX','getY','setXYZ','determinant','setPosition','scale','getMaxScaleOnAxis','sqrt','makeTranslation','cos','sin','makeRotationZ','makeScale','makeShear','decompose','setFromRotationMatrix','makePerspective','makeOrthographic','toArray','isQuaternion','slerpFlat','EPSILON','atan2','onChangeCallback','setFromEuler','isEuler','order','YXZ','ZXY','ZYX','YZX','XZY','setFromAxisAngle','setFromUnitVectors','angleTo','clamp','dot','rotateTowards','slerp','inverse','THREE.Quaternion:\x20.multiply()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.multiplyQuaternions(\x20a,\x20b\x20)\x20instead.','multiplyQuaternions','equals','onChange','defineProperties','isVector3','setScalar','setZ','setComponent','index\x20is\x20out\x20of\x20range:\x20','getComponent','add','THREE.Vector3:\x20.add()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.addVectors(\x20a,\x20b\x20)\x20instead.','addVectors','addScalar','addScaledVector','sub','THREE.Vector3:\x20.sub()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.subVectors(\x20a,\x20b\x20)\x20instead.','subScalar','multiply','multiplyVectors','applyEuler','error','applyQuaternion','applyAxisAngle','applyMatrix3','applyMatrix4','project','matrixWorldInverse','unproject','getInverse','projectionMatrix','transformDirection','divide','clampLength','divideScalar','floor','round','roundToZero','negate','setLength','lerp','lerpVectors','cross','THREE.Vector3:\x20.cross()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.crossVectors(\x20a,\x20b\x20)\x20instead.','projectOnVector','reflect','acos','distanceTo','distanceToSquared','setFromSpherical','setFromSphericalCoords','radius','phi','theta','setFromCylindricalCoords','setFromMatrixPosition','setFromMatrixScale','fromBufferAttribute','THREE.Vector3:\x20offset\x20has\x20been\x20removed\x20from\x20.fromBufferAttribute().','getZ','assign','materialIndex','vertexNormals','isMatrix3','setFromMatrix4','isMatrix4','THREE.Matrix3:\x20.getInverse()\x20no\x20longer\x20takes\x20a\x20Matrix4\x20argument.','transpose','getNormalMatrix','setUvTransform','translate','isBox3','setFromBufferAttribute','setFromPoints','makeEmpty','expandByPoint','setFromCenterAndSize','setFromObject','expandByObject','isEmpty','getCenter','THREE.Box3:\x20.getCenter()\x20target\x20is\x20now\x20required','expandByScalar','geometry','isGeometry','vertices','matrixWorld','isBufferGeometry','attributes','position','containsPoint','containsBox','getParameter','THREE.Box3:\x20.getParameter()\x20target\x20is\x20now\x20required','intersectsBox','clampPoint','THREE.Box3:\x20.clampPoint()\x20target\x20is\x20now\x20required','THREE.Box3:\x20.getBoundingSphere()\x20target\x20is\x20now\x20required','getSize','intersect','union','center','empty','distanceToPoint','intersectsSphere','THREE.Sphere:\x20.getBoundingBox()\x20target\x20is\x20now\x20required','isVector2','setX','setY','hypot','manhattanLength','manhattanDistanceTo','THREE.Vector2:\x20offset\x20has\x20been\x20removed\x20from\x20.fromBufferAttribute().','_order','DefaultOrder','RotationOrders','XYZ','asin','THREE.Euler:\x20.setFromRotationMatrix()\x20given\x20unsupported\x20order:\x20','mask','parent','children','DefaultUp','setFromQuaternion','matrix','matrixAutoUpdate','DefaultMatrixAutoUpdate','matrixWorldNeedsUpdate','layers','castShadow','receiveShadow','frustumCulled','renderOrder','quaternion','translateOnAxis','updateWorldMatrix','THREE.Object3D.add:\x20object\x20can\x27t\x20be\x20added\x20as\x20a\x20child\x20of\x20itself.','isObject3D','remove','dispatchEvent','THREE.Object3D.add:\x20object\x20not\x20an\x20instance\x20of\x20THREE.Object3D.','getObjectByProperty','updateMatrixWorld','THREE.Object3D:\x20.getWorldQuaternion()\x20target\x20is\x20now\x20required','THREE.Object3D:\x20.getWorldScale()\x20target\x20is\x20now\x20required','THREE.Object3D:\x20.getWorldDirection()\x20target\x20is\x20now\x20required','traverse','visible','traverseVisible','updateMatrix','string','metadata','uuid','stringify','userData','toJSON','isMesh','isLine','isPoints','geometries','shapes','isArray','material','materials','textures','images','parse','from','Object','Set','Arguments','test','Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','number','long','val\x20is\x20not\x20a\x20non-empty\x20string\x20or\x20a\x20valid\x20number.\x20val=','exec','toLowerCase','years','year','yrs','weeks','week','days','day','hours','hour','hrs','minutes','minute','mins','second','secs','millisecond','msecs','msec','debug','coerce','disable','enable','enabled','humanize','destroy','names','charCodeAt','colors','selectColor','diff','curr','unshift','replace','formatters','formatArgs','namespace','useColors','color','namespaces','save','skips','split','.*?','concat','map','join','substring','stack','Instance\x20method\x20`debug.destroy()`\x20is\x20deprecated\x20and\x20no\x20longer\x20does\x20anything.\x20It\x20will\x20be\x20removed\x20in\x20the\x20next\x20major\x20version\x20of\x20`debug`.','load','storage','#0000CC','#0000FF','#0033CC','#0033FF','#0066CC','#0066FF','#0099CC','#0099FF','#00CC66','#00CC99','#00CCCC','#00CCFF','#3333CC','#3333FF','#3366CC','#3366FF','#3399CC','#3399FF','#33CC00','#33CCCC','#33CCFF','#6600FF','#6633CC','#66CC00','#66CC33','#9900CC','#9900FF','#9933CC','#9933FF','#99CC00','#CC0000','#CC0033','#CC0066','#CC0099','#CC00FF','#CC3333','#CC3399','#CC33CC','#CC6600','#CC6633','#CC9933','#CCCC33','#FF0000','#FF0033','#FF0066','#FF0099','#FF00CC','#FF3300','#FF3333','#FF3366','#FF3399','#FF33FF','#FF6600','#FF6633','#FF9900','#FFCC00','renderer','__nwjs','userAgent','match','documentElement','style','WebkitAppearance','console','firebug','exception','table','\x20%c','%c\x20','color:\x20','removeItem','getItem','env','DEBUG','[UnexpectedJSONParseError]:\x20','message','three-font-parser','0.4.2','size','height','quad_ellipse','half_ellipse','tri_method','curveSegmentsAdaptive','entries','reduce','rootName','_fire','get','timer\x20','_store','\x20not\x20exists','generateUUID','Geometry','faces','faceVertexUvs','morphTargets','morphNormals','skinWeights','skinIndices','boundingBox','boundingSphere','elementsNeedUpdate','verticesNeedUpdate','normalsNeedUpdate','groupsNeedUpdate','computeBoundingBox','computeBoundingSphere','index','array','groups','start','count','computeFaceNormals','applyMatrix','__originalFaceNormal','__originalVertexNormals','faceNormals','computeVertexNormals','THREE.Geometry.merge():\x20geometry\x20not\x20an\x20instance\x20of\x20THREE.Geometry.','THREE.Geometry.mergeMesh():\x20mesh\x20not\x20an\x20instance\x20of\x20THREE.Mesh.','merge','_id','sort','data','uvs','lineDistances','normals','lineDistancesNeedUpdate','dispose','\x22\x20is\x20read-only','THREE.Vector4:\x20.add()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.addVectors(\x20a,\x20b\x20)\x20instead.','THREE.Vector4:\x20.sub()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.subVectors(\x20a,\x20b\x20)\x20instead.','THREE.Vector4:\x20offset\x20has\x20been\x20removed\x20from\x20.fromBufferAttribute().','getW','THREE.BufferAttribute:\x20array\x20should\x20be\x20a\x20Typed\x20Array.','itemSize','normalized','dynamic','updateRange','version','needsUpdate','THREE.BufferAttribute.copyVector2sArray():\x20vector\x20is\x20undefined','THREE.BufferAttribute.copyVector3sArray():\x20vector\x20is\x20undefined','THREE.BufferAttribute.copyVector4sArray():\x20vector\x20is\x20undefined','onUploadCallback','uvs2','uvsNeedUpdate','THREE.DirectGeometry:\x20Faceless\x20geometries\x20are\x20not\x20supported.','THREE.DirectGeometry.fromGeometry():\x20Undefined\x20vertexUv\x20','THREE.DirectGeometry.fromGeometry():\x20Undefined\x20vertexUv2\x20','computeGroups','BufferGeometry','morphAttributes','drawRange','charVertexFlagArray','charCenterArrayT','charBBoxArray','isBufferAttribute','isInterleavedBufferAttribute','THREE.BufferGeometry:\x20.addAttribute()\x20now\x20expects\x20(\x20name,\x20attribute\x20).','addAttribute','THREE.BufferGeometry.addAttribute:\x20Use\x20.setIndex()\x20for\x20index\x20attribute.','setIndex','copyVector3sArray','lineDistance','fromGeometry','__directGeometry','fromDirectGeometry','THREE.BufferGeometry.computeBoundingBox:\x20Computed\x20min/max\x20have\x20NaN\x20values.\x20The\x20\x22position\x22\x20attribute\x20is\x20likely\x20to\x20have\x20NaN\x20values.','normalizeNormals','material_id\x20===\x20-1','charCenterArray','charVertexCountArray','time','mergeSameVertex','setIndexYunyang','after\x20merge\x20the\x20vertex\x20number\x20is\x20:\x20','Use\x20BufferGeometryUtils.mergeBufferGeometries()\x20for\x20lossless\x20merge.','THREE.BufferGeometry.toNonIndexed():\x20Geometry\x20is\x20already\x20non-indexed.','addGroup','BufferGeometry.toJSON','parameters','THREE.Box2:\x20.getCenter()\x20target\x20is\x20now\x20required','THREE.Box2:\x20.getSize()\x20target\x20is\x20now\x20required','expandByVector','THREE.Box2:\x20.getParameter()\x20target\x20is\x20now\x20required','THREE.Box2:\x20.clampPoint()\x20target\x20is\x20now\x20required','steiner','prevZ','nextZ','deviation','flatten','1.5.0','freeze','[object\x20Object]','Invalid\x20Points!','_p2t_edge_list','toStringBase','set_zero','mul','compare','points_','neighbors_','interior_','delaunay_edge','GetPoint','getPoint','getPoints','isInterior','setInterior','markNeighborPointers','poly2tri\x20Invalid\x20Triangle.markNeighborPointers()\x20call','markNeighbor','containsPoints','pointCCW','neighborCCW','getConstrainedEdgeCW','constrained_edge','getConstrainedEdgeCCW','getConstrainedEdgeAcross','setConstrainedEdgeCW','setConstrainedEdgeCCW','getDelaunayEdgeCW','getDelaunayEdgeCCW','setDelaunayEdgeCW','setDelaunayEdgeCCW','oppositePoint','pointCW','legalize','markConstrainedEdgeByIndex','markConstrainedEdgeByEdge','markConstrainedEdgeByPoints','point','triangle','tail_','search_node_','head','head_','setHead','tail','setTail','search','setSearch','findSearchNode','locateNode','locatePoint','poly2tri\x20Invalid\x20AdvancingFront.locatePoint()\x20call','COLLINEAR','CCW','Node','Orientation','orient2d','inScanArea','isAngleObtuse','initTriangulation','createAdvancingFront','pointCount','front','meshClean','edge_event','poly2tri\x20EdgeEvent:\x20Collinear\x20not\x20supported!','edgeIndex','getNeighbor','addToMap','mapTriangleToNodes','unordered\x20y','neighborCW','clearNeighbors','basin','left_node','bottom_node','right_node','width','left_highest','neighborAcross','FLIP\x20failed\x20due\x20to\x20missing\x20triangle!','poly2tri\x20Intersecting\x20Constraints','clearDelaunayEdges','poly2tri\x20[Unsupported]\x20nextFlipPoint:\x20opposing\x20point\x20on\x20constrained\x20edge!','triangles_','map_','cloneArrays','pmin_','pmax_','front_','af_head_','af_middle_','af_tail_','initEdges','addHole','triangulate','getBoundingBox','getTriangles','GetTriangles','edge_list','removeNode','removeFromMap','pop','poly2tri','noConflict','VERSION','PointError','Point','Triangle','SweepContext','sweep','gluTessNormal','gluTessBeginPolygon','gluTessEndPolygon','gluTessBeginContour','gluTessVertex','isDeformationON','extractPointsAdaptively','extrudePath','points','shadingSmoothAngle','computeVertexNormals4TextgeometryYunyang','perCharCalculation','steps','depth','triangulateMethod','earcut','bevelEnabled','bevelThickness','bevelSize','bevelSegments','bevelType','extrudeScale','UVGenerator','extrudeOffsetX','extrudeOffsetY','laplacianIterationNumb','THREE.ExtrudeBufferGeometry:\x20amount\x20has\x20been\x20renamed\x20to\x20depth.','getSpacedPoints','computeFrenetFrames','shape','holes','isClockWise','triangulateShape','THREE.ExtrudeGeometry:\x20vec\x20does\x20not\x20exist','inPt\x20and\x20inNext\x20are\x20the\x20same\x20point','sign','line','generateTopUV','generateSideWallUVExtend','options','SQRT2','abAngle<0\x20||\x20abAngle>180','[object\x20process]','require','ascii','//#\x20sourceMappingURL=','worker_threads','application/javascript','createObjectURL','Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTsKCmZ1bmN0aW9uIHVud3JhcEV4cG9ydHMgKHgpIHsKCXJldHVybiB4ICYmIHguX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ2RlZmF1bHQnKSA/IHhbJ2RlZmF1bHQnXSA6IHg7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHsKCXJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0czsKfQoKZnVuY3Rpb24gZ2V0Q2pzRXhwb3J0RnJvbU5hbWVzcGFjZSAobikgewoJcmV0dXJuIG4gJiYgblsnZGVmYXVsdCddIHx8IG47Cn0KCnZhciBhcnJheVdpdGhIb2xlcyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXMsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKGFycmF5V2l0aEhvbGVzKTsKCnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbIkBAaXRlcmF0b3IiXTsKCiAgICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOwogICAgdmFyIF9hcnIgPSBbXTsKICAgIHZhciBfbiA9IHRydWU7CiAgICB2YXIgX2QgPSBmYWxzZTsKCiAgICB2YXIgX3MsIF9lOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfZCA9IHRydWU7CiAgICAgIF9lID0gZXJyOwogICAgfSBmaW5hbGx5IHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIF9hcnI7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnVud3JhcEV4cG9ydHMoaXRlcmFibGVUb0FycmF5TGltaXQpOwoKdmFyIGFycmF5TGlrZVRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsKICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlMaWtlVG9BcnJheSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnVud3JhcEV4cG9ydHMoYXJyYXlMaWtlVG9BcnJheSk7Cgp2YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogICAgaWYgKCFvKSByZXR1cm47CiAgICBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogICAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KTsKCnZhciBub25JdGVyYWJsZVJlc3QgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3QsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKG5vbkl0ZXJhYmxlUmVzdCk7Cgp2YXIgc2xpY2VkVG9BcnJheSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICAgIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX3NsaWNlZFRvQXJyYXkgPSB1bndyYXBFeHBvcnRzKHNsaWNlZFRvQXJyYXkpOwoKdmFyIHJlYWRPbmx5RXJyb3IgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiXCIiICsgbmFtZSArICJcIiBpcyByZWFkLW9ubHkiKTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gX3JlYWRPbmx5RXJyb3IsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX3JlYWRPbmx5RXJyb3IgPSB1bndyYXBFeHBvcnRzKHJlYWRPbmx5RXJyb3IpOwoKdmFyIGNsYXNzQ2FsbENoZWNrID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgfQogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2ssIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX2NsYXNzQ2FsbENoZWNrID0gdW53cmFwRXhwb3J0cyhjbGFzc0NhbGxDaGVjayk7Cgp2YXIgY3JlYXRlQ2xhc3MgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgewogICAgICB3cml0YWJsZTogZmFsc2UKICAgIH0pOwogICAgcmV0dXJuIENvbnN0cnVjdG9yOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3MsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX2NyZWF0ZUNsYXNzID0gdW53cmFwRXhwb3J0cyhjcmVhdGVDbGFzcyk7CgovKioKICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICogQGF1dGhvciBwaGlsb2diIC8gaHR0cDovL2Jsb2cudGhlaml0Lm9yZy8KICogQGF1dGhvciBlZ3JhZXRoZXIgLyBodHRwOi8vZWdyYWV0aGVyLmNvbS8KICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogKi8KdmFyIFZlY3RvcjIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFZlY3RvcjIoeCwgeSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZlY3RvcjIpOwoKICAgIHRoaXMueCA9IHggfHwgMDsKICAgIHRoaXMueSA9IHkgfHwgMDsKICAgIHRoaXMuaXNWZWN0b3IyID0gdHJ1ZTsKICB9CgogIF9jcmVhdGVDbGFzcyhWZWN0b3IyLCBbewogICAga2V5OiAic2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoeCwgeSkgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNjYWxhcihzY2FsYXIpIHsKICAgICAgdGhpcy54ID0gc2NhbGFyOwogICAgICB0aGlzLnkgPSBzY2FsYXI7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFgoeCkgewogICAgICB0aGlzLnggPSB4OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRZIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRZKHkpIHsKICAgICAgdGhpcy55ID0geTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Q29tcG9uZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb21wb25lbnQoaW5kZXgsIHZhbHVlKSB7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLnggPSB2YWx1ZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLnkgPSB2YWx1ZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbXBvbmVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcG9uZW50KGluZGV4KSB7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXR1cm4gdGhpcy54OwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gdGhpcy55OwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsIHRoaXMueSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29weSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weSh2KSB7CiAgICAgIHRoaXMueCA9IHYueDsKICAgICAgdGhpcy55ID0gdi55OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCh2LCB3KSB7CiAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTsKICAgICAgICByZXR1cm4gdGhpcy5hZGRWZWN0b3JzKHYsIHcpOwogICAgICB9CgogICAgICB0aGlzLnggKz0gdi54OwogICAgICB0aGlzLnkgKz0gdi55OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNjYWxhcihzKSB7CiAgICAgIHRoaXMueCArPSBzOwogICAgICB0aGlzLnkgKz0gczsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkVmVjdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVmVjdG9ycyhhLCBiKSB7CiAgICAgIHRoaXMueCA9IGEueCArIGIueDsKICAgICAgdGhpcy55ID0gYS55ICsgYi55OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRTY2FsZWRWZWN0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNjYWxlZFZlY3Rvcih2LCBzKSB7CiAgICAgIHRoaXMueCArPSB2LnggKiBzOwogICAgICB0aGlzLnkgKz0gdi55ICogczsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic3ViIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdWIodiwgdykgewogICAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IyOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7CiAgICAgICAgcmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh2LCB3KTsKICAgICAgfQoKICAgICAgdGhpcy54IC09IHYueDsKICAgICAgdGhpcy55IC09IHYueTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic3ViU2NhbGFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJTY2FsYXIocykgewogICAgICB0aGlzLnggLT0gczsKICAgICAgdGhpcy55IC09IHM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInN1YlZlY3RvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN1YlZlY3RvcnMoYSwgYikgewogICAgICB0aGlzLnggPSBhLnggLSBiLng7CiAgICAgIHRoaXMueSA9IGEueSAtIGIueTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibXVsdGlwbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5KHYpIHsKICAgICAgdGhpcy54ICo9IHYueDsKICAgICAgdGhpcy55ICo9IHYueTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibXVsdGlwbHlTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcikgewogICAgICB0aGlzLnggKj0gc2NhbGFyOwogICAgICB0aGlzLnkgKj0gc2NhbGFyOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXZpZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpdmlkZSh2KSB7CiAgICAgIHRoaXMueCAvPSB2Lng7CiAgICAgIHRoaXMueSAvPSB2Lnk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImRpdmlkZVNjYWxhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGl2aWRlU2NhbGFyKHNjYWxhcikgewogICAgICByZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxIC8gc2NhbGFyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBseU1hdHJpeDMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5TWF0cml4MyhtKSB7CiAgICAgIHZhciB4ID0gdGhpcy54LAogICAgICAgICAgeSA9IHRoaXMueTsKICAgICAgdmFyIGUgPSBtLmVsZW1lbnRzOwogICAgICB0aGlzLnggPSBlWzBdICogeCArIGVbM10gKiB5ICsgZVs2XTsKICAgICAgdGhpcy55ID0gZVsxXSAqIHggKyBlWzRdICogeSArIGVbN107CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm1pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWluKHYpIHsKICAgICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2LngpOwogICAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHYueSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm1heCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWF4KHYpIHsKICAgICAgdGhpcy54ID0gTWF0aC5tYXgodGhpcy54LCB2LngpOwogICAgICB0aGlzLnkgPSBNYXRoLm1heCh0aGlzLnksIHYueSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNsYW1wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcChtaW4sIG1heCkgewogICAgICAvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZQogICAgICB0aGlzLnggPSBNYXRoLm1heChtaW4ueCwgTWF0aC5taW4obWF4LngsIHRoaXMueCkpOwogICAgICB0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGFtcFNjYWxhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xhbXBTY2FsYXIobWluVmFsLCBtYXhWYWwpIHsKICAgICAgdmFyIG1pbiA9IG5ldyBWZWN0b3IyKG1pblZhbCwgbWluVmFsKTsKICAgICAgdmFyIG1heCA9IG5ldyBWZWN0b3IyKG1heFZhbCwgbWF4VmFsKTsKICAgICAgcmV0dXJuIHRoaXMuY2xhbXAobWluLCBtYXgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsYW1wTGVuZ3RoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcExlbmd0aChtaW4sIG1heCkgewogICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTsKICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGxlbmd0aCB8fCAxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbGVuZ3RoKSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImZsb29yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmbG9vcigpIHsKICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpOwogICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHRoaXMueSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNlaWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNlaWwoKSB7CiAgICAgIHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpOwogICAgICB0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAicm91bmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvdW5kKCkgewogICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7CiAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAicm91bmRUb1plcm8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvdW5kVG9aZXJvKCkgewogICAgICB0aGlzLnggPSB0aGlzLnggPCAwID8gTWF0aC5jZWlsKHRoaXMueCkgOiBNYXRoLmZsb29yKHRoaXMueCk7CiAgICAgIHRoaXMueSA9IHRoaXMueSA8IDAgPyBNYXRoLmNlaWwodGhpcy55KSA6IE1hdGguZmxvb3IodGhpcy55KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibmVnYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuZWdhdGUoKSB7CiAgICAgIHRoaXMueCA9IC10aGlzLng7CiAgICAgIHRoaXMueSA9IC10aGlzLnk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImRvdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG90KHYpIHsKICAgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcm9zcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3Jvc3ModikgewogICAgICByZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54OwogICAgfQogIH0sIHsKICAgIGtleTogImxlbmd0aFNxIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsZW5ndGhTcSgpIHsKICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsZW5ndGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxlbmd0aCgpIHsKICAgICAgcmV0dXJuIE1hdGguaHlwb3QodGhpcy54LCB0aGlzLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hbmhhdHRhbkxlbmd0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFuaGF0dGFuTGVuZ3RoKCkgewogICAgICByZXR1cm4gTWF0aC5hYnModGhpcy54KSArIE1hdGguYWJzKHRoaXMueSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9ybWFsaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpIHx8IDEpOwogICAgfQogIH0sIHsKICAgIGtleTogImFuZ2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbmdsZSgpIHsKICAgICAgLy8gY29tcHV0ZXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgd2l0aCByZXNwZWN0IHRvIHRoZSBwb3NpdGl2ZSB4LWF4aXMKICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7CiAgICAgIGlmIChhbmdsZSA8IDApIGFuZ2xlICs9IDIgKiBNYXRoLlBJOwogICAgICByZXR1cm4gYW5nbGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGlzdGFuY2VUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUbyh2KSB7CiAgICAgIHJldHVybiBNYXRoLmh5cG90KHYueCAtIHRoaXMueCwgdi55IC0gdGhpcy55KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXN0YW5jZVRvU3F1YXJlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb1NxdWFyZWQodikgewogICAgICB2YXIgZHggPSB0aGlzLnggLSB2Lng7CiAgICAgIHZhciBkeSA9IHRoaXMueSAtIHYueTsKICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5OwogICAgfQogIH0sIHsKICAgIGtleTogIm1hbmhhdHRhbkRpc3RhbmNlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hbmhhdHRhbkRpc3RhbmNlVG8odikgewogICAgICByZXR1cm4gTWF0aC5hYnModGhpcy54IC0gdi54KSArIE1hdGguYWJzKHRoaXMueSAtIHYueSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0TGVuZ3RoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMZW5ndGgobGVuZ3RoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7CiAgICB9CiAgfSwgewogICAga2V5OiAibGVycCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGVycCh2LCBhbHBoYSkgewogICAgICB0aGlzLnggKz0gKHYueCAtIHRoaXMueCkgKiBhbHBoYTsKICAgICAgdGhpcy55ICs9ICh2LnkgLSB0aGlzLnkpICogYWxwaGE7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImxlcnBWZWN0b3JzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsZXJwVmVjdG9ycyh2MSwgdjIsIGFscGhhKSB7CiAgICAgIHJldHVybiB0aGlzLnN1YlZlY3RvcnModjIsIHYxKS5tdWx0aXBseVNjYWxhcihhbHBoYSkuYWRkKHYxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlcXVhbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyh2KSB7CiAgICAgIHJldHVybiB2LnggPT09IHRoaXMueCAmJiB2LnkgPT09IHRoaXMueTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmcm9tQXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkgb2Zmc2V0ID0gMDsKICAgICAgdGhpcy54ID0gYXJyYXlbb2Zmc2V0XTsKICAgICAgdGhpcy55ID0gYXJyYXlbb2Zmc2V0ICsgMV07CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRvQXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksIG9mZnNldCkgewogICAgICBpZiAoYXJyYXkgPT09IHVuZGVmaW5lZCkgYXJyYXkgPSBbXTsKICAgICAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSBvZmZzZXQgPSAwOwogICAgICBhcnJheVtvZmZzZXRdID0gdGhpcy54OwogICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRoaXMueTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogIH0sIHsKICAgIGtleTogImZyb21CdWZmZXJBdHRyaWJ1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0KSB7CiAgICAgIGlmIChvZmZzZXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpOwogICAgICB9CgogICAgICB0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WChpbmRleCk7CiAgICAgIHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKGluZGV4KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAicm90YXRlQXJvdW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByb3RhdGVBcm91bmQoY2VudGVyLCBhbmdsZSkgewogICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTsKICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZSk7CiAgICAgIHZhciB4ID0gdGhpcy54IC0gY2VudGVyLng7CiAgICAgIHZhciB5ID0gdGhpcy55IC0gY2VudGVyLnk7CiAgICAgIHRoaXMueCA9IHggKiBjIC0geSAqIHMgKyBjZW50ZXIueDsKICAgICAgdGhpcy55ID0geCAqIHMgKyB5ICogYyArIGNlbnRlci55OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CgogIHJldHVybiBWZWN0b3IyOwp9KCk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZlY3RvcjIucHJvdG90eXBlLCB7CiAgd2lkdGg6IHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy54OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgIHRoaXMueCA9IHZhbHVlOwogICAgfQogIH0sCiAgaGVpZ2h0OiB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMueTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLnkgPSB2YWx1ZTsKICAgIH0KICB9Cn0pOwoKLyoqCiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAqLwp2YXIgX01hdGggPSB7CiAgREVHMlJBRDogTWF0aC5QSSAvIDE4MCwKICBSQUQyREVHOiAxODAgLyBNYXRoLlBJLAogIGdlbmVyYXRlVVVJRDogZnVuY3Rpb24gKCkgewogICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2CiAgICB2YXIgbHV0ID0gW107CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgICBsdXRbaV0gPSAoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNik7CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHsKICAgICAgdmFyIGQwID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwOwogICAgICB2YXIgZDEgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7CiAgICAgIHZhciBkMiA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDsKICAgICAgdmFyIGQzID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwOwogICAgICB2YXIgdXVpZCA9IGx1dFtkMCAmIDB4ZmZdICsgbHV0W2QwID4+IDggJiAweGZmXSArIGx1dFtkMCA+PiAxNiAmIDB4ZmZdICsgbHV0W2QwID4+IDI0ICYgMHhmZl0gKyAnLScgKyBsdXRbZDEgJiAweGZmXSArIGx1dFtkMSA+PiA4ICYgMHhmZl0gKyAnLScgKyBsdXRbZDEgPj4gMTYgJiAweDBmIHwgMHg0MF0gKyBsdXRbZDEgPj4gMjQgJiAweGZmXSArICctJyArIGx1dFtkMiAmIDB4M2YgfCAweDgwXSArIGx1dFtkMiA+PiA4ICYgMHhmZl0gKyAnLScgKyBsdXRbZDIgPj4gMTYgJiAweGZmXSArIGx1dFtkMiA+PiAyNCAmIDB4ZmZdICsgbHV0W2QzICYgMHhmZl0gKyBsdXRbZDMgPj4gOCAmIDB4ZmZdICsgbHV0W2QzID4+IDE2ICYgMHhmZl0gKyBsdXRbZDMgPj4gMjQgJiAweGZmXTsgLy8gLnRvVXBwZXJDYXNlKCkgaGVyZSBmbGF0dGVucyBjb25jYXRlbmF0ZWQgc3RyaW5ncyB0byBzYXZlIGhlYXAgbWVtb3J5IHNwYWNlLgoKICAgICAgcmV0dXJuIHV1aWQudG9VcHBlckNhc2UoKTsKICAgIH07CiAgfSgpLAogIGNsYW1wOiBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHsKICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTsKICB9LAogIC8vIGNvbXB1dGUgZXVjbGlkaWFuIG1vZHVsbyBvZiBtICUgbgogIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb24KICBldWNsaWRlYW5Nb2R1bG86IGZ1bmN0aW9uIGV1Y2xpZGVhbk1vZHVsbyhuLCBtKSB7CiAgICByZXR1cm4gKG4gJSBtICsgbSkgJSBtOwogIH0sCiAgLy8gTGluZWFyIG1hcHBpbmcgZnJvbSByYW5nZSA8YTEsIGEyPiB0byByYW5nZSA8YjEsIGIyPgogIG1hcExpbmVhcjogZnVuY3Rpb24gbWFwTGluZWFyKHgsIGExLCBhMiwgYjEsIGIyKSB7CiAgICByZXR1cm4gYjEgKyAoeCAtIGExKSAqIChiMiAtIGIxKSAvIChhMiAtIGExKTsKICB9LAogIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uCiAgbGVycDogZnVuY3Rpb24gbGVycCh4LCB5LCB0KSB7CiAgICByZXR1cm4gKDEgLSB0KSAqIHggKyB0ICogeTsKICB9LAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU21vb3Roc3RlcAogIHNtb290aHN0ZXA6IGZ1bmN0aW9uIHNtb290aHN0ZXAoeCwgbWluLCBtYXgpIHsKICAgIGlmICh4IDw9IG1pbikgcmV0dXJuIDA7CiAgICBpZiAoeCA+PSBtYXgpIHJldHVybiAxOwogICAgeCA9ICh4IC0gbWluKSAvIChtYXggLSBtaW4pOwogICAgcmV0dXJuIHggKiB4ICogKDMgLSAyICogeCk7CiAgfSwKICBzbW9vdGhlcnN0ZXA6IGZ1bmN0aW9uIHNtb290aGVyc3RlcCh4LCBtaW4sIG1heCkgewogICAgaWYgKHggPD0gbWluKSByZXR1cm4gMDsKICAgIGlmICh4ID49IG1heCkgcmV0dXJuIDE7CiAgICB4ID0gKHggLSBtaW4pIC8gKG1heCAtIG1pbik7CiAgICByZXR1cm4geCAqIHggKiB4ICogKHggKiAoeCAqIDYgLSAxNSkgKyAxMCk7CiAgfSwKICAvLyBSYW5kb20gaW50ZWdlciBmcm9tIDxsb3csIGhpZ2g+IGludGVydmFsCiAgcmFuZEludDogZnVuY3Rpb24gcmFuZEludChsb3csIGhpZ2gpIHsKICAgIHJldHVybiBsb3cgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaGlnaCAtIGxvdyArIDEpKTsKICB9LAogIC8vIFJhbmRvbSBmbG9hdCBmcm9tIDxsb3csIGhpZ2g+IGludGVydmFsCiAgcmFuZEZsb2F0OiBmdW5jdGlvbiByYW5kRmxvYXQobG93LCBoaWdoKSB7CiAgICByZXR1cm4gbG93ICsgTWF0aC5yYW5kb20oKSAqIChoaWdoIC0gbG93KTsKICB9LAogIC8vIFJhbmRvbSBmbG9hdCBmcm9tIDwtcmFuZ2UvMiwgcmFuZ2UvMj4gaW50ZXJ2YWwKICByYW5kRmxvYXRTcHJlYWQ6IGZ1bmN0aW9uIHJhbmRGbG9hdFNwcmVhZChyYW5nZSkgewogICAgcmV0dXJuIHJhbmdlICogKDAuNSAtIE1hdGgucmFuZG9tKCkpOwogIH0sCiAgZGVnVG9SYWQ6IGZ1bmN0aW9uIGRlZ1RvUmFkKGRlZ3JlZXMpIHsKICAgIHJldHVybiBkZWdyZWVzICogX01hdGguREVHMlJBRDsKICB9LAogIHJhZFRvRGVnOiBmdW5jdGlvbiByYWRUb0RlZyhyYWRpYW5zKSB7CiAgICByZXR1cm4gcmFkaWFucyAqIF9NYXRoLlJBRDJERUc7CiAgfSwKICBpc1Bvd2VyT2ZUd286IGZ1bmN0aW9uIGlzUG93ZXJPZlR3byh2YWx1ZSkgewogICAgcmV0dXJuICh2YWx1ZSAmIHZhbHVlIC0gMSkgPT09IDAgJiYgdmFsdWUgIT09IDA7CiAgfSwKICBjZWlsUG93ZXJPZlR3bzogZnVuY3Rpb24gY2VpbFBvd2VyT2ZUd28odmFsdWUpIHsKICAgIHJldHVybiBNYXRoLnBvdygyLCBNYXRoLmNlaWwoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpKTsKICB9LAogIGZsb29yUG93ZXJPZlR3bzogZnVuY3Rpb24gZmxvb3JQb3dlck9mVHdvKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5wb3coMiwgTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMikpOwogIH0KfTsKCi8qKgogKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogKiBAYXV0aG9yIHN1cGVyZWdnYmVydCAvIGh0dHA6Ly93d3cucGF1bGJydW50LmNvLnVrLwogKiBAYXV0aG9yIHBoaWxvZ2IgLyBodHRwOi8vYmxvZy50aGVqaXQub3JnLwogKiBAYXV0aG9yIGpvcmRpX3JvcyAvIGh0dHA6Ly9wbGF0dHNvZnQuY29tCiAqIEBhdXRob3IgRDFwbG8xZCAvIGh0dHA6Ly9naXRodWIuY29tL0QxcGxvMWQKICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICogQGF1dGhvciBtaWthZWwgZW10aW5nZXIgLyBodHRwOi8vZ29tby5zZS8KICogQGF1dGhvciB0aW1rbmlwIC8gaHR0cDovL3d3dy5mbG9vcnBsYW5uZXIuY29tLwogKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogKi8KCnZhciBNYXRyaXg0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBNYXRyaXg0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hdHJpeDQpOwoKICAgIHRoaXMuZWxlbWVudHMgPSBbMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMV07CiAgICB0aGlzLmlzTWF0cml4NCA9IHRydWU7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTWF0cml4NCwgW3sKICAgIGtleTogInNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KG4xMSwgbjEyLCBuMTMsIG4xNCwgbjIxLCBuMjIsIG4yMywgbjI0LCBuMzEsIG4zMiwgbjMzLCBuMzQsIG40MSwgbjQyLCBuNDMsIG40NCkgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB0ZVswXSA9IG4xMTsKICAgICAgdGVbNF0gPSBuMTI7CiAgICAgIHRlWzhdID0gbjEzOwogICAgICB0ZVsxMl0gPSBuMTQ7CiAgICAgIHRlWzFdID0gbjIxOwogICAgICB0ZVs1XSA9IG4yMjsKICAgICAgdGVbOV0gPSBuMjM7CiAgICAgIHRlWzEzXSA9IG4yNDsKICAgICAgdGVbMl0gPSBuMzE7CiAgICAgIHRlWzZdID0gbjMyOwogICAgICB0ZVsxMF0gPSBuMzM7CiAgICAgIHRlWzE0XSA9IG4zNDsKICAgICAgdGVbM10gPSBuNDE7CiAgICAgIHRlWzddID0gbjQyOwogICAgICB0ZVsxMV0gPSBuNDM7CiAgICAgIHRlWzE1XSA9IG40NDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaWRlbnRpdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlkZW50aXR5KCkgewogICAgICB0aGlzLnNldCgxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xvbmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IE1hdHJpeDQoKS5mcm9tQXJyYXkodGhpcy5lbGVtZW50cyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29weSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weShtKSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHZhciBtZSA9IG0uZWxlbWVudHM7CiAgICAgIHRlWzBdID0gbWVbMF07CiAgICAgIHRlWzFdID0gbWVbMV07CiAgICAgIHRlWzJdID0gbWVbMl07CiAgICAgIHRlWzNdID0gbWVbM107CiAgICAgIHRlWzRdID0gbWVbNF07CiAgICAgIHRlWzVdID0gbWVbNV07CiAgICAgIHRlWzZdID0gbWVbNl07CiAgICAgIHRlWzddID0gbWVbN107CiAgICAgIHRlWzhdID0gbWVbOF07CiAgICAgIHRlWzldID0gbWVbOV07CiAgICAgIHRlWzEwXSA9IG1lWzEwXTsKICAgICAgdGVbMTFdID0gbWVbMTFdOwogICAgICB0ZVsxMl0gPSBtZVsxMl07CiAgICAgIHRlWzEzXSA9IG1lWzEzXTsKICAgICAgdGVbMTRdID0gbWVbMTRdOwogICAgICB0ZVsxNV0gPSBtZVsxNV07CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHlQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weVBvc2l0aW9uKG0pIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIG1lID0gbS5lbGVtZW50czsKICAgICAgdGVbMTJdID0gbWVbMTJdOwogICAgICB0ZVsxM10gPSBtZVsxM107CiAgICAgIHRlWzE0XSA9IG1lWzE0XTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXh0cmFjdEJhc2lzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0QmFzaXMoeEF4aXMsIHlBeGlzLCB6QXhpcykgewogICAgICB4QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsIDApOwogICAgICB5QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsIDEpOwogICAgICB6QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsIDIpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlQmFzaXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VCYXNpcyh4QXhpcywgeUF4aXMsIHpBeGlzKSB7CiAgICAgIHRoaXMuc2V0KHhBeGlzLngsIHlBeGlzLngsIHpBeGlzLngsIDAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAsIHhBeGlzLnosIHlBeGlzLnosIHpBeGlzLnosIDAsIDAsIDAsIDAsIDEpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleHRyYWN0Um90YXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RSb3RhdGlvbihtKSB7CiAgICAgIC8vIHRoaXMgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgcmVmbGVjdGlvbiBtYXRyaWNlcwogICAgICB2YXIgdjEgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgbWUgPSBtLmVsZW1lbnRzOwogICAgICB2YXIgc2NhbGVYID0gMSAvIHYxLnNldEZyb21NYXRyaXhDb2x1bW4obSwgMCkubGVuZ3RoKCk7CiAgICAgIHZhciBzY2FsZVkgPSAxIC8gdjEuc2V0RnJvbU1hdHJpeENvbHVtbihtLCAxKS5sZW5ndGgoKTsKICAgICAgdmFyIHNjYWxlWiA9IDEgLyB2MS5zZXRGcm9tTWF0cml4Q29sdW1uKG0sIDIpLmxlbmd0aCgpOwogICAgICB0ZVswXSA9IG1lWzBdICogc2NhbGVYOwogICAgICB0ZVsxXSA9IG1lWzFdICogc2NhbGVYOwogICAgICB0ZVsyXSA9IG1lWzJdICogc2NhbGVYOwogICAgICB0ZVszXSA9IDA7CiAgICAgIHRlWzRdID0gbWVbNF0gKiBzY2FsZVk7CiAgICAgIHRlWzVdID0gbWVbNV0gKiBzY2FsZVk7CiAgICAgIHRlWzZdID0gbWVbNl0gKiBzY2FsZVk7CiAgICAgIHRlWzddID0gMDsKICAgICAgdGVbOF0gPSBtZVs4XSAqIHNjYWxlWjsKICAgICAgdGVbOV0gPSBtZVs5XSAqIHNjYWxlWjsKICAgICAgdGVbMTBdID0gbWVbMTBdICogc2NhbGVaOwogICAgICB0ZVsxMV0gPSAwOwogICAgICB0ZVsxMl0gPSAwOwogICAgICB0ZVsxM10gPSAwOwogICAgICB0ZVsxNF0gPSAwOwogICAgICB0ZVsxNV0gPSAxOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24ocSkgewogICAgICB2YXIgemVybyA9IG5ldyBWZWN0b3IzKDAsIDAsIDApOwogICAgICB2YXIgb25lID0gbmV3IFZlY3RvcjMoMSwgMSwgMSk7CiAgICAgIHJldHVybiB0aGlzLmNvbXBvc2UoemVybywgcSwgb25lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb29rQXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvb2tBdChleWUsIHRhcmdldCwgdXApIHsKICAgICAgdmFyIHggPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgeSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIHZhciB6ID0gbmV3IFZlY3RvcjMoKTsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgei5zdWJWZWN0b3JzKGV5ZSwgdGFyZ2V0KTsKCiAgICAgIGlmICh6Lmxlbmd0aFNxKCkgPT09IDApIHsKICAgICAgICAvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb24KICAgICAgICB6LnogPSAxOwogICAgICB9CgogICAgICB6Lm5vcm1hbGl6ZSgpOwogICAgICB4LmNyb3NzVmVjdG9ycyh1cCwgeik7CgogICAgICBpZiAoeC5sZW5ndGhTcSgpID09PSAwKSB7CiAgICAgICAgLy8gdXAgYW5kIHogYXJlIHBhcmFsbGVsCiAgICAgICAgaWYgKE1hdGguYWJzKHVwLnopID09PSAxKSB7CiAgICAgICAgICB6LnggKz0gMC4wMDAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB6LnogKz0gMC4wMDAxOwogICAgICAgIH0KCiAgICAgICAgei5ub3JtYWxpemUoKTsKICAgICAgICB4LmNyb3NzVmVjdG9ycyh1cCwgeik7CiAgICAgIH0KCiAgICAgIHgubm9ybWFsaXplKCk7CiAgICAgIHkuY3Jvc3NWZWN0b3JzKHosIHgpOwogICAgICB0ZVswXSA9IHgueDsKICAgICAgdGVbNF0gPSB5Lng7CiAgICAgIHRlWzhdID0gei54OwogICAgICB0ZVsxXSA9IHgueTsKICAgICAgdGVbNV0gPSB5Lnk7CiAgICAgIHRlWzldID0gei55OwogICAgICB0ZVsyXSA9IHguejsKICAgICAgdGVbNl0gPSB5Lno7CiAgICAgIHRlWzEwXSA9IHouejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibXVsdGlwbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5KG0sIG4pIHsKICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIGluc3RlYWQuJyk7CiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtLCBuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLCBtKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmVtdWx0aXBseSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlbXVsdGlwbHkobSkgewogICAgICByZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKG0sIHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5TWF0cmljZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5TWF0cmljZXMoYSwgYikgewogICAgICB2YXIgYWUgPSBhLmVsZW1lbnRzOwogICAgICB2YXIgYmUgPSBiLmVsZW1lbnRzOwogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgYTExID0gYWVbMF07CiAgICAgIHZhciBhMTIgPSBhZVs0XTsKICAgICAgdmFyIGExMyA9IGFlWzhdOwogICAgICB2YXIgYTE0ID0gYWVbMTJdOwogICAgICB2YXIgYTIxID0gYWVbMV07CiAgICAgIHZhciBhMjIgPSBhZVs1XTsKICAgICAgdmFyIGEyMyA9IGFlWzldOwogICAgICB2YXIgYTI0ID0gYWVbMTNdOwogICAgICB2YXIgYTMxID0gYWVbMl07CiAgICAgIHZhciBhMzIgPSBhZVs2XTsKICAgICAgdmFyIGEzMyA9IGFlWzEwXTsKICAgICAgdmFyIGEzNCA9IGFlWzE0XTsKICAgICAgdmFyIGE0MSA9IGFlWzNdOwogICAgICB2YXIgYTQyID0gYWVbN107CiAgICAgIHZhciBhNDMgPSBhZVsxMV07CiAgICAgIHZhciBhNDQgPSBhZVsxNV07CiAgICAgIHZhciBiMTEgPSBiZVswXTsKICAgICAgdmFyIGIxMiA9IGJlWzRdOwogICAgICB2YXIgYjEzID0gYmVbOF07CiAgICAgIHZhciBiMTQgPSBiZVsxMl07CiAgICAgIHZhciBiMjEgPSBiZVsxXTsKICAgICAgdmFyIGIyMiA9IGJlWzVdOwogICAgICB2YXIgYjIzID0gYmVbOV07CiAgICAgIHZhciBiMjQgPSBiZVsxM107CiAgICAgIHZhciBiMzEgPSBiZVsyXTsKICAgICAgdmFyIGIzMiA9IGJlWzZdOwogICAgICB2YXIgYjMzID0gYmVbMTBdOwogICAgICB2YXIgYjM0ID0gYmVbMTRdOwogICAgICB2YXIgYjQxID0gYmVbM107CiAgICAgIHZhciBiNDIgPSBiZVs3XTsKICAgICAgdmFyIGI0MyA9IGJlWzExXTsKICAgICAgdmFyIGI0NCA9IGJlWzE1XTsKICAgICAgdGVbMF0gPSBhMTEgKiBiMTEgKyBhMTIgKiBiMjEgKyBhMTMgKiBiMzEgKyBhMTQgKiBiNDE7CiAgICAgIHRlWzRdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyICsgYTE0ICogYjQyOwogICAgICB0ZVs4XSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMyArIGExNCAqIGI0MzsKICAgICAgdGVbMTJdID0gYTExICogYjE0ICsgYTEyICogYjI0ICsgYTEzICogYjM0ICsgYTE0ICogYjQ0OwogICAgICB0ZVsxXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MTsKICAgICAgdGVbNV0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzIgKyBhMjQgKiBiNDI7CiAgICAgIHRlWzldID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzOwogICAgICB0ZVsxM10gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDQ7CiAgICAgIHRlWzJdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxOwogICAgICB0ZVs2XSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMiArIGEzNCAqIGI0MjsKICAgICAgdGVbMTBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzICsgYTM0ICogYjQzOwogICAgICB0ZVsxNF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7CiAgICAgIHRlWzNdID0gYTQxICogYjExICsgYTQyICogYjIxICsgYTQzICogYjMxICsgYTQ0ICogYjQxOwogICAgICB0ZVs3XSA9IGE0MSAqIGIxMiArIGE0MiAqIGIyMiArIGE0MyAqIGIzMiArIGE0NCAqIGI0MjsKICAgICAgdGVbMTFdID0gYTQxICogYjEzICsgYTQyICogYjIzICsgYTQzICogYjMzICsgYTQ0ICogYjQzOwogICAgICB0ZVsxNV0gPSBhNDEgKiBiMTQgKyBhNDIgKiBiMjQgKyBhNDMgKiBiMzQgKyBhNDQgKiBiNDQ7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5U2NhbGFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihzKSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRlWzBdICo9IHM7CiAgICAgIHRlWzRdICo9IHM7CiAgICAgIHRlWzhdICo9IHM7CiAgICAgIHRlWzEyXSAqPSBzOwogICAgICB0ZVsxXSAqPSBzOwogICAgICB0ZVs1XSAqPSBzOwogICAgICB0ZVs5XSAqPSBzOwogICAgICB0ZVsxM10gKj0gczsKICAgICAgdGVbMl0gKj0gczsKICAgICAgdGVbNl0gKj0gczsKICAgICAgdGVbMTBdICo9IHM7CiAgICAgIHRlWzE0XSAqPSBzOwogICAgICB0ZVszXSAqPSBzOwogICAgICB0ZVs3XSAqPSBzOwogICAgICB0ZVsxMV0gKj0gczsKICAgICAgdGVbMTVdICo9IHM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlKSB7CiAgICAgIHZhciB2MSA9IG5ldyBWZWN0b3IzKCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkrKykgewogICAgICAgIHYxLnggPSBhdHRyaWJ1dGUuZ2V0WChpKTsKICAgICAgICB2MS55ID0gYXR0cmlidXRlLmdldFkoaSk7CiAgICAgICAgdjEueiA9IGF0dHJpYnV0ZS5nZXRaKGkpOwogICAgICAgIHYxLmFwcGx5TWF0cml4NCh0aGlzKTsKICAgICAgICBhdHRyaWJ1dGUuc2V0WFlaKGksIHYxLngsIHYxLnksIHYxLnopOwogICAgICB9CgogICAgICByZXR1cm4gYXR0cmlidXRlOwogICAgfQogIH0sIHsKICAgIGtleTogImRldGVybWluYW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRlcm1pbmFudCgpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIG4xMSA9IHRlWzBdOwogICAgICB2YXIgbjEyID0gdGVbNF07CiAgICAgIHZhciBuMTMgPSB0ZVs4XTsKICAgICAgdmFyIG4xNCA9IHRlWzEyXTsKICAgICAgdmFyIG4yMSA9IHRlWzFdOwogICAgICB2YXIgbjIyID0gdGVbNV07CiAgICAgIHZhciBuMjMgPSB0ZVs5XTsKICAgICAgdmFyIG4yNCA9IHRlWzEzXTsKICAgICAgdmFyIG4zMSA9IHRlWzJdOwogICAgICB2YXIgbjMyID0gdGVbNl07CiAgICAgIHZhciBuMzMgPSB0ZVsxMF07CiAgICAgIHZhciBuMzQgPSB0ZVsxNF07CiAgICAgIHZhciBuNDEgPSB0ZVszXTsKICAgICAgdmFyIG40MiA9IHRlWzddOwogICAgICB2YXIgbjQzID0gdGVbMTFdOwogICAgICB2YXIgbjQ0ID0gdGVbMTVdOyAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnQKICAgICAgLy8gKCBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG0gKQoKICAgICAgcmV0dXJuIG40MSAqICgrbjE0ICogbjIzICogbjMyIC0gbjEzICogbjI0ICogbjMyIC0gbjE0ICogbjIyICogbjMzICsgbjEyICogbjI0ICogbjMzICsgbjEzICogbjIyICogbjM0IC0gbjEyICogbjIzICogbjM0KSArIG40MiAqICgrbjExICogbjIzICogbjM0IC0gbjExICogbjI0ICogbjMzICsgbjE0ICogbjIxICogbjMzIC0gbjEzICogbjIxICogbjM0ICsgbjEzICogbjI0ICogbjMxIC0gbjE0ICogbjIzICogbjMxKSArIG40MyAqICgrbjExICogbjI0ICogbjMyIC0gbjExICogbjIyICogbjM0IC0gbjE0ICogbjIxICogbjMyICsgbjEyICogbjIxICogbjM0ICsgbjE0ICogbjIyICogbjMxIC0gbjEyICogbjI0ICogbjMxKSArIG40NCAqICgtbjEzICogbjIyICogbjMxIC0gbjExICogbjIzICogbjMyICsgbjExICogbjIyICogbjMzICsgbjEzICogbjIxICogbjMyIC0gbjEyICogbjIxICogbjMzICsgbjEyICogbjIzICogbjMxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmFuc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zcG9zZSgpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIHRtcDsKICAgICAgdG1wID0gdGVbMV07CiAgICAgIHRlWzFdID0gdGVbNF07CiAgICAgIHRlWzRdID0gdG1wOwogICAgICB0bXAgPSB0ZVsyXTsKICAgICAgdGVbMl0gPSB0ZVs4XTsKICAgICAgdGVbOF0gPSB0bXA7CiAgICAgIHRtcCA9IHRlWzZdOwogICAgICB0ZVs2XSA9IHRlWzldOwogICAgICB0ZVs5XSA9IHRtcDsKICAgICAgdG1wID0gdGVbM107CiAgICAgIHRlWzNdID0gdGVbMTJdOwogICAgICB0ZVsxMl0gPSB0bXA7CiAgICAgIHRtcCA9IHRlWzddOwogICAgICB0ZVs3XSA9IHRlWzEzXTsKICAgICAgdGVbMTNdID0gdG1wOwogICAgICB0bXAgPSB0ZVsxMV07CiAgICAgIHRlWzExXSA9IHRlWzE0XTsKICAgICAgdGVbMTRdID0gdG1wOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UG9zaXRpb24odikgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB0ZVsxMl0gPSB2Lng7CiAgICAgIHRlWzEzXSA9IHYueTsKICAgICAgdGVbMTRdID0gdi56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRJbnZlcnNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnZlcnNlKG0sIHRocm93T25EZWdlbmVyYXRlKSB7CiAgICAgIC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bQogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgbWUgPSBtLmVsZW1lbnRzOwogICAgICB2YXIgbjExID0gbWVbMF07CiAgICAgIHZhciBuMjEgPSBtZVsxXTsKICAgICAgdmFyIG4zMSA9IG1lWzJdOwogICAgICB2YXIgbjQxID0gbWVbM107CiAgICAgIHZhciBuMTIgPSBtZVs0XTsKICAgICAgdmFyIG4yMiA9IG1lWzVdOwogICAgICB2YXIgbjMyID0gbWVbNl07CiAgICAgIHZhciBuNDIgPSBtZVs3XTsKICAgICAgdmFyIG4xMyA9IG1lWzhdOwogICAgICB2YXIgbjIzID0gbWVbOV07CiAgICAgIHZhciBuMzMgPSBtZVsxMF07CiAgICAgIHZhciBuNDMgPSBtZVsxMV07CiAgICAgIHZhciBuMTQgPSBtZVsxMl07CiAgICAgIHZhciBuMjQgPSBtZVsxM107CiAgICAgIHZhciBuMzQgPSBtZVsxNF07CiAgICAgIHZhciBuNDQgPSBtZVsxNV07CiAgICAgIHZhciB0MTEgPSBuMjMgKiBuMzQgKiBuNDIgLSBuMjQgKiBuMzMgKiBuNDIgKyBuMjQgKiBuMzIgKiBuNDMgLSBuMjIgKiBuMzQgKiBuNDMgLSBuMjMgKiBuMzIgKiBuNDQgKyBuMjIgKiBuMzMgKiBuNDQ7CiAgICAgIHZhciB0MTIgPSBuMTQgKiBuMzMgKiBuNDIgLSBuMTMgKiBuMzQgKiBuNDIgLSBuMTQgKiBuMzIgKiBuNDMgKyBuMTIgKiBuMzQgKiBuNDMgKyBuMTMgKiBuMzIgKiBuNDQgLSBuMTIgKiBuMzMgKiBuNDQ7CiAgICAgIHZhciB0MTMgPSBuMTMgKiBuMjQgKiBuNDIgLSBuMTQgKiBuMjMgKiBuNDIgKyBuMTQgKiBuMjIgKiBuNDMgLSBuMTIgKiBuMjQgKiBuNDMgLSBuMTMgKiBuMjIgKiBuNDQgKyBuMTIgKiBuMjMgKiBuNDQ7CiAgICAgIHZhciB0MTQgPSBuMTQgKiBuMjMgKiBuMzIgLSBuMTMgKiBuMjQgKiBuMzIgLSBuMTQgKiBuMjIgKiBuMzMgKyBuMTIgKiBuMjQgKiBuMzMgKyBuMTMgKiBuMjIgKiBuMzQgLSBuMTIgKiBuMjMgKiBuMzQ7CiAgICAgIHZhciBkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTMgKyBuNDEgKiB0MTQ7CgogICAgICBpZiAoZGV0ID09PSAwKSB7CiAgICAgICAgdmFyIG1zZyA9ICJUSFJFRS5NYXRyaXg0OiAuZ2V0SW52ZXJzZSgpIGNhbid0IGludmVydCBtYXRyaXgsIGRldGVybWluYW50IGlzIDAiOwoKICAgICAgICBpZiAodGhyb3dPbkRlZ2VuZXJhdGUgPT09IHRydWUpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLndhcm4obXNnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmlkZW50aXR5KCk7CiAgICAgIH0KCiAgICAgIHZhciBkZXRJbnYgPSAxIC8gZGV0OwogICAgICB0ZVswXSA9IHQxMSAqIGRldEludjsKICAgICAgdGVbMV0gPSAobjI0ICogbjMzICogbjQxIC0gbjIzICogbjM0ICogbjQxIC0gbjI0ICogbjMxICogbjQzICsgbjIxICogbjM0ICogbjQzICsgbjIzICogbjMxICogbjQ0IC0gbjIxICogbjMzICogbjQ0KSAqIGRldEludjsKICAgICAgdGVbMl0gPSAobjIyICogbjM0ICogbjQxIC0gbjI0ICogbjMyICogbjQxICsgbjI0ICogbjMxICogbjQyIC0gbjIxICogbjM0ICogbjQyIC0gbjIyICogbjMxICogbjQ0ICsgbjIxICogbjMyICogbjQ0KSAqIGRldEludjsKICAgICAgdGVbM10gPSAobjIzICogbjMyICogbjQxIC0gbjIyICogbjMzICogbjQxIC0gbjIzICogbjMxICogbjQyICsgbjIxICogbjMzICogbjQyICsgbjIyICogbjMxICogbjQzIC0gbjIxICogbjMyICogbjQzKSAqIGRldEludjsKICAgICAgdGVbNF0gPSB0MTIgKiBkZXRJbnY7CiAgICAgIHRlWzVdID0gKG4xMyAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMyAqIG40MSArIG4xNCAqIG4zMSAqIG40MyAtIG4xMSAqIG4zNCAqIG40MyAtIG4xMyAqIG4zMSAqIG40NCArIG4xMSAqIG4zMyAqIG40NCkgKiBkZXRJbnY7CiAgICAgIHRlWzZdID0gKG4xNCAqIG4zMiAqIG40MSAtIG4xMiAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMSAqIG40MiArIG4xMSAqIG4zNCAqIG40MiArIG4xMiAqIG4zMSAqIG40NCAtIG4xMSAqIG4zMiAqIG40NCkgKiBkZXRJbnY7CiAgICAgIHRlWzddID0gKG4xMiAqIG4zMyAqIG40MSAtIG4xMyAqIG4zMiAqIG40MSArIG4xMyAqIG4zMSAqIG40MiAtIG4xMSAqIG4zMyAqIG40MiAtIG4xMiAqIG4zMSAqIG40MyArIG4xMSAqIG4zMiAqIG40MykgKiBkZXRJbnY7CiAgICAgIHRlWzhdID0gdDEzICogZGV0SW52OwogICAgICB0ZVs5XSA9IChuMTQgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjEgKiBuNDMgKyBuMTEgKiBuMjQgKiBuNDMgKyBuMTMgKiBuMjEgKiBuNDQgLSBuMTEgKiBuMjMgKiBuNDQpICogZGV0SW52OwogICAgICB0ZVsxMF0gPSAobjEyICogbjI0ICogbjQxIC0gbjE0ICogbjIyICogbjQxICsgbjE0ICogbjIxICogbjQyIC0gbjExICogbjI0ICogbjQyIC0gbjEyICogbjIxICogbjQ0ICsgbjExICogbjIyICogbjQ0KSAqIGRldEludjsKICAgICAgdGVbMTFdID0gKG4xMyAqIG4yMiAqIG40MSAtIG4xMiAqIG4yMyAqIG40MSAtIG4xMyAqIG4yMSAqIG40MiArIG4xMSAqIG4yMyAqIG40MiArIG4xMiAqIG4yMSAqIG40MyAtIG4xMSAqIG4yMiAqIG40MykgKiBkZXRJbnY7CiAgICAgIHRlWzEyXSA9IHQxNCAqIGRldEludjsKICAgICAgdGVbMTNdID0gKG4xMyAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMyAqIG4zMSArIG4xNCAqIG4yMSAqIG4zMyAtIG4xMSAqIG4yNCAqIG4zMyAtIG4xMyAqIG4yMSAqIG4zNCArIG4xMSAqIG4yMyAqIG4zNCkgKiBkZXRJbnY7CiAgICAgIHRlWzE0XSA9IChuMTQgKiBuMjIgKiBuMzEgLSBuMTIgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjEgKiBuMzIgKyBuMTEgKiBuMjQgKiBuMzIgKyBuMTIgKiBuMjEgKiBuMzQgLSBuMTEgKiBuMjIgKiBuMzQpICogZGV0SW52OwogICAgICB0ZVsxNV0gPSAobjEyICogbjIzICogbjMxIC0gbjEzICogbjIyICogbjMxICsgbjEzICogbjIxICogbjMyIC0gbjExICogbjIzICogbjMyIC0gbjEyICogbjIxICogbjMzICsgbjExICogbjIyICogbjMzKSAqIGRldEludjsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlKHYpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIHggPSB2Lng7CiAgICAgIHZhciB5ID0gdi55OwogICAgICB2YXIgeiA9IHYuejsKICAgICAgdGVbMF0gKj0geDsKICAgICAgdGVbNF0gKj0geTsKICAgICAgdGVbOF0gKj0gejsKICAgICAgdGVbMV0gKj0geDsKICAgICAgdGVbNV0gKj0geTsKICAgICAgdGVbOV0gKj0gejsKICAgICAgdGVbMl0gKj0geDsKICAgICAgdGVbNl0gKj0geTsKICAgICAgdGVbMTBdICo9IHo7CiAgICAgIHRlWzNdICo9IHg7CiAgICAgIHRlWzddICo9IHk7CiAgICAgIHRlWzExXSAqPSB6OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRNYXhTY2FsZU9uQXhpcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4U2NhbGVPbkF4aXMoKSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHZhciBzY2FsZVhTcSA9IHRlWzBdICogdGVbMF0gKyB0ZVsxXSAqIHRlWzFdICsgdGVbMl0gKiB0ZVsyXTsKICAgICAgdmFyIHNjYWxlWVNxID0gdGVbNF0gKiB0ZVs0XSArIHRlWzVdICogdGVbNV0gKyB0ZVs2XSAqIHRlWzZdOwogICAgICB2YXIgc2NhbGVaU3EgPSB0ZVs4XSAqIHRlWzhdICsgdGVbOV0gKiB0ZVs5XSArIHRlWzEwXSAqIHRlWzEwXTsKICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLm1heChzY2FsZVhTcSwgc2NhbGVZU3EsIHNjYWxlWlNxKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZVRyYW5zbGF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlVHJhbnNsYXRpb24oeCwgeSwgeikgewogICAgICB0aGlzLnNldCgxLCAwLCAwLCB4LCAwLCAxLCAwLCB5LCAwLCAwLCAxLCB6LCAwLCAwLCAwLCAxKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZVJvdGF0aW9uWCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJvdGF0aW9uWCh0aGV0YSkgewogICAgICB2YXIgYyA9IE1hdGguY29zKHRoZXRhKTsKICAgICAgdmFyIHMgPSBNYXRoLnNpbih0aGV0YSk7CiAgICAgIHRoaXMuc2V0KDEsIDAsIDAsIDAsIDAsIGMsIC1zLCAwLCAwLCBzLCBjLCAwLCAwLCAwLCAwLCAxKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZVJvdGF0aW9uWSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJvdGF0aW9uWSh0aGV0YSkgewogICAgICB2YXIgYyA9IE1hdGguY29zKHRoZXRhKTsKICAgICAgdmFyIHMgPSBNYXRoLnNpbih0aGV0YSk7CiAgICAgIHRoaXMuc2V0KGMsIDAsIHMsIDAsIDAsIDEsIDAsIDAsIC1zLCAwLCBjLCAwLCAwLCAwLCAwLCAxKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZVJvdGF0aW9uWiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJvdGF0aW9uWih0aGV0YSkgewogICAgICB2YXIgYyA9IE1hdGguY29zKHRoZXRhKTsKICAgICAgdmFyIHMgPSBNYXRoLnNpbih0aGV0YSk7CiAgICAgIHRoaXMuc2V0KGMsIC1zLCAwLCAwLCBzLCBjLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZVJvdGF0aW9uQXhpcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJvdGF0aW9uQXhpcyhheGlzLCBhbmdsZSkgewogICAgICAvLyBCYXNlZCBvbiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3JlZmVyZW5jZS9hcnRpY2xlcy9hcnRpY2xlMTE5OS5hc3AKICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSk7CiAgICAgIHZhciBzID0gTWF0aC5zaW4oYW5nbGUpOwogICAgICB2YXIgdCA9IDEgLSBjOwogICAgICB2YXIgeCA9IGF4aXMueDsKICAgICAgdmFyIHkgPSBheGlzLnk7CiAgICAgIHZhciB6ID0gYXhpcy56OwogICAgICB2YXIgdHggPSB0ICogeDsKICAgICAgdmFyIHR5ID0gdCAqIHk7CiAgICAgIHRoaXMuc2V0KHR4ICogeCArIGMsIHR4ICogeSAtIHMgKiB6LCB0eCAqIHogKyBzICogeSwgMCwgdHggKiB5ICsgcyAqIHosIHR5ICogeSArIGMsIHR5ICogeiAtIHMgKiB4LCAwLCB0eCAqIHogLSBzICogeSwgdHkgKiB6ICsgcyAqIHgsIHQgKiB6ICogeiArIGMsIDAsIDAsIDAsIDAsIDEpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlU2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VTY2FsZSh4LCB5LCB6KSB7CiAgICAgIHRoaXMuc2V0KHgsIDAsIDAsIDAsIDAsIHksIDAsIDAsIDAsIDAsIHosIDAsIDAsIDAsIDAsIDEpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlU2hlYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VTaGVhcih4LCB5LCB6KSB7CiAgICAgIHRoaXMuc2V0KDEsIHksIHosIDAsIHgsIDEsIHosIDAsIHgsIHksIDEsIDAsIDAsIDAsIDAsIDEpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb3NlKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSkgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgeCA9IHF1YXRlcm5pb24uX3g7CiAgICAgIHZhciB5ID0gcXVhdGVybmlvbi5feTsKICAgICAgdmFyIHogPSBxdWF0ZXJuaW9uLl96OwogICAgICB2YXIgdyA9IHF1YXRlcm5pb24uX3c7CiAgICAgIHZhciB4MiA9IHggKyB4OwogICAgICB2YXIgeTIgPSB5ICsgeTsKICAgICAgdmFyIHoyID0geiArIHo7CiAgICAgIHZhciB4eCA9IHggKiB4MjsKICAgICAgdmFyIHh5ID0geCAqIHkyOwogICAgICB2YXIgeHogPSB4ICogejI7CiAgICAgIHZhciB5eSA9IHkgKiB5MjsKICAgICAgdmFyIHl6ID0geSAqIHoyOwogICAgICB2YXIgenogPSB6ICogejI7CiAgICAgIHZhciB3eCA9IHcgKiB4MjsKICAgICAgdmFyIHd5ID0gdyAqIHkyOwogICAgICB2YXIgd3ogPSB3ICogejI7CiAgICAgIHZhciBzeCA9IHNjYWxlLng7CiAgICAgIHZhciBzeSA9IHNjYWxlLnk7CiAgICAgIHZhciBzeiA9IHNjYWxlLno7CiAgICAgIHRlWzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7CiAgICAgIHRlWzFdID0gKHh5ICsgd3opICogc3g7CiAgICAgIHRlWzJdID0gKHh6IC0gd3kpICogc3g7CiAgICAgIHRlWzNdID0gMDsKICAgICAgdGVbNF0gPSAoeHkgLSB3eikgKiBzeTsKICAgICAgdGVbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTsKICAgICAgdGVbNl0gPSAoeXogKyB3eCkgKiBzeTsKICAgICAgdGVbN10gPSAwOwogICAgICB0ZVs4XSA9ICh4eiArIHd5KSAqIHN6OwogICAgICB0ZVs5XSA9ICh5eiAtIHd4KSAqIHN6OwogICAgICB0ZVsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejsKICAgICAgdGVbMTFdID0gMDsKICAgICAgdGVbMTJdID0gcG9zaXRpb24ueDsKICAgICAgdGVbMTNdID0gcG9zaXRpb24ueTsKICAgICAgdGVbMTRdID0gcG9zaXRpb24uejsKICAgICAgdGVbMTVdID0gMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVjb21wb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNvbXBvc2UocG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlKSB7CiAgICAgIHZhciB2ZWN0b3IgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIHN4ID0gdmVjdG9yLnNldCh0ZVswXSwgdGVbMV0sIHRlWzJdKS5sZW5ndGgoKTsKICAgICAgdmFyIHN5ID0gdmVjdG9yLnNldCh0ZVs0XSwgdGVbNV0sIHRlWzZdKS5sZW5ndGgoKTsKICAgICAgdmFyIHN6ID0gdmVjdG9yLnNldCh0ZVs4XSwgdGVbOV0sIHRlWzEwXSkubGVuZ3RoKCk7IC8vIGlmIGRldGVybWluZSBpcyBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbnZlcnQgb25lIHNjYWxlCgogICAgICB2YXIgZGV0ID0gdGhpcy5kZXRlcm1pbmFudCgpOwogICAgICBpZiAoZGV0IDwgMCkgc3ggPSAtc3g7CiAgICAgIHBvc2l0aW9uLnggPSB0ZVsxMl07CiAgICAgIHBvc2l0aW9uLnkgPSB0ZVsxM107CiAgICAgIHBvc2l0aW9uLnogPSB0ZVsxNF07IC8vIHNjYWxlIHRoZSByb3RhdGlvbiBwYXJ0CgogICAgICBtYXRyaXguY29weSh0aGlzKTsKICAgICAgdmFyIGludlNYID0gMSAvIHN4OwogICAgICB2YXIgaW52U1kgPSAxIC8gc3k7CiAgICAgIHZhciBpbnZTWiA9IDEgLyBzejsKICAgICAgbWF0cml4LmVsZW1lbnRzWzBdICo9IGludlNYOwogICAgICBtYXRyaXguZWxlbWVudHNbMV0gKj0gaW52U1g7CiAgICAgIG1hdHJpeC5lbGVtZW50c1syXSAqPSBpbnZTWDsKICAgICAgbWF0cml4LmVsZW1lbnRzWzRdICo9IGludlNZOwogICAgICBtYXRyaXguZWxlbWVudHNbNV0gKj0gaW52U1k7CiAgICAgIG1hdHJpeC5lbGVtZW50c1s2XSAqPSBpbnZTWTsKICAgICAgbWF0cml4LmVsZW1lbnRzWzhdICo9IGludlNaOwogICAgICBtYXRyaXguZWxlbWVudHNbOV0gKj0gaW52U1o7CiAgICAgIG1hdHJpeC5lbGVtZW50c1sxMF0gKj0gaW52U1o7CiAgICAgIHF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KG1hdHJpeCk7CiAgICAgIHNjYWxlLnggPSBzeDsKICAgICAgc2NhbGUueSA9IHN5OwogICAgICBzY2FsZS56ID0gc3o7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm1ha2VQZXJzcGVjdGl2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVBlcnNwZWN0aXZlKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyKSB7CiAgICAgIGlmIChmYXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLicpOwogICAgICB9CgogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgeCA9IDIgKiBuZWFyIC8gKHJpZ2h0IC0gbGVmdCk7CiAgICAgIHZhciB5ID0gMiAqIG5lYXIgLyAodG9wIC0gYm90dG9tKTsKICAgICAgdmFyIGEgPSAocmlnaHQgKyBsZWZ0KSAvIChyaWdodCAtIGxlZnQpOwogICAgICB2YXIgYiA9ICh0b3AgKyBib3R0b20pIC8gKHRvcCAtIGJvdHRvbSk7CiAgICAgIHZhciBjID0gLShmYXIgKyBuZWFyKSAvIChmYXIgLSBuZWFyKTsKICAgICAgdmFyIGQgPSAtMiAqIGZhciAqIG5lYXIgLyAoZmFyIC0gbmVhcik7CiAgICAgIHRlWzBdID0geDsKICAgICAgdGVbNF0gPSAwOwogICAgICB0ZVs4XSA9IGE7CiAgICAgIHRlWzEyXSA9IDA7CiAgICAgIHRlWzFdID0gMDsKICAgICAgdGVbNV0gPSB5OwogICAgICB0ZVs5XSA9IGI7CiAgICAgIHRlWzEzXSA9IDA7CiAgICAgIHRlWzJdID0gMDsKICAgICAgdGVbNl0gPSAwOwogICAgICB0ZVsxMF0gPSBjOwogICAgICB0ZVsxNF0gPSBkOwogICAgICB0ZVszXSA9IDA7CiAgICAgIHRlWzddID0gMDsKICAgICAgdGVbMTFdID0gLTE7CiAgICAgIHRlWzE1XSA9IDA7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm1ha2VPcnRob2dyYXBoaWMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VPcnRob2dyYXBoaWMobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIHcgPSAxLjAgLyAocmlnaHQgLSBsZWZ0KTsKICAgICAgdmFyIGggPSAxLjAgLyAodG9wIC0gYm90dG9tKTsKICAgICAgdmFyIHAgPSAxLjAgLyAoZmFyIC0gbmVhcik7CiAgICAgIHZhciB4ID0gKHJpZ2h0ICsgbGVmdCkgKiB3OwogICAgICB2YXIgeSA9ICh0b3AgKyBib3R0b20pICogaDsKICAgICAgdmFyIHogPSAoZmFyICsgbmVhcikgKiBwOwogICAgICB0ZVswXSA9IDIgKiB3OwogICAgICB0ZVs0XSA9IDA7CiAgICAgIHRlWzhdID0gMDsKICAgICAgdGVbMTJdID0gLXg7CiAgICAgIHRlWzFdID0gMDsKICAgICAgdGVbNV0gPSAyICogaDsKICAgICAgdGVbOV0gPSAwOwogICAgICB0ZVsxM10gPSAteTsKICAgICAgdGVbMl0gPSAwOwogICAgICB0ZVs2XSA9IDA7CiAgICAgIHRlWzEwXSA9IC0yICogcDsKICAgICAgdGVbMTRdID0gLXo7CiAgICAgIHRlWzNdID0gMDsKICAgICAgdGVbN10gPSAwOwogICAgICB0ZVsxMV0gPSAwOwogICAgICB0ZVsxNV0gPSAxOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlcXVhbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhtYXRyaXgpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIG1lID0gbWF0cml4LmVsZW1lbnRzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7CiAgICAgICAgaWYgKHRlW2ldICE9PSBtZVtpXSkgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmcm9tQXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkgb2Zmc2V0ID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBhcnJheVtpICsgb2Zmc2V0XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9BcnJheShhcnJheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChhcnJheSA9PT0gdW5kZWZpbmVkKSBhcnJheSA9IFtdOwogICAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGFycmF5W29mZnNldF0gPSB0ZVswXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZVsxXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMl0gPSB0ZVsyXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgM10gPSB0ZVszXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNF0gPSB0ZVs0XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNV0gPSB0ZVs1XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNl0gPSB0ZVs2XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgN10gPSB0ZVs3XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgOF0gPSB0ZVs4XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgOV0gPSB0ZVs5XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMTBdID0gdGVbMTBdOwogICAgICBhcnJheVtvZmZzZXQgKyAxMV0gPSB0ZVsxMV07CiAgICAgIGFycmF5W29mZnNldCArIDEyXSA9IHRlWzEyXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMTNdID0gdGVbMTNdOwogICAgICBhcnJheVtvZmZzZXQgKyAxNF0gPSB0ZVsxNF07CiAgICAgIGFycmF5W29mZnNldCArIDE1XSA9IHRlWzE1XTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1hdHJpeDQ7Cn0oKTsKCnZhciBRdWF0ZXJuaW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBRdWF0ZXJuaW9uKHgsIHksIHosIHcpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRdWF0ZXJuaW9uKTsKCiAgICB0aGlzLl94ID0geCB8fCAwOwogICAgdGhpcy5feSA9IHkgfHwgMDsKICAgIHRoaXMuX3ogPSB6IHx8IDA7CiAgICB0aGlzLl93ID0gdyAhPT0gdW5kZWZpbmVkID8gdyA6IDE7CiAgICB0aGlzLmlzUXVhdGVybmlvbiA9IHRydWU7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUXVhdGVybmlvbiwgW3sKICAgIGtleTogInNsZXJwRmxhdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2xlcnBGbGF0KGRzdCwgZHN0T2Zmc2V0LCBzcmMwLCBzcmNPZmZzZXQwLCBzcmMxLCBzcmNPZmZzZXQxLCB0KSB7CiAgICAgIC8vIGZ1enotZnJlZSwgYXJyYXktYmFzZWQgUXVhdGVybmlvbiBTTEVSUCBvcGVyYXRpb24KICAgICAgdmFyIHgwID0gc3JjMFtzcmNPZmZzZXQwICsgMF07CiAgICAgIHZhciB5MCA9IHNyYzBbc3JjT2Zmc2V0MCArIDFdOwogICAgICB2YXIgejAgPSBzcmMwW3NyY09mZnNldDAgKyAyXTsKICAgICAgdmFyIHcwID0gc3JjMFtzcmNPZmZzZXQwICsgM107CiAgICAgIHZhciB4MSA9IHNyYzFbc3JjT2Zmc2V0MSArIDBdOwogICAgICB2YXIgeTEgPSBzcmMxW3NyY09mZnNldDEgKyAxXTsKICAgICAgdmFyIHoxID0gc3JjMVtzcmNPZmZzZXQxICsgMl07CiAgICAgIHZhciB3MSA9IHNyYzFbc3JjT2Zmc2V0MSArIDNdOwoKICAgICAgaWYgKHcwICE9PSB3MSB8fCB4MCAhPT0geDEgfHwgeTAgIT09IHkxIHx8IHowICE9PSB6MSkgewogICAgICAgIHZhciBzID0gMSAtIHQ7CiAgICAgICAgdmFyIGNvcyA9IHgwICogeDEgKyB5MCAqIHkxICsgejAgKiB6MSArIHcwICogdzE7CiAgICAgICAgdmFyIGRpciA9IGNvcyA+PSAwID8gMSA6IC0xOwogICAgICAgIHZhciBzcXJTaW4gPSAxIC0gY29zICogY29zOyAvLyBTa2lwIHRoZSBTbGVycCBmb3IgdGlueSBzdGVwcyB0byBhdm9pZCBudW1lcmljIHByb2JsZW1zOgoKICAgICAgICBpZiAoc3FyU2luID4gTnVtYmVyLkVQU0lMT04pIHsKICAgICAgICAgIHZhciBzaW4gPSBNYXRoLnNxcnQoc3FyU2luKTsKICAgICAgICAgIHZhciBsZW4gPSBNYXRoLmF0YW4yKHNpbiwgY29zICogZGlyKTsKICAgICAgICAgIHMgPSBNYXRoLnNpbihzICogbGVuKSAvIHNpbjsKICAgICAgICAgIHQgPSBNYXRoLnNpbih0ICogbGVuKSAvIHNpbjsKICAgICAgICB9CgogICAgICAgIHZhciB0RGlyID0gdCAqIGRpcjsKICAgICAgICB4MCA9IHgwICogcyArIHgxICogdERpcjsKICAgICAgICB5MCA9IHkwICogcyArIHkxICogdERpcjsKICAgICAgICB6MCA9IHowICogcyArIHoxICogdERpcjsKICAgICAgICB3MCA9IHcwICogcyArIHcxICogdERpcjsgLy8gTm9ybWFsaXplIGluIGNhc2Ugd2UganVzdCBkaWQgYSBsZXJwOgoKICAgICAgICBpZiAocyA9PT0gMSAtIHQpIHsKICAgICAgICAgIHZhciBmID0gMSAvIE1hdGguc3FydCh4MCAqIHgwICsgeTAgKiB5MCArIHowICogejAgKyB3MCAqIHcwKTsKICAgICAgICAgIHgwICo9IGY7CiAgICAgICAgICB5MCAqPSBmOwogICAgICAgICAgejAgKj0gZjsKICAgICAgICAgIHcwICo9IGY7CiAgICAgICAgfQogICAgICB9CgogICAgICBkc3RbZHN0T2Zmc2V0XSA9IHgwOwogICAgICBkc3RbZHN0T2Zmc2V0ICsgMV0gPSB5MDsKICAgICAgZHN0W2RzdE9mZnNldCArIDJdID0gejA7CiAgICAgIGRzdFtkc3RPZmZzZXQgKyAzXSA9IHcwOwogICAgfQogIH0sIHsKICAgIGtleTogInNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KHgsIHksIHosIHcpIHsKICAgICAgdGhpcy5feCA9IHg7CiAgICAgIHRoaXMuX3kgPSB5OwogICAgICB0aGlzLl96ID0gejsKICAgICAgdGhpcy5fdyA9IHc7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl93KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHF1YXRlcm5pb24pIHsKICAgICAgdGhpcy5feCA9IHF1YXRlcm5pb24ueDsKICAgICAgdGhpcy5feSA9IHF1YXRlcm5pb24ueTsKICAgICAgdGhpcy5feiA9IHF1YXRlcm5pb24uejsKICAgICAgdGhpcy5fdyA9IHF1YXRlcm5pb24udzsKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21FdWxlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbUV1bGVyKGV1bGVyLCB1cGRhdGUpIHsKICAgICAgaWYgKCEoZXVsZXIgJiYgZXVsZXIuaXNFdWxlcikpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicpOwogICAgICB9CgogICAgICB2YXIgeCA9IGV1bGVyLl94OwogICAgICB2YXIgeSA9IGV1bGVyLl95OwogICAgICB2YXIgeiA9IGV1bGVyLl96OwogICAgICB2YXIgb3JkZXIgPSBldWxlci5vcmRlcjsgLy8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLwogICAgICAvLyAyMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy8KICAgICAgLy8gY29udGVudC9TcGluQ2FsYy5tCgogICAgICB2YXIgY29zID0gTWF0aC5jb3M7CiAgICAgIHZhciBzaW4gPSBNYXRoLnNpbjsKICAgICAgdmFyIGMxID0gY29zKHggLyAyKTsKICAgICAgdmFyIGMyID0gY29zKHkgLyAyKTsKICAgICAgdmFyIGMzID0gY29zKHogLyAyKTsKICAgICAgdmFyIHMxID0gc2luKHggLyAyKTsKICAgICAgdmFyIHMyID0gc2luKHkgLyAyKTsKICAgICAgdmFyIHMzID0gc2luKHogLyAyKTsKCiAgICAgIGlmIChvcmRlciA9PT0gJ1hZWicpIHsKICAgICAgICB0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICAgIHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWFknKSB7CiAgICAgICAgdGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pZWCcpIHsKICAgICAgICB0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICAgIHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdYWlknKSB7CiAgICAgICAgdGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgICAgfQoKICAgICAgaWYgKHVwZGF0ZSAhPT0gZmFsc2UpIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tQXhpc0FuZ2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tQXhpc0FuZ2xlKGF4aXMsIGFuZ2xlKSB7CiAgICAgIC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG0KICAgICAgLy8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWQKICAgICAgdmFyIGhhbGZBbmdsZSA9IGFuZ2xlIC8gMjsKICAgICAgdmFyIHMgPSBNYXRoLnNpbihoYWxmQW5nbGUpOwogICAgICB0aGlzLl94ID0gYXhpcy54ICogczsKICAgICAgdGhpcy5feSA9IGF4aXMueSAqIHM7CiAgICAgIHRoaXMuX3ogPSBheGlzLnogKiBzOwogICAgICB0aGlzLl93ID0gTWF0aC5jb3MoaGFsZkFuZ2xlKTsKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21Sb3RhdGlvbk1hdHJpeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbVJvdGF0aW9uTWF0cml4KG0pIHsKICAgICAgLy8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG0KICAgICAgLy8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZCkKICAgICAgdmFyIHRlID0gbS5lbGVtZW50czsKICAgICAgdmFyIG0xMSA9IHRlWzBdOwogICAgICB2YXIgbTEyID0gdGVbNF07CiAgICAgIHZhciBtMTMgPSB0ZVs4XTsKICAgICAgdmFyIG0yMSA9IHRlWzFdOwogICAgICB2YXIgbTIyID0gdGVbNV07CiAgICAgIHZhciBtMjMgPSB0ZVs5XTsKICAgICAgdmFyIG0zMSA9IHRlWzJdOwogICAgICB2YXIgbTMyID0gdGVbNl07CiAgICAgIHZhciBtMzMgPSB0ZVsxMF07CiAgICAgIHZhciB0cmFjZSA9IG0xMSArIG0yMiArIG0zMzsKICAgICAgdmFyIHM7CgogICAgICBpZiAodHJhY2UgPiAwKSB7CiAgICAgICAgcyA9IDAuNSAvIE1hdGguc3FydCh0cmFjZSArIDEuMCk7CiAgICAgICAgdGhpcy5fdyA9IDAuMjUgLyBzOwogICAgICAgIHRoaXMuX3ggPSAobTMyIC0gbTIzKSAqIHM7CiAgICAgICAgdGhpcy5feSA9IChtMTMgLSBtMzEpICogczsKICAgICAgICB0aGlzLl96ID0gKG0yMSAtIG0xMikgKiBzOwogICAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMpIHsKICAgICAgICBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0yMiAtIG0zMyk7CiAgICAgICAgdGhpcy5fdyA9IChtMzIgLSBtMjMpIC8gczsKICAgICAgICB0aGlzLl94ID0gMC4yNSAqIHM7CiAgICAgICAgdGhpcy5feSA9IChtMTIgKyBtMjEpIC8gczsKICAgICAgICB0aGlzLl96ID0gKG0xMyArIG0zMSkgLyBzOwogICAgICB9IGVsc2UgaWYgKG0yMiA+IG0zMykgewogICAgICAgIHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTIyIC0gbTExIC0gbTMzKTsKICAgICAgICB0aGlzLl93ID0gKG0xMyAtIG0zMSkgLyBzOwogICAgICAgIHRoaXMuX3ggPSAobTEyICsgbTIxKSAvIHM7CiAgICAgICAgdGhpcy5feSA9IDAuMjUgKiBzOwogICAgICAgIHRoaXMuX3ogPSAobTIzICsgbTMyKSAvIHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMzMgLSBtMTEgLSBtMjIpOwogICAgICAgIHRoaXMuX3cgPSAobTIxIC0gbTEyKSAvIHM7CiAgICAgICAgdGhpcy5feCA9IChtMTMgKyBtMzEpIC8gczsKICAgICAgICB0aGlzLl95ID0gKG0yMyArIG0zMikgLyBzOwogICAgICAgIHRoaXMuX3ogPSAwLjI1ICogczsKICAgICAgfQoKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21Vbml0VmVjdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbVVuaXRWZWN0b3JzKHZGcm9tLCB2VG8pIHsKICAgICAgdmFyIHYxID0gbmV3IFZlY3RvcjMoKTsKICAgICAgdmFyIHI7CiAgICAgIHZhciBFUFMgPSAwLjAwMDAwMTsKICAgICAgaWYgKHYxID09PSB1bmRlZmluZWQpIHYxID0gbmV3IFZlY3RvcjMoKTsKICAgICAgciA9IHZGcm9tLmRvdCh2VG8pICsgMTsKCiAgICAgIGlmIChyIDwgRVBTKSB7CiAgICAgICAgciA9IDA7CgogICAgICAgIGlmIChNYXRoLmFicyh2RnJvbS54KSA+IE1hdGguYWJzKHZGcm9tLnopKSB7CiAgICAgICAgICB2MS5zZXQoLXZGcm9tLnksIHZGcm9tLngsIDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2MS5zZXQoMCwgLXZGcm9tLnosIHZGcm9tLnkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2MS5jcm9zc1ZlY3RvcnModkZyb20sIHZUbyk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3ggPSB2MS54OwogICAgICB0aGlzLl95ID0gdjEueTsKICAgICAgdGhpcy5feiA9IHYxLno7CiAgICAgIHRoaXMuX3cgPSByOwogICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbmdsZVRvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbmdsZVRvKHEpIHsKICAgICAgcmV0dXJuIDIgKiBNYXRoLmFjb3MoTWF0aC5hYnMoX01hdGguY2xhbXAodGhpcy5kb3QocSksIC0xLCAxKSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJvdGF0ZVRvd2FyZHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvdGF0ZVRvd2FyZHMocSwgc3RlcCkgewogICAgICB2YXIgYW5nbGUgPSB0aGlzLmFuZ2xlVG8ocSk7CiAgICAgIGlmIChhbmdsZSA9PT0gMCkgcmV0dXJuIHRoaXM7CiAgICAgIHZhciB0ID0gTWF0aC5taW4oMSwgc3RlcCAvIGFuZ2xlKTsKICAgICAgdGhpcy5zbGVycChxLCB0KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW52ZXJzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW52ZXJzZSgpIHsKICAgICAgLy8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGgKICAgICAgcmV0dXJuIHRoaXMuY29uanVnYXRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29uanVnYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25qdWdhdGUoKSB7CiAgICAgIHRoaXMuX3ggKj0gLTE7CiAgICAgIHRoaXMuX3kgKj0gLTE7CiAgICAgIHRoaXMuX3ogKj0gLTE7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvdCh2KSB7CiAgICAgIHJldHVybiB0aGlzLl94ICogdi5feCArIHRoaXMuX3kgKiB2Ll95ICsgdGhpcy5feiAqIHYuX3ogKyB0aGlzLl93ICogdi5fdzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsZW5ndGhTcSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoU3EoKSB7CiAgICAgIHJldHVybiB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsZW5ndGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxlbmd0aCgpIHsKICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdyk7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9ybWFsaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7CiAgICAgIHZhciBsID0gdGhpcy5sZW5ndGgoKTsKCiAgICAgIGlmIChsID09PSAwKSB7CiAgICAgICAgdGhpcy5feCA9IDA7CiAgICAgICAgdGhpcy5feSA9IDA7CiAgICAgICAgdGhpcy5feiA9IDA7CiAgICAgICAgdGhpcy5fdyA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbCA9IDEgLyBsOwogICAgICAgIHRoaXMuX3ggPSB0aGlzLl94ICogbDsKICAgICAgICB0aGlzLl95ID0gdGhpcy5feSAqIGw7CiAgICAgICAgdGhpcy5feiA9IHRoaXMuX3ogKiBsOwogICAgICAgIHRoaXMuX3cgPSB0aGlzLl93ICogbDsKICAgICAgfQoKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseShxLCBwKSB7CiAgICAgIGlmIChwICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLicpOwogICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMocSwgcCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcywgcSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJlbXVsdGlwbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZW11bHRpcGx5KHEpIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyhxLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtdWx0aXBseVF1YXRlcm5pb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseVF1YXRlcm5pb25zKGEsIGIpIHsKICAgICAgLy8gZnJvbSBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL2NvZGUvaW5kZXguaHRtCiAgICAgIHZhciBxYXggPSBhLl94OwogICAgICB2YXIgcWF5ID0gYS5feTsKICAgICAgdmFyIHFheiA9IGEuX3o7CiAgICAgIHZhciBxYXcgPSBhLl93OwogICAgICB2YXIgcWJ4ID0gYi5feDsKICAgICAgdmFyIHFieSA9IGIuX3k7CiAgICAgIHZhciBxYnogPSBiLl96OwogICAgICB2YXIgcWJ3ID0gYi5fdzsKICAgICAgdGhpcy5feCA9IHFheCAqIHFidyArIHFhdyAqIHFieCArIHFheSAqIHFieiAtIHFheiAqIHFieTsKICAgICAgdGhpcy5feSA9IHFheSAqIHFidyArIHFhdyAqIHFieSArIHFheiAqIHFieCAtIHFheCAqIHFiejsKICAgICAgdGhpcy5feiA9IHFheiAqIHFidyArIHFhdyAqIHFieiArIHFheCAqIHFieSAtIHFheSAqIHFieDsKICAgICAgdGhpcy5fdyA9IHFhdyAqIHFidyAtIHFheCAqIHFieCAtIHFheSAqIHFieSAtIHFheiAqIHFiejsKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNsZXJwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzbGVycChxYiwgdCkgewogICAgICBpZiAodCA9PT0gMCkgcmV0dXJuIHRoaXM7CiAgICAgIGlmICh0ID09PSAxKSByZXR1cm4gdGhpcy5jb3B5KHFiKTsKICAgICAgdmFyIHggPSB0aGlzLl94OwogICAgICB2YXIgeSA9IHRoaXMuX3k7CiAgICAgIHZhciB6ID0gdGhpcy5fejsKICAgICAgdmFyIHcgPSB0aGlzLl93OyAvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL3NsZXJwLwoKICAgICAgdmFyIGNvc0hhbGZUaGV0YSA9IHcgKiBxYi5fdyArIHggKiBxYi5feCArIHkgKiBxYi5feSArIHogKiBxYi5fejsKCiAgICAgIGlmIChjb3NIYWxmVGhldGEgPCAwKSB7CiAgICAgICAgdGhpcy5fdyA9IC1xYi5fdzsKICAgICAgICB0aGlzLl94ID0gLXFiLl94OwogICAgICAgIHRoaXMuX3kgPSAtcWIuX3k7CiAgICAgICAgdGhpcy5feiA9IC1xYi5fejsKICAgICAgICBjb3NIYWxmVGhldGEgPSAtY29zSGFsZlRoZXRhOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29weShxYik7CiAgICAgIH0KCiAgICAgIGlmIChjb3NIYWxmVGhldGEgPj0gMS4wKSB7CiAgICAgICAgdGhpcy5fdyA9IHc7CiAgICAgICAgdGhpcy5feCA9IHg7CiAgICAgICAgdGhpcy5feSA9IHk7CiAgICAgICAgdGhpcy5feiA9IHo7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHZhciBzcXJTaW5IYWxmVGhldGEgPSAxLjAgLSBjb3NIYWxmVGhldGEgKiBjb3NIYWxmVGhldGE7CgogICAgICBpZiAoc3FyU2luSGFsZlRoZXRhIDw9IE51bWJlci5FUFNJTE9OKSB7CiAgICAgICAgdmFyIHMgPSAxIC0gdDsKICAgICAgICB0aGlzLl93ID0gcyAqIHcgKyB0ICogdGhpcy5fdzsKICAgICAgICB0aGlzLl94ID0gcyAqIHggKyB0ICogdGhpcy5feDsKICAgICAgICB0aGlzLl95ID0gcyAqIHkgKyB0ICogdGhpcy5feTsKICAgICAgICB0aGlzLl96ID0gcyAqIHogKyB0ICogdGhpcy5fejsKICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKTsKICAgICAgfQoKICAgICAgdmFyIHNpbkhhbGZUaGV0YSA9IE1hdGguc3FydChzcXJTaW5IYWxmVGhldGEpOwogICAgICB2YXIgaGFsZlRoZXRhID0gTWF0aC5hdGFuMihzaW5IYWxmVGhldGEsIGNvc0hhbGZUaGV0YSk7CiAgICAgIHZhciByYXRpb0EgPSBNYXRoLnNpbigoMSAtIHQpICogaGFsZlRoZXRhKSAvIHNpbkhhbGZUaGV0YTsKICAgICAgdmFyIHJhdGlvQiA9IE1hdGguc2luKHQgKiBoYWxmVGhldGEpIC8gc2luSGFsZlRoZXRhOwogICAgICB0aGlzLl93ID0gdyAqIHJhdGlvQSArIHRoaXMuX3cgKiByYXRpb0I7CiAgICAgIHRoaXMuX3ggPSB4ICogcmF0aW9BICsgdGhpcy5feCAqIHJhdGlvQjsKICAgICAgdGhpcy5feSA9IHkgKiByYXRpb0EgKyB0aGlzLl95ICogcmF0aW9COwogICAgICB0aGlzLl96ID0geiAqIHJhdGlvQSArIHRoaXMuX3ogKiByYXRpb0I7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlcXVhbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhxdWF0ZXJuaW9uKSB7CiAgICAgIHJldHVybiBxdWF0ZXJuaW9uLl94ID09PSB0aGlzLl94ICYmIHF1YXRlcm5pb24uX3kgPT09IHRoaXMuX3kgJiYgcXVhdGVybmlvbi5feiA9PT0gdGhpcy5feiAmJiBxdWF0ZXJuaW9uLl93ID09PSB0aGlzLl93OwogICAgfQogIH0sIHsKICAgIGtleTogImZyb21BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQpIHsKICAgICAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSBvZmZzZXQgPSAwOwogICAgICB0aGlzLl94ID0gYXJyYXlbb2Zmc2V0XTsKICAgICAgdGhpcy5feSA9IGFycmF5W29mZnNldCArIDFdOwogICAgICB0aGlzLl96ID0gYXJyYXlbb2Zmc2V0ICsgMl07CiAgICAgIHRoaXMuX3cgPSBhcnJheVtvZmZzZXQgKyAzXTsKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRvQXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksIG9mZnNldCkgewogICAgICBpZiAoYXJyYXkgPT09IHVuZGVmaW5lZCkgYXJyYXkgPSBbXTsKICAgICAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSBvZmZzZXQgPSAwOwogICAgICBhcnJheVtvZmZzZXRdID0gdGhpcy5feDsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0aGlzLl95OwogICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IHRoaXMuX3o7CiAgICAgIGFycmF5W29mZnNldCArIDNdID0gdGhpcy5fdzsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogIH0sIHsKICAgIGtleTogIm9uQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShjYWxsYmFjaykgewogICAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFjazsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAib25DaGFuZ2VDYWxsYmFjayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VDYWxsYmFjaygpIHt9CiAgfV0pOwoKICByZXR1cm4gUXVhdGVybmlvbjsKfSgpOwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRdWF0ZXJuaW9uLnByb3RvdHlwZSwgewogIHg6IHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5feDsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLl94ID0gdmFsdWU7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgfQogIH0sCiAgeTogewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl95OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgIHRoaXMuX3kgPSB2YWx1ZTsKICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7CiAgICB9CiAgfSwKICB6OiB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3o7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgdGhpcy5feiA9IHZhbHVlOwogICAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTsKICAgIH0KICB9LAogIHc6IHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdzsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLl93ID0gdmFsdWU7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgfQogIH0KfSk7CgovKioKICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICogQGF1dGhvciBraWxlIC8gaHR0cDovL2tpbGUuc3RyYXZhZ2FuemEub3JnLwogKiBAYXV0aG9yIHBoaWxvZ2IgLyBodHRwOi8vYmxvZy50aGVqaXQub3JnLwogKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogKiBAYXV0aG9yIGVncmFldGhlciAvIGh0dHA6Ly9lZ3JhZXRoZXIuY29tLwogKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICovCgp2YXIgVmVjdG9yMyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVmVjdG9yMyh4LCB5LCB6KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmVjdG9yMyk7CgogICAgdGhpcy54ID0geCB8fCAwOwogICAgdGhpcy55ID0geSB8fCAwOwogICAgdGhpcy56ID0geiB8fCAwOwogICAgdGhpcy5pc1ZlY3RvcjMgPSB0cnVlOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFZlY3RvcjMsIFt7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldCh4LCB5LCB6KSB7CiAgICAgIHRoaXMueCA9IHg7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHRoaXMueiA9IHo7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFNjYWxhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcikgewogICAgICB0aGlzLnggPSBzY2FsYXI7CiAgICAgIHRoaXMueSA9IHNjYWxhcjsKICAgICAgdGhpcy56ID0gc2NhbGFyOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRYIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRYKHgpIHsKICAgICAgdGhpcy54ID0geDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0WSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0WSh5KSB7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFoiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFooeikgewogICAgICB0aGlzLnogPSB6OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDb21wb25lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbXBvbmVudChpbmRleCwgdmFsdWUpIHsKICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHRoaXMueCA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMueSA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMueiA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29tcG9uZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wb25lbnQoaW5kZXgpIHsKICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJldHVybiB0aGlzLng7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiB0aGlzLnk7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJldHVybiB0aGlzLno7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNsb25lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkodikgewogICAgICB0aGlzLnggPSB2Lng7CiAgICAgIHRoaXMueSA9IHYueTsKICAgICAgdGhpcy56ID0gdi56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCh2LCB3KSB7CiAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTsKICAgICAgICByZXR1cm4gdGhpcy5hZGRWZWN0b3JzKHYsIHcpOwogICAgICB9CgogICAgICB0aGlzLnggKz0gdi54OwogICAgICB0aGlzLnkgKz0gdi55OwogICAgICB0aGlzLnogKz0gdi56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNjYWxhcihzKSB7CiAgICAgIHRoaXMueCArPSBzOwogICAgICB0aGlzLnkgKz0gczsKICAgICAgdGhpcy56ICs9IHM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFZlY3RvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFZlY3RvcnMoYSwgYikgewogICAgICB0aGlzLnggPSBhLnggKyBiLng7CiAgICAgIHRoaXMueSA9IGEueSArIGIueTsKICAgICAgdGhpcy56ID0gYS56ICsgYi56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRTY2FsZWRWZWN0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNjYWxlZFZlY3Rvcih2LCBzKSB7CiAgICAgIHRoaXMueCArPSB2LnggKiBzOwogICAgICB0aGlzLnkgKz0gdi55ICogczsKICAgICAgdGhpcy56ICs9IHYueiAqIHM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInN1YiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3ViKHYsIHcpIHsKICAgICAgaWYgKHcgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpOwogICAgICAgIHJldHVybiB0aGlzLnN1YlZlY3RvcnModiwgdyk7CiAgICAgIH0KCiAgICAgIHRoaXMueCAtPSB2Lng7CiAgICAgIHRoaXMueSAtPSB2Lnk7CiAgICAgIHRoaXMueiAtPSB2Lno7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInN1YlNjYWxhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3ViU2NhbGFyKHMpIHsKICAgICAgdGhpcy54IC09IHM7CiAgICAgIHRoaXMueSAtPSBzOwogICAgICB0aGlzLnogLT0gczsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic3ViVmVjdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3ViVmVjdG9ycyhhLCBiKSB7CiAgICAgIHRoaXMueCA9IGEueCAtIGIueDsKICAgICAgdGhpcy55ID0gYS55IC0gYi55OwogICAgICB0aGlzLnogPSBhLnogLSBiLno7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseSh2LCB3KSB7CiAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7CiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlWZWN0b3JzKHYsIHcpOwogICAgICB9CgogICAgICB0aGlzLnggKj0gdi54OwogICAgICB0aGlzLnkgKj0gdi55OwogICAgICB0aGlzLnogKj0gdi56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtdWx0aXBseVNjYWxhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIoc2NhbGFyKSB7CiAgICAgIHRoaXMueCAqPSBzY2FsYXI7CiAgICAgIHRoaXMueSAqPSBzY2FsYXI7CiAgICAgIHRoaXMueiAqPSBzY2FsYXI7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5VmVjdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbXVsdGlwbHlWZWN0b3JzKGEsIGIpIHsKICAgICAgdGhpcy54ID0gYS54ICogYi54OwogICAgICB0aGlzLnkgPSBhLnkgKiBiLnk7CiAgICAgIHRoaXMueiA9IGEueiAqIGIuejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwbHlFdWxlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlFdWxlcihldWxlcikgewogICAgICBpZiAoIShldWxlciAmJiBldWxlci5pc0V1bGVyKSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLlZlY3RvcjM6IC5hcHBseUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nKTsKICAgICAgfQoKICAgICAgdmFyIHF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgICByZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZXVsZXIpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBseUF4aXNBbmdsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlBeGlzQW5nbGUoYXhpcywgYW5nbGUpIHsKICAgICAgdmFyIHF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgICByZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKGF4aXMsIGFuZ2xlKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwbHlNYXRyaXgzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseU1hdHJpeDMobSkgewogICAgICB2YXIgeCA9IHRoaXMueDsKICAgICAgdmFyIHkgPSB0aGlzLnk7CiAgICAgIHZhciB6ID0gdGhpcy56OwogICAgICB2YXIgZSA9IG0uZWxlbWVudHM7CiAgICAgIHRoaXMueCA9IGVbMF0gKiB4ICsgZVszXSAqIHkgKyBlWzZdICogejsKICAgICAgdGhpcy55ID0gZVsxXSAqIHggKyBlWzRdICogeSArIGVbN10gKiB6OwogICAgICB0aGlzLnogPSBlWzJdICogeCArIGVbNV0gKiB5ICsgZVs4XSAqIHo7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5TWF0cml4NCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG0pIHsKICAgICAgdmFyIHggPSB0aGlzLng7CiAgICAgIHZhciB5ID0gdGhpcy55OwogICAgICB2YXIgeiA9IHRoaXMuejsKICAgICAgdmFyIGUgPSBtLmVsZW1lbnRzOwogICAgICB2YXIgdyA9IDEgLyAoZVszXSAqIHggKyBlWzddICogeSArIGVbMTFdICogeiArIGVbMTVdKTsKICAgICAgdGhpcy54ID0gKGVbMF0gKiB4ICsgZVs0XSAqIHkgKyBlWzhdICogeiArIGVbMTJdKSAqIHc7CiAgICAgIHRoaXMueSA9IChlWzFdICogeCArIGVbNV0gKiB5ICsgZVs5XSAqIHogKyBlWzEzXSkgKiB3OwogICAgICB0aGlzLnogPSAoZVsyXSAqIHggKyBlWzZdICogeSArIGVbMTBdICogeiArIGVbMTRdKSAqIHc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5UXVhdGVybmlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlRdWF0ZXJuaW9uKHEpIHsKICAgICAgdmFyIHggPSB0aGlzLng7CiAgICAgIHZhciB5ID0gdGhpcy55OwogICAgICB2YXIgeiA9IHRoaXMuejsKICAgICAgdmFyIHF4ID0gcS54OwogICAgICB2YXIgcXkgPSBxLnk7CiAgICAgIHZhciBxeiA9IHEuejsKICAgICAgdmFyIHF3ID0gcS53OyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3RvcgoKICAgICAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5OwogICAgICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7CiAgICAgIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDsKICAgICAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdAoKICAgICAgdGhpcy54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTsKICAgICAgdGhpcy55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejsKICAgICAgdGhpcy56ID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvamVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvamVjdChjYW1lcmEpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpLmFwcGx5TWF0cml4NChjYW1lcmEucHJvamVjdGlvbk1hdHJpeCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5wcm9qZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnByb2plY3QoY2FtZXJhKSB7CiAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4NCgpOwogICAgICByZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQobWF0cml4LmdldEludmVyc2UoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpKS5hcHBseU1hdHJpeDQoY2FtZXJhLm1hdHJpeFdvcmxkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmFuc2Zvcm1EaXJlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zZm9ybURpcmVjdGlvbihtKSB7CiAgICAgIC8vIGlucHV0OiBUSFJFRS5NYXRyaXg0IGFmZmluZSBtYXRyaXgKICAgICAgLy8gdmVjdG9yIGludGVycHJldGVkIGFzIGEgZGlyZWN0aW9uCiAgICAgIHZhciB4ID0gdGhpcy54OwogICAgICB2YXIgeSA9IHRoaXMueTsKICAgICAgdmFyIHogPSB0aGlzLno7CiAgICAgIHZhciBlID0gbS5lbGVtZW50czsKICAgICAgdGhpcy54ID0gZVswXSAqIHggKyBlWzRdICogeSArIGVbOF0gKiB6OwogICAgICB0aGlzLnkgPSBlWzFdICogeCArIGVbNV0gKiB5ICsgZVs5XSAqIHo7CiAgICAgIHRoaXMueiA9IGVbMl0gKiB4ICsgZVs2XSAqIHkgKyBlWzEwXSAqIHo7CiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpdmlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGl2aWRlKHYpIHsKICAgICAgdGhpcy54IC89IHYueDsKICAgICAgdGhpcy55IC89IHYueTsKICAgICAgdGhpcy56IC89IHYuejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGl2aWRlU2NhbGFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXZpZGVTY2FsYXIoc2NhbGFyKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEgLyBzY2FsYXIpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWluKHYpIHsKICAgICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2LngpOwogICAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHYueSk7CiAgICAgIHRoaXMueiA9IE1hdGgubWluKHRoaXMueiwgdi56KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWF4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXgodikgewogICAgICB0aGlzLnggPSBNYXRoLm1heCh0aGlzLngsIHYueCk7CiAgICAgIHRoaXMueSA9IE1hdGgubWF4KHRoaXMueSwgdi55KTsKICAgICAgdGhpcy56ID0gTWF0aC5tYXgodGhpcy56LCB2LnopOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGFtcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xhbXAobWluLCBtYXgpIHsKICAgICAgLy8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2UKICAgICAgdGhpcy54ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKTsKICAgICAgdGhpcy55ID0gTWF0aC5tYXgobWluLnksIE1hdGgubWluKG1heC55LCB0aGlzLnkpKTsKICAgICAgdGhpcy56ID0gTWF0aC5tYXgobWluLnosIE1hdGgubWluKG1heC56LCB0aGlzLnopKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xhbXBTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsYW1wU2NhbGFyKG1pblZhbCwgbWF4VmFsKSB7CiAgICAgIHZhciBtaW4gPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgbWF4ID0gbmV3IFZlY3RvcjMoKTsKICAgICAgbWluLnNldChtaW5WYWwsIG1pblZhbCwgbWluVmFsKTsKICAgICAgbWF4LnNldChtYXhWYWwsIG1heFZhbCwgbWF4VmFsKTsKICAgICAgcmV0dXJuIHRoaXMuY2xhbXAobWluLCBtYXgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsYW1wTGVuZ3RoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcExlbmd0aChtaW4sIG1heCkgewogICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTsKICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGxlbmd0aCB8fCAxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbGVuZ3RoKSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImZsb29yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmbG9vcigpIHsKICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpOwogICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHRoaXMueSk7CiAgICAgIHRoaXMueiA9IE1hdGguZmxvb3IodGhpcy56KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2VpbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2VpbCgpIHsKICAgICAgdGhpcy54ID0gTWF0aC5jZWlsKHRoaXMueCk7CiAgICAgIHRoaXMueSA9IE1hdGguY2VpbCh0aGlzLnkpOwogICAgICB0aGlzLnogPSBNYXRoLmNlaWwodGhpcy56KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAicm91bmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvdW5kKCkgewogICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7CiAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTsKICAgICAgdGhpcy56ID0gTWF0aC5yb3VuZCh0aGlzLnopOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyb3VuZFRvWmVybyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcm91bmRUb1plcm8oKSB7CiAgICAgIHRoaXMueCA9IHRoaXMueCA8IDAgPyBNYXRoLmNlaWwodGhpcy54KSA6IE1hdGguZmxvb3IodGhpcy54KTsKICAgICAgdGhpcy55ID0gdGhpcy55IDwgMCA/IE1hdGguY2VpbCh0aGlzLnkpIDogTWF0aC5mbG9vcih0aGlzLnkpOwogICAgICB0aGlzLnogPSB0aGlzLnogPCAwID8gTWF0aC5jZWlsKHRoaXMueikgOiBNYXRoLmZsb29yKHRoaXMueik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm5lZ2F0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbmVnYXRlKCkgewogICAgICB0aGlzLnggPSAtdGhpcy54OwogICAgICB0aGlzLnkgPSAtdGhpcy55OwogICAgICB0aGlzLnogPSAtdGhpcy56OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvdCh2KSB7CiAgICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2Lno7CiAgICB9IC8vIFRPRE8gbGVuZ3RoU3F1YXJlZD8KCiAgfSwgewogICAga2V5OiAibGVuZ3RoU3EiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxlbmd0aFNxKCkgewogICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56OwogICAgfQogIH0sIHsKICAgIGtleTogImxlbmd0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoKCkgewogICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFuaGF0dGFuTGVuZ3RoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKSB7CiAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLngpICsgTWF0aC5hYnModGhpcy55KSArIE1hdGguYWJzKHRoaXMueik7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9ybWFsaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpIHx8IDEpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldExlbmd0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TGVuZ3RoKGxlbmd0aCkgewogICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihsZW5ndGgpOwogICAgfQogIH0sIHsKICAgIGtleTogImxlcnAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxlcnAodiwgYWxwaGEpIHsKICAgICAgdGhpcy54ICs9ICh2LnggLSB0aGlzLngpICogYWxwaGE7CiAgICAgIHRoaXMueSArPSAodi55IC0gdGhpcy55KSAqIGFscGhhOwogICAgICB0aGlzLnogKz0gKHYueiAtIHRoaXMueikgKiBhbHBoYTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibGVycFZlY3RvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxlcnBWZWN0b3JzKHYxLCB2MiwgYWxwaGEpIHsKICAgICAgcmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh2MiwgdjEpLm11bHRpcGx5U2NhbGFyKGFscGhhKS5hZGQodjEpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyb3NzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcm9zcyh2LCB3KSB7CiAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7CiAgICAgICAgcmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHYsIHcpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnModGhpcywgdik7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3Jvc3NWZWN0b3JzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcm9zc1ZlY3RvcnMoYSwgYikgewogICAgICB2YXIgYXggPSBhLng7CiAgICAgIHZhciBheSA9IGEueTsKICAgICAgdmFyIGF6ID0gYS56OwogICAgICB2YXIgYnggPSBiLng7CiAgICAgIHZhciBieSA9IGIueTsKICAgICAgdmFyIGJ6ID0gYi56OwogICAgICB0aGlzLnggPSBheSAqIGJ6IC0gYXogKiBieTsKICAgICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7CiAgICAgIHRoaXMueiA9IGF4ICogYnkgLSBheSAqIGJ4OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm9qZWN0T25WZWN0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb2plY3RPblZlY3Rvcih2ZWN0b3IpIHsKICAgICAgdmFyIHNjYWxhciA9IHZlY3Rvci5kb3QodGhpcykgLyB2ZWN0b3IubGVuZ3RoU3EoKTsKICAgICAgcmV0dXJuIHRoaXMuY29weSh2ZWN0b3IpLm11bHRpcGx5U2NhbGFyKHNjYWxhcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvamVjdE9uUGxhbmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb2plY3RPblBsYW5lKHBsYW5lTm9ybWFsKSB7CiAgICAgIHZhciB2MSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIHYxLmNvcHkodGhpcykucHJvamVjdE9uVmVjdG9yKHBsYW5lTm9ybWFsKTsKICAgICAgcmV0dXJuIHRoaXMuc3ViKHYxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZsZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZsZWN0KG5vcm1hbCkgewogICAgICB2YXIgdjEgPSBuZXcgVmVjdG9yMygpOwogICAgICByZXR1cm4gdGhpcy5zdWIodjEuY29weShub3JtYWwpLm11bHRpcGx5U2NhbGFyKDIgKiB0aGlzLmRvdChub3JtYWwpKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYW5nbGVUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYW5nbGVUbyh2KSB7CiAgICAgIHZhciB0aGV0YSA9IHRoaXMuZG90KHYpIC8gTWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3EoKSAqIHYubGVuZ3RoU3EoKSk7IC8vIGNsYW1wLCB0byBoYW5kbGUgbnVtZXJpY2FsIHByb2JsZW1zCgogICAgICByZXR1cm4gTWF0aC5hY29zKF9NYXRoLmNsYW1wKHRoZXRhLCAtMSwgMSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3RhbmNlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG8odikgewogICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodikpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3RhbmNlVG9TcXVhcmVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0YW5jZVRvU3F1YXJlZCh2KSB7CiAgICAgIHZhciBkeCA9IHRoaXMueCAtIHYueDsKICAgICAgdmFyIGR5ID0gdGhpcy55IC0gdi55OwogICAgICB2YXIgZHogPSB0aGlzLnogLSB2Lno7CiAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHo7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFuaGF0dGFuRGlzdGFuY2VUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFuaGF0dGFuRGlzdGFuY2VUbyh2KSB7CiAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnggLSB2LngpICsgTWF0aC5hYnModGhpcy55IC0gdi55KSArIE1hdGguYWJzKHRoaXMueiAtIHYueik7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0RnJvbVNwaGVyaWNhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbVNwaGVyaWNhbChzKSB7CiAgICAgIHJldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMocy5yYWRpdXMsIHMucGhpLCBzLnRoZXRhKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tU3BoZXJpY2FsQ29vcmRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tU3BoZXJpY2FsQ29vcmRzKHJhZGl1cywgcGhpLCB0aGV0YSkgewogICAgICB2YXIgc2luUGhpUmFkaXVzID0gTWF0aC5zaW4ocGhpKSAqIHJhZGl1czsKICAgICAgdGhpcy54ID0gc2luUGhpUmFkaXVzICogTWF0aC5zaW4odGhldGEpOwogICAgICB0aGlzLnkgPSBNYXRoLmNvcyhwaGkpICogcmFkaXVzOwogICAgICB0aGlzLnogPSBzaW5QaGlSYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21DeWxpbmRyaWNhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbUN5bGluZHJpY2FsKGMpIHsKICAgICAgcmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKGMucmFkaXVzLCBjLnRoZXRhLCBjLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKHJhZGl1cywgdGhldGEsIHkpIHsKICAgICAgdGhpcy54ID0gcmFkaXVzICogTWF0aC5zaW4odGhldGEpOwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21NYXRyaXhQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG0pIHsKICAgICAgdmFyIGUgPSBtLmVsZW1lbnRzOwogICAgICB0aGlzLnggPSBlWzEyXTsKICAgICAgdGhpcy55ID0gZVsxM107CiAgICAgIHRoaXMueiA9IGVbMTRdOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tTWF0cml4U2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb21NYXRyaXhTY2FsZShtKSB7CiAgICAgIHZhciBzeCA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihtLCAwKS5sZW5ndGgoKTsKICAgICAgdmFyIHN5ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKG0sIDEpLmxlbmd0aCgpOwogICAgICB2YXIgc3ogPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4obSwgMikubGVuZ3RoKCk7CiAgICAgIHRoaXMueCA9IHN4OwogICAgICB0aGlzLnkgPSBzeTsKICAgICAgdGhpcy56ID0gc3o7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21NYXRyaXhDb2x1bW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb21NYXRyaXhDb2x1bW4obSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuZnJvbUFycmF5KG0uZWxlbWVudHMsIGluZGV4ICogNCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXF1YWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlcXVhbHModikgewogICAgICByZXR1cm4gdi54ID09PSB0aGlzLnggJiYgdi55ID09PSB0aGlzLnkgJiYgdi56ID09PSB0aGlzLno7CiAgICB9CiAgfSwgewogICAga2V5OiAiZnJvbUFycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCkgewogICAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICAgIHRoaXMueCA9IGFycmF5W29mZnNldF07CiAgICAgIHRoaXMueSA9IGFycmF5W29mZnNldCArIDFdOwogICAgICB0aGlzLnogPSBhcnJheVtvZmZzZXQgKyAyXTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9BcnJheShhcnJheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChhcnJheSA9PT0gdW5kZWZpbmVkKSBhcnJheSA9IFtdOwogICAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICAgIGFycmF5W29mZnNldF0gPSB0aGlzLng7CiAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGhpcy55OwogICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IHRoaXMuejsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogIH0sIHsKICAgIGtleTogImZyb21CdWZmZXJBdHRyaWJ1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0KSB7CiAgICAgIGlmIChvZmZzZXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpOwogICAgICB9CgogICAgICB0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WChpbmRleCk7CiAgICAgIHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKGluZGV4KTsKICAgICAgdGhpcy56ID0gYXR0cmlidXRlLmdldFooaW5kZXgpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CgogIHJldHVybiBWZWN0b3IzOwp9KCk7CgovKioKICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogKi8KCnZhciBTcGhlcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNwaGVyZShjZW50ZXIsIHJhZGl1cykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwaGVyZSk7CgogICAgdGhpcy5jZW50ZXIgPSBjZW50ZXIgIT09IHVuZGVmaW5lZCA/IGNlbnRlciA6IG5ldyBWZWN0b3IzKCk7CiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMDsKICB9CgogIF9jcmVhdGVDbGFzcyhTcGhlcmUsIFt7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChjZW50ZXIsIHJhZGl1cykgewogICAgICB0aGlzLmNlbnRlci5jb3B5KGNlbnRlcik7CiAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tUG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cywgb3B0aW9uYWxDZW50ZXIpIHsKICAgICAgdmFyIGJveCA9IG5ldyBCb3gzKCk7CiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmNlbnRlcjsKCiAgICAgIGlmIChvcHRpb25hbENlbnRlciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2VudGVyLmNvcHkob3B0aW9uYWxDZW50ZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGJveC5zZXRGcm9tUG9pbnRzKHBvaW50cykuZ2V0Q2VudGVyKGNlbnRlcik7CiAgICAgIH0KCiAgICAgIHZhciBtYXhSYWRpdXNTcSA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICAgIG1heFJhZGl1c1NxID0gTWF0aC5tYXgobWF4UmFkaXVzU3EsIGNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChwb2ludHNbaV0pKTsKICAgICAgfQoKICAgICAgdGhpcy5yYWRpdXMgPSBNYXRoLnNxcnQobWF4UmFkaXVzU3EpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29weSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weShzcGhlcmUpIHsKICAgICAgdGhpcy5jZW50ZXIuY29weShzcGhlcmUuY2VudGVyKTsKICAgICAgdGhpcy5yYWRpdXMgPSBzcGhlcmUucmFkaXVzOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbXB0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLnJhZGl1cyA8PSAwOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbnRhaW5zUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHsKICAgICAgcmV0dXJuIHBvaW50LmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKSA8PSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3RhbmNlVG9Qb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KHBvaW50KSB7CiAgICAgIHJldHVybiBwb2ludC5kaXN0YW5jZVRvKHRoaXMuY2VudGVyKSAtIHRoaXMucmFkaXVzOwogICAgfQogIH0sIHsKICAgIGtleTogImludGVyc2VjdHNTcGhlcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKSB7CiAgICAgIHZhciByYWRpdXNTdW0gPSB0aGlzLnJhZGl1cyArIHNwaGVyZS5yYWRpdXM7CiAgICAgIHJldHVybiBzcGhlcmUuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKSA8PSByYWRpdXNTdW0gKiByYWRpdXNTdW07CiAgICB9CiAgfSwgewogICAga2V5OiAiaW50ZXJzZWN0c0JveCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJzZWN0c0JveChib3gpIHsKICAgICAgcmV0dXJuIGJveC5pbnRlcnNlY3RzU3BoZXJlKHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogImludGVyc2VjdHNQbGFuZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJzZWN0c1BsYW5lKHBsYW5lKSB7CiAgICAgIHJldHVybiBNYXRoLmFicyhwbGFuZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKSA8PSB0aGlzLnJhZGl1czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGFtcFBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcFBvaW50KHBvaW50LCB0YXJnZXQpIHsKICAgICAgdmFyIGRlbHRhTGVuZ3RoU3EgPSB0aGlzLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChwb2ludCk7CgogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlNwaGVyZTogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTsKICAgICAgfQoKICAgICAgdGFyZ2V0LmNvcHkocG9pbnQpOwoKICAgICAgaWYgKGRlbHRhTGVuZ3RoU3EgPiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzKSB7CiAgICAgICAgdGFyZ2V0LnN1Yih0aGlzLmNlbnRlcikubm9ybWFsaXplKCk7CiAgICAgICAgdGFyZ2V0Lm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJvdW5kaW5nQm94IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveCh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5TcGhlcmU6IC5nZXRCb3VuZGluZ0JveCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTsKICAgICAgICB0YXJnZXQgPSBuZXcgQm94MygpOwogICAgICB9CgogICAgICB0YXJnZXQuc2V0KHRoaXMuY2VudGVyLCB0aGlzLmNlbnRlcik7CiAgICAgIHRhcmdldC5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyk7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwbHlNYXRyaXg0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseU1hdHJpeDQobWF0cml4KSB7CiAgICAgIHRoaXMuY2VudGVyLmFwcGx5TWF0cml4NChtYXRyaXgpOwogICAgICB0aGlzLnJhZGl1cyA9IHRoaXMucmFkaXVzICogbWF0cml4LmdldE1heFNjYWxlT25BeGlzKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRyYW5zbGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNsYXRlKG9mZnNldCkgewogICAgICB0aGlzLmNlbnRlci5hZGQob2Zmc2V0KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXF1YWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlcXVhbHMoc3BoZXJlKSB7CiAgICAgIHJldHVybiBzcGhlcmUuY2VudGVyLmVxdWFscyh0aGlzLmNlbnRlcikgJiYgc3BoZXJlLnJhZGl1cyA9PT0gdGhpcy5yYWRpdXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3BoZXJlOwp9KCk7CgovKioKICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICovCgp2YXIgQm94MyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQm94MyhtaW4sIG1heCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJveDMpOwoKICAgIHRoaXMubWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiBuZXcgVmVjdG9yMygrSW5maW5pdHksICtJbmZpbml0eSwgK0luZmluaXR5KTsKICAgIHRoaXMubWF4ID0gbWF4ICE9PSB1bmRlZmluZWQgPyBtYXggOiBuZXcgVmVjdG9yMygtSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5KTsKICAgIHRoaXMuaXNCb3gzID0gdHJ1ZTsKICB9CgogIF9jcmVhdGVDbGFzcyhCb3gzLCBbewogICAga2V5OiAic2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQobWluLCBtYXgpIHsKICAgICAgdGhpcy5taW4uY29weShtaW4pOwogICAgICB0aGlzLm1heC5jb3B5KG1heCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbUFycmF5KGFycmF5KSB7CiAgICAgIHZhciBtaW5YID0gK0luZmluaXR5OwogICAgICB2YXIgbWluWSA9ICtJbmZpbml0eTsKICAgICAgdmFyIG1pblogPSArSW5maW5pdHk7CiAgICAgIHZhciBtYXhYID0gLUluZmluaXR5OwogICAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTsKICAgICAgdmFyIG1heFogPSAtSW5maW5pdHk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMykgewogICAgICAgIHZhciB4ID0gYXJyYXlbaV07CiAgICAgICAgdmFyIHkgPSBhcnJheVtpICsgMV07CiAgICAgICAgdmFyIHogPSBhcnJheVtpICsgMl07CiAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDsKICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5OwogICAgICAgIGlmICh6IDwgbWluWikgbWluWiA9IHo7CiAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDsKICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5OwogICAgICAgIGlmICh6ID4gbWF4WikgbWF4WiA9IHo7CiAgICAgIH0KCiAgICAgIHRoaXMubWluLnNldChtaW5YLCBtaW5ZLCBtaW5aKTsKICAgICAgdGhpcy5tYXguc2V0KG1heFgsIG1heFksIG1heFopOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tQnVmZmVyQXR0cmlidXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSkgewogICAgICB2YXIgbWluWCA9ICtJbmZpbml0eTsKICAgICAgdmFyIG1pblkgPSArSW5maW5pdHk7CiAgICAgIHZhciBtaW5aID0gK0luZmluaXR5OwogICAgICB2YXIgbWF4WCA9IC1JbmZpbml0eTsKICAgICAgdmFyIG1heFkgPSAtSW5maW5pdHk7CiAgICAgIHZhciBtYXhaID0gLUluZmluaXR5OwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGUuY291bnQ7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIgeCA9IGF0dHJpYnV0ZS5nZXRYKGkpOwogICAgICAgIHZhciB5ID0gYXR0cmlidXRlLmdldFkoaSk7CiAgICAgICAgdmFyIHogPSBhdHRyaWJ1dGUuZ2V0WihpKTsKICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4OwogICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7CiAgICAgICAgaWYgKHogPCBtaW5aKSBtaW5aID0gejsKICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4OwogICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7CiAgICAgICAgaWYgKHogPiBtYXhaKSBtYXhaID0gejsKICAgICAgfQoKICAgICAgdGhpcy5taW4uc2V0KG1pblgsIG1pblksIG1pblopOwogICAgICB0aGlzLm1heC5zZXQobWF4WCwgbWF4WSwgbWF4Wik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21Qb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzKSB7CiAgICAgIHRoaXMubWFrZUVtcHR5KCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICAgIHRoaXMuZXhwYW5kQnlQb2ludChwb2ludHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tQ2VudGVyQW5kU2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKSB7CiAgICAgIHZhciBoYWxmU2l6ZSA9IHNpemUuY2xvbmUoKS5tdWx0aXBseVNjYWxhcigwLjUpOwogICAgICB0aGlzLm1pbi5jb3B5KGNlbnRlcikuc3ViKGhhbGZTaXplKTsKICAgICAgdGhpcy5tYXguY29weShjZW50ZXIpLmFkZChoYWxmU2l6ZSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZyb21PYmplY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb21PYmplY3Qob2JqZWN0KSB7CiAgICAgIHRoaXMubWFrZUVtcHR5KCk7CiAgICAgIHJldHVybiB0aGlzLmV4cGFuZEJ5T2JqZWN0KG9iamVjdCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xvbmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IEJveDMoKS5jb3B5KHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkoYm94KSB7CiAgICAgIHRoaXMubWluLmNvcHkoYm94Lm1pbik7CiAgICAgIHRoaXMubWF4LmNvcHkoYm94Lm1heCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIm1ha2VFbXB0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUVtcHR5KCkgewogICAgICB0aGlzLm1pbi54ID0gdGhpcy5taW4ueSA9IHRoaXMubWluLnogPSArSW5maW5pdHk7CiAgICAgIHRoaXMubWF4LnggPSB0aGlzLm1heC55ID0gdGhpcy5tYXgueiA9IC1JbmZpbml0eTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNFbXB0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNFbXB0eSgpIHsKICAgICAgLy8gdGhpcyBpcyBhIG1vcmUgcm9idXN0IGNoZWNrIGZvciBlbXB0eSB0aGFuICggdm9sdW1lIDw9IDAgKSBiZWNhdXNlIHZvbHVtZSBjYW4gZ2V0IHBvc2l0aXZlIHdpdGggdHdvIG5lZ2F0aXZlIGF4ZXMKICAgICAgcmV0dXJuIHRoaXMubWF4LnggPCB0aGlzLm1pbi54IHx8IHRoaXMubWF4LnkgPCB0aGlzLm1pbi55IHx8IHRoaXMubWF4LnogPCB0aGlzLm1pbi56OwogICAgfQogIH0sIHsKICAgIGtleTogImdldENlbnRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VudGVyKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCgwLCAwLCAwKSA6IHRhcmdldC5hZGRWZWN0b3JzKHRoaXMubWluLCB0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoMC41KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaXplKCkgewogICAgICB2YXIgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTsKICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCgwLCAwLCAwKSA6IHRhcmdldC5zdWJWZWN0b3JzKHRoaXMubWF4LCB0aGlzLm1pbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXhwYW5kQnlQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwYW5kQnlQb2ludChwb2ludCkgewogICAgICB0aGlzLm1pbi5taW4ocG9pbnQpOwogICAgICB0aGlzLm1heC5tYXgocG9pbnQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleHBhbmRCeVZlY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwYW5kQnlWZWN0b3IodmVjdG9yKSB7CiAgICAgIHRoaXMubWluLnN1Yih2ZWN0b3IpOwogICAgICB0aGlzLm1heC5hZGQodmVjdG9yKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXhwYW5kQnlTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4cGFuZEJ5U2NhbGFyKHNjYWxhcikgewogICAgICB0aGlzLm1pbi5hZGRTY2FsYXIoLXNjYWxhcik7CiAgICAgIHRoaXMubWF4LmFkZFNjYWxhcihzY2FsYXIpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleHBhbmRCeU9iamVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwYW5kQnlPYmplY3Qob2JqZWN0KSB7CiAgICAgIHZhciB2MSA9IG5ldyBWZWN0b3IzKCk7CgogICAgICBmdW5jdGlvbiB0cmF2ZXJzZShub2RlKSB7CiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbm9kZS5nZW9tZXRyeTsKCiAgICAgICAgaWYgKGdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChnZW9tZXRyeS5pc0dlb21ldHJ5KSB7CiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IGdlb21ldHJ5LnZlcnRpY2VzOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2ZXJ0aWNlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICB2MS5jb3B5KHZlcnRpY2VzW2ldKTsKICAgICAgICAgICAgICB2MS5hcHBseU1hdHJpeDQobm9kZS5tYXRyaXhXb3JsZCk7CiAgICAgICAgICAgICAgdGhpcy5leHBhbmRCeVBvaW50KHYxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KSB7CiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uOwoKICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbCA9IGF0dHJpYnV0ZS5jb3VudDsgX2kgPCBfbDsgX2krKykgewogICAgICAgICAgICAgICAgdjEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsIF9pKS5hcHBseU1hdHJpeDQobm9kZS5tYXRyaXhXb3JsZCk7CiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEJ5UG9pbnQodjEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgb2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpOwogICAgICBvYmplY3QudHJhdmVyc2UodHJhdmVyc2UpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb250YWluc1BvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7CiAgICAgIHJldHVybiAhKHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8IHBvaW50LnkgPCB0aGlzLm1pbi55IHx8IHBvaW50LnkgPiB0aGlzLm1heC55IHx8IHBvaW50LnogPCB0aGlzLm1pbi56IHx8IHBvaW50LnogPiB0aGlzLm1heC56KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb250YWluc0JveCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29udGFpbnNCb3goYm94KSB7CiAgICAgIHJldHVybiB0aGlzLm1pbi54IDw9IGJveC5taW4ueCAmJiBib3gubWF4LnggPD0gdGhpcy5tYXgueCAmJiB0aGlzLm1pbi55IDw9IGJveC5taW4ueSAmJiBib3gubWF4LnkgPD0gdGhpcy5tYXgueSAmJiB0aGlzLm1pbi56IDw9IGJveC5taW4ueiAmJiBib3gubWF4LnogPD0gdGhpcy5tYXguejsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQYXJhbWV0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcmFtZXRlcihwb2ludCwgdGFyZ2V0KSB7CiAgICAgIC8vIFRoaXMgY2FuIHBvdGVudGlhbGx5IGhhdmUgYSBkaXZpZGUgYnkgemVybyBpZiB0aGUgYm94CiAgICAgIC8vIGhhcyBhIHNpemUgZGltZW5zaW9uIG9mIDAuCiAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjdG9yMygpOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0LnNldCgocG9pbnQueCAtIHRoaXMubWluLngpIC8gKHRoaXMubWF4LnggLSB0aGlzLm1pbi54KSwgKHBvaW50LnkgLSB0aGlzLm1pbi55KSAvICh0aGlzLm1heC55IC0gdGhpcy5taW4ueSksIChwb2ludC56IC0gdGhpcy5taW4ueikgLyAodGhpcy5tYXgueiAtIHRoaXMubWluLnopKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnRlcnNlY3RzQm94IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnRlcnNlY3RzQm94KGJveCkgewogICAgICAvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy4KICAgICAgcmV0dXJuICEoYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8IGJveC5tYXgueSA8IHRoaXMubWluLnkgfHwgYm94Lm1pbi55ID4gdGhpcy5tYXgueSB8fCBib3gubWF4LnogPCB0aGlzLm1pbi56IHx8IGJveC5taW4ueiA+IHRoaXMubWF4LnopOwogICAgfQogIH0sIHsKICAgIGtleTogImNsYW1wUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsYW1wUG9pbnQocG9pbnQsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpOwogICAgICAgIHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQuY29weShwb2ludCkuY2xhbXAodGhpcy5taW4sIHRoaXMubWF4KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXN0YW5jZVRvUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCkgewogICAgICB2YXIgY2xhbXBlZFBvaW50ID0gcG9pbnQuY2xvbmUoKS5jbGFtcCh0aGlzLm1pbiwgdGhpcy5tYXgpOwogICAgICByZXR1cm4gY2xhbXBlZFBvaW50LnN1Yihwb2ludCkubGVuZ3RoKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Qm91bmRpbmdTcGhlcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJvdW5kaW5nU3BoZXJlKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTsKICAgICAgICB0YXJnZXQgPSBuZXcgU3BoZXJlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0Q2VudGVyKHRhcmdldC5jZW50ZXIpOwogICAgICB0YXJnZXQucmFkaXVzID0gdGhpcy5nZXRTaXplKCkubGVuZ3RoKCkgKiAwLjU7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW50ZXJzZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnRlcnNlY3QoYm94KSB7CiAgICAgIHRoaXMubWluLm1heChib3gubWluKTsKICAgICAgdGhpcy5tYXgubWluKGJveC5tYXgpOyAvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuCgogICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHRoaXMubWFrZUVtcHR5KCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInVuaW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bmlvbihib3gpIHsKICAgICAgdGhpcy5taW4ubWluKGJveC5taW4pOwogICAgICB0aGlzLm1heC5tYXgoYm94Lm1heCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5TWF0cml4NCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG1hdHJpeCkgewogICAgICAvLyB0cmFuc2Zvcm0gb2YgZW1wdHkgYm94IGlzIGFuIGVtcHR5IGJveC4KICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSByZXR1cm4gdGhpczsKICAgICAgdmFyIHBvaW50cyA9IFtuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpXTsgLy8gTk9URTogSSBhbSB1c2luZyBhIGJpbmFyeSBwYXR0ZXJuIHRvIHNwZWNpZnkgYWxsIDJeMyBjb21iaW5hdGlvbnMgYmVsb3cKCiAgICAgIHBvaW50c1swXS5zZXQodGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7IC8vIDAwMAoKICAgICAgcG9pbnRzWzFdLnNldCh0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1heC56KS5hcHBseU1hdHJpeDQobWF0cml4KTsgLy8gMDAxCgogICAgICBwb2ludHNbMl0uc2V0KHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnopLmFwcGx5TWF0cml4NChtYXRyaXgpOyAvLyAwMTAKCiAgICAgIHBvaW50c1szXS5zZXQodGhpcy5taW4ueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7IC8vIDAxMQoKICAgICAgcG9pbnRzWzRdLnNldCh0aGlzLm1heC54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQobWF0cml4KTsgLy8gMTAwCgogICAgICBwb2ludHNbNV0uc2V0KHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChtYXRyaXgpOyAvLyAxMDEKCiAgICAgIHBvaW50c1s2XS5zZXQodGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7IC8vIDExMAoKICAgICAgcG9pbnRzWzddLnNldCh0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1heC56KS5hcHBseU1hdHJpeDQobWF0cml4KTsgLy8gMTExCgogICAgICB0aGlzLnNldEZyb21Qb2ludHMocG9pbnRzKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidHJhbnNsYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUob2Zmc2V0KSB7CiAgICAgIHRoaXMubWluLmFkZChvZmZzZXQpOwogICAgICB0aGlzLm1heC5hZGQob2Zmc2V0KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXF1YWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlcXVhbHMoYm94KSB7CiAgICAgIHJldHVybiBib3gubWluLmVxdWFscyh0aGlzLm1pbikgJiYgYm94Lm1heC5lcXVhbHModGhpcy5tYXgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJveDM7Cn0oKTsKCi8qKgogKiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL2V2ZW50ZGlzcGF0Y2hlci5qcy8KICovCmZ1bmN0aW9uIEV2ZW50RGlzcGF0Y2hlcigpIHt9CgpPYmplY3QuYXNzaWduKEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUsIHsKICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX2xpc3RlbmVycyA9IHt9OwogICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICB9CgogICAgaWYgKGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSA9PT0gLTEpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpOwogICAgfQogIH0sCiAgaGFzRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7CiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSAhPT0gLTE7CiAgfSwKICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1t0eXBlXTsKCiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7CgogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgbGlzdGVuZXJBcnJheS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9CiAgfSwKICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1tldmVudC50eXBlXTsKCiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7CiAgICAgIHZhciBhcnJheSA9IGxpc3RlbmVyQXJyYXkuc2xpY2UoMCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpOwogICAgICB9CiAgICB9CiAgfQp9KTsKCi8qKgogKiBAYXV0aG9yIHN1cGVyZWdnYmVydCAvIGh0dHA6Ly93d3cucGF1bGJydW50LmNvLnVrLwogKiBAYXV0aG9yIHBoaWxvZ2IgLyBodHRwOi8vYmxvZy50aGVqaXQub3JnLwogKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogKiBAYXV0aG9yIGVncmFldGhlciAvIGh0dHA6Ly9lZ3JhZXRoZXIuY29tLwogKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICovCmZ1bmN0aW9uIFZlY3RvcjQoeCwgeSwgeiwgdykgewogIHRoaXMueCA9IHggfHwgMDsKICB0aGlzLnkgPSB5IHx8IDA7CiAgdGhpcy56ID0geiB8fCAwOwogIHRoaXMudyA9IHcgIT09IHVuZGVmaW5lZCA/IHcgOiAxOwp9CgpPYmplY3QuYXNzaWduKFZlY3RvcjQucHJvdG90eXBlLCB7CiAgaXNWZWN0b3I0OiB0cnVlLAogIHNldDogZnVuY3Rpb24gc2V0KHgsIHksIHosIHcpIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHRoaXMudyA9IHc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHNldFNjYWxhcjogZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcikgewogICAgdGhpcy54ID0gc2NhbGFyOwogICAgdGhpcy55ID0gc2NhbGFyOwogICAgdGhpcy56ID0gc2NhbGFyOwogICAgdGhpcy53ID0gc2NhbGFyOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXRYOiBmdW5jdGlvbiBzZXRYKHgpIHsKICAgIHRoaXMueCA9IHg7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHNldFk6IGZ1bmN0aW9uIHNldFkoeSkgewogICAgdGhpcy55ID0geTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgc2V0WjogZnVuY3Rpb24gc2V0Wih6KSB7CiAgICB0aGlzLnogPSB6OwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXRXOiBmdW5jdGlvbiBzZXRXKHcpIHsKICAgIHRoaXMudyA9IHc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHNldENvbXBvbmVudDogZnVuY3Rpb24gc2V0Q29tcG9uZW50KGluZGV4LCB2YWx1ZSkgewogICAgc3dpdGNoIChpbmRleCkgewogICAgICBjYXNlIDA6CiAgICAgICAgdGhpcy54ID0gdmFsdWU7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDE6CiAgICAgICAgdGhpcy55ID0gdmFsdWU7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdGhpcy56ID0gdmFsdWU7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdGhpcy53ID0gdmFsdWU7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXgpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sCiAgZ2V0Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRDb21wb25lbnQoaW5kZXgpIHsKICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgY2FzZSAwOgogICAgICAgIHJldHVybiB0aGlzLng7CgogICAgICBjYXNlIDE6CiAgICAgICAgcmV0dXJuIHRoaXMueTsKCiAgICAgIGNhc2UgMjoKICAgICAgICByZXR1cm4gdGhpcy56OwoKICAgICAgY2FzZSAzOgogICAgICAgIHJldHVybiB0aGlzLnc7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXgpOwogICAgfQogIH0sCiAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMudyk7CiAgfSwKICBjb3B5OiBmdW5jdGlvbiBjb3B5KHYpIHsKICAgIHRoaXMueCA9IHYueDsKICAgIHRoaXMueSA9IHYueTsKICAgIHRoaXMueiA9IHYuejsKICAgIHRoaXMudyA9IHYudyAhPT0gdW5kZWZpbmVkID8gdi53IDogMTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgYWRkOiBmdW5jdGlvbiBhZGQodiwgdykgewogICAgaWYgKHcgIT09IHVuZGVmaW5lZCkgewogICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTsKICAgICAgcmV0dXJuIHRoaXMuYWRkVmVjdG9ycyh2LCB3KTsKICAgIH0KCiAgICB0aGlzLnggKz0gdi54OwogICAgdGhpcy55ICs9IHYueTsKICAgIHRoaXMueiArPSB2Lno7CiAgICB0aGlzLncgKz0gdi53OwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBhZGRTY2FsYXI6IGZ1bmN0aW9uIGFkZFNjYWxhcihzKSB7CiAgICB0aGlzLnggKz0gczsKICAgIHRoaXMueSArPSBzOwogICAgdGhpcy56ICs9IHM7CiAgICB0aGlzLncgKz0gczsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgYWRkVmVjdG9yczogZnVuY3Rpb24gYWRkVmVjdG9ycyhhLCBiKSB7CiAgICB0aGlzLnggPSBhLnggKyBiLng7CiAgICB0aGlzLnkgPSBhLnkgKyBiLnk7CiAgICB0aGlzLnogPSBhLnogKyBiLno7CiAgICB0aGlzLncgPSBhLncgKyBiLnc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGFkZFNjYWxlZFZlY3RvcjogZnVuY3Rpb24gYWRkU2NhbGVkVmVjdG9yKHYsIHMpIHsKICAgIHRoaXMueCArPSB2LnggKiBzOwogICAgdGhpcy55ICs9IHYueSAqIHM7CiAgICB0aGlzLnogKz0gdi56ICogczsKICAgIHRoaXMudyArPSB2LncgKiBzOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzdWI6IGZ1bmN0aW9uIHN1Yih2LCB3KSB7CiAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGNvbnNvbGUud2FybignVEhSRUUuVmVjdG9yNDogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpOwogICAgICByZXR1cm4gdGhpcy5zdWJWZWN0b3JzKHYsIHcpOwogICAgfQoKICAgIHRoaXMueCAtPSB2Lng7CiAgICB0aGlzLnkgLT0gdi55OwogICAgdGhpcy56IC09IHYuejsKICAgIHRoaXMudyAtPSB2Lnc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHN1YlNjYWxhcjogZnVuY3Rpb24gc3ViU2NhbGFyKHMpIHsKICAgIHRoaXMueCAtPSBzOwogICAgdGhpcy55IC09IHM7CiAgICB0aGlzLnogLT0gczsKICAgIHRoaXMudyAtPSBzOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzdWJWZWN0b3JzOiBmdW5jdGlvbiBzdWJWZWN0b3JzKGEsIGIpIHsKICAgIHRoaXMueCA9IGEueCAtIGIueDsKICAgIHRoaXMueSA9IGEueSAtIGIueTsKICAgIHRoaXMueiA9IGEueiAtIGIuejsKICAgIHRoaXMudyA9IGEudyAtIGIudzsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgbXVsdGlwbHlTY2FsYXI6IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcikgewogICAgdGhpcy54ICo9IHNjYWxhcjsKICAgIHRoaXMueSAqPSBzY2FsYXI7CiAgICB0aGlzLnogKj0gc2NhbGFyOwogICAgdGhpcy53ICo9IHNjYWxhcjsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgYXBwbHlNYXRyaXg0OiBmdW5jdGlvbiBhcHBseU1hdHJpeDQobSkgewogICAgdmFyIHggPSB0aGlzLng7CiAgICB2YXIgeSA9IHRoaXMueTsKICAgIHZhciB6ID0gdGhpcy56OwogICAgdmFyIHcgPSB0aGlzLnc7CiAgICB2YXIgZSA9IG0uZWxlbWVudHM7CiAgICB0aGlzLnggPSBlWzBdICogeCArIGVbNF0gKiB5ICsgZVs4XSAqIHogKyBlWzEyXSAqIHc7CiAgICB0aGlzLnkgPSBlWzFdICogeCArIGVbNV0gKiB5ICsgZVs5XSAqIHogKyBlWzEzXSAqIHc7CiAgICB0aGlzLnogPSBlWzJdICogeCArIGVbNl0gKiB5ICsgZVsxMF0gKiB6ICsgZVsxNF0gKiB3OwogICAgdGhpcy53ID0gZVszXSAqIHggKyBlWzddICogeSArIGVbMTFdICogeiArIGVbMTVdICogdzsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgZGl2aWRlU2NhbGFyOiBmdW5jdGlvbiBkaXZpZGVTY2FsYXIoc2NhbGFyKSB7CiAgICByZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxIC8gc2NhbGFyKTsKICB9LAogIHNldEF4aXNBbmdsZUZyb21RdWF0ZXJuaW9uOiBmdW5jdGlvbiBzZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbihxKSB7CiAgICAvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvcXVhdGVybmlvblRvQW5nbGUvaW5kZXguaHRtCiAgICAvLyBxIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZAogICAgdGhpcy53ID0gMiAqIE1hdGguYWNvcyhxLncpOwogICAgdmFyIHMgPSBNYXRoLnNxcnQoMSAtIHEudyAqIHEudyk7CgogICAgaWYgKHMgPCAwLjAwMDEpIHsKICAgICAgdGhpcy54ID0gMTsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueCA9IHEueCAvIHM7CiAgICAgIHRoaXMueSA9IHEueSAvIHM7CiAgICAgIHRoaXMueiA9IHEueiAvIHM7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXRBeGlzQW5nbGVGcm9tUm90YXRpb25NYXRyaXg6IGZ1bmN0aW9uIHNldEF4aXNBbmdsZUZyb21Sb3RhdGlvbk1hdHJpeChtKSB7CiAgICAvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9BbmdsZS9pbmRleC5odG0KICAgIC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCiAgICB2YXIgYW5nbGU7CiAgICB2YXIgeDsKICAgIHZhciB5OwogICAgdmFyIHo7IC8vIHZhcmlhYmxlcyBmb3IgcmVzdWx0CgogICAgdmFyIGVwc2lsb24gPSAwLjAxOyAvLyBtYXJnaW4gdG8gYWxsb3cgZm9yIHJvdW5kaW5nIGVycm9ycwoKICAgIHZhciBlcHNpbG9uMiA9IDAuMTsgLy8gbWFyZ2luIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gMCBhbmQgMTgwIGRlZ3JlZXMKCiAgICB2YXIgdGUgPSBtLmVsZW1lbnRzOwogICAgdmFyIG0xMSA9IHRlWzBdOwogICAgdmFyIG0xMiA9IHRlWzRdOwogICAgdmFyIG0xMyA9IHRlWzhdOwogICAgdmFyIG0yMSA9IHRlWzFdOwogICAgdmFyIG0yMiA9IHRlWzVdOwogICAgdmFyIG0yMyA9IHRlWzldOwogICAgdmFyIG0zMSA9IHRlWzJdOwogICAgdmFyIG0zMiA9IHRlWzZdOwogICAgdmFyIG0zMyA9IHRlWzEwXTsKCiAgICBpZiAoTWF0aC5hYnMobTEyIC0gbTIxKSA8IGVwc2lsb24gJiYgTWF0aC5hYnMobTEzIC0gbTMxKSA8IGVwc2lsb24gJiYgTWF0aC5hYnMobTIzIC0gbTMyKSA8IGVwc2lsb24pIHsKICAgICAgLy8gc2luZ3VsYXJpdHkgZm91bmQKICAgICAgLy8gZmlyc3QgY2hlY2sgZm9yIGlkZW50aXR5IG1hdHJpeCB3aGljaCBtdXN0IGhhdmUgKzEgZm9yIGFsbCB0ZXJtcwogICAgICAvLyBpbiBsZWFkaW5nIGRpYWdvbmFsIGFuZCB6ZXJvIGluIG90aGVyIHRlcm1zCiAgICAgIGlmIChNYXRoLmFicyhtMTIgKyBtMjEpIDwgZXBzaWxvbjIgJiYgTWF0aC5hYnMobTEzICsgbTMxKSA8IGVwc2lsb24yICYmIE1hdGguYWJzKG0yMyArIG0zMikgPCBlcHNpbG9uMiAmJiBNYXRoLmFicyhtMTEgKyBtMjIgKyBtMzMgLSAzKSA8IGVwc2lsb24yKSB7CiAgICAgICAgLy8gdGhpcyBzaW5ndWxhcml0eSBpcyBpZGVudGl0eSBtYXRyaXggc28gYW5nbGUgPSAwCiAgICAgICAgdGhpcy5zZXQoMSwgMCwgMCwgMCk7CiAgICAgICAgcmV0dXJuIHRoaXM7IC8vIHplcm8gYW5nbGUsIGFyYml0cmFyeSBheGlzCiAgICAgIH0gLy8gb3RoZXJ3aXNlIHRoaXMgc2luZ3VsYXJpdHkgaXMgYW5nbGUgPSAxODAKCgogICAgICBhbmdsZSA9IE1hdGguUEk7CiAgICAgIHZhciB4eCA9IChtMTEgKyAxKSAvIDI7CiAgICAgIHZhciB5eSA9IChtMjIgKyAxKSAvIDI7CiAgICAgIHZhciB6eiA9IChtMzMgKyAxKSAvIDI7CiAgICAgIHZhciB4eSA9IChtMTIgKyBtMjEpIC8gNDsKICAgICAgdmFyIHh6ID0gKG0xMyArIG0zMSkgLyA0OwogICAgICB2YXIgeXogPSAobTIzICsgbTMyKSAvIDQ7CgogICAgICBpZiAoeHggPiB5eSAmJiB4eCA+IHp6KSB7CiAgICAgICAgLy8gbTExIGlzIHRoZSBsYXJnZXN0IGRpYWdvbmFsIHRlcm0KICAgICAgICBpZiAoeHggPCBlcHNpbG9uKSB7CiAgICAgICAgICB4ID0gMDsKICAgICAgICAgIHkgPSAwLjcwNzEwNjc4MTsKICAgICAgICAgIHogPSAwLjcwNzEwNjc4MTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgeCA9IE1hdGguc3FydCh4eCk7CiAgICAgICAgICB5ID0geHkgLyB4OwogICAgICAgICAgeiA9IHh6IC8geDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoeXkgPiB6eikgewogICAgICAgIC8vIG0yMiBpcyB0aGUgbGFyZ2VzdCBkaWFnb25hbCB0ZXJtCiAgICAgICAgaWYgKHl5IDwgZXBzaWxvbikgewogICAgICAgICAgeCA9IDAuNzA3MTA2NzgxOwogICAgICAgICAgeSA9IDA7CiAgICAgICAgICB6ID0gMC43MDcxMDY3ODE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHkgPSBNYXRoLnNxcnQoeXkpOwogICAgICAgICAgeCA9IHh5IC8geTsKICAgICAgICAgIHogPSB5eiAvIHk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG0zMyBpcyB0aGUgbGFyZ2VzdCBkaWFnb25hbCB0ZXJtIHNvIGJhc2UgcmVzdWx0IG9uIHRoaXMKICAgICAgICBpZiAoenogPCBlcHNpbG9uKSB7CiAgICAgICAgICB4ID0gMC43MDcxMDY3ODE7CiAgICAgICAgICB5ID0gMC43MDcxMDY3ODE7CiAgICAgICAgICB6ID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgeiA9IE1hdGguc3FydCh6eik7CiAgICAgICAgICB4ID0geHogLyB6OwogICAgICAgICAgeSA9IHl6IC8gejsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0KHgsIHksIHosIGFuZ2xlKTsKICAgICAgcmV0dXJuIHRoaXM7IC8vIHJldHVybiAxODAgZGVnIHJvdGF0aW9uCiAgICB9IC8vIGFzIHdlIGhhdmUgcmVhY2hlZCBoZXJlIHRoZXJlIGFyZSBubyBzaW5ndWxhcml0aWVzIHNvIHdlIGNhbiBoYW5kbGUgbm9ybWFsbHkKCgogICAgdmFyIHMgPSBNYXRoLnNxcnQoKG0zMiAtIG0yMykgKiAobTMyIC0gbTIzKSArIChtMTMgLSBtMzEpICogKG0xMyAtIG0zMSkgKyAobTIxIC0gbTEyKSAqIChtMjEgLSBtMTIpKTsgLy8gdXNlZCB0byBub3JtYWxpemUKCiAgICBpZiAoTWF0aC5hYnMocykgPCAwLjAwMSkgcyA9IDE7IC8vIHByZXZlbnQgZGl2aWRlIGJ5IHplcm8sIHNob3VsZCBub3QgaGFwcGVuIGlmIG1hdHJpeCBpcyBvcnRob2dvbmFsIGFuZCBzaG91bGQgYmUKICAgIC8vIGNhdWdodCBieSBzaW5ndWxhcml0eSB0ZXN0IGFib3ZlLCBidXQgSSd2ZSBsZWZ0IGl0IGluIGp1c3QgaW4gY2FzZQoKICAgIHRoaXMueCA9IChtMzIgLSBtMjMpIC8gczsKICAgIHRoaXMueSA9IChtMTMgLSBtMzEpIC8gczsKICAgIHRoaXMueiA9IChtMjEgLSBtMTIpIC8gczsKICAgIHRoaXMudyA9IE1hdGguYWNvcygobTExICsgbTIyICsgbTMzIC0gMSkgLyAyKTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgbWluOiBmdW5jdGlvbiBtaW4odikgewogICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2LngpOwogICAgdGhpcy55ID0gTWF0aC5taW4odGhpcy55LCB2LnkpOwogICAgdGhpcy56ID0gTWF0aC5taW4odGhpcy56LCB2LnopOwogICAgdGhpcy53ID0gTWF0aC5taW4odGhpcy53LCB2LncpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBtYXg6IGZ1bmN0aW9uIG1heCh2KSB7CiAgICB0aGlzLnggPSBNYXRoLm1heCh0aGlzLngsIHYueCk7CiAgICB0aGlzLnkgPSBNYXRoLm1heCh0aGlzLnksIHYueSk7CiAgICB0aGlzLnogPSBNYXRoLm1heCh0aGlzLnosIHYueik7CiAgICB0aGlzLncgPSBNYXRoLm1heCh0aGlzLncsIHYudyk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGNsYW1wOiBmdW5jdGlvbiBjbGFtcChtaW4sIG1heCkgewogICAgLy8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2UKICAgIHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSk7CiAgICB0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpOwogICAgdGhpcy56ID0gTWF0aC5tYXgobWluLnosIE1hdGgubWluKG1heC56LCB0aGlzLnopKTsKICAgIHRoaXMudyA9IE1hdGgubWF4KG1pbi53LCBNYXRoLm1pbihtYXgudywgdGhpcy53KSk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGNsYW1wU2NhbGFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbWluLCBtYXg7CiAgICByZXR1cm4gZnVuY3Rpb24gY2xhbXBTY2FsYXIobWluVmFsLCBtYXhWYWwpIHsKICAgICAgaWYgKG1pbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbWluID0gbmV3IFZlY3RvcjQoKTsKICAgICAgICBtYXggPSBuZXcgVmVjdG9yNCgpOwogICAgICB9CgogICAgICBtaW4uc2V0KG1pblZhbCwgbWluVmFsLCBtaW5WYWwsIG1pblZhbCk7CiAgICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCwgbWF4VmFsKTsKICAgICAgcmV0dXJuIHRoaXMuY2xhbXAobWluLCBtYXgpOwogICAgfTsKICB9KCksCiAgY2xhbXBMZW5ndGg6IGZ1bmN0aW9uIGNsYW1wTGVuZ3RoKG1pbiwgbWF4KSB7CiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTsKICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhcihsZW5ndGggfHwgMSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIGxlbmd0aCkpKTsKICB9LAogIGZsb29yOiBmdW5jdGlvbiBmbG9vcigpIHsKICAgIHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTsKICAgIHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTsKICAgIHRoaXMueiA9IE1hdGguZmxvb3IodGhpcy56KTsKICAgIHRoaXMudyA9IE1hdGguZmxvb3IodGhpcy53KTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgY2VpbDogZnVuY3Rpb24gY2VpbCgpIHsKICAgIHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpOwogICAgdGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7CiAgICB0aGlzLnogPSBNYXRoLmNlaWwodGhpcy56KTsKICAgIHRoaXMudyA9IE1hdGguY2VpbCh0aGlzLncpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICByb3VuZDogZnVuY3Rpb24gcm91bmQoKSB7CiAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7CiAgICB0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7CiAgICB0aGlzLnogPSBNYXRoLnJvdW5kKHRoaXMueik7CiAgICB0aGlzLncgPSBNYXRoLnJvdW5kKHRoaXMudyk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHJvdW5kVG9aZXJvOiBmdW5jdGlvbiByb3VuZFRvWmVybygpIHsKICAgIHRoaXMueCA9IHRoaXMueCA8IDAgPyBNYXRoLmNlaWwodGhpcy54KSA6IE1hdGguZmxvb3IodGhpcy54KTsKICAgIHRoaXMueSA9IHRoaXMueSA8IDAgPyBNYXRoLmNlaWwodGhpcy55KSA6IE1hdGguZmxvb3IodGhpcy55KTsKICAgIHRoaXMueiA9IHRoaXMueiA8IDAgPyBNYXRoLmNlaWwodGhpcy56KSA6IE1hdGguZmxvb3IodGhpcy56KTsKICAgIHRoaXMudyA9IHRoaXMudyA8IDAgPyBNYXRoLmNlaWwodGhpcy53KSA6IE1hdGguZmxvb3IodGhpcy53KTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgbmVnYXRlOiBmdW5jdGlvbiBuZWdhdGUoKSB7CiAgICB0aGlzLnggPSAtdGhpcy54OwogICAgdGhpcy55ID0gLXRoaXMueTsKICAgIHRoaXMueiA9IC10aGlzLno7CiAgICB0aGlzLncgPSAtdGhpcy53OwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBkb3Q6IGZ1bmN0aW9uIGRvdCh2KSB7CiAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56ICsgdGhpcy53ICogdi53OwogIH0sCiAgbGVuZ3RoU3E6IGZ1bmN0aW9uIGxlbmd0aFNxKCkgewogICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudzsKICB9LAogIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkgewogICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpOwogIH0sCiAgbWFuaGF0dGFuTGVuZ3RoOiBmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKSB7CiAgICByZXR1cm4gTWF0aC5hYnModGhpcy54KSArIE1hdGguYWJzKHRoaXMueSkgKyBNYXRoLmFicyh0aGlzLnopICsgTWF0aC5hYnModGhpcy53KTsKICB9LAogIG5vcm1hbGl6ZTogZnVuY3Rpb24gbm9ybWFsaXplKCkgewogICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCkgfHwgMSk7CiAgfSwKICBzZXRMZW5ndGg6IGZ1bmN0aW9uIHNldExlbmd0aChsZW5ndGgpIHsKICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7CiAgfSwKICBsZXJwOiBmdW5jdGlvbiBsZXJwKHYsIGFscGhhKSB7CiAgICB0aGlzLnggKz0gKHYueCAtIHRoaXMueCkgKiBhbHBoYTsKICAgIHRoaXMueSArPSAodi55IC0gdGhpcy55KSAqIGFscGhhOwogICAgdGhpcy56ICs9ICh2LnogLSB0aGlzLnopICogYWxwaGE7CiAgICB0aGlzLncgKz0gKHYudyAtIHRoaXMudykgKiBhbHBoYTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgbGVycFZlY3RvcnM6IGZ1bmN0aW9uIGxlcnBWZWN0b3JzKHYxLCB2MiwgYWxwaGEpIHsKICAgIHJldHVybiB0aGlzLnN1YlZlY3RvcnModjIsIHYxKS5tdWx0aXBseVNjYWxhcihhbHBoYSkuYWRkKHYxKTsKICB9LAogIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKHYpIHsKICAgIHJldHVybiB2LnggPT09IHRoaXMueCAmJiB2LnkgPT09IHRoaXMueSAmJiB2LnogPT09IHRoaXMueiAmJiB2LncgPT09IHRoaXMudzsKICB9LAogIGZyb21BcnJheTogZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQpIHsKICAgIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkgb2Zmc2V0ID0gMDsKICAgIHRoaXMueCA9IGFycmF5W29mZnNldF07CiAgICB0aGlzLnkgPSBhcnJheVtvZmZzZXQgKyAxXTsKICAgIHRoaXMueiA9IGFycmF5W29mZnNldCArIDJdOwogICAgdGhpcy53ID0gYXJyYXlbb2Zmc2V0ICsgM107CiAgICByZXR1cm4gdGhpczsKICB9LAogIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksIG9mZnNldCkgewogICAgaWYgKGFycmF5ID09PSB1bmRlZmluZWQpIGFycmF5ID0gW107CiAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICBhcnJheVtvZmZzZXRdID0gdGhpcy54OwogICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0aGlzLnk7CiAgICBhcnJheVtvZmZzZXQgKyAyXSA9IHRoaXMuejsKICAgIGFycmF5W29mZnNldCArIDNdID0gdGhpcy53OwogICAgcmV0dXJuIGFycmF5OwogIH0sCiAgZnJvbUJ1ZmZlckF0dHJpYnV0ZTogZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsIGluZGV4LCBvZmZzZXQpIHsKICAgIGlmIChvZmZzZXQgIT09IHVuZGVmaW5lZCkgewogICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nKTsKICAgIH0KCiAgICB0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WChpbmRleCk7CiAgICB0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WShpbmRleCk7CiAgICB0aGlzLnogPSBhdHRyaWJ1dGUuZ2V0WihpbmRleCk7CiAgICB0aGlzLncgPSBhdHRyaWJ1dGUuZ2V0VyhpbmRleCk7CiAgICByZXR1cm4gdGhpczsKICB9Cn0pOwoKLyoqCiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAqLwoKZnVuY3Rpb24gQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCkgewogIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiBhcnJheSBzaG91bGQgYmUgYSBUeXBlZCBBcnJheS4nKTsKICB9CgogIHRoaXMubmFtZSA9ICcnOwogIHRoaXMuYXJyYXkgPSBhcnJheTsKICB0aGlzLml0ZW1TaXplID0gaXRlbVNpemU7CiAgdGhpcy5jb3VudCA9IGFycmF5ICE9PSB1bmRlZmluZWQgPyBhcnJheS5sZW5ndGggLyBpdGVtU2l6ZSA6IDA7CiAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZCA9PT0gdHJ1ZTsKICB0aGlzLmR5bmFtaWMgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZVJhbmdlID0gewogICAgb2Zmc2V0OiAwLAogICAgY291bnQ6IC0xCiAgfTsKICB0aGlzLnZlcnNpb24gPSAwOwp9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSwgJ25lZWRzVXBkYXRlJywgewogIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IHRydWUpIHRoaXMudmVyc2lvbisrOwogIH0KfSk7Ck9iamVjdC5hc3NpZ24oQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSwgewogIGlzQnVmZmVyQXR0cmlidXRlOiB0cnVlLAogIG9uVXBsb2FkQ2FsbGJhY2s6IGZ1bmN0aW9uIG9uVXBsb2FkQ2FsbGJhY2soKSB7fSwKICBzZXRBcnJheTogZnVuY3Rpb24gc2V0QXJyYXkoYXJyYXkpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LicpOwogICAgfQoKICAgIHRoaXMuY291bnQgPSBhcnJheSAhPT0gdW5kZWZpbmVkID8gYXJyYXkubGVuZ3RoIC8gdGhpcy5pdGVtU2l6ZSA6IDA7CiAgICB0aGlzLmFycmF5ID0gYXJyYXk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHNldER5bmFtaWM6IGZ1bmN0aW9uIHNldER5bmFtaWModmFsdWUpIHsKICAgIHRoaXMuZHluYW1pYyA9IHZhbHVlOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBjb3B5OiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgdGhpcy5uYW1lID0gc291cmNlLm5hbWU7CiAgICB0aGlzLmFycmF5ID0gbmV3IHNvdXJjZS5hcnJheS5jb25zdHJ1Y3Rvcihzb3VyY2UuYXJyYXkpOwogICAgdGhpcy5pdGVtU2l6ZSA9IHNvdXJjZS5pdGVtU2l6ZTsKICAgIHRoaXMuY291bnQgPSBzb3VyY2UuY291bnQ7CiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBzb3VyY2Uubm9ybWFsaXplZDsKICAgIHRoaXMuZHluYW1pYyA9IHNvdXJjZS5keW5hbWljOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBjb3B5QXQ6IGZ1bmN0aW9uIGNvcHlBdChpbmRleDEsIGF0dHJpYnV0ZSwgaW5kZXgyKSB7CiAgICBpbmRleDEgKj0gdGhpcy5pdGVtU2l6ZTsKICAgIGluZGV4MiAqPSBhdHRyaWJ1dGUuaXRlbVNpemU7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLml0ZW1TaXplOyBpIDwgbDsgaSsrKSB7CiAgICAgIHRoaXMuYXJyYXlbaW5kZXgxICsgaV0gPSBhdHRyaWJ1dGUuYXJyYXlbaW5kZXgyICsgaV07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBjb3B5QXJyYXk6IGZ1bmN0aW9uIGNvcHlBcnJheShhcnJheSkgewogICAgdGhpcy5hcnJheS5zZXQoYXJyYXkpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBjb3B5VmVjdG9yMnNBcnJheTogZnVuY3Rpb24gY29weVZlY3RvcjJzQXJyYXkodmVjdG9ycykgewogICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTsKICAgIHZhciBvZmZzZXQgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmVjdG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHZlY3RvciA9IHZlY3RvcnNbaV07CgogICAgICBpZiAodmVjdG9yID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkJywgaSk7CiAgICAgICAgdmVjdG9yID0gbmV3IFZlY3RvcjIoKTsKICAgICAgfQoKICAgICAgYXJyYXlbb2Zmc2V0KytdID0gdmVjdG9yLng7CiAgICAgIGFycmF5W29mZnNldCsrXSA9IHZlY3Rvci55OwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sCiAgY29weVZlY3RvcjNzQXJyYXk6IGZ1bmN0aW9uIGNvcHlWZWN0b3Izc0FycmF5KHZlY3RvcnMpIHsKICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7CiAgICB2YXIgb2Zmc2V0ID0gMDsKCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZlY3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciB2ZWN0b3IgPSB2ZWN0b3JzW2ldOwoKICAgICAgaWYgKHZlY3RvciA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZCcsIGkpOwogICAgICAgIHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIH0KCiAgICAgIGFycmF5W29mZnNldCsrXSA9IHZlY3Rvci54OwogICAgICBhcnJheVtvZmZzZXQrK10gPSB2ZWN0b3IueTsKICAgICAgYXJyYXlbb2Zmc2V0KytdID0gdmVjdG9yLno7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBjb3B5VmVjdG9yNHNBcnJheTogZnVuY3Rpb24gY29weVZlY3RvcjRzQXJyYXkodmVjdG9ycykgewogICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTsKICAgIHZhciBvZmZzZXQgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmVjdG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHZlY3RvciA9IHZlY3RvcnNbaV07CgogICAgICBpZiAodmVjdG9yID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yNHNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkJywgaSk7CiAgICAgICAgdmVjdG9yID0gbmV3IFZlY3RvcjQoKTsKICAgICAgfQoKICAgICAgYXJyYXlbb2Zmc2V0KytdID0gdmVjdG9yLng7CiAgICAgIGFycmF5W29mZnNldCsrXSA9IHZlY3Rvci55OwogICAgICBhcnJheVtvZmZzZXQrK10gPSB2ZWN0b3IuejsKICAgICAgYXJyYXlbb2Zmc2V0KytdID0gdmVjdG9yLnc7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSwgb2Zmc2V0KSB7CiAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICB0aGlzLmFycmF5LnNldCh2YWx1ZSwgb2Zmc2V0KTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgZ2V0WDogZnVuY3Rpb24gZ2V0WChpbmRleCkgewogICAgcmV0dXJuIHRoaXMuYXJyYXlbaW5kZXggKiB0aGlzLml0ZW1TaXplXTsKICB9LAogIHNldFg6IGZ1bmN0aW9uIHNldFgoaW5kZXgsIHgpIHsKICAgIHRoaXMuYXJyYXlbaW5kZXggKiB0aGlzLml0ZW1TaXplXSA9IHg7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGdldFk6IGZ1bmN0aW9uIGdldFkoaW5kZXgpIHsKICAgIHJldHVybiB0aGlzLmFycmF5W2luZGV4ICogdGhpcy5pdGVtU2l6ZSArIDFdOwogIH0sCiAgc2V0WTogZnVuY3Rpb24gc2V0WShpbmRleCwgeSkgewogICAgdGhpcy5hcnJheVtpbmRleCAqIHRoaXMuaXRlbVNpemUgKyAxXSA9IHk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGdldFo6IGZ1bmN0aW9uIGdldFooaW5kZXgpIHsKICAgIHJldHVybiB0aGlzLmFycmF5W2luZGV4ICogdGhpcy5pdGVtU2l6ZSArIDJdOwogIH0sCiAgc2V0WjogZnVuY3Rpb24gc2V0WihpbmRleCwgeikgewogICAgdGhpcy5hcnJheVtpbmRleCAqIHRoaXMuaXRlbVNpemUgKyAyXSA9IHo7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGdldFc6IGZ1bmN0aW9uIGdldFcoaW5kZXgpIHsKICAgIHJldHVybiB0aGlzLmFycmF5W2luZGV4ICogdGhpcy5pdGVtU2l6ZSArIDNdOwogIH0sCiAgc2V0VzogZnVuY3Rpb24gc2V0VyhpbmRleCwgdykgewogICAgdGhpcy5hcnJheVtpbmRleCAqIHRoaXMuaXRlbVNpemUgKyAzXSA9IHc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIHNldFhZOiBmdW5jdGlvbiBzZXRYWShpbmRleCwgeCwgeSkgewogICAgaW5kZXggKj0gdGhpcy5pdGVtU2l6ZTsKICAgIHRoaXMuYXJyYXlbaW5kZXggKyAwXSA9IHg7CiAgICB0aGlzLmFycmF5W2luZGV4ICsgMV0gPSB5OwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXRYWVo6IGZ1bmN0aW9uIHNldFhZWihpbmRleCwgeCwgeSwgeikgewogICAgaW5kZXggKj0gdGhpcy5pdGVtU2l6ZTsKICAgIHRoaXMuYXJyYXlbaW5kZXggKyAwXSA9IHg7CiAgICB0aGlzLmFycmF5W2luZGV4ICsgMV0gPSB5OwogICAgdGhpcy5hcnJheVtpbmRleCArIDJdID0gejsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgc2V0WFlaVzogZnVuY3Rpb24gc2V0WFlaVyhpbmRleCwgeCwgeSwgeiwgdykgewogICAgaW5kZXggKj0gdGhpcy5pdGVtU2l6ZTsKICAgIHRoaXMuYXJyYXlbaW5kZXggKyAwXSA9IHg7CiAgICB0aGlzLmFycmF5W2luZGV4ICsgMV0gPSB5OwogICAgdGhpcy5hcnJheVtpbmRleCArIDJdID0gejsKICAgIHRoaXMuYXJyYXlbaW5kZXggKyAzXSA9IHc7CiAgICByZXR1cm4gdGhpczsKICB9LAogIG9uVXBsb2FkOiBmdW5jdGlvbiBvblVwbG9hZChjYWxsYmFjaykgewogICAgdGhpcy5vblVwbG9hZENhbGxiYWNrID0gY2FsbGJhY2s7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmFycmF5LCB0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpOwogIH0KfSk7IC8vCgpmdW5jdGlvbiBJbnQ4QnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCkgewogIEJ1ZmZlckF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5ldyBJbnQ4QXJyYXkoYXJyYXkpLCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7Cn0KCkludDhCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlKTsKSW50OEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbnQ4QnVmZmVyQXR0cmlidXRlOwoKZnVuY3Rpb24gVWludDhCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKSB7CiAgQnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcywgbmV3IFVpbnQ4QXJyYXkoYXJyYXkpLCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7Cn0KClVpbnQ4QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7ClVpbnQ4QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVpbnQ4QnVmZmVyQXR0cmlidXRlOwoKZnVuY3Rpb24gVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCkgewogIEJ1ZmZlckF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5ldyBVaW50OENsYW1wZWRBcnJheShhcnJheSksIGl0ZW1TaXplLCBub3JtYWxpemVkKTsKfQoKVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7ClVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGU7CgpmdW5jdGlvbiBJbnQxNkJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpIHsKICBCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuZXcgSW50MTZBcnJheShhcnJheSksIGl0ZW1TaXplLCBub3JtYWxpemVkKTsKfQoKSW50MTZCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlKTsKSW50MTZCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50MTZCdWZmZXJBdHRyaWJ1dGU7CgpmdW5jdGlvbiBVaW50MTZCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKSB7CiAgQnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcywgbmV3IFVpbnQxNkFycmF5KGFycmF5KSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpOwp9CgpVaW50MTZCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlKTsKVWludDE2QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVpbnQxNkJ1ZmZlckF0dHJpYnV0ZTsKCmZ1bmN0aW9uIEludDMyQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCkgewogIEJ1ZmZlckF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5ldyBJbnQzMkFycmF5KGFycmF5KSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpOwp9CgpJbnQzMkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpOwpJbnQzMkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbnQzMkJ1ZmZlckF0dHJpYnV0ZTsKCmZ1bmN0aW9uIFVpbnQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpIHsKICBCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuZXcgVWludDMyQXJyYXkoYXJyYXkpLCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7Cn0KClVpbnQzMkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpOwpVaW50MzJCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVWludDMyQnVmZmVyQXR0cmlidXRlOwoKZnVuY3Rpb24gRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpIHsKICBCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuZXcgRmxvYXQzMkFycmF5KGFycmF5KSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpOwp9CgpGbG9hdDMyQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7CkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZTsKCmZ1bmN0aW9uIEZsb2F0NjRCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKSB7CiAgQnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcywgbmV3IEZsb2F0NjRBcnJheShhcnJheSksIGl0ZW1TaXplLCBub3JtYWxpemVkKTsKfQoKRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpOwpGbG9hdDY0QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZsb2F0NjRCdWZmZXJBdHRyaWJ1dGU7IC8vCgovKiBlc2xpbnQtZGlzYWJsZSAqLwoKZnVuY3Rpb24gRGlyZWN0R2VvbWV0cnkoKSB7CiAgdGhpcy52ZXJ0aWNlcyA9IFtdOwogIHRoaXMubm9ybWFscyA9IFtdOwogIHRoaXMudXZzID0gW107CiAgdGhpcy51dnMyID0gW107CiAgdGhpcy5ncm91cHMgPSBbXTsKICB0aGlzLm1vcnBoVGFyZ2V0cyA9IHt9OwogIHRoaXMuc2tpbldlaWdodHMgPSBbXTsKICB0aGlzLnNraW5JbmRpY2VzID0gW107IC8vIHRoaXMubGluZURpc3RhbmNlcyA9IFtdOwoKICB0aGlzLmJvdW5kaW5nQm94ID0gbnVsbDsKICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gbnVsbDsgLy8gdXBkYXRlIGZsYWdzCgogIHRoaXMudmVydGljZXNOZWVkVXBkYXRlID0gZmFsc2U7CiAgdGhpcy5ub3JtYWxzTmVlZFVwZGF0ZSA9IGZhbHNlOwogIHRoaXMudXZzTmVlZFVwZGF0ZSA9IGZhbHNlOwogIHRoaXMuZ3JvdXBzTmVlZFVwZGF0ZSA9IGZhbHNlOwp9CgpPYmplY3QuYXNzaWduKERpcmVjdEdlb21ldHJ5LnByb3RvdHlwZSwgewogIGNvbXB1dGVHcm91cHM6IGZ1bmN0aW9uIGNvbXB1dGVHcm91cHMoZ2VvbWV0cnkpIHsKICAgIHZhciBncm91cDsKICAgIHZhciBncm91cHMgPSBbXTsKICAgIHZhciBtYXRlcmlhbEluZGV4ID0gdW5kZWZpbmVkOwogICAgdmFyIGZhY2VzID0gZ2VvbWV0cnkuZmFjZXM7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYWNlcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZmFjZSA9IGZhY2VzW2ldOyAvLyBtYXRlcmlhbHMKCiAgICAgIGlmIChmYWNlLm1hdGVyaWFsSW5kZXggIT09IG1hdGVyaWFsSW5kZXgpIHsKICAgICAgICBtYXRlcmlhbEluZGV4ID0gZmFjZS5tYXRlcmlhbEluZGV4OwoKICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZ3JvdXAuY291bnQgPSBpICogMyAtIGdyb3VwLnN0YXJ0OwogICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApOwogICAgICAgIH0KCiAgICAgICAgZ3JvdXAgPSB7CiAgICAgICAgICBzdGFydDogaSAqIDMsCiAgICAgICAgICBtYXRlcmlhbEluZGV4OiBtYXRlcmlhbEluZGV4CiAgICAgICAgfTsKICAgICAgfQogICAgfQoKICAgIGlmIChncm91cCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGdyb3VwLmNvdW50ID0gaSAqIDMgLSBncm91cC5zdGFydDsKICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApOwogICAgfQoKICAgIHRoaXMuZ3JvdXBzID0gZ3JvdXBzOwogIH0sCiAgZnJvbUdlb21ldHJ5OiBmdW5jdGlvbiBmcm9tR2VvbWV0cnkoZ2VvbWV0cnkpIHsKICAgIHZhciBmYWNlcyA9IGdlb21ldHJ5LmZhY2VzOwogICAgdmFyIHZlcnRpY2VzID0gZ2VvbWV0cnkudmVydGljZXM7CiAgICB2YXIgZmFjZVZlcnRleFV2cyA9IGdlb21ldHJ5LmZhY2VWZXJ0ZXhVdnM7CiAgICB2YXIgaGFzRmFjZVZlcnRleFV2ID0gZmFjZVZlcnRleFV2c1swXSAmJiBmYWNlVmVydGV4VXZzWzBdLmxlbmd0aCA+IDA7CiAgICB2YXIgaGFzRmFjZVZlcnRleFV2MiA9IGZhY2VWZXJ0ZXhVdnNbMV0gJiYgZmFjZVZlcnRleFV2c1sxXS5sZW5ndGggPiAwOyAvLyBtb3JwaHMKCiAgICB2YXIgbW9ycGhUYXJnZXRzID0gZ2VvbWV0cnkubW9ycGhUYXJnZXRzOwogICAgdmFyIG1vcnBoVGFyZ2V0c0xlbmd0aCA9IG1vcnBoVGFyZ2V0cy5sZW5ndGg7CiAgICB2YXIgbW9ycGhUYXJnZXRzUG9zaXRpb247CgogICAgaWYgKG1vcnBoVGFyZ2V0c0xlbmd0aCA+IDApIHsKICAgICAgbW9ycGhUYXJnZXRzUG9zaXRpb24gPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9ycGhUYXJnZXRzTGVuZ3RoOyBpKyspIHsKICAgICAgICBtb3JwaFRhcmdldHNQb3NpdGlvbltpXSA9IHsKICAgICAgICAgIG5hbWU6IG1vcnBoVGFyZ2V0c1tpXS5uYW1lLAogICAgICAgICAgZGF0YTogW10KICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLm1vcnBoVGFyZ2V0cy5wb3NpdGlvbiA9IG1vcnBoVGFyZ2V0c1Bvc2l0aW9uOwogICAgfQoKICAgIHZhciBtb3JwaE5vcm1hbHMgPSBnZW9tZXRyeS5tb3JwaE5vcm1hbHM7CiAgICB2YXIgbW9ycGhOb3JtYWxzTGVuZ3RoID0gbW9ycGhOb3JtYWxzLmxlbmd0aDsKICAgIHZhciBtb3JwaFRhcmdldHNOb3JtYWw7CgogICAgaWYgKG1vcnBoTm9ybWFsc0xlbmd0aCA+IDApIHsKICAgICAgbW9ycGhUYXJnZXRzTm9ybWFsID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vcnBoTm9ybWFsc0xlbmd0aDsgaSsrKSB7CiAgICAgICAgbW9ycGhUYXJnZXRzTm9ybWFsW2ldID0gewogICAgICAgICAgbmFtZTogbW9ycGhOb3JtYWxzW2ldLm5hbWUsCiAgICAgICAgICBkYXRhOiBbXQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHRoaXMubW9ycGhUYXJnZXRzLm5vcm1hbCA9IG1vcnBoVGFyZ2V0c05vcm1hbDsKICAgIH0gLy8gc2tpbnMKCgogICAgdmFyIHNraW5JbmRpY2VzID0gZ2VvbWV0cnkuc2tpbkluZGljZXM7CiAgICB2YXIgc2tpbldlaWdodHMgPSBnZW9tZXRyeS5za2luV2VpZ2h0czsKICAgIHZhciBoYXNTa2luSW5kaWNlcyA9IHNraW5JbmRpY2VzLmxlbmd0aCA9PT0gdmVydGljZXMubGVuZ3RoOwogICAgdmFyIGhhc1NraW5XZWlnaHRzID0gc2tpbldlaWdodHMubGVuZ3RoID09PSB2ZXJ0aWNlcy5sZW5ndGg7IC8vCgogICAgaWYgKHZlcnRpY2VzLmxlbmd0aCA+IDAgJiYgZmFjZXMubGVuZ3RoID09PSAwKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkRpcmVjdEdlb21ldHJ5OiBGYWNlbGVzcyBnZW9tZXRyaWVzIGFyZSBub3Qgc3VwcG9ydGVkLicpOwogICAgfQoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGZhY2UgPSBmYWNlc1tpXTsKICAgICAgdGhpcy52ZXJ0aWNlcy5wdXNoKHZlcnRpY2VzW2ZhY2UuYV0sIHZlcnRpY2VzW2ZhY2UuYl0sIHZlcnRpY2VzW2ZhY2UuY10pOwogICAgICB2YXIgdmVydGV4Tm9ybWFscyA9IGZhY2UudmVydGV4Tm9ybWFsczsKCiAgICAgIGlmICh2ZXJ0ZXhOb3JtYWxzLmxlbmd0aCA9PT0gMykgewogICAgICAgIHRoaXMubm9ybWFscy5wdXNoKHZlcnRleE5vcm1hbHNbMF0sIHZlcnRleE5vcm1hbHNbMV0sIHZlcnRleE5vcm1hbHNbMl0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBub3JtYWwgPSBmYWNlLm5vcm1hbDsKICAgICAgICB0aGlzLm5vcm1hbHMucHVzaChub3JtYWwsIG5vcm1hbCwgbm9ybWFsKTsKICAgICAgfQoKICAgICAgaWYgKGhhc0ZhY2VWZXJ0ZXhVdiA9PT0gdHJ1ZSkgewogICAgICAgIHZhciB2ZXJ0ZXhVdnMgPSBmYWNlVmVydGV4VXZzWzBdW2ldOwoKICAgICAgICBpZiAodmVydGV4VXZzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudXZzLnB1c2godmVydGV4VXZzWzBdLCB2ZXJ0ZXhVdnNbMV0sIHZlcnRleFV2c1syXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuRGlyZWN0R2VvbWV0cnkuZnJvbUdlb21ldHJ5KCk6IFVuZGVmaW5lZCB2ZXJ0ZXhVdiAnLCBpKTsKICAgICAgICAgIHRoaXMudXZzLnB1c2gobmV3IFZlY3RvcjIoKSwgbmV3IFZlY3RvcjIoKSwgbmV3IFZlY3RvcjIoKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaGFzRmFjZVZlcnRleFV2MiA9PT0gdHJ1ZSkgewogICAgICAgIHZhciB2ZXJ0ZXhVdnMgPSBmYWNlVmVydGV4VXZzWzFdW2ldOwoKICAgICAgICBpZiAodmVydGV4VXZzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudXZzMi5wdXNoKHZlcnRleFV2c1swXSwgdmVydGV4VXZzWzFdLCB2ZXJ0ZXhVdnNbMl0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkRpcmVjdEdlb21ldHJ5LmZyb21HZW9tZXRyeSgpOiBVbmRlZmluZWQgdmVydGV4VXYyICcsIGkpOwogICAgICAgICAgdGhpcy51dnMyLnB1c2gobmV3IFZlY3RvcjIoKSwgbmV3IFZlY3RvcjIoKSwgbmV3IFZlY3RvcjIoKSk7CiAgICAgICAgfQogICAgICB9IC8vIG1vcnBocwoKCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhUYXJnZXRzTGVuZ3RoOyBqKyspIHsKICAgICAgICB2YXIgbW9ycGhUYXJnZXQgPSBtb3JwaFRhcmdldHNbal0udmVydGljZXM7CiAgICAgICAgbW9ycGhUYXJnZXRzUG9zaXRpb25bal0uZGF0YS5wdXNoKG1vcnBoVGFyZ2V0W2ZhY2UuYV0sIG1vcnBoVGFyZ2V0W2ZhY2UuYl0sIG1vcnBoVGFyZ2V0W2ZhY2UuY10pOwogICAgICB9CgogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vcnBoTm9ybWFsc0xlbmd0aDsgaisrKSB7CiAgICAgICAgdmFyIG1vcnBoTm9ybWFsID0gbW9ycGhOb3JtYWxzW2pdLnZlcnRleE5vcm1hbHNbaV07CiAgICAgICAgbW9ycGhUYXJnZXRzTm9ybWFsW2pdLmRhdGEucHVzaChtb3JwaE5vcm1hbC5hLCBtb3JwaE5vcm1hbC5iLCBtb3JwaE5vcm1hbC5jKTsKICAgICAgfSAvLyBza2lucwoKCiAgICAgIGlmIChoYXNTa2luSW5kaWNlcykgewogICAgICAgIHRoaXMuc2tpbkluZGljZXMucHVzaChza2luSW5kaWNlc1tmYWNlLmFdLCBza2luSW5kaWNlc1tmYWNlLmJdLCBza2luSW5kaWNlc1tmYWNlLmNdKTsKICAgICAgfQoKICAgICAgaWYgKGhhc1NraW5XZWlnaHRzKSB7CiAgICAgICAgdGhpcy5za2luV2VpZ2h0cy5wdXNoKHNraW5XZWlnaHRzW2ZhY2UuYV0sIHNraW5XZWlnaHRzW2ZhY2UuYl0sIHNraW5XZWlnaHRzW2ZhY2UuY10pOwogICAgICB9CiAgICB9CgogICAgdGhpcy5jb21wdXRlR3JvdXBzKGdlb21ldHJ5KTsKICAgIHRoaXMudmVydGljZXNOZWVkVXBkYXRlID0gZ2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlOwogICAgdGhpcy5ub3JtYWxzTmVlZFVwZGF0ZSA9IGdlb21ldHJ5Lm5vcm1hbHNOZWVkVXBkYXRlOwogICAgdGhpcy51dnNOZWVkVXBkYXRlID0gZ2VvbWV0cnkudXZzTmVlZFVwZGF0ZTsKICAgIHRoaXMuZ3JvdXBzTmVlZFVwZGF0ZSA9IGdlb21ldHJ5Lmdyb3Vwc05lZWRVcGRhdGU7CiAgICByZXR1cm4gdGhpczsKICB9Cn0pOwoKLyoqCiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAqIEBhdXRob3IgdHNjaHcKICovCgp2YXIgTWF0cml4MyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTWF0cml4MygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXRyaXgzKTsKCiAgICB0aGlzLmVsZW1lbnRzID0gWzEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDFdOwogICAgdGhpcy5pc01hdHJpeDMgPSB0cnVlOwogIH0KCiAgX2NyZWF0ZUNsYXNzKE1hdHJpeDMsIFt7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChuMTEsIG4xMiwgbjEzLCBuMjEsIG4yMiwgbjIzLCBuMzEsIG4zMiwgbjMzKSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRlWzBdID0gbjExOwogICAgICB0ZVsxXSA9IG4yMTsKICAgICAgdGVbMl0gPSBuMzE7CiAgICAgIHRlWzNdID0gbjEyOwogICAgICB0ZVs0XSA9IG4yMjsKICAgICAgdGVbNV0gPSBuMzI7CiAgICAgIHRlWzZdID0gbjEzOwogICAgICB0ZVs3XSA9IG4yMzsKICAgICAgdGVbOF0gPSBuMzM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImlkZW50aXR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpZGVudGl0eSgpIHsKICAgICAgdGhpcy5zZXQoMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNsb25lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkobSkgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgbWUgPSBtLmVsZW1lbnRzOwogICAgICB0ZVswXSA9IG1lWzBdOwogICAgICB0ZVsxXSA9IG1lWzFdOwogICAgICB0ZVsyXSA9IG1lWzJdOwogICAgICB0ZVszXSA9IG1lWzNdOwogICAgICB0ZVs0XSA9IG1lWzRdOwogICAgICB0ZVs1XSA9IG1lWzVdOwogICAgICB0ZVs2XSA9IG1lWzZdOwogICAgICB0ZVs3XSA9IG1lWzddOwogICAgICB0ZVs4XSA9IG1lWzhdOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tTWF0cml4NCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RnJvbU1hdHJpeDQobSkgewogICAgICB2YXIgbWUgPSBtLmVsZW1lbnRzOwogICAgICB0aGlzLnNldChtZVswXSwgbWVbNF0sIG1lWzhdLCBtZVsxXSwgbWVbNV0sIG1lWzldLCBtZVsyXSwgbWVbNl0sIG1lWzEwXSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlKSB7CiAgICAgIHZhciB2MSA9IG5ldyBWZWN0b3IzKCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkrKykgewogICAgICAgIHYxLnggPSBhdHRyaWJ1dGUuZ2V0WChpKTsKICAgICAgICB2MS55ID0gYXR0cmlidXRlLmdldFkoaSk7CiAgICAgICAgdjEueiA9IGF0dHJpYnV0ZS5nZXRaKGkpOwogICAgICAgIHYxLmFwcGx5TWF0cml4Myh0aGlzKTsKICAgICAgICBhdHRyaWJ1dGUuc2V0WFlaKGksIHYxLngsIHYxLnksIHYxLnopOwogICAgICB9CgogICAgICByZXR1cm4gYXR0cmlidXRlOwogICAgfQogIH0sIHsKICAgIGtleTogIm11bHRpcGx5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseShtKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcywgbSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJlbXVsdGlwbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZW11bHRpcGx5KG0pIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtdWx0aXBseU1hdHJpY2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseU1hdHJpY2VzKGEsIGIpIHsKICAgICAgdmFyIGFlID0gYS5lbGVtZW50czsKICAgICAgdmFyIGJlID0gYi5lbGVtZW50czsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIGExMSA9IGFlWzBdOwogICAgICB2YXIgYTEyID0gYWVbM107CiAgICAgIHZhciBhMTMgPSBhZVs2XTsKICAgICAgdmFyIGEyMSA9IGFlWzFdOwogICAgICB2YXIgYTIyID0gYWVbNF07CiAgICAgIHZhciBhMjMgPSBhZVs3XTsKICAgICAgdmFyIGEzMSA9IGFlWzJdOwogICAgICB2YXIgYTMyID0gYWVbNV07CiAgICAgIHZhciBhMzMgPSBhZVs4XTsKICAgICAgdmFyIGIxMSA9IGJlWzBdOwogICAgICB2YXIgYjEyID0gYmVbM107CiAgICAgIHZhciBiMTMgPSBiZVs2XTsKICAgICAgdmFyIGIyMSA9IGJlWzFdOwogICAgICB2YXIgYjIyID0gYmVbNF07CiAgICAgIHZhciBiMjMgPSBiZVs3XTsKICAgICAgdmFyIGIzMSA9IGJlWzJdOwogICAgICB2YXIgYjMyID0gYmVbNV07CiAgICAgIHZhciBiMzMgPSBiZVs4XTsKICAgICAgdGVbMF0gPSBhMTEgKiBiMTEgKyBhMTIgKiBiMjEgKyBhMTMgKiBiMzE7CiAgICAgIHRlWzNdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyOwogICAgICB0ZVs2XSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMzsKICAgICAgdGVbMV0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzE7CiAgICAgIHRlWzRdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyOwogICAgICB0ZVs3XSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMzsKICAgICAgdGVbMl0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7CiAgICAgIHRlWzVdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyOwogICAgICB0ZVs4XSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibXVsdGlwbHlTY2FsYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHMpIHsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdGVbMF0gKj0gczsKICAgICAgdGVbM10gKj0gczsKICAgICAgdGVbNl0gKj0gczsKICAgICAgdGVbMV0gKj0gczsKICAgICAgdGVbNF0gKj0gczsKICAgICAgdGVbN10gKj0gczsKICAgICAgdGVbMl0gKj0gczsKICAgICAgdGVbNV0gKj0gczsKICAgICAgdGVbOF0gKj0gczsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGV0ZXJtaW5hbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVybWluYW50KCkgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgYSA9IHRlWzBdOwogICAgICB2YXIgYiA9IHRlWzFdOwogICAgICB2YXIgYyA9IHRlWzJdOwogICAgICB2YXIgZCA9IHRlWzNdOwogICAgICB2YXIgZSA9IHRlWzRdOwogICAgICB2YXIgZiA9IHRlWzVdOwogICAgICB2YXIgZyA9IHRlWzZdOwogICAgICB2YXIgaCA9IHRlWzddOwogICAgICB2YXIgaSA9IHRlWzhdOwogICAgICByZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEludmVyc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEludmVyc2UobWF0cml4LCB0aHJvd09uRGVnZW5lcmF0ZSkgewogICAgICBpZiAobWF0cml4ICYmIG1hdHJpeC5pc01hdHJpeDQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIG5vIGxvbmdlciB0YWtlcyBhIE1hdHJpeDQgYXJndW1lbnQuJyk7CiAgICAgIH0KCiAgICAgIHZhciBtZSA9IG1hdHJpeC5lbGVtZW50czsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIG4xMSA9IG1lWzBdOwogICAgICB2YXIgbjIxID0gbWVbMV07CiAgICAgIHZhciBuMzEgPSBtZVsyXTsKICAgICAgdmFyIG4xMiA9IG1lWzNdOwogICAgICB2YXIgbjIyID0gbWVbNF07CiAgICAgIHZhciBuMzIgPSBtZVs1XTsKICAgICAgdmFyIG4xMyA9IG1lWzZdOwogICAgICB2YXIgbjIzID0gbWVbN107CiAgICAgIHZhciBuMzMgPSBtZVs4XTsKICAgICAgdmFyIHQxMSA9IG4zMyAqIG4yMiAtIG4zMiAqIG4yMzsKICAgICAgdmFyIHQxMiA9IG4zMiAqIG4xMyAtIG4zMyAqIG4xMjsKICAgICAgdmFyIHQxMyA9IG4yMyAqIG4xMiAtIG4yMiAqIG4xMzsKICAgICAgdmFyIGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMzsKCiAgICAgIGlmIChkZXQgPT09IDApIHsKICAgICAgICB2YXIgbXNnID0gIlRIUkVFLk1hdHJpeDM6IC5nZXRJbnZlcnNlKCkgY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMCI7CgogICAgICAgIGlmICh0aHJvd09uRGVnZW5lcmF0ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2Fybihtc2cpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpdHkoKTsKICAgICAgfQoKICAgICAgdmFyIGRldEludiA9IDEgLyBkZXQ7CiAgICAgIHRlWzBdID0gdDExICogZGV0SW52OwogICAgICB0ZVsxXSA9IChuMzEgKiBuMjMgLSBuMzMgKiBuMjEpICogZGV0SW52OwogICAgICB0ZVsyXSA9IChuMzIgKiBuMjEgLSBuMzEgKiBuMjIpICogZGV0SW52OwogICAgICB0ZVszXSA9IHQxMiAqIGRldEludjsKICAgICAgdGVbNF0gPSAobjMzICogbjExIC0gbjMxICogbjEzKSAqIGRldEludjsKICAgICAgdGVbNV0gPSAobjMxICogbjEyIC0gbjMyICogbjExKSAqIGRldEludjsKICAgICAgdGVbNl0gPSB0MTMgKiBkZXRJbnY7CiAgICAgIHRlWzddID0gKG4yMSAqIG4xMyAtIG4yMyAqIG4xMSkgKiBkZXRJbnY7CiAgICAgIHRlWzhdID0gKG4yMiAqIG4xMSAtIG4yMSAqIG4xMikgKiBkZXRJbnY7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRyYW5zcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNwb3NlKCkgewogICAgICB2YXIgdG1wOwogICAgICB2YXIgbSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRtcCA9IG1bMV07CiAgICAgIG1bMV0gPSBtWzNdOwogICAgICBtWzNdID0gdG1wOwogICAgICB0bXAgPSBtWzJdOwogICAgICBtWzJdID0gbVs2XTsKICAgICAgbVs2XSA9IHRtcDsKICAgICAgdG1wID0gbVs1XTsKICAgICAgbVs1XSA9IG1bN107CiAgICAgIG1bN10gPSB0bXA7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE5vcm1hbE1hdHJpeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Tm9ybWFsTWF0cml4KG1hdHJpeDQpIHsKICAgICAgcmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQobWF0cml4NCkuZ2V0SW52ZXJzZSh0aGlzKS50cmFuc3Bvc2UoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmFuc3Bvc2VJbnRvQXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zcG9zZUludG9BcnJheShyKSB7CiAgICAgIHZhciBtID0gdGhpcy5lbGVtZW50czsKICAgICAgclswXSA9IG1bMF07CiAgICAgIHJbMV0gPSBtWzNdOwogICAgICByWzJdID0gbVs2XTsKICAgICAgclszXSA9IG1bMV07CiAgICAgIHJbNF0gPSBtWzRdOwogICAgICByWzVdID0gbVs3XTsKICAgICAgcls2XSA9IG1bMl07CiAgICAgIHJbN10gPSBtWzVdOwogICAgICByWzhdID0gbVs4XTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VXZUcmFuc2Zvcm0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFV2VHJhbnNmb3JtKHR4LCB0eSwgc3gsIHN5LCByb3RhdGlvbiwgY3gsIGN5KSB7CiAgICAgIHZhciBjID0gTWF0aC5jb3Mocm90YXRpb24pOwogICAgICB2YXIgcyA9IE1hdGguc2luKHJvdGF0aW9uKTsKICAgICAgdGhpcy5zZXQoc3ggKiBjLCBzeCAqIHMsIC1zeCAqIChjICogY3ggKyBzICogY3kpICsgY3ggKyB0eCwgLXN5ICogcywgc3kgKiBjLCAtc3kgKiAoLXMgKiBjeCArIGMgKiBjeSkgKyBjeSArIHR5LCAwLCAwLCAxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2NhbGUoc3gsIHN5KSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRlWzBdICo9IHN4OwogICAgICB0ZVszXSAqPSBzeDsKICAgICAgdGVbNl0gKj0gc3g7CiAgICAgIHRlWzFdICo9IHN5OwogICAgICB0ZVs0XSAqPSBzeTsKICAgICAgdGVbN10gKj0gc3k7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInJvdGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlKHRoZXRhKSB7CiAgICAgIHZhciBjID0gTWF0aC5jb3ModGhldGEpOwogICAgICB2YXIgcyA9IE1hdGguc2luKHRoZXRhKTsKICAgICAgdmFyIHRlID0gdGhpcy5lbGVtZW50czsKICAgICAgdmFyIGExMSA9IHRlWzBdOwogICAgICB2YXIgYTEyID0gdGVbM107CiAgICAgIHZhciBhMTMgPSB0ZVs2XTsKICAgICAgdmFyIGEyMSA9IHRlWzFdOwogICAgICB2YXIgYTIyID0gdGVbNF07CiAgICAgIHZhciBhMjMgPSB0ZVs3XTsKICAgICAgdGVbMF0gPSBjICogYTExICsgcyAqIGEyMTsKICAgICAgdGVbM10gPSBjICogYTEyICsgcyAqIGEyMjsKICAgICAgdGVbNl0gPSBjICogYTEzICsgcyAqIGEyMzsKICAgICAgdGVbMV0gPSAtcyAqIGExMSArIGMgKiBhMjE7CiAgICAgIHRlWzRdID0gLXMgKiBhMTIgKyBjICogYTIyOwogICAgICB0ZVs3XSA9IC1zICogYTEzICsgYyAqIGEyMzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidHJhbnNsYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUodHgsIHR5KSB7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRlWzBdICs9IHR4ICogdGVbMl07CiAgICAgIHRlWzNdICs9IHR4ICogdGVbNV07CiAgICAgIHRlWzZdICs9IHR4ICogdGVbOF07CiAgICAgIHRlWzFdICs9IHR5ICogdGVbMl07CiAgICAgIHRlWzRdICs9IHR5ICogdGVbNV07CiAgICAgIHRlWzddICs9IHR5ICogdGVbOF07CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImVxdWFscyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXF1YWxzKG1hdHJpeCkgewogICAgICB2YXIgdGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICB2YXIgbWUgPSBtYXRyaXguZWxlbWVudHM7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDk7IGkrKykgewogICAgICAgIGlmICh0ZVtpXSAhPT0gbWVbaV0pIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZnJvbUFycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCkgewogICAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDk7IGkrKykgewogICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBhcnJheVtpICsgb2Zmc2V0XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9BcnJheShhcnJheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChhcnJheSA9PT0gdW5kZWZpbmVkKSBhcnJheSA9IFtdOwogICAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIG9mZnNldCA9IDA7CiAgICAgIHZhciB0ZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGFycmF5W29mZnNldF0gPSB0ZVswXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZVsxXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgMl0gPSB0ZVsyXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgM10gPSB0ZVszXTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNF0gPSB0ZVs0XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNV0gPSB0ZVs1XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgNl0gPSB0ZVs2XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgN10gPSB0ZVs3XTsKICAgICAgYXJyYXlbb2Zmc2V0ICsgOF0gPSB0ZVs4XTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1hdHJpeDM7Cn0oKTsKCi8qKgogKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogKi8KCmZ1bmN0aW9uIGFycmF5TWF4KGFycmF5KSB7CiAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIC1JbmZpbml0eTsKICB2YXIgbWF4ID0gYXJyYXlbMF07CgogIGZvciAodmFyIGkgPSAxLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICBpZiAoYXJyYXlbaV0gPiBtYXgpIG1heCA9IGFycmF5W2ldOwogIH0KCiAgcmV0dXJuIG1heDsKfQoKdmFyIGFycmF5V2l0aG91dEhvbGVzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhvdXRIb2xlcywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnVud3JhcEV4cG9ydHMoYXJyYXlXaXRob3V0SG9sZXMpOwoKdmFyIGl0ZXJhYmxlVG9BcnJheSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKGl0ZXJhYmxlVG9BcnJheSk7Cgp2YXIgbm9uSXRlcmFibGVTcHJlYWQgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnVud3JhcEV4cG9ydHMobm9uSXRlcmFibGVTcHJlYWQpOwoKdmFyIHRvQ29uc3VtYWJsZUFycmF5ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICAgIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbImRlZmF1bHQiXSA9IG1vZHVsZS5leHBvcnRzOwp9KTsKdmFyIF90b0NvbnN1bWFibGVBcnJheSA9IHVud3JhcEV4cG9ydHModG9Db25zdW1hYmxlQXJyYXkpOwoKdmFyIGRlZmluZVByb3BlcnR5ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbImRlZmF1bHQiXSA9IG1vZHVsZS5leHBvcnRzOwp9KTsKdW53cmFwRXhwb3J0cyhkZWZpbmVQcm9wZXJ0eSk7Cgp2YXIgX3R5cGVvZl8xID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOwoKICAgIHJldHVybiAobW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7CiAgICAgIHJldHVybiB0eXBlb2Ygb2JqOwogICAgfSA6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgcmV0dXJuIG9iaiAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOwogICAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0cyksIF90eXBlb2Yob2JqKTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7Cgp2YXIgX3R5cGVvZiA9IHVud3JhcEV4cG9ydHMoX3R5cGVvZl8xKTsKCi8qKgogKiBIZWxwZXJzLgogKi8KdmFyIHMgPSAxMDAwOwp2YXIgbSA9IHMgKiA2MDsKdmFyIGggPSBtICogNjA7CnZhciBkID0gaCAqIDI0Owp2YXIgdyA9IGQgKiA3Owp2YXIgeSA9IGQgKiAzNjUuMjU7Ci8qKgogKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLgogKgogKiBPcHRpb25zOgogKgogKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV0KICoKICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWwKICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXIKICogQHJldHVybiB7U3RyaW5nfE51bWJlcn0KICogQGFwaSBwdWJsaWMKICovCgp2YXIgbXMgPSBmdW5jdGlvbiBtcyh2YWwsIG9wdGlvbnMpIHsKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgdmFyIHR5cGUgPSBfdHlwZW9mKHZhbCk7CgogIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkgewogICAgcmV0dXJuIHBhcnNlKHZhbCk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7CiAgICByZXR1cm4gb3B0aW9uc1sibG9uZyJdID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTsKICB9CgogIHRocm93IG5ldyBFcnJvcigndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICsgSlNPTi5zdHJpbmdpZnkodmFsKSk7Cn07Ci8qKgogKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuCiAqCiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIKICogQHJldHVybiB7TnVtYmVyfQogKiBAYXBpIHByaXZhdGUKICovCgoKZnVuY3Rpb24gcGFyc2Uoc3RyKSB7CiAgc3RyID0gU3RyaW5nKHN0cik7CgogIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxkKyk/XC4/XGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoc3RyKTsKCiAgaWYgKCFtYXRjaCkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTsKICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpOwoKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ3llYXJzJzoKICAgIGNhc2UgJ3llYXInOgogICAgY2FzZSAneXJzJzoKICAgIGNhc2UgJ3lyJzoKICAgIGNhc2UgJ3knOgogICAgICByZXR1cm4gbiAqIHk7CgogICAgY2FzZSAnd2Vla3MnOgogICAgY2FzZSAnd2Vlayc6CiAgICBjYXNlICd3JzoKICAgICAgcmV0dXJuIG4gKiB3OwoKICAgIGNhc2UgJ2RheXMnOgogICAgY2FzZSAnZGF5JzoKICAgIGNhc2UgJ2QnOgogICAgICByZXR1cm4gbiAqIGQ7CgogICAgY2FzZSAnaG91cnMnOgogICAgY2FzZSAnaG91cic6CiAgICBjYXNlICdocnMnOgogICAgY2FzZSAnaHInOgogICAgY2FzZSAnaCc6CiAgICAgIHJldHVybiBuICogaDsKCiAgICBjYXNlICdtaW51dGVzJzoKICAgIGNhc2UgJ21pbnV0ZSc6CiAgICBjYXNlICdtaW5zJzoKICAgIGNhc2UgJ21pbic6CiAgICBjYXNlICdtJzoKICAgICAgcmV0dXJuIG4gKiBtOwoKICAgIGNhc2UgJ3NlY29uZHMnOgogICAgY2FzZSAnc2Vjb25kJzoKICAgIGNhc2UgJ3NlY3MnOgogICAgY2FzZSAnc2VjJzoKICAgIGNhc2UgJ3MnOgogICAgICByZXR1cm4gbiAqIHM7CgogICAgY2FzZSAnbWlsbGlzZWNvbmRzJzoKICAgIGNhc2UgJ21pbGxpc2Vjb25kJzoKICAgIGNhc2UgJ21zZWNzJzoKICAgIGNhc2UgJ21zZWMnOgogICAgY2FzZSAnbXMnOgogICAgICByZXR1cm4gbjsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KfQovKioKICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLgogKgogKiBAcGFyYW0ge051bWJlcn0gbXMKICogQHJldHVybiB7U3RyaW5nfQogKiBAYXBpIHByaXZhdGUKICovCgoKZnVuY3Rpb24gZm10U2hvcnQobXMpIHsKICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7CgogIGlmIChtc0FicyA+PSBkKSB7CiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnOwogIH0KCiAgaWYgKG1zQWJzID49IGgpIHsKICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7CiAgfQoKICBpZiAobXNBYnMgPj0gbSkgewogICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJzsKICB9CgogIGlmIChtc0FicyA+PSBzKSB7CiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnOwogIH0KCiAgcmV0dXJuIG1zICsgJ21zJzsKfQovKioKICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuCiAqCiAqIEBwYXJhbSB7TnVtYmVyfSBtcwogKiBAcmV0dXJuIHtTdHJpbmd9CiAqIEBhcGkgcHJpdmF0ZQogKi8KCgpmdW5jdGlvbiBmbXRMb25nKG1zKSB7CiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpOwoKICBpZiAobXNBYnMgPj0gZCkgewogICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTsKICB9CgogIGlmIChtc0FicyA+PSBoKSB7CiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTsKICB9CgogIGlmIChtc0FicyA+PSBtKSB7CiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpOwogIH0KCiAgaWYgKG1zQWJzID49IHMpIHsKICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7CiAgfQoKICByZXR1cm4gbXMgKyAnIG1zJzsKfQovKioKICogUGx1cmFsaXphdGlvbiBoZWxwZXIuCiAqLwoKCmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHsKICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41OwogIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpOwp9CgovKioKICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlcgogKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLgogKi8KCmZ1bmN0aW9uIHNldHVwKGVudikgewogIGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7CiAgY3JlYXRlRGVidWdbImRlZmF1bHQiXSA9IGNyZWF0ZURlYnVnOwogIGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTsKICBjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTsKICBjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7CiAgY3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7CiAgY3JlYXRlRGVidWcuaHVtYW5pemUgPSBtczsKICBjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTsKICBPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgY3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldOwogIH0pOwogIC8qKgogICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuCiAgKi8KCiAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTsKICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdOwogIC8qKgogICogTWFwIG9mIHNwZWNpYWwgIiVuIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgImZvcm1hdCIgYXJndW1lbnQuCiAgKgogICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gIm4iIGFuZCAiTiIuCiAgKi8KCiAgY3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9OwogIC8qKgogICogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZQogICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWQKICAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZQogICogQGFwaSBwcml2YXRlCiAgKi8KCiAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7CiAgICB2YXIgaGFzaCA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHsKICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpOwogICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlcgogICAgfQoKICAgIHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTsKICB9CgogIGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7CiAgLyoqCiAgKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC4KICAqCiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlCiAgKiBAcmV0dXJuIHtGdW5jdGlvbn0KICAqIEBhcGkgcHVibGljCiAgKi8KCiAgZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7CiAgICB2YXIgcHJldlRpbWU7CiAgICB2YXIgZW5hYmxlT3ZlcnJpZGUgPSBudWxsOwogICAgdmFyIG5hbWVzcGFjZXNDYWNoZTsKICAgIHZhciBlbmFibGVkQ2FjaGU7CgogICAgZnVuY3Rpb24gZGVidWcoKSB7CiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIC8vIERpc2FibGVkPwogICAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzZWxmID0gZGVidWc7IC8vIFNldCBgZGlmZmAgdGltZXN0YW1wCgogICAgICB2YXIgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTsKICAgICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTsKICAgICAgc2VsZi5kaWZmID0gbXM7CiAgICAgIHNlbGYucHJldiA9IHByZXZUaW1lOwogICAgICBzZWxmLmN1cnIgPSBjdXJyOwogICAgICBwcmV2VGltZSA9IGN1cnI7CiAgICAgIGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7CgogICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7CiAgICAgICAgLy8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU8KICAgICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7CiAgICAgIH0gLy8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnMKCgogICAgICB2YXIgaW5kZXggPSAwOwogICAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24gKG1hdGNoLCBmb3JtYXQpIHsKICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4CiAgICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSB7CiAgICAgICAgICByZXR1cm4gJyUnOwogICAgICAgIH0KCiAgICAgICAgaW5kZXgrKzsKICAgICAgICB2YXIgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdOwoKICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdOwogICAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpOyAvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgCgogICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgaW5kZXgtLTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgfSk7IC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pCgogICAgICBjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7CiAgICAgIHZhciBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZzsKICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7CiAgICB9CgogICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlOwogICAgZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7CiAgICBkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7CiAgICBkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7CiAgICBkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuCgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgaWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gZW5hYmxlT3ZlcnJpZGU7CiAgICAgICAgfQoKICAgICAgICBpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7CiAgICAgICAgICBuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzOwogICAgICAgICAgZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGVuYWJsZWRDYWNoZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikgewogICAgICAgIGVuYWJsZU92ZXJyaWRlID0gdjsKICAgICAgfQogICAgfSk7IC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzCgogICAgaWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGNyZWF0ZURlYnVnLmluaXQoZGVidWcpOwogICAgfQoKICAgIHJldHVybiBkZWJ1ZzsKICB9CgogIGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikgewogICAgdmFyIG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTsKICAgIG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nOwogICAgcmV0dXJuIG5ld0RlYnVnOwogIH0KICAvKioKICAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXMKICAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuCiAgKgogICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXMKICAqIEBhcGkgcHVibGljCiAgKi8KCgogIGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7CiAgICBjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpOwogICAgY3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7CiAgICBjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdOwogICAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTsKICAgIHZhciBpOwogICAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tccyxdKy8pOwogICAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgaWYgKCFzcGxpdFtpXSkgewogICAgICAgIC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzCiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cKi9nLCAnLio/Jyk7CgogICAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7CiAgICAgICAgY3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc2xpY2UoMSkgKyAnJCcpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpOwogICAgICB9CiAgICB9CiAgfQogIC8qKgogICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuCiAgKgogICogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzCiAgKiBAYXBpIHB1YmxpYwogICovCgoKICBmdW5jdGlvbiBkaXNhYmxlKCkgewogICAgdmFyIG5hbWVzcGFjZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSkpLCBfdG9Db25zdW1hYmxlQXJyYXkoY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAoZnVuY3Rpb24gKG5hbWVzcGFjZSkgewogICAgICByZXR1cm4gJy0nICsgbmFtZXNwYWNlOwogICAgfSkpKS5qb2luKCcsJyk7CiAgICBjcmVhdGVEZWJ1Zy5lbmFibGUoJycpOwogICAgcmV0dXJuIG5hbWVzcGFjZXM7CiAgfQogIC8qKgogICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICoKICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lCiAgKiBAcmV0dXJuIHtCb29sZWFufQogICogQGFwaSBwdWJsaWMKICAqLwoKCiAgZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7CiAgICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgdmFyIGk7CiAgICB2YXIgbGVuOwoKICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgaWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CiAgLyoqCiAgKiBDb252ZXJ0IHJlZ2V4cCB0byBuYW1lc3BhY2UKICAqCiAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwCiAgKiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZQogICogQGFwaSBwcml2YXRlCiAgKi8KCgogIGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkgewogICAgcmV0dXJuIHJlZ2V4cC50b1N0cmluZygpLnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKS5yZXBsYWNlKC9cLlwqXD8kLywgJyonKTsKICB9CiAgLyoqCiAgKiBDb2VyY2UgYHZhbGAuCiAgKgogICogQHBhcmFtIHtNaXhlZH0gdmFsCiAgKiBAcmV0dXJuIHtNaXhlZH0KICAqIEBhcGkgcHJpdmF0ZQogICovCgoKICBmdW5jdGlvbiBjb2VyY2UodmFsKSB7CiAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTsKICAgIH0KCiAgICByZXR1cm4gdmFsOwogIH0KICAvKioKICAqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uCiAgKiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuCiAgKi8KCgogIGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICBjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTsKICB9CgogIGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpOwogIHJldHVybiBjcmVhdGVEZWJ1ZzsKfQoKdmFyIGNvbW1vbiA9IHNldHVwOwoKdmFyIGJyb3dzZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgLyogZXNsaW50LWVudiBicm93c2VyICovCgogIC8qKgogICAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC4KICAgKi8KICBleHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzOwogIGV4cG9ydHMuc2F2ZSA9IHNhdmU7CiAgZXhwb3J0cy5sb2FkID0gbG9hZDsKICBleHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9yczsKICBleHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTsKCiAgZXhwb3J0cy5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHdhcm5lZCA9IGZhbHNlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF3YXJuZWQpIHsKICAgICAgICB3YXJuZWQgPSB0cnVlOwogICAgICAgIGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpOwogICAgICB9CiAgICB9OwogIH0oKTsKICAvKioKICAgKiBDb2xvcnMuCiAgICovCgoKICBleHBvcnRzLmNvbG9ycyA9IFsnIzAwMDBDQycsICcjMDAwMEZGJywgJyMwMDMzQ0MnLCAnIzAwMzNGRicsICcjMDA2NkNDJywgJyMwMDY2RkYnLCAnIzAwOTlDQycsICcjMDA5OUZGJywgJyMwMENDMDAnLCAnIzAwQ0MzMycsICcjMDBDQzY2JywgJyMwMENDOTknLCAnIzAwQ0NDQycsICcjMDBDQ0ZGJywgJyMzMzAwQ0MnLCAnIzMzMDBGRicsICcjMzMzM0NDJywgJyMzMzMzRkYnLCAnIzMzNjZDQycsICcjMzM2NkZGJywgJyMzMzk5Q0MnLCAnIzMzOTlGRicsICcjMzNDQzAwJywgJyMzM0NDMzMnLCAnIzMzQ0M2NicsICcjMzNDQzk5JywgJyMzM0NDQ0MnLCAnIzMzQ0NGRicsICcjNjYwMENDJywgJyM2NjAwRkYnLCAnIzY2MzNDQycsICcjNjYzM0ZGJywgJyM2NkNDMDAnLCAnIzY2Q0MzMycsICcjOTkwMENDJywgJyM5OTAwRkYnLCAnIzk5MzNDQycsICcjOTkzM0ZGJywgJyM5OUNDMDAnLCAnIzk5Q0MzMycsICcjQ0MwMDAwJywgJyNDQzAwMzMnLCAnI0NDMDA2NicsICcjQ0MwMDk5JywgJyNDQzAwQ0MnLCAnI0NDMDBGRicsICcjQ0MzMzAwJywgJyNDQzMzMzMnLCAnI0NDMzM2NicsICcjQ0MzMzk5JywgJyNDQzMzQ0MnLCAnI0NDMzNGRicsICcjQ0M2NjAwJywgJyNDQzY2MzMnLCAnI0NDOTkwMCcsICcjQ0M5OTMzJywgJyNDQ0NDMDAnLCAnI0NDQ0MzMycsICcjRkYwMDAwJywgJyNGRjAwMzMnLCAnI0ZGMDA2NicsICcjRkYwMDk5JywgJyNGRjAwQ0MnLCAnI0ZGMDBGRicsICcjRkYzMzAwJywgJyNGRjMzMzMnLCAnI0ZGMzM2NicsICcjRkYzMzk5JywgJyNGRjMzQ0MnLCAnI0ZGMzNGRicsICcjRkY2NjAwJywgJyNGRjY2MzMnLCAnI0ZGOTkwMCcsICcjRkY5OTMzJywgJyNGRkNDMDAnLCAnI0ZGQ0MzMyddOwogIC8qKgogICAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsCiAgICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duCiAgICogdG8gc3VwcG9ydCAiJWMiIENTUyBjdXN0b21pemF0aW9ucy4KICAgKgogICAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzCiAgICovCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHkKCiAgZnVuY3Rpb24gdXNlQ29sb3JzKCkgewogICAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseQogICAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2UKICAgIC8vIGV4cGxpY2l0bHkKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuCgoKICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcLyhcZCspLykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSAvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3MwogICAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzIKCgogICAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSB8fCAvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczCiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCB3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpIHx8IC8vIElzIGZpcmVmb3ggPj0gdjMxPwogICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzCiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFwvKFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCAvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyCiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcLyhcZCspLyk7CiAgfQogIC8qKgogICAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC4KICAgKgogICAqIEBhcGkgcHVibGljCiAgICovCgoKICBmdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHsKICAgIGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICsgdGhpcy5uYW1lc3BhY2UgKyAodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgKyBhcmdzWzBdICsgKHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICsgJysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTsKCiAgICBpZiAoIXRoaXMudXNlQ29sb3JzKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7CiAgICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTsgLy8gVGhlIGZpbmFsICIlYyIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyCiAgICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvCiAgICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG8KCiAgICB2YXIgaW5kZXggPSAwOwogICAgdmFyIGxhc3RDID0gMDsKICAgIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHsKICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpbmRleCsrOwoKICAgICAgaWYgKG1hdGNoID09PSAnJWMnKSB7CiAgICAgICAgLy8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjCiAgICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bikKICAgICAgICBsYXN0QyA9IGluZGV4OwogICAgICB9CiAgICB9KTsKICAgIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTsKICB9CiAgLyoqCiAgICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS4KICAgKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSAiZnVuY3Rpb24iLgogICAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrCiAgICogdG8gYGNvbnNvbGUubG9nYC4KICAgKgogICAqIEBhcGkgcHVibGljCiAgICovCgoKICBleHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgZnVuY3Rpb24gKCkge307CiAgLyoqCiAgICogU2F2ZSBgbmFtZXNwYWNlc2AuCiAgICoKICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlcwogICAqIEBhcGkgcHJpdmF0ZQogICAqLwoKCiAgZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7CiAgICB0cnkgewogICAgICBpZiAobmFtZXNwYWNlcykgewogICAgICAgIGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3cKICAgICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/CiAgICB9CiAgfQogIC8qKgogICAqIExvYWQgYG5hbWVzcGFjZXNgLgogICAqCiAgICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2RlcwogICAqIEBhcGkgcHJpdmF0ZQogICAqLwoKCiAgZnVuY3Rpb24gbG9hZCgpIHsKICAgIHZhciByOwoKICAgIHRyeSB7CiAgICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvdwogICAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT8KICAgIH0gLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVRwoKCiAgICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHsKICAgICAgciA9IHByb2Nlc3MuZW52LkRFQlVHOwogICAgfQoKICAgIHJldHVybiByOwogIH0KICAvKioKICAgKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuCiAgICoKICAgKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3MKICAgKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZQogICAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuCiAgICoKICAgKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9CiAgICogQGFwaSBwcml2YXRlCiAgICovCgoKICBmdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7CiAgICB0cnkgewogICAgICAvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0CiAgICAgIC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuCiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7CiAgICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3cKICAgICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/CiAgICB9CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IGNvbW1vbihleHBvcnRzKTsKICB2YXIgZm9ybWF0dGVycyA9IG1vZHVsZS5leHBvcnRzLmZvcm1hdHRlcnM7CiAgLyoqCiAgICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LgogICAqLwoKICBmb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7CiAgICB9CiAgfTsKfSk7CmJyb3dzZXIuZm9ybWF0QXJnczsKYnJvd3Nlci5zYXZlOwpicm93c2VyLmxvYWQ7CmJyb3dzZXIudXNlQ29sb3JzOwpicm93c2VyLnN0b3JhZ2U7CmJyb3dzZXIuZGVzdHJveTsKYnJvd3Nlci5jb2xvcnM7CmJyb3dzZXIubG9nOwoKdmFyIFBBQ0tBR0VfTkFNRSA9ICd0aHJlZS1mb250LXBhcnNlcic7Cgp2YXIgZGVidWcgPSB7CiAgcm9vdE5hbWU6IFBBQ0tBR0VfTkFNRSwKICBfc3RvcmU6IG5ldyBNYXAoKSwKICBfY3JlYXRlRGVidWc6IGZ1bmN0aW9uIF9jcmVhdGVEZWJ1ZygpIHsKICAgIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKICAgIHJldHVybiBicm93c2VyKFt0aGlzLnJvb3ROYW1lLCBuYW1lXS5qb2luKCc6JykpOwogIH0sCiAgX2ZpcmU6IGZ1bmN0aW9uIF9maXJlKGRlYnVnKSB7CiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGRhdGFbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIGRlYnVnLmFwcGx5KHZvaWQgMCwgW2RhdGFbMF0gfHwgJyddLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5zbGljZSgxKSkpKTsKICB9LAogIGxvZzogZnVuY3Rpb24gbG9nKG1zZykgewogICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgZGF0YVtfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTsKICAgIH0KCiAgICB0aGlzLl9maXJlLmFwcGx5KHRoaXMsIFt0aGlzLl9jcmVhdGVEZWJ1Zyhtc2cpXS5jb25jYXQoZGF0YSkpOwogIH0sCiAgdGltZTogZnVuY3Rpb24gdGltZShtc2cpIHsKICAgIHZhciBkZWJ1ZyA9IHRoaXMuX2NyZWF0ZURlYnVnKG1zZyk7CgogICAgaWYgKHRoaXMuX3N0b3JlLmdldChtc2cpKSB7CiAgICAgIGNvbnNvbGUud2FybigidGltZXIgIi5jb25jYXQobXNnLCAiIGFscmVhZHkgZXhpc3RzIikpOwogICAgfQoKICAgIHRoaXMuX3N0b3JlLnNldChtc2csIGRlYnVnKTsKCiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBuZXcgQXJyYXkoX2xlbjMgPiAxID8gX2xlbjMgLSAxIDogMCksIF9rZXkzID0gMTsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykgewogICAgICBkYXRhW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdOwogICAgfQoKICAgIHRoaXMuX2ZpcmUuYXBwbHkodGhpcywgW2RlYnVnXS5jb25jYXQoZGF0YSkpOwogIH0sCiAgdGltZUVuZDogZnVuY3Rpb24gdGltZUVuZChtc2cpIHsKICAgIHZhciBkZWJ1ZyA9IHRoaXMuX3N0b3JlLmdldChtc2cpOwoKICAgIGlmIChkZWJ1ZykgewogICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykgewogICAgICAgIGRhdGFbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07CiAgICAgIH0KCiAgICAgIHRoaXMuX2ZpcmUuYXBwbHkodGhpcywgW2RlYnVnXS5jb25jYXQoZGF0YSkpOwoKICAgICAgdGhpcy5fc3RvcmUuc2V0KG1zZywgbnVsbCk7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLndhcm4oInRpbWVyICIuY29uY2F0KG1zZywgIiBub3QgZXhpc3RzIikpOwogICAgfQogIH0KfTsKCi8qKgogKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogKi8KCnZhciBidWZmZXJHZW9tZXRyeUlkID0gMTsgLy8gQnVmZmVyR2VvbWV0cnkgdXNlcyBvZGQgbnVtYmVycyBhcyBJZAoKZnVuY3Rpb24gQnVmZmVyR2VvbWV0cnkoKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpZCcsIHsKICAgIHZhbHVlOiBidWZmZXJHZW9tZXRyeUlkICs9IDIKICB9KTsKICB0aGlzLnV1aWQgPSBfTWF0aC5nZW5lcmF0ZVVVSUQoKTsKICB0aGlzLm5hbWUgPSAnJzsKICB0aGlzLnR5cGUgPSAnQnVmZmVyR2VvbWV0cnknOwogIHRoaXMuaW5kZXggPSBudWxsOwogIHRoaXMuYXR0cmlidXRlcyA9IHt9OwogIHRoaXMubW9ycGhBdHRyaWJ1dGVzID0ge307CiAgdGhpcy5ncm91cHMgPSBbXTsKICB0aGlzLmJvdW5kaW5nQm94ID0gbnVsbDsKICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gbnVsbDsKICB0aGlzLmRyYXdSYW5nZSA9IHsKICAgIHN0YXJ0OiAwLAogICAgY291bnQ6IEluZmluaXR5CiAgfTsKICB0aGlzLnVzZXJEYXRhID0ge307IC8vIHl1bnlhbmcKCiAgdGhpcy5jaGFyVmVydGV4RmxhZ0FycmF5ID0gW107CiAgdGhpcy5jaGFyQ2VudGVyQXJyYXkgPSBbXTsKICB0aGlzLmNoYXJDZW50ZXJBcnJheVQgPSBbXTsKICB0aGlzLmNoYXJWZXJ0ZXhDb3VudEFycmF5ID0gW107CiAgdGhpcy5jaGFyQkJveEFycmF5ID0gW107Cn0KCkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShFdmVudERpc3BhdGNoZXIucHJvdG90eXBlKSwgewogIGNvbnN0cnVjdG9yOiBCdWZmZXJHZW9tZXRyeSwKICBpc0J1ZmZlckdlb21ldHJ5OiB0cnVlLAogIGdldEluZGV4OiBmdW5jdGlvbiBnZXRJbmRleCgpIHsKICAgIHJldHVybiB0aGlzLmluZGV4OwogIH0sCiAgc2V0SW5kZXg6IGZ1bmN0aW9uIHNldEluZGV4KGluZGV4KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleCkpIHsKICAgICAgdGhpcy5pbmRleCA9IG5ldyAoYXJyYXlNYXgoaW5kZXgpID4gNjU1MzUgPyBVaW50MzJCdWZmZXJBdHRyaWJ1dGUgOiBVaW50MTZCdWZmZXJBdHRyaWJ1dGUpKGluZGV4LCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaW5kZXggPSBpbmRleDsKICAgIH0KICB9LAogIHNldEluZGV4WXVueWFuZzogZnVuY3Rpb24gc2V0SW5kZXhZdW55YW5nKGluZGV4KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleCkpIHsKICAgICAgdGhpcy5pbmRleCA9IG5ldyBVaW50MzJCdWZmZXJBdHRyaWJ1dGUoaW5kZXgsIDEpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pbmRleCA9IGluZGV4OwogICAgfQogIH0sCiAgYWRkQXR0cmlidXRlOiBmdW5jdGlvbiBhZGRBdHRyaWJ1dGUobmFtZSwgYXR0cmlidXRlKSB7CiAgICBpZiAoIShhdHRyaWJ1dGUgJiYgYXR0cmlidXRlLmlzQnVmZmVyQXR0cmlidXRlKSAmJiAhKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSkpIHsKICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIG5vdyBleHBlY3RzICggbmFtZSwgYXR0cmlidXRlICkuJyk7CiAgICAgIHJldHVybiB0aGlzLmFkZEF0dHJpYnV0ZShuYW1lLCBuZXcgQnVmZmVyQXR0cmlidXRlKGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7CiAgICB9CgogICAgaWYgKG5hbWUgPT09ICdpbmRleCcpIHsKICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGU6IFVzZSAuc2V0SW5kZXgoKSBmb3IgaW5kZXggYXR0cmlidXRlLicpOwogICAgICB0aGlzLnNldEluZGV4KGF0dHJpYnV0ZSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHRoaXMuYXR0cmlidXRlc1tuYW1lXSA9IGF0dHJpYnV0ZTsKICAgIHJldHVybiB0aGlzOwogIH0sCiAgZ2V0QXR0cmlidXRlOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUobmFtZSkgewogICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tuYW1lXTsKICB9LAogIHJlbW92ZUF0dHJpYnV0ZTogZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRlKG5hbWUpIHsKICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07CiAgICByZXR1cm4gdGhpczsKICB9LAogIGFkZEdyb3VwOiBmdW5jdGlvbiBhZGRHcm91cChzdGFydCwgY291bnQsIG1hdGVyaWFsSW5kZXgpIHsKICAgIHRoaXMuZ3JvdXBzLnB1c2goewogICAgICBzdGFydDogc3RhcnQsCiAgICAgIGNvdW50OiBjb3VudCwKICAgICAgbWF0ZXJpYWxJbmRleDogbWF0ZXJpYWxJbmRleCAhPT0gdW5kZWZpbmVkID8gbWF0ZXJpYWxJbmRleCA6IDAKICAgIH0pOwogIH0sCiAgY2xlYXJHcm91cHM6IGZ1bmN0aW9uIGNsZWFyR3JvdXBzKCkgewogICAgdGhpcy5ncm91cHMgPSBbXTsKICB9LAogIHNldERyYXdSYW5nZTogZnVuY3Rpb24gc2V0RHJhd1JhbmdlKHN0YXJ0LCBjb3VudCkgewogICAgdGhpcy5kcmF3UmFuZ2Uuc3RhcnQgPSBzdGFydDsKICAgIHRoaXMuZHJhd1JhbmdlLmNvdW50ID0gY291bnQ7CiAgfSwKICBhcHBseU1hdHJpeDogZnVuY3Rpb24gYXBwbHlNYXRyaXgobWF0cml4KSB7CiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247CgogICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgbWF0cml4LmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24pOwogICAgICBwb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB9CgogICAgdmFyIG5vcm1hbCA9IHRoaXMuYXR0cmlidXRlcy5ub3JtYWw7CgogICAgaWYgKG5vcm1hbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBub3JtYWxNYXRyaXggPSBuZXcgTWF0cml4MygpLmdldE5vcm1hbE1hdHJpeChtYXRyaXgpOwogICAgICBub3JtYWxNYXRyaXguYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZShub3JtYWwpOwogICAgICBub3JtYWwubmVlZHNVcGRhdGUgPSB0cnVlOwogICAgfQoKICAgIGlmICh0aGlzLmJvdW5kaW5nQm94ICE9PSBudWxsKSB7CiAgICAgIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7CiAgICB9CgogICAgaWYgKHRoaXMuYm91bmRpbmdTcGhlcmUgIT09IG51bGwpIHsKICAgICAgdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LAogIHRyYW5zbGF0ZTogZnVuY3Rpb24gKCkgewogICAgLy8gdHJhbnNsYXRlIGdlb21ldHJ5CiAgICB2YXIgbTEgPSBuZXcgTWF0cml4NCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5LCB6KSB7CiAgICAgIG0xLm1ha2VUcmFuc2xhdGlvbih4LCB5LCB6KTsKICAgICAgdGhpcy5hcHBseU1hdHJpeChtMSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfTsKICB9KCksCiAgc2NhbGU6IGZ1bmN0aW9uICgpIHsKICAgIC8vIHNjYWxlIGdlb21ldHJ5CiAgICB2YXIgbTEgPSBuZXcgTWF0cml4NCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uIHNjYWxlKHgsIHksIHopIHsKICAgICAgbTEubWFrZVNjYWxlKHgsIHksIHopOwogICAgICB0aGlzLmFwcGx5TWF0cml4KG0xKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9OwogIH0oKSwKICBjZW50ZXI6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvZmZzZXQgPSBuZXcgVmVjdG9yMygpOwogICAgcmV0dXJuIGZ1bmN0aW9uIGNlbnRlcigpIHsKICAgICAgdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKTsKICAgICAgdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIob2Zmc2V0KS5uZWdhdGUoKTsKICAgICAgdGhpcy50cmFuc2xhdGUob2Zmc2V0LngsIG9mZnNldC55LCBvZmZzZXQueik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfTsKICB9KCksCiAgc2V0RnJvbU9iamVjdDogZnVuY3Rpb24gc2V0RnJvbU9iamVjdChvYmplY3QpIHsKICAgIC8vIGRlYnVnLmxvZyggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LnNldEZyb21PYmplY3QoKS4gQ29udmVydGluZycsIG9iamVjdCwgdGhpcyApOwogICAgdmFyIGdlb21ldHJ5ID0gb2JqZWN0Lmdlb21ldHJ5OwoKICAgIGlmIChvYmplY3QuaXNQb2ludHMgfHwgb2JqZWN0LmlzTGluZSkgewogICAgICB2YXIgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoICogMywgMyk7CiAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIHBvc2l0aW9ucy5jb3B5VmVjdG9yM3NBcnJheShnZW9tZXRyeS52ZXJ0aWNlcykpOwoKICAgICAgaWYgKGdlb21ldHJ5LmxpbmVEaXN0YW5jZXMgJiYgZ2VvbWV0cnkubGluZURpc3RhbmNlcy5sZW5ndGggPT09IGdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aCkgewogICAgICAgIHZhciBsaW5lRGlzdGFuY2VzID0gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkubGluZURpc3RhbmNlcy5sZW5ndGgsIDEpOwogICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdsaW5lRGlzdGFuY2UnLCBsaW5lRGlzdGFuY2VzLmNvcHlBcnJheShnZW9tZXRyeS5saW5lRGlzdGFuY2VzKSk7CiAgICAgIH0KCiAgICAgIGlmIChnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmUgPSBnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZS5jbG9uZSgpOwogICAgICB9CgogICAgICBpZiAoZ2VvbWV0cnkuYm91bmRpbmdCb3ggIT09IG51bGwpIHsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94ID0gZ2VvbWV0cnkuYm91bmRpbmdCb3guY2xvbmUoKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChvYmplY3QuaXNNZXNoKSB7CiAgICAgIGlmIChnZW9tZXRyeSAmJiBnZW9tZXRyeS5pc0dlb21ldHJ5KSB7CiAgICAgICAgdGhpcy5mcm9tR2VvbWV0cnkoZ2VvbWV0cnkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBzZXRGcm9tUG9pbnRzOiBmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cykgewogICAgdmFyIHBvc2l0aW9uID0gW107CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwb2ludHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTsKICAgICAgcG9zaXRpb24ucHVzaChwb2ludC54LCBwb2ludC55LCBwb2ludC56IHx8IDApOwogICAgfQoKICAgIHRoaXMuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLCAzKSk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGZyb21HZW9tZXRyeTogZnVuY3Rpb24gZnJvbUdlb21ldHJ5KGdlb21ldHJ5KSB7CiAgICBnZW9tZXRyeS5fX2RpcmVjdEdlb21ldHJ5ID0gbmV3IERpcmVjdEdlb21ldHJ5KCkuZnJvbUdlb21ldHJ5KGdlb21ldHJ5KTsKICAgIHJldHVybiB0aGlzLmZyb21EaXJlY3RHZW9tZXRyeShnZW9tZXRyeS5fX2RpcmVjdEdlb21ldHJ5KTsKICB9LAogIGNvbXB1dGVCb3VuZGluZ0JveDogZnVuY3Rpb24gY29tcHV0ZUJvdW5kaW5nQm94KCkgewogICAgaWYgKCF0aGlzLmJvdW5kaW5nQm94KSB7CiAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm94MygpOwogICAgfQoKICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjsKCiAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmJvdW5kaW5nQm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTsKICAgIH0KCiAgICBpZiAoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCkgfHwgaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueSkgfHwgaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueikpIHsKICAgICAgY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94OiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJywgdGhpcyk7CiAgICB9CiAgfSwKICBjb21wdXRlRmFjZU5vcm1hbHM6IGZ1bmN0aW9uIGNvbXB1dGVGYWNlTm9ybWFscygpIHsvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQogIH0sCiAgY29tcHV0ZVZlcnRleE5vcm1hbHM6IGZ1bmN0aW9uIGNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkgewogICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDsKICAgIHZhciBhdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVzOwoKICAgIGlmIChhdHRyaWJ1dGVzLnBvc2l0aW9uKSB7CiAgICAgIHZhciBwb3NpdGlvbnMgPSBhdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5OwoKICAgICAgaWYgKGF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnbm9ybWFsJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucy5sZW5ndGgpLCAzKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gcmVzZXQgZXhpc3Rpbmcgbm9ybWFscyB0byB6ZXJvCiAgICAgICAgdmFyIGFycmF5ID0gYXR0cmlidXRlcy5ub3JtYWwuYXJyYXk7CgogICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKICAgICAgICAgIGFycmF5W2ldID0gMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBub3JtYWxzID0gYXR0cmlidXRlcy5ub3JtYWwuYXJyYXk7CiAgICAgIHZhciB2QSwgdkIsIHZDOwogICAgICB2YXIgcEEgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgcEIgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgcEMgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgY2IgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgYWIgPSBuZXcgVmVjdG9yMygpOyAvLyBpbmRleGVkIGVsZW1lbnRzCgogICAgICBpZiAoaW5kZXgpIHsKICAgICAgICB2YXIgaW5kaWNlcyA9IGluZGV4LmFycmF5OwoKICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9pbCA9IGluZGV4LmNvdW50OyBfaSA8IF9pbDsgX2kgKz0gMykgewogICAgICAgICAgdkEgPSBpbmRpY2VzW19pICsgMF0gKiAzOwogICAgICAgICAgdkIgPSBpbmRpY2VzW19pICsgMV0gKiAzOwogICAgICAgICAgdkMgPSBpbmRpY2VzW19pICsgMl0gKiAzOwogICAgICAgICAgcEEuZnJvbUFycmF5KHBvc2l0aW9ucywgdkEpOwogICAgICAgICAgcEIuZnJvbUFycmF5KHBvc2l0aW9ucywgdkIpOwogICAgICAgICAgcEMuZnJvbUFycmF5KHBvc2l0aW9ucywgdkMpOwogICAgICAgICAgY2Iuc3ViVmVjdG9ycyhwQywgcEIpOwogICAgICAgICAgYWIuc3ViVmVjdG9ycyhwQSwgcEIpOwogICAgICAgICAgY2IuY3Jvc3MoYWIpOwogICAgICAgICAgbm9ybWFsc1t2QV0gKz0gY2IueDsKICAgICAgICAgIG5vcm1hbHNbdkEgKyAxXSArPSBjYi55OwogICAgICAgICAgbm9ybWFsc1t2QSArIDJdICs9IGNiLno7CiAgICAgICAgICBub3JtYWxzW3ZCXSArPSBjYi54OwogICAgICAgICAgbm9ybWFsc1t2QiArIDFdICs9IGNiLnk7CiAgICAgICAgICBub3JtYWxzW3ZCICsgMl0gKz0gY2IuejsKICAgICAgICAgIG5vcm1hbHNbdkNdICs9IGNiLng7CiAgICAgICAgICBub3JtYWxzW3ZDICsgMV0gKz0gY2IueTsKICAgICAgICAgIG5vcm1hbHNbdkMgKyAyXSArPSBjYi56OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBub24taW5kZXhlZCBlbGVtZW50cyAodW5jb25uZWN0ZWQgdHJpYW5nbGUgc291cCkKICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfaWwyID0gcG9zaXRpb25zLmxlbmd0aDsgX2kyIDwgX2lsMjsgX2kyICs9IDkpIHsKICAgICAgICAgIHBBLmZyb21BcnJheShwb3NpdGlvbnMsIF9pMik7CiAgICAgICAgICBwQi5mcm9tQXJyYXkocG9zaXRpb25zLCBfaTIgKyAzKTsKICAgICAgICAgIHBDLmZyb21BcnJheShwb3NpdGlvbnMsIF9pMiArIDYpOwogICAgICAgICAgY2Iuc3ViVmVjdG9ycyhwQywgcEIpOwogICAgICAgICAgYWIuc3ViVmVjdG9ycyhwQSwgcEIpOwogICAgICAgICAgY2IuY3Jvc3MoYWIpOwogICAgICAgICAgbm9ybWFsc1tfaTJdID0gY2IueDsKICAgICAgICAgIG5vcm1hbHNbX2kyICsgMV0gPSBjYi55OwogICAgICAgICAgbm9ybWFsc1tfaTIgKyAyXSA9IGNiLno7CiAgICAgICAgICBub3JtYWxzW19pMiArIDNdID0gY2IueDsKICAgICAgICAgIG5vcm1hbHNbX2kyICsgNF0gPSBjYi55OwogICAgICAgICAgbm9ybWFsc1tfaTIgKyA1XSA9IGNiLno7CiAgICAgICAgICBub3JtYWxzW19pMiArIDZdID0gY2IueDsKICAgICAgICAgIG5vcm1hbHNbX2kyICsgN10gPSBjYi55OwogICAgICAgICAgbm9ybWFsc1tfaTIgKyA4XSA9IGNiLno7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKTsKICAgICAgYXR0cmlidXRlcy5ub3JtYWwubmVlZHNVcGRhdGUgPSB0cnVlOwogICAgfQogIH0sCiAgY29tcHV0ZVZlcnRleE5vcm1hbHM0VGV4dGdlb21ldHJ5WXVueWFuZzogZnVuY3Rpb24gY29tcHV0ZVZlcnRleE5vcm1hbHM0VGV4dGdlb21ldHJ5WXVueWFuZyhzaGFkaW5nU21vb3RoQW5nbGUpIHsKICAgIC8vIGRlYnVnLmxvZygiU1RBUlQgY29tcHV0ZVZlcnRleE5vcm1hbHM0VGV4dGdlb21ldHJ5WXVueWFuZyIpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7CgogICAgaWYgKGF0dHJpYnV0ZXMucG9zaXRpb24pIHsKICAgICAgdmFyIHBvc2l0aW9ucyA9IGF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7CgogICAgICBpZiAoYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdub3JtYWwnLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25zLmxlbmd0aCksIDMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyByZXNldCBleGlzdGluZyBub3JtYWxzIHRvIHplcm8KICAgICAgICB2YXIgYXJyYXkgPSBhdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gYXJyYXkubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICAgICAgYXJyYXlbaV0gPSAwOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIG5vcm1hbHMgPSBhdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTsgLy8gbGV0IHZBLCB2QiwgdkM7CiAgICAgIC8vIGxldCBwQSA9IG5ldyBWZWN0b3IzKCksIHBCID0gbmV3IFZlY3RvcjMoKSwgcEMgPSBuZXcgVmVjdG9yMygpOwogICAgICAvLyBsZXQgY2IgPSBuZXcgVmVjdG9yMygpLCBhYiA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIC8vIGxldCBmbG9hdFBvaW50TnVtYiA9IDM7CiAgICAgIC8vIG5vbi1pbmRleGVkIGVsZW1lbnRzICh1bmNvbm5lY3RlZCB0cmlhbmdsZSBzb3VwKQogICAgICAvLyBsZXQgbm9ybWFsTWFwID0gbmV3IE1hcCgpOwoKICAgICAgdmFyIGZhY2VJZEFuZE5vcm1hbE1hcCA9IHt9OyAvLyBuZXcgTWFwKCk7CgogICAgICB2YXIgcG9zaXRpb25JZEFuZEtleU1hcCA9IHt9OyAvLyBuZXcgTWFwKCk7CiAgICAgIC8vIGxldCBwb3NpdGlvbklkQW5kRmFjZUlkTWFwID0ge307Ly9uZXcgTWFwKCk7CgogICAgICB2YXIgS2V5QW5kUG9zaXRpb25JZE1hcCA9IHt9OyAvLyBuZXcgTWFwKCk7CiAgICAgIC8vIGl0ZXJhdGUgcG9pbnRzCiAgICAgIC8vIGRlYnVnLmxvZygiaXRlcmF0ZSBwb2ludHMiKTsKCiAgICAgIHZhciBwQSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIHZhciBtYXRlcmlhbElEcyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2lsMyA9IHBvc2l0aW9ucy5sZW5ndGg7IF9pMyA8IF9pbDM7IF9pMyArPSAzKSB7CiAgICAgICAgcEEuZnJvbUFycmF5KHBvc2l0aW9ucywgX2kzKTsKICAgICAgICB2YXIgaWQgPSBfaTMgLyAzOwogICAgICAgIHZhciBtYXRlcmlhbElkID0gLTE7CgogICAgICAgIGZvciAodmFyIGdJZCA9IDA7IGdJZCA8IHRoaXMuZ3JvdXBzLmxlbmd0aDsgZ0lkKyspIHsKICAgICAgICAgIGlmIChpZCA+PSB0aGlzLmdyb3Vwc1tnSWRdLnN0YXJ0ICYmIGlkIDw9IHRoaXMuZ3JvdXBzW2dJZF0uc3RhcnQgKyB0aGlzLmdyb3Vwc1tnSWRdLmNvdW50IC0gMSkgewogICAgICAgICAgICBtYXRlcmlhbElkID0gdGhpcy5ncm91cHNbZ0lkXS5tYXRlcmlhbEluZGV4OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChtYXRlcmlhbElkID09PSAtMSkgewogICAgICAgICAgY29uc29sZS5sb2coJ21hdGVyaWFsX2lkID09PSAtMScpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1hdGVyaWFsSWQgPT09IDIpIG1hdGVyaWFsSWQgPSAxOwogICAgICAgIG1hdGVyaWFsSURzLnB1c2gobWF0ZXJpYWxJZCk7IC8vIGxldCBrZXkgPSBwQS54LnRvRml4ZWQoZmxvYXRQb2ludE51bWIpKycrJytwQS55LnRvRml4ZWQoZmxvYXRQb2ludE51bWIpKycrJytwQS56LnRvRml4ZWQoZmxvYXRQb2ludE51bWIpKycrJysgbWF0ZXJpYWxfaWQ7Ly8rIHBCLngrcEIueStwQi56KyBwQy54K3BDLnkrcEMuejsKCiAgICAgICAgdmFyIGtleSA9ICcnICsgTWF0aC5mbG9vcihwQS54ICogMTAwMDApICsgTWF0aC5mbG9vcihwQS55ICogMTAwMDApICsgTWF0aC5mbG9vcihwQS56ICogMTAwMDApICsgbWF0ZXJpYWxJZDsgLy8gbm9ybWFsTWFwLnNldChrZXksIG5ldyBWZWN0b3IzKDAsMCwwKSk7CiAgICAgICAgLy8gcG9zaXRpb25JZEFuZEtleU1hcC5zZXQoaWQsIGtleSk7CgogICAgICAgIHBvc2l0aW9uSWRBbmRLZXlNYXBbaWRdID0ga2V5OwoKICAgICAgICBpZiAoIUtleUFuZFBvc2l0aW9uSWRNYXBba2V5XSkgewogICAgICAgICAgS2V5QW5kUG9zaXRpb25JZE1hcFtrZXldID0gW107CiAgICAgICAgfQoKICAgICAgICBLZXlBbmRQb3NpdGlvbklkTWFwW2tleV0ucHVzaChpZCk7CiAgICAgIH0gLy8gZGVidWcubG9nKCJpdGVyYXRlIHBvaW50cyIpOwogICAgICAvLyBpdGVyYXRlIGZhY2VzCiAgICAgIC8vIGRlYnVnLmxvZygiaXRlcmF0ZSBmYWNlcyIpOwogICAgICAvLyBsZXQgcEEgPSBuZXcgVmVjdG9yMygpOwoKCiAgICAgIHZhciBwQiA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIHZhciBwQyA9IG5ldyBWZWN0b3IzKCk7CgogICAgICBmb3IgKHZhciBfaTQgPSAwLCBfaWw0ID0gcG9zaXRpb25zLmxlbmd0aDsgX2k0IDwgX2lsNDsgX2k0ICs9IDkpIHsKICAgICAgICAvLyBsZXQgdkEsIHZCLCB2QzsKICAgICAgICB2YXIgY2IgPSBuZXcgVmVjdG9yMygpOwogICAgICAgIHZhciBhYiA9IG5ldyBWZWN0b3IzKCk7CiAgICAgICAgcEEuZnJvbUFycmF5KHBvc2l0aW9ucywgX2k0KTsKICAgICAgICBwQi5mcm9tQXJyYXkocG9zaXRpb25zLCBfaTQgKyAzKTsKICAgICAgICBwQy5mcm9tQXJyYXkocG9zaXRpb25zLCBfaTQgKyA2KTsKICAgICAgICBjYi5zdWJWZWN0b3JzKHBDLCBwQik7CiAgICAgICAgYWIuc3ViVmVjdG9ycyhwQSwgcEIpOwogICAgICAgIGNiLmNyb3NzKGFiKTsKICAgICAgICBjYi5ub3JtYWxpemUoKTsKICAgICAgICB2YXIgZmFjZUlkID0gfn4oX2k0IC8gOSk7CiAgICAgICAgZmFjZUlkQW5kTm9ybWFsTWFwW2ZhY2VJZF0gPSBjYjsgLy8gcG9zaXRpb25JZEFuZEZhY2VJZE1hcFtpZDFdID0gZmFjZUlkOwogICAgICAgIC8vIHBvc2l0aW9uSWRBbmRGYWNlSWRNYXBbaWQyXSA9IGZhY2VJZDsKICAgICAgICAvLyBwb3NpdGlvbklkQW5kRmFjZUlkTWFwW2lkM10gPSBmYWNlSWQ7CiAgICAgIH0gLy8gZGVidWcubG9nKCJpdGVyYXRlIGZhY2VzIik7CiAgICAgIC8vIGFzc2lnbiBub3JtYWwgdG8gZWFjaCBwb2ludAogICAgICAvLyBkZWJ1Zy5sb2coImFzc2lnbiBub3JtYWwgdG8gZWFjaCBwb2ludCIpOwoKCiAgICAgIHZhciByYWQyZGVncmVlID0gMTgwIC8gTWF0aC5QSTsKCiAgICAgIGZvciAodmFyIF9pNSA9IDAsIF9pbDUgPSBwb3NpdGlvbnMubGVuZ3RoOyBfaTUgPCBfaWw1OyBfaTUgKz0gMykgewogICAgICAgIHZhciB0aGlzUG9zaXRpb25JZCA9IF9pNSAvIDM7CiAgICAgICAgdmFyIF9rZXkgPSBwb3NpdGlvbklkQW5kS2V5TWFwW3RoaXNQb3NpdGlvbklkXTsKICAgICAgICB2YXIgdGhpc0ZhY2VJZCA9IHBhcnNlSW50KHRoaXNQb3NpdGlvbklkIC8gMyk7IC8vIHBvc2l0aW9uSWRBbmRGYWNlSWRNYXBbdGhpc1Bvc2l0aW9uSWRdOwoKICAgICAgICB2YXIgdGhpc05vcm1hbCA9IGZhY2VJZEFuZE5vcm1hbE1hcFt0aGlzRmFjZUlkXTsKICAgICAgICB2YXIgc3VtTm9ybWFsID0gbmV3IFZlY3RvcjMoMCwgMCwgMCk7CiAgICAgICAgdmFyIHBvc2l0aW9uSWRMaXN0ID0gS2V5QW5kUG9zaXRpb25JZE1hcFtfa2V5XTsKCiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBwb3NpdGlvbklkTGlzdC5sZW5ndGg7IG0rKykgewogICAgICAgICAgLy8gaWYocG9zaXRpb25JZExpc3RbbV0gPT0gdGhpc1Bvc2l0aW9uSWQpIGNvbnRpbnVlOwogICAgICAgICAgdmFyIF9mYWNlSWQgPSBwYXJzZUludChwb3NpdGlvbklkTGlzdFttXSAvIDMpOyAvLyBwb3NpdGlvbklkQW5kRmFjZUlkTWFwW3Bvc2l0aW9uSWRMaXN0W21dXTsKCgogICAgICAgICAgdmFyIGZhY2VOb3JtYWwgPSBmYWNlSWRBbmROb3JtYWxNYXBbX2ZhY2VJZF07CiAgICAgICAgICB2YXIgYW5nbGUgPSB0aGlzTm9ybWFsLmFuZ2xlVG8oZmFjZU5vcm1hbCkgKiByYWQyZGVncmVlOwoKICAgICAgICAgIGlmIChhbmdsZSA8IHNoYWRpbmdTbW9vdGhBbmdsZSkgewogICAgICAgICAgICBzdW1Ob3JtYWwuYWRkKGZhY2VOb3JtYWwpOwogICAgICAgICAgfSAvLyBkZWJ1Zy5sb2coaSwgbSwgdGhpc05vcm1hbCwgZmFjZU5vcm1hbCwgYW5nbGUpOwoKICAgICAgICB9IC8vIGNiID0gdGhpc05vcm1hbDsvL25vcm1hbE1hcC5nZXQocG9zaXRpb25JZEFuZEtleU1hcC5nZXQoaWQpKTsKCgogICAgICAgIHN1bU5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICBub3JtYWxzW19pNV0gPSBzdW1Ob3JtYWwueDsKICAgICAgICBub3JtYWxzW19pNSArIDFdID0gc3VtTm9ybWFsLnk7CiAgICAgICAgbm9ybWFsc1tfaTUgKyAyXSA9IHN1bU5vcm1hbC56OwogICAgICB9IC8vIGRlYnVnLmxvZygiYXNzaWduIG5vcm1hbCB0byBlYWNoIHBvaW50Iik7CiAgICAgIC8vIGRlYnVnLmxvZygibm9ybWFsaXplTm9ybWFscyIpOwogICAgICAvLyB0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKTsKICAgICAgLy8gZGVidWcubG9nKCJub3JtYWxpemVOb3JtYWxzIik7CgoKICAgICAgYXR0cmlidXRlcy5ub3JtYWwubmVlZHNVcGRhdGUgPSB0cnVlOwogICAgfQogIH0sCiAgLy8gUHJlQ2FsY3VsYXRpb246IGZ1bmN0aW9uICggcGFyYW1ldGVycyApCiAgcGVyQ2hhckNhbGN1bGF0aW9uOiBmdW5jdGlvbiBwZXJDaGFyQ2FsY3VsYXRpb24oKSB7CiAgICAvLyBjb25zb2xlLnRpbWUoJ3BlckNoYXJDYWxjdWxhdGlvbicpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7CiAgICB2YXIgcG9zaXRpb25zID0gYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTsKICAgIHZhciB2ZXJ0ZXhOdW1iID0gcGFyc2VJbnQocG9zaXRpb25zLmxlbmd0aCAvIDMpOyAvLyBsZXQgY2VudGVyPSBuZXcgVmVjdG9yMygpOy8vIG1pblgsIG1heFgsIG1pblksIG1heFksIG1pblosIG1heFo7CiAgICAvLyBbIGNlbnRlciwgbWluWCwgbWF4WCwgbWluWSwgbWF4WSwgbWluWiwgbWF4Wl0gPSB0aGlzLkNhbGN1bGF0ZUJvdW5kaW5nQm94QW5kQ2VudGVyKGdlb21ldHJ5KTsKCiAgICBpZiAodGhpcy5ib3VuZGluZ0JveCA9PT0gbnVsbCkgewogICAgICB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpOwogICAgfQoKICAgIHZhciBjZW50ZXIgPSBuZXcgVmVjdG9yMygpOwogICAgdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoY2VudGVyKTsKICAgIHZhciBtaW5YID0gdGhpcy5ib3VuZGluZ0JveC5taW4ueDsKICAgIHZhciBtYXhYID0gdGhpcy5ib3VuZGluZ0JveC5tYXgueDsgLy8gbGV0IGNoYXJDZW50ZXJBcnJheSA9IFtdOy8vPSBuZXcgQXJyYXkoZ2VvbWV0cnkuY2hhclZlcnRleEZsYWdBcnJheVtnZW9tZXRyeS5jaGFyVmVydGV4RmxhZ0FycmF5Lmxlbmd0aC0xXSk7CiAgICAvLyBsZXQgY2hhclZlcnRleENvdW50QXJyYXkgPSBbXTsKICAgIC8vIGxldCBjaGFyQ2VudGVyQXJyYXlUID0gW107CiAgICAvLwogICAgLy8gY2FsY3VsYXRlIGNlbnRlciBhbmQgYmJ4IGZvciBlYWNoIGNoYXIKICAgIC8vCgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhOdW1iOyBpKyspIHsKICAgICAgLy8gbmV3VmVydGljZXNbaV0gPSBnZW9tZXRyeS52ZXJ0aWNlc1tpXS5jbG9uZSgpOy8vbmV3IFZlY3RvcjMoKTsKICAgICAgdmFyIGNoYXJJRCA9IHRoaXMuY2hhclZlcnRleEZsYWdBcnJheVtpXTsKCiAgICAgIGlmICh0aGlzLmNoYXJCQm94QXJyYXlbY2hhcklEXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5jaGFyQkJveEFycmF5W2NoYXJJRF0gPSBuZXcgQm94MygpOwogICAgICB9CgogICAgICBpZiAodGhpcy5jaGFyQ2VudGVyQXJyYXlbY2hhcklEXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5jaGFyQ2VudGVyQXJyYXlbY2hhcklEXSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIH0KCiAgICAgIHZhciB0ZW1wUG9zaXRpb24gPSBuZXcgVmVjdG9yMygpOwogICAgICB0ZW1wUG9zaXRpb24uZnJvbUFycmF5KHBvc2l0aW9ucywgaSAqIDMpOyAvLyB0aGlzLmNoYXJDZW50ZXJBcnJheVtjaGFySURdLmFkZCh0ZW1wUG9zaXRpb24pOy8vIGdlb21ldHJ5LnZlcnRpY2VzW2ldKTsKCiAgICAgIHRoaXMuY2hhckJCb3hBcnJheVtjaGFySURdLmV4cGFuZEJ5UG9pbnQodGVtcFBvc2l0aW9uKTsKCiAgICAgIGlmICh0aGlzLmNoYXJWZXJ0ZXhDb3VudEFycmF5W2NoYXJJRF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuY2hhclZlcnRleENvdW50QXJyYXlbY2hhcklEXSA9IDA7CiAgICAgIH0KCiAgICAgIHRoaXMuY2hhclZlcnRleENvdW50QXJyYXlbY2hhcklEXSA9IHRoaXMuY2hhclZlcnRleENvdW50QXJyYXlbY2hhcklEXSArIDE7CiAgICB9CgogICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgdGhpcy5jaGFyVmVydGV4Q291bnRBcnJheS5sZW5ndGg7IF9pNisrKSB7CiAgICAgIHZhciBfY2hhcklEID0gX2k2OyAvLyB0aGlzLmNoYXJDZW50ZXJBcnJheVtpXS5kaXZpZGVTY2FsYXIodGhpcy5jaGFyVmVydGV4Q291bnRBcnJheVtpXSk7CgogICAgICB0aGlzLmNoYXJCQm94QXJyYXlbX2NoYXJJRF0uZ2V0Q2VudGVyKHRoaXMuY2hhckNlbnRlckFycmF5W19jaGFySURdKTsgLy8gdGhpcy5jaGFyQ2VudGVyQXJyYXlbaV0ueSA9IGNlbnRlci55OwogICAgICAvLyBjaGFyQ2VudGVyQXJyYXlULnB1c2goIChjaGFyQ2VudGVyQXJyYXlbaV0ueC0gbWluWCkgLyAoIG1heFggLSBtaW5YKSArIHBhcmFtZXRlcnMub2Zmc2V0WCk7CgoKICAgICAgdGhpcy5jaGFyQ2VudGVyQXJyYXlULnB1c2goKHRoaXMuY2hhckNlbnRlckFycmF5W19jaGFySURdLnggLSBtaW5YKSAvIChtYXhYIC0gbWluWCkpOwogICAgfSAvLyByZXR1cm4gW2NlbnRlciwgbWluWCwgbWF4WCwgbWluWSwgbWF4WSwgbWluWiwgbWF4WiwgY2hhckNlbnRlckFycmF5LCBjaGFyQ2VudGVyQXJyYXlUXQogICAgLy8gY29uc29sZS50aW1lRW5kKCdwZXJDaGFyQ2FsY3VsYXRpb24nKTsKCiAgfSwKICBtZXJnZVNhbWVWZXJ0ZXg6IGZ1bmN0aW9uIG1lcmdlU2FtZVZlcnRleCgpIHsKICAgIGRlYnVnLnRpbWUoJ21lcmdlU2FtZVZlcnRleCcpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7CiAgICB2YXIgcG9zaXRpb25zID0gYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTsKICAgIHZhciBub3JtYWxzID0gYXR0cmlidXRlcy5ub3JtYWwuYXJyYXk7CiAgICB2YXIgdXZzID0gYXR0cmlidXRlcy51di5hcnJheTsKICAgIGRlYnVnLmxvZygnYmVmb3JlIG1lcmdlIHRoZSB2ZXJ0ZXggbnVtYmVyIGlzICcgKyBwb3NpdGlvbnMubGVuZ3RoKTsgLy8gZGVidWcubG9nKHBvc2l0aW9ucyk7CiAgICAvLyBkZWJ1Zy5sb2cobm9ybWFscyk7CiAgICAvLyBkZWJ1Zy5sb2codXZzKTsKICAgIC8vIGlmICggYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZCApIHsKICAgIC8vIHRoaXMuYWRkQXR0cmlidXRlKCAnbm9ybWFsJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZSggbmV3IEZsb2F0MzJBcnJheSggcG9zaXRpb25zLmxlbmd0aCApLCAzICkgKTsKICAgIC8vIH0gZWxzZSB7CiAgICAvLyAvLyByZXNldCBleGlzdGluZyBub3JtYWxzIHRvIHplcm8KICAgIC8vIGxldCBhcnJheSA9IGF0dHJpYnV0ZXMubm9ybWFsLmFycmF5OwogICAgLy8gZm9yICggbGV0IGkgPSAwLCBpbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewogICAgLy8gYXJyYXlbIGkgXSA9IDA7CiAgICAvLyB9CiAgICAvLyB9CgogICAgdmFyIGluZGV4TnVtYiA9IHBhcnNlSW50KHBvc2l0aW9ucy5sZW5ndGggLyAzKTsgLy8gbGV0IGZhY2VJZEFuZE5vcm1hbE1hcCA9IHt9Oy8vbmV3IE1hcCgpOwogICAgLy8gbGV0IHBvc2l0aW9uSWRBbmRLZXlNYXAgPSB7fTsvL25ldyBNYXAoKTsKICAgIC8vIGxldCBwb3NpdGlvbklkQW5kRmFjZUlkTWFwID0ge307Ly9uZXcgTWFwKCk7CgogICAgdmFyIEtleUFuZFBvc2l0aW9uSWRNYXAgPSB7fTsgLy8gbmV3IE1hcCgpOwogICAgLy8gaXRlcmF0ZSBwb2ludHMKCiAgICB2YXIgbmV3SW5kZXggPSBbXTsKICAgIHZhciBuZXdQb3NpdGlvbnMgPSBbXTsKICAgIHZhciBuZXdOb3JtYWxzID0gW107CiAgICB2YXIgbmV3VXZzID0gW107CiAgICB2YXIgbmV3Q2hhclZlcnRleEZsYWdBcnJheSA9IFtdOyAvLyBbXTsKCiAgICB2YXIgbmV3SW5kZXhDb3VudCA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRleE51bWI7IGkrKykgewogICAgICB2YXIgdGVtcFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTsKICAgICAgdmFyIHRlbXBOb3JtYWwgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgdGVtcFV2ID0gbmV3IFZlY3RvcjIoKTsKICAgICAgdmFyIHRlbXBDaGFyVmVydGV4RmxhZyA9IHRoaXMuY2hhclZlcnRleEZsYWdBcnJheVtpXTsKICAgICAgdGVtcFBvc2l0aW9uLmZyb21BcnJheShwb3NpdGlvbnMsIGkgKiAzKTsKICAgICAgdGVtcE5vcm1hbC5mcm9tQXJyYXkobm9ybWFscywgaSAqIDMpOwogICAgICB0ZW1wVXYuZnJvbUFycmF5KHV2cywgaSAqIDIpOwogICAgICB2YXIgbWF0ZXJpYWxJZCA9IDE7CgogICAgICBmb3IgKHZhciBnSWQgPSAwOyBnSWQgPCB0aGlzLmdyb3Vwcy5sZW5ndGg7IGdJZCA9IGdJZCArIDIpIHsKICAgICAgICBpZiAoaSA+PSB0aGlzLmdyb3Vwc1tnSWRdLnN0YXJ0ICYmIGkgPD0gdGhpcy5ncm91cHNbZ0lkXS5zdGFydCArIHRoaXMuZ3JvdXBzW2dJZF0uY291bnQgLSAxKSB7CiAgICAgICAgICBtYXRlcmlhbElkID0gMDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSAvLyBsZXQga2V5ID0gcEEueC50b0ZpeGVkKGZsb2F0UG9pbnROdW1iKSsnKycrcEEueS50b0ZpeGVkKGZsb2F0UG9pbnROdW1iKSsnKycrcEEuei50b0ZpeGVkKGZsb2F0UG9pbnROdW1iKSsnKycrIG1hdGVyaWFsX2lkOy8vKyBwQi54K3BCLnkrcEIueisgcEMueCtwQy55K3BDLno7CgoKICAgICAgdmFyIGtleSA9ICcnICsgTWF0aC5mbG9vcih0ZW1wUG9zaXRpb24ueCAqIDEwMDAwKSArIE1hdGguZmxvb3IodGVtcFBvc2l0aW9uLnkgKiAxMDAwMCkgKyBNYXRoLmZsb29yKHRlbXBQb3NpdGlvbi56ICogMTAwMDApICsgTWF0aC5mbG9vcih0ZW1wTm9ybWFsLnggKiAxMDAwMCkgKyBNYXRoLmZsb29yKHRlbXBOb3JtYWwueSAqIDEwMDAwKSArIE1hdGguZmxvb3IodGVtcE5vcm1hbC56ICogMTAwMDApICsgTWF0aC5mbG9vcih0ZW1wVXYueCAqIDEwMDAwKSArIE1hdGguZmxvb3IodGVtcFV2LnkgKiAxMDAwMCkgKyBtYXRlcmlhbElkOwoKICAgICAgaWYgKCFLZXlBbmRQb3NpdGlvbklkTWFwW2tleV0pIHsKICAgICAgICBLZXlBbmRQb3NpdGlvbklkTWFwW2tleV0gPSBuZXdJbmRleENvdW50OwogICAgICAgIG5ld1Bvc2l0aW9ucy5wdXNoKHRlbXBQb3NpdGlvbik7CiAgICAgICAgbmV3Tm9ybWFscy5wdXNoKHRlbXBOb3JtYWwpOwogICAgICAgIG5ld1V2cy5wdXNoKHRlbXBVdik7CiAgICAgICAgbmV3SW5kZXgucHVzaChuZXdJbmRleENvdW50KTsKICAgICAgICBuZXdJbmRleENvdW50Kys7CiAgICAgICAgbmV3Q2hhclZlcnRleEZsYWdBcnJheS5wdXNoKHRlbXBDaGFyVmVydGV4RmxhZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV3SW5kZXgucHVzaChLZXlBbmRQb3NpdGlvbklkTWFwW2tleV0pOwogICAgICB9CiAgICB9IC8vIGxldCBuZXdJbmRleEJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBVaW50MzJCdWZmZXJBdHRyaWJ1dGUoIG5ldyBVaW50MzJBcnJheSggbmV3SW5kZXgubGVuZ3RoICksIDEgKTsKICAgIC8vIG5ld0luZGV4QnVmZmVyQXR0cmlidXRlLmNvcHlBcnJheSggbmV3SW5kZXggKTsKCgogICAgdmFyIG5ld1Bvc2l0aW9uQnVmZmVyQXR0cmlidXRlID0gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShuZXdQb3NpdGlvbnMubGVuZ3RoICogMyksIDMpOwogICAgbmV3UG9zaXRpb25CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkobmV3UG9zaXRpb25zKTsKICAgIHZhciBuZXdOb3JtYWxCdWZmZXJBdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KG5ld1Bvc2l0aW9ucy5sZW5ndGggKiAzKSwgMyk7CiAgICBuZXdOb3JtYWxCdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkobmV3Tm9ybWFscyk7CiAgICB2YXIgbmV3VXZCdWZmZXJBdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KG5ld1V2cy5sZW5ndGggKiAyKSwgMik7CiAgICBuZXdVdkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheShuZXdVdnMpOwogICAgdGhpcy5zZXRJbmRleFl1bnlhbmcobmV3SW5kZXgpOwogICAgYXR0cmlidXRlcy5wb3NpdGlvbi5jb3B5KG5ld1Bvc2l0aW9uQnVmZmVyQXR0cmlidXRlKTsKICAgIGF0dHJpYnV0ZXMubm9ybWFsLmNvcHkobmV3Tm9ybWFsQnVmZmVyQXR0cmlidXRlKTsKICAgIGF0dHJpYnV0ZXMudXYuY29weShuZXdVdkJ1ZmZlckF0dHJpYnV0ZSk7CiAgICBhdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIGF0dHJpYnV0ZXMubm9ybWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIGF0dHJpYnV0ZXMudXYubmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy5jaGFyVmVydGV4RmxhZ0FycmF5ID0gbmV3Q2hhclZlcnRleEZsYWdBcnJheTsKICAgIGRlYnVnLmxvZygnYWZ0ZXIgbWVyZ2UgdGhlIHZlcnRleCBudW1iZXIgaXMgOiAnICsgbmV3UG9zaXRpb25zLmxlbmd0aCk7IC8vIGRlYnVnLmxvZyh0aGlzLmluZGV4KTsKICAgIC8vIGRlYnVnLmxvZyhuZXdQb3NpdGlvbkJ1ZmZlckF0dHJpYnV0ZSk7CiAgICAvLyBkZWJ1Zy5sb2cobmV3Tm9ybWFsQnVmZmVyQXR0cmlidXRlKTsKICAgIC8vIGRlYnVnLmxvZyhuZXdVdkJ1ZmZlckF0dHJpYnV0ZSk7CgogICAgZGVidWcudGltZUVuZCgnbWVyZ2VTYW1lVmVydGV4Jyk7CiAgfSwKICBtZXJnZTogZnVuY3Rpb24gbWVyZ2UoZ2VvbWV0cnksIG9mZnNldCkgewogICAgaWYgKCEoZ2VvbWV0cnkgJiYgZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSkpIHsKICAgICAgY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LicsIGdlb21ldHJ5KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkgewogICAgICBvZmZzZXQgPSAwOwogICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IE92ZXJ3cml0aW5nIG9yaWdpbmFsIGdlb21ldHJ5LCBzdGFydGluZyBhdCBvZmZzZXQ9MC4gJyArICdVc2UgQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmb3IgbG9zc2xlc3MgbWVyZ2UuJyk7CiAgICB9CgogICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7CgogICAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHsKICAgICAgaWYgKGdlb21ldHJ5LmF0dHJpYnV0ZXNba2V5XSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTsKICAgICAgdmFyIGF0dHJpYnV0ZTEgPSBhdHRyaWJ1dGVzW2tleV07CiAgICAgIHZhciBhdHRyaWJ1dGVBcnJheTEgPSBhdHRyaWJ1dGUxLmFycmF5OwogICAgICB2YXIgYXR0cmlidXRlMiA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNba2V5XTsKICAgICAgdmFyIGF0dHJpYnV0ZUFycmF5MiA9IGF0dHJpYnV0ZTIuYXJyYXk7CiAgICAgIHZhciBhdHRyaWJ1dGVTaXplID0gYXR0cmlidXRlMi5pdGVtU2l6ZTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXR0cmlidXRlU2l6ZSAqIG9mZnNldDsgaSA8IGF0dHJpYnV0ZUFycmF5Mi5sZW5ndGg7IGkrKywgaisrKSB7CiAgICAgICAgYXR0cmlidXRlQXJyYXkxW2pdID0gYXR0cmlidXRlQXJyYXkyW2ldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwKICBub3JtYWxpemVOb3JtYWxzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTsKICAgIHJldHVybiBmdW5jdGlvbiBub3JtYWxpemVOb3JtYWxzKCkgewogICAgICB2YXIgbm9ybWFscyA9IHRoaXMuYXR0cmlidXRlcy5ub3JtYWw7CgogICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBub3JtYWxzLmNvdW50OyBpIDwgaWw7IGkrKykgewogICAgICAgIHZlY3Rvci54ID0gbm9ybWFscy5nZXRYKGkpOwogICAgICAgIHZlY3Rvci55ID0gbm9ybWFscy5nZXRZKGkpOwogICAgICAgIHZlY3Rvci56ID0gbm9ybWFscy5nZXRaKGkpOwogICAgICAgIHZlY3Rvci5ub3JtYWxpemUoKTsKICAgICAgICBub3JtYWxzLnNldFhZWihpLCB2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56KTsKICAgICAgfQogICAgfTsKICB9KCksCiAgdG9Ob25JbmRleGVkOiBmdW5jdGlvbiB0b05vbkluZGV4ZWQoKSB7CiAgICBpZiAodGhpcy5pbmRleCA9PT0gbnVsbCkgewogICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LnRvTm9uSW5kZXhlZCgpOiBHZW9tZXRyeSBpcyBhbHJlYWR5IG5vbi1pbmRleGVkLicpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICB2YXIgZ2VvbWV0cnkyID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7CiAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kZXguYXJyYXk7CiAgICB2YXIgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlczsKCiAgICBmb3IgKHZhciBuYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbbmFtZV07CiAgICAgIHZhciBhcnJheSA9IGF0dHJpYnV0ZS5hcnJheTsKICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplOwogICAgICB2YXIgYXJyYXkyID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGluZGljZXMubGVuZ3RoICogaXRlbVNpemUpOwogICAgICB2YXIgaW5kZXggPSAwOwogICAgICB2YXIgaW5kZXgyID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaW5kaWNlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBpbmRleCA9IGluZGljZXNbaV0gKiBpdGVtU2l6ZTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtU2l6ZTsgaisrKSB7CiAgICAgICAgICBhcnJheTJbaW5kZXgyKytdID0gYXJyYXlbaW5kZXgrK107CiAgICAgICAgfQogICAgICB9CgogICAgICBnZW9tZXRyeTIuYWRkQXR0cmlidXRlKG5hbWUsIG5ldyBCdWZmZXJBdHRyaWJ1dGUoYXJyYXkyLCBpdGVtU2l6ZSkpOwogICAgfQoKICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwczsKCiAgICBmb3IgKHZhciBfaTcgPSAwLCBfbCA9IGdyb3Vwcy5sZW5ndGg7IF9pNyA8IF9sOyBfaTcrKykgewogICAgICB2YXIgZ3JvdXAgPSBncm91cHNbX2k3XTsKICAgICAgZ2VvbWV0cnkyLmFkZEdyb3VwKGdyb3VwLnN0YXJ0LCBncm91cC5jb3VudCwgZ3JvdXAubWF0ZXJpYWxJbmRleCk7CiAgICB9CgogICAgcmV0dXJuIGdlb21ldHJ5MjsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgdmVyc2lvbjogNC41LAogICAgICAgIHR5cGU6ICdCdWZmZXJHZW9tZXRyeScsCiAgICAgICAgZ2VuZXJhdG9yOiAnQnVmZmVyR2VvbWV0cnkudG9KU09OJwogICAgICB9CiAgICB9OyAvLyBzdGFuZGFyZCBCdWZmZXJHZW9tZXRyeSBzZXJpYWxpemF0aW9uCgogICAgZGF0YS51dWlkID0gdGhpcy51dWlkOwogICAgZGF0YS50eXBlID0gdGhpcy50eXBlOwogICAgaWYgKHRoaXMubmFtZSAhPT0gJycpIGRhdGEubmFtZSA9IHRoaXMubmFtZTsKICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnVzZXJEYXRhKS5sZW5ndGggPiAwKSBkYXRhLnVzZXJEYXRhID0gdGhpcy51c2VyRGF0YTsKCiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnM7CgogICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1ldGVycykgewogICAgICAgIGlmIChwYXJhbWV0ZXJzW2tleV0gIT09IHVuZGVmaW5lZCkgZGF0YVtrZXldID0gcGFyYW1ldGVyc1trZXldOwogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0KCiAgICBkYXRhLmRhdGEgPSB7CiAgICAgIGF0dHJpYnV0ZXM6IHt9CiAgICB9OwogICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDsKCiAgICBpZiAoaW5kZXggIT09IG51bGwpIHsKICAgICAgdmFyIGFycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW5kZXguYXJyYXkpOwogICAgICBkYXRhLmRhdGEuaW5kZXggPSB7CiAgICAgICAgdHlwZTogaW5kZXguYXJyYXkuY29uc3RydWN0b3IubmFtZSwKICAgICAgICBhcnJheTogYXJyYXkKICAgICAgfTsKICAgIH0KCiAgICB2YXIgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlczsKCiAgICBmb3IgKHZhciBfa2V5MiBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW19rZXkyXTsKCiAgICAgIHZhciBfYXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhdHRyaWJ1dGUuYXJyYXkpOwoKICAgICAgZGF0YS5kYXRhLmF0dHJpYnV0ZXNbX2tleTJdID0gewogICAgICAgIGl0ZW1TaXplOiBhdHRyaWJ1dGUuaXRlbVNpemUsCiAgICAgICAgdHlwZTogYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsCiAgICAgICAgYXJyYXk6IF9hcnJheSwKICAgICAgICBub3JtYWxpemVkOiBhdHRyaWJ1dGUubm9ybWFsaXplZAogICAgICB9OwogICAgfQoKICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwczsKCiAgICBpZiAoZ3JvdXBzLmxlbmd0aCA+IDApIHsKICAgICAgZGF0YS5kYXRhLmdyb3VwcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZ3JvdXBzKSk7CiAgICB9CgogICAgdmFyIGJvdW5kaW5nU3BoZXJlID0gdGhpcy5ib3VuZGluZ1NwaGVyZTsKCiAgICBpZiAoYm91bmRpbmdTcGhlcmUgIT09IG51bGwpIHsKICAgICAgZGF0YS5kYXRhLmJvdW5kaW5nU3BoZXJlID0gewogICAgICAgIGNlbnRlcjogYm91bmRpbmdTcGhlcmUuY2VudGVyLnRvQXJyYXkoKSwKICAgICAgICByYWRpdXM6IGJvdW5kaW5nU3BoZXJlLnJhZGl1cwogICAgICB9OwogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0sCiAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyBCdWZmZXJHZW9tZXRyeSgpLmNvcHkodGhpcyk7CiAgfSwKICBjb3B5OiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgdmFyIG5hbWUsIGksIGw7IC8vIHJlc2V0CgogICAgdGhpcy5pbmRleCA9IG51bGw7CiAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTsKICAgIHRoaXMubW9ycGhBdHRyaWJ1dGVzID0ge307CiAgICB0aGlzLmdyb3VwcyA9IFtdOwogICAgdGhpcy5ib3VuZGluZ0JveCA9IG51bGw7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gbnVsbDsgLy8gbmFtZQoKICAgIHRoaXMubmFtZSA9IHNvdXJjZS5uYW1lOyAvLyBpbmRleAoKICAgIHZhciBpbmRleCA9IHNvdXJjZS5pbmRleDsKCiAgICBpZiAoaW5kZXggIT09IG51bGwpIHsKICAgICAgdGhpcy5zZXRJbmRleChpbmRleC5jbG9uZSgpKTsKICAgIH0gLy8gYXR0cmlidXRlcwoKCiAgICB2YXIgYXR0cmlidXRlcyA9IHNvdXJjZS5hdHRyaWJ1dGVzOwoKICAgIGZvciAobmFtZSBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW25hbWVdOwogICAgICB0aGlzLmFkZEF0dHJpYnV0ZShuYW1lLCBhdHRyaWJ1dGUuY2xvbmUoKSk7CiAgICB9IC8vIG1vcnBoIGF0dHJpYnV0ZXMKCgogICAgdmFyIG1vcnBoQXR0cmlidXRlcyA9IHNvdXJjZS5tb3JwaEF0dHJpYnV0ZXM7CgogICAgZm9yIChuYW1lIGluIG1vcnBoQXR0cmlidXRlcykgewogICAgICB2YXIgYXJyYXkgPSBbXTsKICAgICAgdmFyIG1vcnBoQXR0cmlidXRlID0gbW9ycGhBdHRyaWJ1dGVzW25hbWVdOyAvLyBtb3JwaEF0dHJpYnV0ZTogYXJyYXkgb2YgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZXMKCiAgICAgIGZvciAoaSA9IDAsIGwgPSBtb3JwaEF0dHJpYnV0ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBhcnJheS5wdXNoKG1vcnBoQXR0cmlidXRlW2ldLmNsb25lKCkpOwogICAgICB9CgogICAgICB0aGlzLm1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IGFycmF5OwogICAgfSAvLyBncm91cHMKCgogICAgdmFyIGdyb3VwcyA9IHNvdXJjZS5ncm91cHM7CgogICAgZm9yIChpID0gMCwgbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldOwogICAgICB0aGlzLmFkZEdyb3VwKGdyb3VwLnN0YXJ0LCBncm91cC5jb3VudCwgZ3JvdXAubWF0ZXJpYWxJbmRleCk7CiAgICB9IC8vIGJvdW5kaW5nIGJveAoKCiAgICB2YXIgYm91bmRpbmdCb3ggPSBzb3VyY2UuYm91bmRpbmdCb3g7CgogICAgaWYgKGJvdW5kaW5nQm94ICE9PSBudWxsKSB7CiAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveC5jbG9uZSgpOwogICAgfSAvLyBib3VuZGluZyBzcGhlcmUKCgogICAgdmFyIGJvdW5kaW5nU3BoZXJlID0gc291cmNlLmJvdW5kaW5nU3BoZXJlOwoKICAgIGlmIChib3VuZGluZ1NwaGVyZSAhPT0gbnVsbCkgewogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gYm91bmRpbmdTcGhlcmUuY2xvbmUoKTsKICAgIH0gLy8gZHJhdyByYW5nZQoKCiAgICB0aGlzLmRyYXdSYW5nZS5zdGFydCA9IHNvdXJjZS5kcmF3UmFuZ2Uuc3RhcnQ7CiAgICB0aGlzLmRyYXdSYW5nZS5jb3VudCA9IHNvdXJjZS5kcmF3UmFuZ2UuY291bnQ7IC8vIHVzZXIgZGF0YQoKICAgIHRoaXMudXNlckRhdGEgPSBzb3VyY2UudXNlckRhdGE7CiAgICByZXR1cm4gdGhpczsKICB9LAogIGRpc3Bvc2U6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoewogICAgICB0eXBlOiAnZGlzcG9zZScKICAgIH0pOwogIH0KfSk7CgovKioKICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogKi8KCnZhciBCb3gyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCb3gyKG1pbiwgbWF4KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQm94Mik7CgogICAgdGhpcy5taW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IG5ldyBWZWN0b3IyKCtJbmZpbml0eSwgK0luZmluaXR5KTsKICAgIHRoaXMubWF4ID0gbWF4ICE9PSB1bmRlZmluZWQgPyBtYXggOiBuZXcgVmVjdG9yMigtSW5maW5pdHksIC1JbmZpbml0eSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQm94MiwgW3sKICAgIGtleTogInNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KG1pbiwgbWF4KSB7CiAgICAgIHRoaXMubWluLmNvcHkobWluKTsKICAgICAgdGhpcy5tYXguY29weShtYXgpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGcm9tUG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cykgewogICAgICB0aGlzLm1ha2VFbXB0eSgpOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKICAgICAgICB0aGlzLmV4cGFuZEJ5UG9pbnQocG9pbnRzW2ldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0RnJvbUNlbnRlckFuZFNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSkgewogICAgICB2YXIgaGFsZlNpemUgPSBzaXplLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoMC41KTsKICAgICAgdGhpcy5taW4uY29weShjZW50ZXIpLnN1YihoYWxmU2l6ZSk7CiAgICAgIHRoaXMubWF4LmNvcHkoY2VudGVyKS5hZGQoaGFsZlNpemUpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29weSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weShib3gpIHsKICAgICAgdGhpcy5taW4uY29weShib3gubWluKTsKICAgICAgdGhpcy5tYXguY29weShib3gubWF4KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFrZUVtcHR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRW1wdHkoKSB7CiAgICAgIHRoaXMubWluLnggPSB0aGlzLm1pbi55ID0gK0luZmluaXR5OwogICAgICB0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IC1JbmZpbml0eTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNFbXB0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNFbXB0eSgpIHsKICAgICAgLy8gdGhpcyBpcyBhIG1vcmUgcm9idXN0IGNoZWNrIGZvciBlbXB0eSB0aGFuICggdm9sdW1lIDw9IDAgKSBiZWNhdXNlIHZvbHVtZSBjYW4gZ2V0IHBvc2l0aXZlIHdpdGggdHdvIG5lZ2F0aXZlIGF4ZXMKICAgICAgcmV0dXJuIHRoaXMubWF4LnggPCB0aGlzLm1pbi54IHx8IHRoaXMubWF4LnkgPCB0aGlzLm1pbi55OwogICAgfQogIH0sIHsKICAgIGtleTogImdldENlbnRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VudGVyKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCgwLCAwKSA6IHRhcmdldC5hZGRWZWN0b3JzKHRoaXMubWluLCB0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoMC41KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaXplKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpOwogICAgICAgIHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoMCwgMCkgOiB0YXJnZXQuc3ViVmVjdG9ycyh0aGlzLm1heCwgdGhpcy5taW4pOwogICAgfQogIH0sIHsKICAgIGtleTogImV4cGFuZEJ5UG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4cGFuZEJ5UG9pbnQocG9pbnQpIHsKICAgICAgdGhpcy5taW4ubWluKHBvaW50KTsKICAgICAgdGhpcy5tYXgubWF4KHBvaW50KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXhwYW5kQnlWZWN0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4cGFuZEJ5VmVjdG9yKHZlY3RvcikgewogICAgICB0aGlzLm1pbi5zdWIodmVjdG9yKTsKICAgICAgdGhpcy5tYXguYWRkKHZlY3Rvcik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImV4cGFuZEJ5U2NhbGFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHBhbmRCeVNjYWxhcihzY2FsYXIpIHsKICAgICAgdGhpcy5taW4uYWRkU2NhbGFyKC1zY2FsYXIpOwogICAgICB0aGlzLm1heC5hZGRTY2FsYXIoc2NhbGFyKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29udGFpbnNQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkgewogICAgICByZXR1cm4gIShwb2ludC54IDwgdGhpcy5taW4ueCB8fCBwb2ludC54ID4gdGhpcy5tYXgueCB8fCBwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29udGFpbnNCb3giLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRhaW5zQm94KGJveCkgewogICAgICByZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiYgdGhpcy5taW4ueSA8PSBib3gubWluLnkgJiYgYm94Lm1heC55IDw9IHRoaXMubWF4Lnk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGFyYW1ldGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXJhbWV0ZXIocG9pbnQsIHRhcmdldCkgewogICAgICAvLyBUaGlzIGNhbiBwb3RlbnRpYWxseSBoYXZlIGEgZGl2aWRlIGJ5IHplcm8gaWYgdGhlIGJveAogICAgICAvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLgogICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldC5zZXQoKHBvaW50LnggLSB0aGlzLm1pbi54KSAvICh0aGlzLm1heC54IC0gdGhpcy5taW4ueCksIChwb2ludC55IC0gdGhpcy5taW4ueSkgLyAodGhpcy5tYXgueSAtIHRoaXMubWluLnkpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnRlcnNlY3RzQm94IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnRlcnNlY3RzQm94KGJveCkgewogICAgICByZXR1cm4gIShib3gubWF4LnggPCB0aGlzLm1pbi54IHx8IGJveC5taW4ueCA+IHRoaXMubWF4LnggfHwgYm94Lm1heC55IDwgdGhpcy5taW4ueSB8fCBib3gubWluLnkgPiB0aGlzLm1heC55KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGFtcFBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcFBvaW50KHBvaW50LCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjdG9yMigpOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0LmNvcHkocG9pbnQpLmNsYW1wKHRoaXMubWluLCB0aGlzLm1heCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGlzdGFuY2VUb1BvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0YW5jZVRvUG9pbnQocG9pbnQpIHsKICAgICAgdmFyIGNsYW1wZWRQb2ludCA9IHBvaW50LmNsb25lKCkuY2xhbXAodGhpcy5taW4sIHRoaXMubWF4KTsKICAgICAgcmV0dXJuIGNsYW1wZWRQb2ludC5zdWIocG9pbnQpLmxlbmd0aCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImludGVyc2VjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJzZWN0KGJveCkgewogICAgICB0aGlzLm1pbi5tYXgoYm94Lm1pbik7CiAgICAgIHRoaXMubWF4Lm1pbihib3gubWF4KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5pb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuaW9uKGJveCkgewogICAgICB0aGlzLm1pbi5taW4oYm94Lm1pbik7CiAgICAgIHRoaXMubWF4Lm1heChib3gubWF4KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidHJhbnNsYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUob2Zmc2V0KSB7CiAgICAgIHRoaXMubWluLmFkZChvZmZzZXQpOwogICAgICB0aGlzLm1heC5hZGQob2Zmc2V0KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXF1YWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlcXVhbHMoYm94KSB7CiAgICAgIHJldHVybiBib3gubWluLmVxdWFscyh0aGlzLm1pbikgJiYgYm94Lm1heC5lcXVhbHModGhpcy5tYXgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJveDI7Cn0oKTsKCnZhciBlYXJjdXRfMSA9IGVhcmN1dDsKdmFyIGRlZmF1bHRfMSA9IGVhcmN1dDsKCmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7CiAgZGltID0gZGltIHx8IDI7CiAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLAogICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCwKICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSwKICAgICAgdHJpYW5nbGVzID0gW107CiAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzOwogIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplOwogIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTsgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94CgogIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7CiAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07CiAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07CgogICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkgewogICAgICB4ID0gZGF0YVtpXTsKICAgICAgeSA9IGRhdGFbaSArIDFdOwogICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4OwogICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5OwogICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4OwogICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5OwogICAgfSAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvbgoKCiAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTsKICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwOwogIH0KCiAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpOwogIHJldHVybiB0cmlhbmdsZXM7Cn0gLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyCgoKZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkgewogIHZhciBpLCBsYXN0OwoKICBpZiAoY2xvY2t3aXNlID09PSBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSB7CiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIHsKICAgICAgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpOwogICAgfQogIH0gZWxzZSB7CiAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSB7CiAgICAgIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTsKICAgIH0KICB9CgogIGlmIChsYXN0ICYmIGVxdWFscyQxKGxhc3QsIGxhc3QubmV4dCkpIHsKICAgIHJlbW92ZU5vZGUobGFzdCk7CiAgICBsYXN0ID0gbGFzdC5uZXh0OwogIH0KCiAgcmV0dXJuIGxhc3Q7Cn0gLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHMKCgpmdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkgewogIGlmICghc3RhcnQpIHJldHVybiBzdGFydDsKICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7CiAgdmFyIHAgPSBzdGFydCwKICAgICAgYWdhaW47CgogIGRvIHsKICAgIGFnYWluID0gZmFsc2U7CgogICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyQxKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7CiAgICAgIHJlbW92ZU5vZGUocCk7CiAgICAgIHAgPSBlbmQgPSBwLnByZXY7CiAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrOwogICAgICBhZ2FpbiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICBwID0gcC5uZXh0OwogICAgfQogIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7CgogIHJldHVybiBlbmQ7Cn0gLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpCgoKZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHsKICBpZiAoIWVhcikgcmV0dXJuOyAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyCgogIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7CiAgdmFyIHN0b3AgPSBlYXIsCiAgICAgIHByZXYsCiAgICAgIG5leHQ7IC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZQoKICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7CiAgICBwcmV2ID0gZWFyLnByZXY7CiAgICBuZXh0ID0gZWFyLm5leHQ7CgogICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkgewogICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZQogICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pOwogICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7CiAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7CiAgICAgIHJlbW92ZU5vZGUoZWFyKTsgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlcwoKICAgICAgZWFyID0gbmV4dC5uZXh0OwogICAgICBzdG9wID0gbmV4dC5uZXh0OwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICBlYXIgPSBuZXh0OyAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFycwoKICAgIGlmIChlYXIgPT09IHN0b3ApIHsKICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW4KICAgICAgaWYgKCFwYXNzKSB7CiAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7IC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5CiAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkgewogICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTsKICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7IC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvCiAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikgewogICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICB9Cn0gLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzCgoKZnVuY3Rpb24gaXNFYXIoZWFyKSB7CiAgdmFyIGEgPSBlYXIucHJldiwKICAgICAgYiA9IGVhciwKICAgICAgYyA9IGVhci5uZXh0OwogIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXIKICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhcgoKICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7CgogIHdoaWxlIChwICE9PSBlYXIucHJldikgewogICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlOwogICAgcCA9IHAubmV4dDsKICB9CgogIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHsKICB2YXIgYSA9IGVhci5wcmV2LAogICAgICBiID0gZWFyLAogICAgICBjID0gZWFyLm5leHQ7CiAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhcgogIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkCgogIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IGEueCA8IGMueCA/IGEueCA6IGMueCA6IGIueCA8IGMueCA/IGIueCA6IGMueCwKICAgICAgbWluVFkgPSBhLnkgPCBiLnkgPyBhLnkgPCBjLnkgPyBhLnkgOiBjLnkgOiBiLnkgPCBjLnkgPyBiLnkgOiBjLnksCiAgICAgIG1heFRYID0gYS54ID4gYi54ID8gYS54ID4gYy54ID8gYS54IDogYy54IDogYi54ID4gYy54ID8gYi54IDogYy54LAogICAgICBtYXhUWSA9IGEueSA+IGIueSA/IGEueSA+IGMueSA/IGEueSA6IGMueSA6IGIueSA+IGMueSA/IGIueSA6IGMueTsgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDsKCiAgdmFyIG1pblogPSB6T3JkZXIobWluVFgsIG1pblRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSwKICAgICAgbWF4WiA9IHpPcmRlcihtYXhUWCwgbWF4VFksIG1pblgsIG1pblksIGludlNpemUpOwogIHZhciBwID0gZWFyLnByZXZaLAogICAgICBuID0gZWFyLm5leHRaOyAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnMKCiAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4WikgewogICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlOwogICAgcCA9IHAucHJldlo7CiAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiYgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7CiAgICBuID0gbi5uZXh0WjsKICB9IC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyCgoKICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikgewogICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlOwogICAgcCA9IHAucHJldlo7CiAgfSAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlcgoKCiAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHsKICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJiBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTsKICAgIG4gPSBuLm5leHRaOwogIH0KCiAgcmV0dXJuIHRydWU7Cn0gLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnMKCgpmdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkgewogIHZhciBwID0gc3RhcnQ7CgogIGRvIHsKICAgIHZhciBhID0gcC5wcmV2LAogICAgICAgIGIgPSBwLm5leHQubmV4dDsKCiAgICBpZiAoIWVxdWFscyQxKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHsKICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTsKICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTsKICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltKTsgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZAoKICAgICAgcmVtb3ZlTm9kZShwKTsKICAgICAgcmVtb3ZlTm9kZShwLm5leHQpOwogICAgICBwID0gc3RhcnQgPSBiOwogICAgfQoKICAgIHAgPSBwLm5leHQ7CiAgfSB3aGlsZSAocCAhPT0gc3RhcnQpOwoKICByZXR1cm4gZmlsdGVyUG9pbnRzKHApOwp9IC8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5CgoKZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7CiAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d28KICB2YXIgYSA9IHN0YXJ0OwoKICBkbyB7CiAgICB2YXIgYiA9IGEubmV4dC5uZXh0OwoKICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHsKICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkgewogICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWwKICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTsgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHMKCiAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpOwogICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTsgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGYKCiAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTsKICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgYiA9IGIubmV4dDsKICAgIH0KCiAgICBhID0gYS5uZXh0OwogIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTsKfSAvLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzCgoKZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7CiAgdmFyIHF1ZXVlID0gW10sCiAgICAgIGksCiAgICAgIGxlbiwKICAgICAgc3RhcnQsCiAgICAgIGVuZCwKICAgICAgbGlzdDsKCiAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07CiAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoOwogICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7CiAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlOwogICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7CiAgfQoKICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTsgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHQKCiAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7CiAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpOwogICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpOwogIH0KCiAgcmV0dXJuIG91dGVyTm9kZTsKfQoKZnVuY3Rpb24gY29tcGFyZVgoYSwgYikgewogIHJldHVybiBhLnggLSBiLng7Cn0gLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0CgoKZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHsKICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpOwoKICBpZiAob3V0ZXJOb2RlKSB7CiAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpOyAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHMKCiAgICBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7CiAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTsKICB9Cn0gLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvbgoKCmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkgewogIHZhciBwID0gb3V0ZXJOb2RlLAogICAgICBoeCA9IGhvbGUueCwKICAgICAgaHkgPSBob2xlLnksCiAgICAgIHF4ID0gLUluZmluaXR5LAogICAgICBtOyAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7CiAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludAoKICBkbyB7CiAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHsKICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7CgogICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHsKICAgICAgICBxeCA9IHg7CgogICAgICAgIGlmICh4ID09PSBoeCkgewogICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwOwogICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDsKICAgICAgICB9CgogICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7CiAgICAgIH0KICAgIH0KCiAgICBwID0gcC5uZXh0OwogIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7CgogIGlmICghbSkgcmV0dXJuIG51bGw7CiAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50CiAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50OwogIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uOwogIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50CgogIHZhciBzdG9wID0gbSwKICAgICAgbXggPSBtLngsCiAgICAgIG15ID0gbS55LAogICAgICB0YW5NaW4gPSBJbmZpbml0eSwKICAgICAgdGFuOwogIHAgPSBtOwoKICBkbyB7CiAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHsKICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbAoKICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiYgKHRhbiA8IHRhbk1pbiB8fCB0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpIHsKICAgICAgICBtID0gcDsKICAgICAgICB0YW5NaW4gPSB0YW47CiAgICAgIH0KICAgIH0KCiAgICBwID0gcC5uZXh0OwogIH0gd2hpbGUgKHAgIT09IHN0b3ApOwoKICByZXR1cm4gbTsKfSAvLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXMKCgpmdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7CiAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7Cn0gLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlcgoKCmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHsKICB2YXIgcCA9IHN0YXJ0OwoKICBkbyB7CiAgICBpZiAocC56ID09PSBudWxsKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpOwogICAgcC5wcmV2WiA9IHAucHJldjsKICAgIHAubmV4dFogPSBwLm5leHQ7CiAgICBwID0gcC5uZXh0OwogIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTsKCiAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7CiAgcC5wcmV2WiA9IG51bGw7CiAgc29ydExpbmtlZChwKTsKfSAvLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobQovLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbAoKCmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkgewogIHZhciBpLAogICAgICBwLAogICAgICBxLAogICAgICBlLAogICAgICB0YWlsLAogICAgICBudW1NZXJnZXMsCiAgICAgIHBTaXplLAogICAgICBxU2l6ZSwKICAgICAgaW5TaXplID0gMTsKCiAgZG8gewogICAgcCA9IGxpc3Q7CiAgICBsaXN0ID0gbnVsbDsKICAgIHRhaWwgPSBudWxsOwogICAgbnVtTWVyZ2VzID0gMDsKCiAgICB3aGlsZSAocCkgewogICAgICBudW1NZXJnZXMrKzsKICAgICAgcSA9IHA7CiAgICAgIHBTaXplID0gMDsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykgewogICAgICAgIHBTaXplKys7CiAgICAgICAgcSA9IHEubmV4dFo7CiAgICAgICAgaWYgKCFxKSBicmVhazsKICAgICAgfQoKICAgICAgcVNpemUgPSBpblNpemU7CgogICAgICB3aGlsZSAocFNpemUgPiAwIHx8IHFTaXplID4gMCAmJiBxKSB7CiAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkgewogICAgICAgICAgZSA9IHA7CiAgICAgICAgICBwID0gcC5uZXh0WjsKICAgICAgICAgIHBTaXplLS07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUgPSBxOwogICAgICAgICAgcSA9IHEubmV4dFo7CiAgICAgICAgICBxU2l6ZS0tOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO2Vsc2UgbGlzdCA9IGU7CiAgICAgICAgZS5wcmV2WiA9IHRhaWw7CiAgICAgICAgdGFpbCA9IGU7CiAgICAgIH0KCiAgICAgIHAgPSBxOwogICAgfQoKICAgIHRhaWwubmV4dFogPSBudWxsOwogICAgaW5TaXplICo9IDI7CiAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7CgogIHJldHVybiBsaXN0Owp9IC8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveAoKCmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7CiAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZQogIHggPSAzMjc2NyAqICh4IC0gbWluWCkgKiBpbnZTaXplOwogIHkgPSAzMjc2NyAqICh5IC0gbWluWSkgKiBpbnZTaXplOwogIHggPSAoeCB8IHggPDwgOCkgJiAweDAwRkYwMEZGOwogIHggPSAoeCB8IHggPDwgNCkgJiAweDBGMEYwRjBGOwogIHggPSAoeCB8IHggPDwgMikgJiAweDMzMzMzMzMzOwogIHggPSAoeCB8IHggPDwgMSkgJiAweDU1NTU1NTU1OwogIHkgPSAoeSB8IHkgPDwgOCkgJiAweDAwRkYwMEZGOwogIHkgPSAoeSB8IHkgPDwgNCkgJiAweDBGMEYwRjBGOwogIHkgPSAoeSB8IHkgPDwgMikgJiAweDMzMzMzMzMzOwogIHkgPSAoeSB8IHkgPDwgMSkgJiAweDU1NTU1NTU1OwogIHJldHVybiB4IHwgeSA8PCAxOwp9IC8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmcKCgpmdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkgewogIHZhciBwID0gc3RhcnQsCiAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7CgogIGRvIHsKICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSBsZWZ0bW9zdCA9IHA7CiAgICBwID0gcC5uZXh0OwogIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTsKCiAgcmV0dXJuIGxlZnRtb3N0Owp9IC8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGUKCgpmdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7CiAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSAtIChheCAtIHB4KSAqIChjeSAtIHB5KSA+PSAwICYmIChheCAtIHB4KSAqIChieSAtIHB5KSAtIChieCAtIHB4KSAqIChheSAtIHB5KSA+PSAwICYmIChieCAtIHB4KSAqIChjeSAtIHB5KSAtIChjeCAtIHB4KSAqIChieSAtIHB5KSA+PSAwOwp9IC8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKQoKCmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7CiAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgKCAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlcwogIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgKCAvLyBsb2NhbGx5IHZpc2libGUKICBhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9ycwogIGVxdWFscyQxKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2UKfSAvLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlCgoKZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7CiAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpOwp9IC8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsCgoKZnVuY3Rpb24gZXF1YWxzJDEocDEsIHAyKSB7CiAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTsKfSAvLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0CgoKZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikgewogIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7CiAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTsKICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpOwogIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7CiAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2UKCiAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExCgogIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMQoKICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTIKCiAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyCgogIHJldHVybiBmYWxzZTsKfSAvLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwcgoKCmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7CiAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7Cn0KCmZ1bmN0aW9uIHNpZ24obnVtKSB7CiAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDsKfSAvLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50cwoKCmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHsKICB2YXIgcCA9IGE7CgogIGRvIHsKICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiYgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTsKICAgIHAgPSBwLm5leHQ7CiAgfSB3aGlsZSAocCAhPT0gYSk7CgogIHJldHVybiBmYWxzZTsKfSAvLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb24KCgpmdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHsKICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID8gYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOiBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7Cn0gLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uCgoKZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHsKICB2YXIgcCA9IGEsCiAgICAgIGluc2lkZSA9IGZhbHNlLAogICAgICBweCA9IChhLnggKyBiLngpIC8gMiwKICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7CgogIGRvIHsKICAgIGlmIChwLnkgPiBweSAhPT0gcC5uZXh0LnkgPiBweSAmJiBwLm5leHQueSAhPT0gcC55ICYmIHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSBpbnNpZGUgPSAhaW5zaWRlOwogICAgcCA9IHAubmV4dDsKICB9IHdoaWxlIChwICE9PSBhKTsKCiAgcmV0dXJuIGluc2lkZTsKfSAvLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287Ci8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZwoKCmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7CiAgdmFyIGEyID0gbmV3IE5vZGUkMyhhLmksIGEueCwgYS55KSwKICAgICAgYjIgPSBuZXcgTm9kZSQzKGIuaSwgYi54LCBiLnkpLAogICAgICBhbiA9IGEubmV4dCwKICAgICAgYnAgPSBiLnByZXY7CiAgYS5uZXh0ID0gYjsKICBiLnByZXYgPSBhOwogIGEyLm5leHQgPSBhbjsKICBhbi5wcmV2ID0gYTI7CiAgYjIubmV4dCA9IGEyOwogIGEyLnByZXYgPSBiMjsKICBicC5uZXh0ID0gYjI7CiAgYjIucHJldiA9IGJwOwogIHJldHVybiBiMjsKfSAvLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KQoKCmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkgewogIHZhciBwID0gbmV3IE5vZGUkMyhpLCB4LCB5KTsKCiAgaWYgKCFsYXN0KSB7CiAgICBwLnByZXYgPSBwOwogICAgcC5uZXh0ID0gcDsKICB9IGVsc2UgewogICAgcC5uZXh0ID0gbGFzdC5uZXh0OwogICAgcC5wcmV2ID0gbGFzdDsKICAgIGxhc3QubmV4dC5wcmV2ID0gcDsKICAgIGxhc3QubmV4dCA9IHA7CiAgfQoKICByZXR1cm4gcDsKfQoKZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7CiAgcC5uZXh0LnByZXYgPSBwLnByZXY7CiAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7CiAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaOwogIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2WjsKfQoKZnVuY3Rpb24gTm9kZSQzKGksIHgsIHkpIHsKICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXkKICB0aGlzLmkgPSBpOyAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXMKCiAgdGhpcy54ID0geDsKICB0aGlzLnkgPSB5OyAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmcKCiAgdGhpcy5wcmV2ID0gbnVsbDsKICB0aGlzLm5leHQgPSBudWxsOyAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlCgogIHRoaXMueiA9IG51bGw7IC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXIKCiAgdGhpcy5wcmV2WiA9IG51bGw7CiAgdGhpcy5uZXh0WiA9IG51bGw7IC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50CgogIHRoaXMuc3RlaW5lciA9IGZhbHNlOwp9IC8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7Ci8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb24KCgplYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykgewogIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDsKICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7CiAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7CgogIGlmIChoYXNIb2xlcykgewogICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltOwogICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDsKICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTsKICAgIH0KICB9CgogIHZhciB0cmlhbmdsZXNBcmVhID0gMDsKCiAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykgewogICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07CiAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07CiAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07CiAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLSAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTsKICB9CgogIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6IE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpOwp9OwoKZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHsKICB2YXIgc3VtID0gMDsKCiAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkgewogICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7CiAgICBqID0gaTsKICB9CgogIHJldHVybiBzdW07Cn0gLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzCgoKZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkgewogIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCwKICAgICAgcmVzdWx0ID0gewogICAgdmVydGljZXM6IFtdLAogICAgaG9sZXM6IFtdLAogICAgZGltZW5zaW9uczogZGltCiAgfSwKICAgICAgaG9sZUluZGV4ID0gMDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgewogICAgICAgIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pOwogICAgICB9CiAgICB9CgogICAgaWYgKGkgPiAwKSB7CiAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7CiAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7CiAgICB9CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9OwplYXJjdXRfMVsiZGVmYXVsdCJdID0gZGVmYXVsdF8xOwoKdmFyIHZlcnNpb24gPSAiMS41LjAiOwp2YXIgdmVyc2lvbiQxID0gewoJdmVyc2lvbjogdmVyc2lvbgp9OwoKdmFyIHZlcnNpb24kMiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCV9fcHJvdG9fXzogbnVsbCwKCXZlcnNpb246IHZlcnNpb24sCgknZGVmYXVsdCc6IHZlcnNpb24kMQp9KTsKCi8qCiAqIFBvbHkyVHJpIENvcHlyaWdodCAoYykgMjAwOS0yMDE0LCBQb2x5MlRyaSBDb250cmlidXRvcnMKICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3BvbHkydHJpLwogKiAKICogcG9seTJ0cmkuanMgKEphdmFTY3JpcHQgcG9ydCkgKGMpIDIwMDktMjAxNCwgUG9seTJUcmkgQ29udHJpYnV0b3JzCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yM21pL3BvbHkydHJpLmpzCiAqIAogKiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAKICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIDMtY2xhdXNlIEJTRCBMaWNlbnNlLCBzZWUgTElDRU5TRS50eHQKICovCi8qKgogKiBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBvcGVyYXRlIG9uICJQb2ludCIgb3IgYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fSwKICogYXMgZGVmaW5lZCBieSB0aGUge0BsaW5rIFhZfSB0eXBlCiAqIChbZHVjayB0eXBpbmdde0BsaW5rIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRHVja190eXBpbmd9KS4KICogQG1vZHVsZQogKiBAcHJpdmF0ZQogKi8KCi8qKgogKiBwb2x5MnRyaS5qcyBzdXBwb3J0cyB1c2luZyBjdXN0b20gcG9pbnQgY2xhc3MgaW5zdGVhZCBvZiB7QGxpbmtjb2RlIFBvaW50fS4KICogQW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCA8Y29kZT57eCwgeX08L2NvZGU+IGF0dHJpYnV0ZXMgaXMgc3VwcG9ydGVkCiAqIHRvIGluaXRpYWxpemUgdGhlIFN3ZWVwQ29udGV4dCBwb2x5bGluZXMgYW5kIHBvaW50cwogKiAoW2R1Y2sgdHlwaW5nXXtAbGluayBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0R1Y2tfdHlwaW5nfSkuCiAqCiAqIHBvbHkydHJpLmpzIG1pZ2h0IGFkZCBleHRyYSBmaWVsZHMgdG8gdGhlIHBvaW50IG9iamVjdHMgd2hlbiBjb21wdXRpbmcgdGhlCiAqIHRyaWFuZ3VsYXRpb24gOiB0aGV5IGFyZSBwcmVmaXhlZCB3aXRoIDxjb2RlPl9wMnRfPC9jb2RlPiB0byBhdm9pZCBjb2xsaXNpb25zCiAqIHdpdGggZmllbGRzIGluIHRoZSBjdXN0b20gY2xhc3MuCiAqCiAqIEBleGFtcGxlCiAqICAgICAgdmFyIGNvbnRvdXIgPSBbe3g6MTAwLCB5OjEwMH0sIHt4OjEwMCwgeTozMDB9LCB7eDozMDAsIHk6MzAwfSwge3g6MzAwLCB5OjEwMH1dOwogKiAgICAgIHZhciBzd2N0eCA9IG5ldyBwb2x5MnRyaS5Td2VlcENvbnRleHQoY29udG91cik7CiAqCiAqIEB0eXBlZGVmIHtPYmplY3R9IFhZCiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IC0geCBjb29yZGluYXRlCiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0geSBjb29yZGluYXRlCiAqLwoKLyoqCiAqIFBvaW50IHByZXR0eSBwcmludGluZyA6IHByaW50cyB4IGFuZCB5IGNvb3JkaW5hdGVzLgogKiBAZXhhbXBsZQogKiAgICAgIHh5LnRvU3RyaW5nQmFzZSh7eDo1LCB5OjQyfSkKICogICAgICAvLyDihpIgIig1OzQyKSIKICogQHByb3RlY3RlZAogKiBAcGFyYW0geyFYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm5zIHtzdHJpbmd9IDxjb2RlPiIoeDt5KSI8L2NvZGU+CiAqLwoKZnVuY3Rpb24gdG9TdHJpbmdCYXNlKHApIHsKICByZXR1cm4gIigiICsgcC54ICsgIjsiICsgcC55ICsgIikiOwp9Ci8qKgogKiBQb2ludCBwcmV0dHkgcHJpbnRpbmcuIERlbGVnYXRlcyB0byB0aGUgcG9pbnQncyBjdXN0b20gInRvU3RyaW5nKCkiIG1ldGhvZCBpZiBleGlzdHMsCiAqIGVsc2Ugc2ltcGx5IHByaW50cyB4IGFuZCB5IGNvb3JkaW5hdGVzLgogKiBAZXhhbXBsZQogKiAgICAgIHh5LnRvU3RyaW5nKHt4OjUsIHk6NDJ9KQogKiAgICAgIC8vIOKGkiAiKDU7NDIpIgogKiBAZXhhbXBsZQogKiAgICAgIHh5LnRvU3RyaW5nKHt4OjUseTo0Mix0b1N0cmluZzpmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy54KyI6Iit0aGlzLnk7fX0pCiAqICAgICAgLy8g4oaSICI1OjQyIgogKiBAcGFyYW0geyFYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm5zIHtzdHJpbmd9IDxjb2RlPiIoeDt5KSI8L2NvZGU+CiAqLwoKCmZ1bmN0aW9uIHRvU3RyaW5nKHApIHsKICAvLyBUcnkgYSBjdXN0b20gdG9TdHJpbmcgZmlyc3QsIGFuZCBmYWxsYmFjayB0byBvd24gaW1wbGVtZW50YXRpb24gaWYgbm9uZQogIHZhciBzID0gcC50b1N0cmluZygpOwogIHJldHVybiBzID09PSAnW29iamVjdCBPYmplY3RdJyA/IHRvU3RyaW5nQmFzZShwKSA6IHM7Cn0KLyoqCiAqIENvbXBhcmUgdHdvIHBvaW50cyBjb21wb25lbnQtd2lzZS4gT3JkZXJlZCBieSB5IGF4aXMgZmlyc3QsIHRoZW4geCBheGlzLgogKiBAcGFyYW0geyFYWX0gYSAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBiIC0gcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7bnVtYmVyfSA8Y29kZT4mbHQ7IDA8L2NvZGU+IGlmIDxjb2RlPmEgJmx0OyBiPC9jb2RlPiwKICogICAgICAgICA8Y29kZT4mZ3Q7IDA8L2NvZGU+IGlmIDxjb2RlPmEgJmd0OyBiPC9jb2RlPiwgCiAqICAgICAgICAgPGNvZGU+MDwvY29kZT4gb3RoZXJ3aXNlLgogKi8KCgpmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHsKICBpZiAoYS55ID09PSBiLnkpIHsKICAgIHJldHVybiBhLnggLSBiLng7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhLnkgLSBiLnk7CiAgfQp9Ci8qKgogKiBUZXN0IHR3byBQb2ludCBvYmplY3RzIGZvciBlcXVhbGl0eS4KICogQHBhcmFtIHshWFl9IGEgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gYiAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm4ge2Jvb2xlYW59IDxjb2RlPlRydWU8L2NvZGU+IGlmIDxjb2RlPmEgPT0gYjwvY29kZT4sIDxjb2RlPmZhbHNlPC9jb2RlPiBvdGhlcndpc2UuCiAqLwoKCmZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7CiAgcmV0dXJuIGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55Owp9Cgp2YXIgeHkgPSB7CiAgdG9TdHJpbmc6IHRvU3RyaW5nLAogIHRvU3RyaW5nQmFzZTogdG9TdHJpbmdCYXNlLAogIGNvbXBhcmU6IGNvbXBhcmUsCiAgZXF1YWxzOiBlcXVhbHMKfTsKCi8qCiAqIENsYXNzIGFkZGVkIGluIHRoZSBKYXZhU2NyaXB0IHZlcnNpb24gKHdhcyBub3QgcHJlc2VudCBpbiB0aGUgYysrIHZlcnNpb24pCiAqLwoKLyoqCiAqIEN1c3RvbSBleGNlcHRpb24gY2xhc3MgdG8gaW5kaWNhdGUgaW52YWxpZCBQb2ludCB2YWx1ZXMKICogQGNvbnN0cnVjdG9yCiAqIEBwdWJsaWMKICogQGV4dGVuZHMgRXJyb3IKICogQHN0cnVjdAogKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgLSBlcnJvciBtZXNzYWdlCiAqIEBwYXJhbSB7QXJyYXkuPFhZPj19IHBvaW50cyAtIGludmFsaWQgcG9pbnRzCiAqLwoKCnZhciBQb2ludEVycm9yID0gZnVuY3Rpb24gUG9pbnRFcnJvcihtZXNzYWdlLCBwb2ludHMpIHsKICB0aGlzLm5hbWUgPSAiUG9pbnRFcnJvciI7CiAgLyoqCiAgICogSW52YWxpZCBwb2ludHMKICAgKiBAcHVibGljCiAgICogQHR5cGUge0FycmF5LjxYWT59CiAgICovCgogIHRoaXMucG9pbnRzID0gcG9pbnRzID0gcG9pbnRzIHx8IFtdOwogIC8qKgogICAqIEVycm9yIG1lc3NhZ2UKICAgKiBAcHVibGljCiAgICogQHR5cGUge3N0cmluZ30KICAgKi8KCiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCAiSW52YWxpZCBQb2ludHMhIjsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHsKICAgIHRoaXMubWVzc2FnZSArPSAiICIgKyB4eS50b1N0cmluZyhwb2ludHNbaV0pOwogIH0KfTsKClBvaW50RXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7ClBvaW50RXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9pbnRFcnJvcjsKdmFyIHBvaW50ZXJyb3IgPSBQb2ludEVycm9yOwoKLyoKICogTm90ZQogKiA9PT09CiAqIHRoZSBzdHJ1Y3R1cmUgb2YgdGhpcyBKYXZhU2NyaXB0IHZlcnNpb24gb2YgcG9seTJ0cmkgaW50ZW50aW9uYWxseSBmb2xsb3dzCiAqIGFzIGNsb3NlbHkgYXMgcG9zc2libGUgdGhlIHN0cnVjdHVyZSBvZiB0aGUgcmVmZXJlbmNlIEMrKyB2ZXJzaW9uLCB0byBtYWtlIGl0IAogKiBlYXNpZXIgdG8ga2VlcCB0aGUgMiB2ZXJzaW9ucyBpbiBzeW5jLgogKi8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUG9pbnQKCi8qKgogKiBDb25zdHJ1Y3QgYSBwb2ludAogKiBAZXhhbXBsZQogKiAgICAgIHZhciBwb2ludCA9IG5ldyBwb2x5MnRyaS5Qb2ludCgxNTAsIDE1MCk7CiAqIEBwdWJsaWMKICogQGNvbnN0cnVjdG9yCiAqIEBzdHJ1Y3QKICogQHBhcmFtIHtudW1iZXI9fSB4ICAgIGNvb3JkaW5hdGUgKDAgaWYgdW5kZWZpbmVkKQogKiBAcGFyYW0ge251bWJlcj19IHkgICAgY29vcmRpbmF0ZSAoMCBpZiB1bmRlZmluZWQpCiAqLwoKCnZhciBQb2ludCA9IGZ1bmN0aW9uIFBvaW50KHgsIHkpIHsKICAvKioKICAgKiBAdHlwZSB7bnVtYmVyfQogICAqIEBleHBvc2UKICAgKi8KICB0aGlzLnggPSAreCB8fCAwOwogIC8qKgogICAqIEB0eXBlIHtudW1iZXJ9CiAgICogQGV4cG9zZQogICAqLwoKICB0aGlzLnkgPSAreSB8fCAwOyAvLyBBbGwgZXh0cmEgZmllbGRzIGFkZGVkIHRvIFBvaW50IGFyZSBwcmVmaXhlZCB3aXRoIF9wMnRfCiAgLy8gdG8gYXZvaWQgY29sbGlzaW9ucyBpZiBjdXN0b20gUG9pbnQgY2xhc3MgaXMgdXNlZC4KCiAgLyoqCiAgICogVGhlIGVkZ2VzIHRoaXMgcG9pbnQgY29uc3RpdHV0ZXMgYW4gdXBwZXIgZW5kaW5nIHBvaW50CiAgICogQHByaXZhdGUKICAgKiBAdHlwZSB7QXJyYXkuPEVkZ2U+fQogICAqLwoKICB0aGlzLl9wMnRfZWRnZV9saXN0ID0gbnVsbDsKfTsKLyoqCiAqIEZvciBwcmV0dHkgcHJpbnRpbmcKICogQGV4YW1wbGUKICogICAgICAicD0iICsgbmV3IHBvbHkydHJpLlBvaW50KDUsNDIpCiAqICAgICAgLy8g4oaSICJwPSg1OzQyKSIKICogQHJldHVybnMge3N0cmluZ30gPGNvZGU+Iih4O3kpIjwvY29kZT4KICovCgoKUG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB4eS50b1N0cmluZ0Jhc2UodGhpcyk7Cn07Ci8qKgogKiBKU09OIG91dHB1dCwgb25seSBjb29yZGluYXRlcwogKiBAZXhhbXBsZQogKiAgICAgIEpTT04uc3RyaW5naWZ5KG5ldyBwb2x5MnRyaS5Qb2ludCgxLDIpKQogKiAgICAgIC8vIOKGkiAneyJ4IjoxLCJ5IjoyfScKICovCgoKUG9pbnQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgeDogdGhpcy54LAogICAgeTogdGhpcy55CiAgfTsKfTsKLyoqCiAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgUG9pbnQgb2JqZWN0LgogKiBAcmV0dXJuIHtQb2ludH0gbmV3IGNsb25lZCBwb2ludAogKi8KCgpQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7Cn07Ci8qKgogKiBTZXQgdGhpcyBQb2ludCBpbnN0YW5jZSB0byB0aGUgb3JpZ28uIDxjb2RlPigwOyAwKTwvY29kZT4KICogQHJldHVybiB7UG9pbnR9IHRoaXMgKGZvciBjaGFpbmluZykKICovCgoKUG9pbnQucHJvdG90eXBlLnNldF96ZXJvID0gZnVuY3Rpb24gKCkgewogIHRoaXMueCA9IDAuMDsKICB0aGlzLnkgPSAwLjA7CiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGlzIGluc3RhbmNlLgogKiBAcGFyYW0ge251bWJlcn0geCAgIGNvb3JkaW5hdGUKICogQHBhcmFtIHtudW1iZXJ9IHkgICBjb29yZGluYXRlCiAqIEByZXR1cm4ge1BvaW50fSB0aGlzIChmb3IgY2hhaW5pbmcpCiAqLwoKClBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkgewogIHRoaXMueCA9ICt4IHx8IDA7CiAgdGhpcy55ID0gK3kgfHwgMDsKICByZXR1cm4gdGhpczsgLy8gZm9yIGNoYWluaW5nCn07Ci8qKgogKiBOZWdhdGUgdGhpcyBQb2ludCBpbnN0YW5jZS4gKGNvbXBvbmVudC13aXNlKQogKiBAcmV0dXJuIHtQb2ludH0gdGhpcyAoZm9yIGNoYWluaW5nKQogKi8KCgpQb2ludC5wcm90b3R5cGUubmVnYXRlID0gZnVuY3Rpb24gKCkgewogIHRoaXMueCA9IC10aGlzLng7CiAgdGhpcy55ID0gLXRoaXMueTsKICByZXR1cm4gdGhpczsgLy8gZm9yIGNoYWluaW5nCn07Ci8qKgogKiBBZGQgYW5vdGhlciBQb2ludCBvYmplY3QgdG8gdGhpcyBpbnN0YW5jZS4gKGNvbXBvbmVudC13aXNlKQogKiBAcGFyYW0geyFQb2ludH0gbiAtIFBvaW50IG9iamVjdC4KICogQHJldHVybiB7UG9pbnR9IHRoaXMgKGZvciBjaGFpbmluZykKICovCgoKUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuKSB7CiAgdGhpcy54ICs9IG4ueDsKICB0aGlzLnkgKz0gbi55OwogIHJldHVybiB0aGlzOyAvLyBmb3IgY2hhaW5pbmcKfTsKLyoqCiAqIFN1YnRyYWN0IHRoaXMgUG9pbnQgaW5zdGFuY2Ugd2l0aCBhbm90aGVyIHBvaW50IGdpdmVuLiAoY29tcG9uZW50LXdpc2UpCiAqIEBwYXJhbSB7IVBvaW50fSBuIC0gUG9pbnQgb2JqZWN0LgogKiBAcmV0dXJuIHtQb2ludH0gdGhpcyAoZm9yIGNoYWluaW5nKQogKi8KCgpQb2ludC5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24gKG4pIHsKICB0aGlzLnggLT0gbi54OwogIHRoaXMueSAtPSBuLnk7CiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogTXVsdGlwbHkgdGhpcyBQb2ludCBpbnN0YW5jZSBieSBhIHNjYWxhci4gKGNvbXBvbmVudC13aXNlKQogKiBAcGFyYW0ge251bWJlcn0gcyAgIHNjYWxhci4KICogQHJldHVybiB7UG9pbnR9IHRoaXMgKGZvciBjaGFpbmluZykKICovCgoKUG9pbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIChzKSB7CiAgdGhpcy54ICo9IHM7CiAgdGhpcy55ICo9IHM7CiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogUmV0dXJuIHRoZSBkaXN0YW5jZSBvZiB0aGlzIFBvaW50IGluc3RhbmNlIGZyb20gdGhlIG9yaWdvLgogKiBAcmV0dXJuIHtudW1iZXJ9IGRpc3RhbmNlCiAqLwoKClBvaW50LnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpOwp9OwovKioKICogTm9ybWFsaXplIHRoaXMgUG9pbnQgaW5zdGFuY2UgKGFzIGEgdmVjdG9yKS4KICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3JpZ2luYWwgZGlzdGFuY2Ugb2YgdGhpcyBpbnN0YW5jZSBmcm9tIHRoZSBvcmlnby4KICovCgoKUG9pbnQucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgbGVuID0gdGhpcy5sZW5ndGgoKTsKICB0aGlzLnggLz0gbGVuOwogIHRoaXMueSAvPSBsZW47CiAgcmV0dXJuIGxlbjsKfTsKLyoqCiAqIFRlc3QgdGhpcyBQb2ludCBvYmplY3Qgd2l0aCBhbm90aGVyIGZvciBlcXVhbGl0eS4KICogQHBhcmFtIHshWFl9IHAgLSBhbnkgIlBvaW50IGxpa2UiIG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm4ge2Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHNhbWUgeCBhbmQgeSBjb29yZGluYXRlcywgPGNvZGU+ZmFsc2U8L2NvZGU+IG90aGVyd2lzZS4KICovCgoKUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7CiAgcmV0dXJuIHRoaXMueCA9PT0gcC54ICYmIHRoaXMueSA9PT0gcC55Owp9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBvaW50ICgic3RhdGljIiBtZXRob2RzKQoKLyoqCiAqIE5lZ2F0ZSBhIHBvaW50IGNvbXBvbmVudC13aXNlIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBhcyBhIG5ldyBQb2ludCBvYmplY3QuCiAqIEBwYXJhbSB7IVhZfSBwIC0gYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcmV0dXJuIHtQb2ludH0gdGhlIHJlc3VsdGluZyBQb2ludCBvYmplY3QuCiAqLwoKClBvaW50Lm5lZ2F0ZSA9IGZ1bmN0aW9uIChwKSB7CiAgcmV0dXJuIG5ldyBQb2ludCgtcC54LCAtcC55KTsKfTsKLyoqCiAqIEFkZCB0d28gcG9pbnRzIGNvbXBvbmVudC13aXNlIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBhcyBhIG5ldyBQb2ludCBvYmplY3QuCiAqIEBwYXJhbSB7IVhZfSBhIC0gYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gYiAtIGFueSAiUG9pbnQgbGlrZSIgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7UG9pbnR9IHRoZSByZXN1bHRpbmcgUG9pbnQgb2JqZWN0LgogKi8KCgpQb2ludC5hZGQgPSBmdW5jdGlvbiAoYSwgYikgewogIHJldHVybiBuZXcgUG9pbnQoYS54ICsgYi54LCBhLnkgKyBiLnkpOwp9OwovKioKICogU3VidHJhY3QgdHdvIHBvaW50cyBjb21wb25lbnQtd2lzZSBhbmQgcmV0dXJuIHRoZSByZXN1bHQgYXMgYSBuZXcgUG9pbnQgb2JqZWN0LgogKiBAcGFyYW0geyFYWX0gYSAtIGFueSAiUG9pbnQgbGlrZSIgb2JqZWN0IHdpdGgge3gseX0KICogQHBhcmFtIHshWFl9IGIgLSBhbnkgIlBvaW50IGxpa2UiIG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm4ge1BvaW50fSB0aGUgcmVzdWx0aW5nIFBvaW50IG9iamVjdC4KICovCgoKUG9pbnQuc3ViID0gZnVuY3Rpb24gKGEsIGIpIHsKICByZXR1cm4gbmV3IFBvaW50KGEueCAtIGIueCwgYS55IC0gYi55KTsKfTsKLyoqCiAqIE11bHRpcGx5IGEgcG9pbnQgYnkgYSBzY2FsYXIgYW5kIHJldHVybiB0aGUgcmVzdWx0IGFzIGEgbmV3IFBvaW50IG9iamVjdC4KICogQHBhcmFtIHtudW1iZXJ9IHMgLSB0aGUgc2NhbGFyCiAqIEBwYXJhbSB7IVhZfSBwIC0gYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcmV0dXJuIHtQb2ludH0gdGhlIHJlc3VsdGluZyBQb2ludCBvYmplY3QuCiAqLwoKClBvaW50Lm11bCA9IGZ1bmN0aW9uIChzLCBwKSB7CiAgcmV0dXJuIG5ldyBQb2ludChzICogcC54LCBzICogcC55KTsKfTsKLyoqCiAqIFBlcmZvcm0gdGhlIGNyb3NzIHByb2R1Y3Qgb24gZWl0aGVyIHR3byBwb2ludHMgKHRoaXMgcHJvZHVjZXMgYSBzY2FsYXIpCiAqIG9yIGEgcG9pbnQgYW5kIGEgc2NhbGFyICh0aGlzIHByb2R1Y2VzIGEgcG9pbnQpLgogKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHR3byBwYXJhbWV0ZXJzLCBlaXRoZXIgbWF5IGJlIGEgUG9pbnQgb2JqZWN0IG9yIGEKICogbnVtYmVyLgogKiBAcGFyYW0gIHtYWXxudW1iZXJ9IGEgLSBQb2ludCBvYmplY3Qgb3Igc2NhbGFyLgogKiBAcGFyYW0gIHtYWXxudW1iZXJ9IGIgLSBQb2ludCBvYmplY3Qgb3Igc2NhbGFyLgogKiBAcmV0dXJuIHtQb2ludHxudW1iZXJ9IGEgUG9pbnQgb2JqZWN0IG9yIGEgbnVtYmVyLCBkZXBlbmRpbmcgb24gdGhlIHBhcmFtZXRlcnMuCiAqLwoKClBvaW50LmNyb3NzID0gZnVuY3Rpb24gKGEsIGIpIHsKICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSB7CiAgICBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiBhICogYjsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBuZXcgUG9pbnQoLWEgKiBiLnksIGEgKiBiLngpOwogICAgfQogIH0gZWxzZSB7CiAgICBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiBuZXcgUG9pbnQoYiAqIGEueSwgLWIgKiBhLngpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGEueCAqIGIueSAtIGEueSAqIGIueDsKICAgIH0KICB9Cn07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIlBvaW50LUxpa2UiCgovKgogKiBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBvcGVyYXRlIG9uICJQb2ludCIgb3IgYW55ICJQb2ludCBsaWtlIiBvYmplY3QgCiAqIHdpdGgge3gseX0gKGR1Y2sgdHlwaW5nKS4KICovCgoKUG9pbnQudG9TdHJpbmcgPSB4eS50b1N0cmluZzsKUG9pbnQuY29tcGFyZSA9IHh5LmNvbXBhcmU7ClBvaW50LmNtcCA9IHh5LmNvbXBhcmU7IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkKClBvaW50LmVxdWFscyA9IHh5LmVxdWFsczsKLyoqCiAqIFBlZm9ybSB0aGUgZG90IHByb2R1Y3Qgb24gdHdvIHZlY3RvcnMuCiAqIEBwdWJsaWMKICogQHBhcmFtIHshWFl9IGEgLSBhbnkgIlBvaW50IGxpa2UiIG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBiIC0gYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkb3QgcHJvZHVjdAogKi8KClBvaW50LmRvdCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueTsKfTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tRXhwb3J0cyAocHVibGljIEFQSSkKCgp2YXIgcG9pbnQgPSBQb2ludDsKCi8qCiAqIE5vdGUKICogPT09PQogKiB0aGUgc3RydWN0dXJlIG9mIHRoaXMgSmF2YVNjcmlwdCB2ZXJzaW9uIG9mIHBvbHkydHJpIGludGVudGlvbmFsbHkgZm9sbG93cwogKiBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHJlZmVyZW5jZSBDKysgdmVyc2lvbiwgdG8gbWFrZSBpdCAKICogZWFzaWVyIHRvIGtlZXAgdGhlIDIgdmVyc2lvbnMgaW4gc3luYy4KICovCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVRyaWFuZ2xlCgovKioKICogVHJpYW5nbGUgY2xhc3MuPGJyPgogKiBUcmlhbmdsZS1iYXNlZCBkYXRhIHN0cnVjdHVyZXMgYXJlIGtub3duIHRvIGhhdmUgYmV0dGVyIHBlcmZvcm1hbmNlIHRoYW4KICogcXVhZC1lZGdlIHN0cnVjdHVyZXMuCiAqIFNlZTogSi4gU2hld2NodWssICJUcmlhbmdsZTogRW5naW5lZXJpbmcgYSAyRCBRdWFsaXR5IE1lc2ggR2VuZXJhdG9yIGFuZAogKiBEZWxhdW5heSBUcmlhbmd1bGF0b3IiLCAiVHJpYW5ndWxhdGlvbnMgaW4gQ0dBTCIKICoKICogQGNvbnN0cnVjdG9yCiAqIEBzdHJ1Y3QKICogQHBhcmFtIHshWFl9IHBhICBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gcGIgIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBwYyAgcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICovCgoKdmFyIFRyaWFuZ2xlID0gZnVuY3Rpb24gVHJpYW5nbGUoYSwgYiwgYykgewogIC8qKgogICAqIFRyaWFuZ2xlIHBvaW50cwogICAqIEBwcml2YXRlCiAgICogQHR5cGUge0FycmF5LjxYWT59CiAgICovCiAgdGhpcy5wb2ludHNfID0gW2EsIGIsIGNdOwogIC8qKgogICAqIE5laWdoYm9yIGxpc3QKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtBcnJheS48VHJpYW5nbGU+fQogICAqLwoKICB0aGlzLm5laWdoYm9yc18gPSBbbnVsbCwgbnVsbCwgbnVsbF07CiAgLyoqCiAgICogSGFzIHRoaXMgdHJpYW5nbGUgYmVlbiBtYXJrZWQgYXMgYW4gaW50ZXJpb3IgdHJpYW5nbGU/CiAgICogQHByaXZhdGUKICAgKiBAdHlwZSB7Ym9vbGVhbn0KICAgKi8KCiAgdGhpcy5pbnRlcmlvcl8gPSBmYWxzZTsKICAvKioKICAgKiBGbGFncyB0byBkZXRlcm1pbmUgaWYgYW4gZWRnZSBpcyBhIENvbnN0cmFpbmVkIGVkZ2UKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtBcnJheS48Ym9vbGVhbj59CiAgICovCgogIHRoaXMuY29uc3RyYWluZWRfZWRnZSA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlXTsKICAvKioKICAgKiBGbGFncyB0byBkZXRlcm1pbmUgaWYgYW4gZWRnZSBpcyBhIERlbGF1bmV5IGVkZ2UKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtBcnJheS48Ym9vbGVhbj59CiAgICovCgogIHRoaXMuZGVsYXVuYXlfZWRnZSA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlXTsKfTsKCnZhciBwMnMgPSB4eS50b1N0cmluZzsKLyoqCiAqIEZvciBwcmV0dHkgcHJpbnRpbmcgZXguIDxjb2RlPiJbKDU7NDIpKDEwOzIwKSgyMTszMCldIjwvY29kZT4uCiAqIEBwdWJsaWMKICogQHJldHVybiB7c3RyaW5nfQogKi8KClRyaWFuZ2xlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gIlsiICsgcDJzKHRoaXMucG9pbnRzX1swXSkgKyBwMnModGhpcy5wb2ludHNfWzFdKSArIHAycyh0aGlzLnBvaW50c19bMl0pICsgIl0iOwp9OwovKioKICogR2V0IG9uZSB2ZXJ0aWNlIG9mIHRoZSB0cmlhbmdsZS4KICogVGhlIG91dHB1dCB0cmlhbmdsZXMgb2YgYSB0cmlhbmd1bGF0aW9uIGhhdmUgdmVydGljZXMgd2hpY2ggYXJlIHJlZmVyZW5jZXMKICogdG8gdGhlIGluaXRpYWwgaW5wdXQgcG9pbnRzIChub3QgY29waWVzKTogYW55IGN1c3RvbSBmaWVsZHMgaW4gdGhlCiAqIGluaXRpYWwgcG9pbnRzIGNhbiBiZSByZXRyaWV2ZWQgaW4gdGhlIG91dHB1dCB0cmlhbmdsZXMuCiAqIEBleGFtcGxlCiAqICAgICAgdmFyIGNvbnRvdXIgPSBbe3g6MTAwLCB5OjEwMCwgaWQ6MX0sIHt4OjEwMCwgeTozMDAsIGlkOjJ9LCB7eDozMDAsIHk6MzAwLCBpZDozfV07CiAqICAgICAgdmFyIHN3Y3R4ID0gbmV3IHBvbHkydHJpLlN3ZWVwQ29udGV4dChjb250b3VyKTsKICogICAgICBzd2N0eC50cmlhbmd1bGF0ZSgpOwogKiAgICAgIHZhciB0cmlhbmdsZXMgPSBzd2N0eC5nZXRUcmlhbmdsZXMoKTsKICogICAgICB0eXBlb2YgdHJpYW5nbGVzWzBdLmdldFBvaW50KDApLmlkCiAqICAgICAgLy8g4oaSICJudW1iZXIiCiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIHZlcnRpY2UgaW5kZXg6IDAsIDEgb3IgMgogKiBAcHVibGljCiAqIEByZXR1cm5zIHtYWX0KICovCgoKVHJpYW5nbGUucHJvdG90eXBlLmdldFBvaW50ID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgcmV0dXJuIHRoaXMucG9pbnRzX1tpbmRleF07Cn07Ci8qKgogKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eQogKiBAZnVuY3Rpb24KICogQGRlcHJlY2F0ZWQgdXNlIHtAbGlua2NvZGUgVHJpYW5nbGUjZ2V0UG9pbnR9IGluc3RlYWQKICovCgoKVHJpYW5nbGUucHJvdG90eXBlLkdldFBvaW50ID0gVHJpYW5nbGUucHJvdG90eXBlLmdldFBvaW50OwovKioKICogR2V0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBhcyBhbiBhcnJheQogKiBAcHVibGljCiAqIEByZXR1cm4ge0FycmF5LjxYWT59CiAqLwovLyBNZXRob2QgYWRkZWQgaW4gdGhlIEphdmFTY3JpcHQgdmVyc2lvbiAod2FzIG5vdCBwcmVzZW50IGluIHRoZSBjKysgdmVyc2lvbikKClRyaWFuZ2xlLnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMucG9pbnRzXzsKfTsKLyoqCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleAogKiBAcmV0dXJucyB7P1RyaWFuZ2xlfQogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuZ2V0TmVpZ2hib3IgPSBmdW5jdGlvbiAoaW5kZXgpIHsKICByZXR1cm4gdGhpcy5uZWlnaGJvcnNfW2luZGV4XTsKfTsKLyoqCiAqIFRlc3QgaWYgdGhpcyBUcmlhbmdsZSBjb250YWlucyB0aGUgUG9pbnQgb2JqZWN0IGdpdmVuIGFzIHBhcmFtZXRlciBhcyBvbmUgb2YgaXRzIHZlcnRpY2VzLgogKiBPbmx5IHBvaW50IHJlZmVyZW5jZXMgYXJlIGNvbXBhcmVkLCBub3QgdmFsdWVzLgogKiBAcHVibGljCiAqIEBwYXJhbSB7WFl9IHBvaW50IC0gcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7Ym9vbGVhbn0gPGNvZGU+VHJ1ZTwvY29kZT4gaWYgdGhlIFBvaW50IG9iamVjdCBpcyBvZiB0aGUgVHJpYW5nbGUncyB2ZXJ0aWNlcywKICogICAgICAgICA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLgogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkgewogIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187IC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCgogIHJldHVybiBwb2ludCA9PT0gcG9pbnRzWzBdIHx8IHBvaW50ID09PSBwb2ludHNbMV0gfHwgcG9pbnQgPT09IHBvaW50c1syXTsKfTsKLyoqCiAqIFRlc3QgaWYgdGhpcyBUcmlhbmdsZSBjb250YWlucyB0aGUgRWRnZSBvYmplY3QgZ2l2ZW4gYXMgcGFyYW1ldGVyIGFzIGl0cwogKiBib3VuZGluZyBlZGdlcy4gT25seSBwb2ludCByZWZlcmVuY2VzIGFyZSBjb21wYXJlZCwgbm90IHZhbHVlcy4KICogQHByaXZhdGUKICogQHBhcmFtIHtFZGdlfSBlZGdlCiAqIEByZXR1cm4ge2Jvb2xlYW59IDxjb2RlPlRydWU8L2NvZGU+IGlmIHRoZSBFZGdlIG9iamVjdCBpcyBvZiB0aGUgVHJpYW5nbGUncyBib3VuZGluZwogKiAgICAgICAgIGVkZ2VzLCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLgogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuY29udGFpbnNFZGdlID0gZnVuY3Rpb24gKGVkZ2UpIHsKICByZXR1cm4gdGhpcy5jb250YWluc1BvaW50KGVkZ2UucCkgJiYgdGhpcy5jb250YWluc1BvaW50KGVkZ2UucSk7Cn07Ci8qKgogKiBUZXN0IGlmIHRoaXMgVHJpYW5nbGUgY29udGFpbnMgdGhlIHR3byBQb2ludCBvYmplY3RzIGdpdmVuIGFzIHBhcmFtZXRlcnMgYW1vbmcgaXRzIHZlcnRpY2VzLgogKiBPbmx5IHBvaW50IHJlZmVyZW5jZXMgYXJlIGNvbXBhcmVkLCBub3QgdmFsdWVzLgogKiBAcGFyYW0ge1hZfSBwMSAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7WFl9IHAyIC0gcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7Ym9vbGVhbn0KICovCgoKVHJpYW5nbGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogIHJldHVybiB0aGlzLmNvbnRhaW5zUG9pbnQocDEpICYmIHRoaXMuY29udGFpbnNQb2ludChwMik7Cn07Ci8qKgogKiBIYXMgdGhpcyB0cmlhbmdsZSBiZWVuIG1hcmtlZCBhcyBhbiBpbnRlcmlvciB0cmlhbmdsZT8KICogQHJldHVybnMge2Jvb2xlYW59CiAqLwoKClRyaWFuZ2xlLnByb3RvdHlwZS5pc0ludGVyaW9yID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLmludGVyaW9yXzsKfTsKLyoqCiAqIE1hcmsgdGhpcyB0cmlhbmdsZSBhcyBhbiBpbnRlcmlvciB0cmlhbmdsZQogKiBAcHJpdmF0ZQogKiBAcGFyYW0ge2Jvb2xlYW59IGludGVyaW9yCiAqIEByZXR1cm5zIHtUcmlhbmdsZX0gdGhpcwogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuc2V0SW50ZXJpb3IgPSBmdW5jdGlvbiAoaW50ZXJpb3IpIHsKICB0aGlzLmludGVyaW9yXyA9IGludGVyaW9yOwogIHJldHVybiB0aGlzOwp9OwovKioKICogVXBkYXRlIG5laWdoYm9yIHBvaW50ZXJzLgogKiBAcHJpdmF0ZQogKiBAcGFyYW0ge1hZfSBwMSAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7WFl9IHAyIC0gcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHBhcmFtIHtUcmlhbmdsZX0gdCBUcmlhbmdsZSBvYmplY3QuCiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBjYW4ndCBmaW5kIG9iamVjdHMKICovCgoKVHJpYW5nbGUucHJvdG90eXBlLm1hcmtOZWlnaGJvclBvaW50ZXJzID0gZnVuY3Rpb24gKHAxLCBwMiwgdCkgewogIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187IC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCgogIGlmIChwMSA9PT0gcG9pbnRzWzJdICYmIHAyID09PSBwb2ludHNbMV0gfHwgcDEgPT09IHBvaW50c1sxXSAmJiBwMiA9PT0gcG9pbnRzWzJdKSB7CiAgICB0aGlzLm5laWdoYm9yc19bMF0gPSB0OwogIH0gZWxzZSBpZiAocDEgPT09IHBvaW50c1swXSAmJiBwMiA9PT0gcG9pbnRzWzJdIHx8IHAxID09PSBwb2ludHNbMl0gJiYgcDIgPT09IHBvaW50c1swXSkgewogICAgdGhpcy5uZWlnaGJvcnNfWzFdID0gdDsKICB9IGVsc2UgaWYgKHAxID09PSBwb2ludHNbMF0gJiYgcDIgPT09IHBvaW50c1sxXSB8fCBwMSA9PT0gcG9pbnRzWzFdICYmIHAyID09PSBwb2ludHNbMF0pIHsKICAgIHRoaXMubmVpZ2hib3JzX1syXSA9IHQ7CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcigncG9seTJ0cmkgSW52YWxpZCBUcmlhbmdsZS5tYXJrTmVpZ2hib3JQb2ludGVycygpIGNhbGwnKTsKICB9Cn07Ci8qKgogKiBFeGhhdXN0aXZlIHNlYXJjaCB0byB1cGRhdGUgbmVpZ2hib3IgcG9pbnRlcnMKICogQHByaXZhdGUKICogQHBhcmFtIHshVHJpYW5nbGV9IHQKICovCgoKVHJpYW5nbGUucHJvdG90eXBlLm1hcmtOZWlnaGJvciA9IGZ1bmN0aW9uICh0KSB7CiAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXzsKCiAgaWYgKHQuY29udGFpbnNQb2ludHMocG9pbnRzWzFdLCBwb2ludHNbMl0pKSB7CiAgICB0aGlzLm5laWdoYm9yc19bMF0gPSB0OwogICAgdC5tYXJrTmVpZ2hib3JQb2ludGVycyhwb2ludHNbMV0sIHBvaW50c1syXSwgdGhpcyk7CiAgfSBlbHNlIGlmICh0LmNvbnRhaW5zUG9pbnRzKHBvaW50c1swXSwgcG9pbnRzWzJdKSkgewogICAgdGhpcy5uZWlnaGJvcnNfWzFdID0gdDsKICAgIHQubWFya05laWdoYm9yUG9pbnRlcnMocG9pbnRzWzBdLCBwb2ludHNbMl0sIHRoaXMpOwogIH0gZWxzZSBpZiAodC5jb250YWluc1BvaW50cyhwb2ludHNbMF0sIHBvaW50c1sxXSkpIHsKICAgIHRoaXMubmVpZ2hib3JzX1syXSA9IHQ7CiAgICB0Lm1hcmtOZWlnaGJvclBvaW50ZXJzKHBvaW50c1swXSwgcG9pbnRzWzFdLCB0aGlzKTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuY2xlYXJOZWlnaGJvcnMgPSBmdW5jdGlvbiAoKSB7CiAgdGhpcy5uZWlnaGJvcnNfWzBdID0gbnVsbDsKICB0aGlzLm5laWdoYm9yc19bMV0gPSBudWxsOwogIHRoaXMubmVpZ2hib3JzX1syXSA9IG51bGw7Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuY2xlYXJEZWxhdW5heUVkZ2VzID0gZnVuY3Rpb24gKCkgewogIHRoaXMuZGVsYXVuYXlfZWRnZVswXSA9IGZhbHNlOwogIHRoaXMuZGVsYXVuYXlfZWRnZVsxXSA9IGZhbHNlOwogIHRoaXMuZGVsYXVuYXlfZWRnZVsyXSA9IGZhbHNlOwp9OwovKioKICogUmV0dXJucyB0aGUgcG9pbnQgY2xvY2t3aXNlIHRvIHRoZSBnaXZlbiBwb2ludC4KICogQHByaXZhdGUKICogQHBhcmFtIHtYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqLwoKClRyaWFuZ2xlLnByb3RvdHlwZS5wb2ludENXID0gZnVuY3Rpb24gKHApIHsKICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHNfOyAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwoKICBpZiAocCA9PT0gcG9pbnRzWzBdKSB7CiAgICByZXR1cm4gcG9pbnRzWzJdOwogIH0gZWxzZSBpZiAocCA9PT0gcG9pbnRzWzFdKSB7CiAgICByZXR1cm4gcG9pbnRzWzBdOwogIH0gZWxzZSBpZiAocCA9PT0gcG9pbnRzWzJdKSB7CiAgICByZXR1cm4gcG9pbnRzWzFdOwogIH0gZWxzZSB7CiAgICByZXR1cm4gbnVsbDsKICB9Cn07Ci8qKgogKiBSZXR1cm5zIHRoZSBwb2ludCBjb3VudGVyLWNsb2Nrd2lzZSB0byB0aGUgZ2l2ZW4gcG9pbnQuCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7WFl9IHAgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUucG9pbnRDQ1cgPSBmdW5jdGlvbiAocCkgewogIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187IC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCgogIGlmIChwID09PSBwb2ludHNbMF0pIHsKICAgIHJldHVybiBwb2ludHNbMV07CiAgfSBlbHNlIGlmIChwID09PSBwb2ludHNbMV0pIHsKICAgIHJldHVybiBwb2ludHNbMl07CiAgfSBlbHNlIGlmIChwID09PSBwb2ludHNbMl0pIHsKICAgIHJldHVybiBwb2ludHNbMF07CiAgfSBlbHNlIHsKICAgIHJldHVybiBudWxsOwogIH0KfTsKLyoqCiAqIFJldHVybnMgdGhlIG5laWdoYm9yIGNsb2Nrd2lzZSB0byBnaXZlbiBwb2ludC4KICogQHByaXZhdGUKICogQHBhcmFtIHtYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqLwoKClRyaWFuZ2xlLnByb3RvdHlwZS5uZWlnaGJvckNXID0gZnVuY3Rpb24gKHApIHsKICAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwogIGlmIChwID09PSB0aGlzLnBvaW50c19bMF0pIHsKICAgIHJldHVybiB0aGlzLm5laWdoYm9yc19bMV07CiAgfSBlbHNlIGlmIChwID09PSB0aGlzLnBvaW50c19bMV0pIHsKICAgIHJldHVybiB0aGlzLm5laWdoYm9yc19bMl07CiAgfSBlbHNlIHsKICAgIHJldHVybiB0aGlzLm5laWdoYm9yc19bMF07CiAgfQp9OwovKioKICogUmV0dXJucyB0aGUgbmVpZ2hib3IgY291bnRlci1jbG9ja3dpc2UgdG8gZ2l2ZW4gcG9pbnQuCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7WFl9IHAgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUubmVpZ2hib3JDQ1cgPSBmdW5jdGlvbiAocCkgewogIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgaWYgKHAgPT09IHRoaXMucG9pbnRzX1swXSkgewogICAgcmV0dXJuIHRoaXMubmVpZ2hib3JzX1syXTsKICB9IGVsc2UgaWYgKHAgPT09IHRoaXMucG9pbnRzX1sxXSkgewogICAgcmV0dXJuIHRoaXMubmVpZ2hib3JzX1swXTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRoaXMubmVpZ2hib3JzX1sxXTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuZ2V0Q29uc3RyYWluZWRFZGdlQ1cgPSBmdW5jdGlvbiAocCkgewogIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgaWYgKHAgPT09IHRoaXMucG9pbnRzX1swXSkgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVsxXTsKICB9IGVsc2UgaWYgKHAgPT09IHRoaXMucG9pbnRzX1sxXSkgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVsyXTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVswXTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuZ2V0Q29uc3RyYWluZWRFZGdlQ0NXID0gZnVuY3Rpb24gKHApIHsKICAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwogIGlmIChwID09PSB0aGlzLnBvaW50c19bMF0pIHsKICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMl07CiAgfSBlbHNlIGlmIChwID09PSB0aGlzLnBvaW50c19bMV0pIHsKICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMF07CiAgfSBlbHNlIHsKICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMV07CiAgfQp9OyAvLyBBZGRpdGlvbmFsIGNoZWNrIGZyb20gSmF2YSB2ZXJzaW9uIChzZWUgaXNzdWUgIzg4KQoKClRyaWFuZ2xlLnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZEVkZ2VBY3Jvc3MgPSBmdW5jdGlvbiAocCkgewogIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgaWYgKHAgPT09IHRoaXMucG9pbnRzX1swXSkgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVswXTsKICB9IGVsc2UgaWYgKHAgPT09IHRoaXMucG9pbnRzX1sxXSkgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVsxXTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRoaXMuY29uc3RyYWluZWRfZWRnZVsyXTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuc2V0Q29uc3RyYWluZWRFZGdlQ1cgPSBmdW5jdGlvbiAocCwgY2UpIHsKICAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwogIGlmIChwID09PSB0aGlzLnBvaW50c19bMF0pIHsKICAgIHRoaXMuY29uc3RyYWluZWRfZWRnZVsxXSA9IGNlOwogIH0gZWxzZSBpZiAocCA9PT0gdGhpcy5wb2ludHNfWzFdKSB7CiAgICB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMl0gPSBjZTsKICB9IGVsc2UgewogICAgdGhpcy5jb25zdHJhaW5lZF9lZGdlWzBdID0gY2U7CiAgfQp9OwoKVHJpYW5nbGUucHJvdG90eXBlLnNldENvbnN0cmFpbmVkRWRnZUNDVyA9IGZ1bmN0aW9uIChwLCBjZSkgewogIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgaWYgKHAgPT09IHRoaXMucG9pbnRzX1swXSkgewogICAgdGhpcy5jb25zdHJhaW5lZF9lZGdlWzJdID0gY2U7CiAgfSBlbHNlIGlmIChwID09PSB0aGlzLnBvaW50c19bMV0pIHsKICAgIHRoaXMuY29uc3RyYWluZWRfZWRnZVswXSA9IGNlOwogIH0gZWxzZSB7CiAgICB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMV0gPSBjZTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuZ2V0RGVsYXVuYXlFZGdlQ1cgPSBmdW5jdGlvbiAocCkgewogIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgaWYgKHAgPT09IHRoaXMucG9pbnRzX1swXSkgewogICAgcmV0dXJuIHRoaXMuZGVsYXVuYXlfZWRnZVsxXTsKICB9IGVsc2UgaWYgKHAgPT09IHRoaXMucG9pbnRzX1sxXSkgewogICAgcmV0dXJuIHRoaXMuZGVsYXVuYXlfZWRnZVsyXTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRoaXMuZGVsYXVuYXlfZWRnZVswXTsKICB9Cn07CgpUcmlhbmdsZS5wcm90b3R5cGUuZ2V0RGVsYXVuYXlFZGdlQ0NXID0gZnVuY3Rpb24gKHApIHsKICAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwogIGlmIChwID09PSB0aGlzLnBvaW50c19bMF0pIHsKICAgIHJldHVybiB0aGlzLmRlbGF1bmF5X2VkZ2VbMl07CiAgfSBlbHNlIGlmIChwID09PSB0aGlzLnBvaW50c19bMV0pIHsKICAgIHJldHVybiB0aGlzLmRlbGF1bmF5X2VkZ2VbMF07CiAgfSBlbHNlIHsKICAgIHJldHVybiB0aGlzLmRlbGF1bmF5X2VkZ2VbMV07CiAgfQp9OwoKVHJpYW5nbGUucHJvdG90eXBlLnNldERlbGF1bmF5RWRnZUNXID0gZnVuY3Rpb24gKHAsIGUpIHsKICAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcwogIGlmIChwID09PSB0aGlzLnBvaW50c19bMF0pIHsKICAgIHRoaXMuZGVsYXVuYXlfZWRnZVsxXSA9IGU7CiAgfSBlbHNlIGlmIChwID09PSB0aGlzLnBvaW50c19bMV0pIHsKICAgIHRoaXMuZGVsYXVuYXlfZWRnZVsyXSA9IGU7CiAgfSBlbHNlIHsKICAgIHRoaXMuZGVsYXVuYXlfZWRnZVswXSA9IGU7CiAgfQp9OwoKVHJpYW5nbGUucHJvdG90eXBlLnNldERlbGF1bmF5RWRnZUNDVyA9IGZ1bmN0aW9uIChwLCBlKSB7CiAgLy8gSGVyZSB3ZSBhcmUgY29tcGFyaW5nIHBvaW50IHJlZmVyZW5jZXMsIG5vdCB2YWx1ZXMKICBpZiAocCA9PT0gdGhpcy5wb2ludHNfWzBdKSB7CiAgICB0aGlzLmRlbGF1bmF5X2VkZ2VbMl0gPSBlOwogIH0gZWxzZSBpZiAocCA9PT0gdGhpcy5wb2ludHNfWzFdKSB7CiAgICB0aGlzLmRlbGF1bmF5X2VkZ2VbMF0gPSBlOwogIH0gZWxzZSB7CiAgICB0aGlzLmRlbGF1bmF5X2VkZ2VbMV0gPSBlOwogIH0KfTsKLyoqCiAqIFRoZSBuZWlnaGJvciBhY3Jvc3MgdG8gZ2l2ZW4gcG9pbnQuCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7WFl9IHAgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcmV0dXJucyB7VHJpYW5nbGV9CiAqLwoKClRyaWFuZ2xlLnByb3RvdHlwZS5uZWlnaGJvckFjcm9zcyA9IGZ1bmN0aW9uIChwKSB7CiAgLy8gSGVyZSB3ZSBhcmUgY29tcGFyaW5nIHBvaW50IHJlZmVyZW5jZXMsIG5vdCB2YWx1ZXMKICBpZiAocCA9PT0gdGhpcy5wb2ludHNfWzBdKSB7CiAgICByZXR1cm4gdGhpcy5uZWlnaGJvcnNfWzBdOwogIH0gZWxzZSBpZiAocCA9PT0gdGhpcy5wb2ludHNfWzFdKSB7CiAgICByZXR1cm4gdGhpcy5uZWlnaGJvcnNfWzFdOwogIH0gZWxzZSB7CiAgICByZXR1cm4gdGhpcy5uZWlnaGJvcnNfWzJdOwogIH0KfTsKLyoqCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7IVRyaWFuZ2xlfSB0IFRyaWFuZ2xlIG9iamVjdC4KICogQHBhcmFtIHtYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqLwoKClRyaWFuZ2xlLnByb3RvdHlwZS5vcHBvc2l0ZVBvaW50ID0gZnVuY3Rpb24gKHQsIHApIHsKICB2YXIgY3cgPSB0LnBvaW50Q1cocCk7CiAgcmV0dXJuIHRoaXMucG9pbnRDVyhjdyk7Cn07Ci8qKgogKiBMZWdhbGl6ZSB0cmlhbmdsZSBieSByb3RhdGluZyBjbG9ja3dpc2UgYXJvdW5kIG9Qb2ludAogKiBAcHJpdmF0ZQogKiBAcGFyYW0ge1hZfSBvcG9pbnQgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0ge1hZfSBucG9pbnQgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAdGhyb3dzIHtFcnJvcn0gaWYgb1BvaW50IGNhbiBub3QgYmUgZm91bmQKICovCgoKVHJpYW5nbGUucHJvdG90eXBlLmxlZ2FsaXplID0gZnVuY3Rpb24gKG9wb2ludCwgbnBvaW50KSB7CiAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXzsgLy8gSGVyZSB3ZSBhcmUgY29tcGFyaW5nIHBvaW50IHJlZmVyZW5jZXMsIG5vdCB2YWx1ZXMKCiAgaWYgKG9wb2ludCA9PT0gcG9pbnRzWzBdKSB7CiAgICBwb2ludHNbMV0gPSBwb2ludHNbMF07CiAgICBwb2ludHNbMF0gPSBwb2ludHNbMl07CiAgICBwb2ludHNbMl0gPSBucG9pbnQ7CiAgfSBlbHNlIGlmIChvcG9pbnQgPT09IHBvaW50c1sxXSkgewogICAgcG9pbnRzWzJdID0gcG9pbnRzWzFdOwogICAgcG9pbnRzWzFdID0gcG9pbnRzWzBdOwogICAgcG9pbnRzWzBdID0gbnBvaW50OwogIH0gZWxzZSBpZiAob3BvaW50ID09PSBwb2ludHNbMl0pIHsKICAgIHBvaW50c1swXSA9IHBvaW50c1syXTsKICAgIHBvaW50c1syXSA9IHBvaW50c1sxXTsKICAgIHBvaW50c1sxXSA9IG5wb2ludDsKICB9IGVsc2UgewogICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5MnRyaSBJbnZhbGlkIFRyaWFuZ2xlLmxlZ2FsaXplKCkgY2FsbCcpOwogIH0KfTsKLyoqCiAqIFJldHVybnMgdGhlIGluZGV4IG9mIGEgcG9pbnQgaW4gdGhlIHRyaWFuZ2xlLiAKICogVGhlIHBvaW50ICptdXN0KiBiZSBhIHJlZmVyZW5jZSB0byBvbmUgb2YgdGhlIHRyaWFuZ2xlJ3MgdmVydGljZXMuCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7WFl9IHAgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcmV0dXJucyB7bnVtYmVyfSBpbmRleCAwLCAxIG9yIDIKICogQHRocm93cyB7RXJyb3J9IGlmIHAgY2FuIG5vdCBiZSBmb3VuZAogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuaW5kZXggPSBmdW5jdGlvbiAocCkgewogIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187IC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCgogIGlmIChwID09PSBwb2ludHNbMF0pIHsKICAgIHJldHVybiAwOwogIH0gZWxzZSBpZiAocCA9PT0gcG9pbnRzWzFdKSB7CiAgICByZXR1cm4gMTsKICB9IGVsc2UgaWYgKHAgPT09IHBvaW50c1syXSkgewogICAgcmV0dXJuIDI7CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcigncG9seTJ0cmkgSW52YWxpZCBUcmlhbmdsZS5pbmRleCgpIGNhbGwnKTsKICB9Cn07Ci8qKgogKiBAcHJpdmF0ZQogKiBAcGFyYW0ge1hZfSBwMSAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7WFl9IHAyIC0gcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7bnVtYmVyfSBpbmRleCAwLCAxIG9yIDIsIG9yIC0xIGlmIGVycnJvcgogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUuZWRnZUluZGV4ID0gZnVuY3Rpb24gKHAxLCBwMikgewogIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187IC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCgogIGlmIChwMSA9PT0gcG9pbnRzWzBdKSB7CiAgICBpZiAocDIgPT09IHBvaW50c1sxXSkgewogICAgICByZXR1cm4gMjsKICAgIH0gZWxzZSBpZiAocDIgPT09IHBvaW50c1syXSkgewogICAgICByZXR1cm4gMTsKICAgIH0KICB9IGVsc2UgaWYgKHAxID09PSBwb2ludHNbMV0pIHsKICAgIGlmIChwMiA9PT0gcG9pbnRzWzJdKSB7CiAgICAgIHJldHVybiAwOwogICAgfSBlbHNlIGlmIChwMiA9PT0gcG9pbnRzWzBdKSB7CiAgICAgIHJldHVybiAyOwogICAgfQogIH0gZWxzZSBpZiAocDEgPT09IHBvaW50c1syXSkgewogICAgaWYgKHAyID09PSBwb2ludHNbMF0pIHsKICAgICAgcmV0dXJuIDE7CiAgICB9IGVsc2UgaWYgKHAyID09PSBwb2ludHNbMV0pIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfQoKICByZXR1cm4gLTE7Cn07Ci8qKgogKiBNYXJrIGFuIGVkZ2Ugb2YgdGhpcyB0cmlhbmdsZSBhcyBjb25zdHJhaW5lZC4KICogQHByaXZhdGUKICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gZWRnZSBpbmRleAogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUubWFya0NvbnN0cmFpbmVkRWRnZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHsKICB0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbaW5kZXhdID0gdHJ1ZTsKfTsKLyoqCiAqIE1hcmsgYW4gZWRnZSBvZiB0aGlzIHRyaWFuZ2xlIGFzIGNvbnN0cmFpbmVkLgogKiBAcHJpdmF0ZQogKiBAcGFyYW0ge0VkZ2V9IGVkZ2UgaW5zdGFuY2UKICovCgoKVHJpYW5nbGUucHJvdG90eXBlLm1hcmtDb25zdHJhaW5lZEVkZ2VCeUVkZ2UgPSBmdW5jdGlvbiAoZWRnZSkgewogIHRoaXMubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKGVkZ2UucCwgZWRnZS5xKTsKfTsKLyoqCiAqIE1hcmsgYW4gZWRnZSBvZiB0aGlzIHRyaWFuZ2xlIGFzIGNvbnN0cmFpbmVkLgogKiBUaGlzIG1ldGhvZCB0YWtlcyB0d28gUG9pbnQgaW5zdGFuY2VzIGRlZmluaW5nIHRoZSBlZGdlIG9mIHRoZSB0cmlhbmdsZS4KICogQHByaXZhdGUKICogQHBhcmFtIHtYWX0gcCAtIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7WFl9IHEgLSBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKi8KCgpUcmlhbmdsZS5wcm90b3R5cGUubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzID0gZnVuY3Rpb24gKHAsIHEpIHsKICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHNfOyAvLyBIZXJlIHdlIGFyZSBjb21wYXJpbmcgcG9pbnQgcmVmZXJlbmNlcywgbm90IHZhbHVlcyAgICAgICAgCgogIGlmIChxID09PSBwb2ludHNbMF0gJiYgcCA9PT0gcG9pbnRzWzFdIHx8IHEgPT09IHBvaW50c1sxXSAmJiBwID09PSBwb2ludHNbMF0pIHsKICAgIHRoaXMuY29uc3RyYWluZWRfZWRnZVsyXSA9IHRydWU7CiAgfSBlbHNlIGlmIChxID09PSBwb2ludHNbMF0gJiYgcCA9PT0gcG9pbnRzWzJdIHx8IHEgPT09IHBvaW50c1syXSAmJiBwID09PSBwb2ludHNbMF0pIHsKICAgIHRoaXMuY29uc3RyYWluZWRfZWRnZVsxXSA9IHRydWU7CiAgfSBlbHNlIGlmIChxID09PSBwb2ludHNbMV0gJiYgcCA9PT0gcG9pbnRzWzJdIHx8IHEgPT09IHBvaW50c1syXSAmJiBwID09PSBwb2ludHNbMV0pIHsKICAgIHRoaXMuY29uc3RyYWluZWRfZWRnZVswXSA9IHRydWU7CiAgfQp9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1FeHBvcnRzIChwdWJsaWMgQVBJKQoKCnZhciB0cmlhbmdsZSA9IFRyaWFuZ2xlOwoKLyoKICogUG9seTJUcmkgQ29weXJpZ2h0IChjKSAyMDA5LTIwMTQsIFBvbHkyVHJpIENvbnRyaWJ1dG9ycwogKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvcG9seTJ0cmkvCiAqCiAqIHBvbHkydHJpLmpzIChKYXZhU2NyaXB0IHBvcnQpIChjKSAyMDA5LTIwMTQsIFBvbHkyVHJpIENvbnRyaWJ1dG9ycwogKiBodHRwczovL2dpdGh1Yi5jb20vcjNtaS9wb2x5MnRyaS5qcwogKgogKiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgMy1jbGF1c2UgQlNEIExpY2Vuc2UsIHNlZSBMSUNFTlNFLnR4dAogKi8KLyoKICogRnVuY3Rpb24gYWRkZWQgaW4gdGhlIEphdmFTY3JpcHQgdmVyc2lvbiAod2FzIG5vdCBwcmVzZW50IGluIHRoZSBjKysgdmVyc2lvbikKICovCgovKioKICogYXNzZXJ0IGFuZCB0aHJvdyBhbiBleGNlcHRpb24uCiAqCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZGl0aW9uICAgdGhlIGNvbmRpdGlvbiB3aGljaCBpcyBhc3NlcnRlZAogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAgICAgIHRoZSBtZXNzYWdlIHdoaWNoIGlzIGRpc3BsYXkgaXMgY29uZGl0aW9uIGlzIGZhbHN5CiAqLwoKZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkgewogIGlmICghY29uZGl0aW9uKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAiQXNzZXJ0IEZhaWxlZCIpOwogIH0KfQoKdmFyIGFzc2VydF8xID0gYXNzZXJ0OwoKLyoKICogUG9seTJUcmkgQ29weXJpZ2h0IChjKSAyMDA5LTIwMTQsIFBvbHkyVHJpIENvbnRyaWJ1dG9ycwogKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvcG9seTJ0cmkvCiAqIAogKiBwb2x5MnRyaS5qcyAoSmF2YVNjcmlwdCBwb3J0KSAoYykgMjAwOS0yMDE0LCBQb2x5MlRyaSBDb250cmlidXRvcnMKICogaHR0cHM6Ly9naXRodWIuY29tL3IzbWkvcG9seTJ0cmkuanMKICogCiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgMy1jbGF1c2UgQlNEIExpY2Vuc2UsIHNlZSBMSUNFTlNFLnR4dAogKi8KLyoKICogTm90ZQogKiA9PT09CiAqIHRoZSBzdHJ1Y3R1cmUgb2YgdGhpcyBKYXZhU2NyaXB0IHZlcnNpb24gb2YgcG9seTJ0cmkgaW50ZW50aW9uYWxseSBmb2xsb3dzCiAqIGFzIGNsb3NlbHkgYXMgcG9zc2libGUgdGhlIHN0cnVjdHVyZSBvZiB0aGUgcmVmZXJlbmNlIEMrKyB2ZXJzaW9uLCB0byBtYWtlIGl0IAogKiBlYXNpZXIgdG8ga2VlcCB0aGUgMiB2ZXJzaW9ucyBpbiBzeW5jLgogKi8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU5vZGUKCi8qKgogKiBBZHZhbmNpbmcgZnJvbnQgbm9kZQogKiBAY29uc3RydWN0b3IKICogQHByaXZhdGUKICogQHN0cnVjdAogKiBAcGFyYW0geyFYWX0gcCAtIFBvaW50CiAqIEBwYXJhbSB7VHJpYW5nbGU9fSB0IHRyaWFuZ2xlIChvcHRpb25hbCkKICovCgp2YXIgTm9kZSQyID0gZnVuY3Rpb24gTm9kZShwLCB0KSB7CiAgLyoqIEB0eXBlIHtYWX0gKi8KICB0aGlzLnBvaW50ID0gcDsKICAvKiogQHR5cGUge1RyaWFuZ2xlfG51bGx9ICovCgogIHRoaXMudHJpYW5nbGUgPSB0IHx8IG51bGw7CiAgLyoqIEB0eXBlIHtOb2RlfG51bGx9ICovCgogIHRoaXMubmV4dCA9IG51bGw7CiAgLyoqIEB0eXBlIHtOb2RlfG51bGx9ICovCgogIHRoaXMucHJldiA9IG51bGw7CiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovCgogIHRoaXMudmFsdWUgPSBwLng7Cn07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUFkdmFuY2luZ0Zyb250CgovKioKICogQGNvbnN0cnVjdG9yCiAqIEBwcml2YXRlCiAqIEBzdHJ1Y3QKICogQHBhcmFtIHtOb2RlfSBoZWFkCiAqIEBwYXJhbSB7Tm9kZX0gdGFpbAogKi8KCgp2YXIgQWR2YW5jaW5nRnJvbnQgPSBmdW5jdGlvbiBBZHZhbmNpbmdGcm9udChoZWFkLCB0YWlsKSB7CiAgLyoqIEB0eXBlIHtOb2RlfSAqLwogIHRoaXMuaGVhZF8gPSBoZWFkOwogIC8qKiBAdHlwZSB7Tm9kZX0gKi8KCiAgdGhpcy50YWlsXyA9IHRhaWw7CiAgLyoqIEB0eXBlIHtOb2RlfSAqLwoKICB0aGlzLnNlYXJjaF9ub2RlXyA9IGhlYWQ7Cn07Ci8qKiBAcmV0dXJuIHtOb2RlfSAqLwoKCkFkdmFuY2luZ0Zyb250LnByb3RvdHlwZS5oZWFkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLmhlYWRfOwp9OwovKiogQHBhcmFtIHtOb2RlfSBub2RlICovCgoKQWR2YW5jaW5nRnJvbnQucHJvdG90eXBlLnNldEhlYWQgPSBmdW5jdGlvbiAobm9kZSkgewogIHRoaXMuaGVhZF8gPSBub2RlOwp9OwovKiogQHJldHVybiB7Tm9kZX0gKi8KCgpBZHZhbmNpbmdGcm9udC5wcm90b3R5cGUudGFpbCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy50YWlsXzsKfTsKLyoqIEBwYXJhbSB7Tm9kZX0gbm9kZSAqLwoKCkFkdmFuY2luZ0Zyb250LnByb3RvdHlwZS5zZXRUYWlsID0gZnVuY3Rpb24gKG5vZGUpIHsKICB0aGlzLnRhaWxfID0gbm9kZTsKfTsKLyoqIEByZXR1cm4ge05vZGV9ICovCgoKQWR2YW5jaW5nRnJvbnQucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZWFyY2hfbm9kZV87Cn07Ci8qKiBAcGFyYW0ge05vZGV9IG5vZGUgKi8KCgpBZHZhbmNpbmdGcm9udC5wcm90b3R5cGUuc2V0U2VhcmNoID0gZnVuY3Rpb24gKG5vZGUpIHsKICB0aGlzLnNlYXJjaF9ub2RlXyA9IG5vZGU7Cn07Ci8qKiBAcmV0dXJuIHtOb2RlfSAqLwoKCkFkdmFuY2luZ0Zyb250LnByb3RvdHlwZS5maW5kU2VhcmNoTm9kZSA9IGZ1bmN0aW9uCiAgLyp4Ki8KKCkgewogIC8vIFRPRE86IGltcGxlbWVudCBCU1QgaW5kZXgKICByZXR1cm4gdGhpcy5zZWFyY2hfbm9kZV87Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0geCB2YWx1ZQogKiBAcmV0dXJuIHtOb2RlfQogKi8KCgpBZHZhbmNpbmdGcm9udC5wcm90b3R5cGUubG9jYXRlTm9kZSA9IGZ1bmN0aW9uICh4KSB7CiAgdmFyIG5vZGUgPSB0aGlzLnNlYXJjaF9ub2RlXzsKICAvKiBqc2hpbnQgYm9zczp0cnVlICovCgogIGlmICh4IDwgbm9kZS52YWx1ZSkgewogICAgd2hpbGUgKG5vZGUgPSBub2RlLnByZXYpIHsKICAgICAgaWYgKHggPj0gbm9kZS52YWx1ZSkgewogICAgICAgIHRoaXMuc2VhcmNoX25vZGVfID0gbm9kZTsKICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQogIH0gZWxzZSB7CiAgICB3aGlsZSAobm9kZSA9IG5vZGUubmV4dCkgewogICAgICBpZiAoeCA8IG5vZGUudmFsdWUpIHsKICAgICAgICB0aGlzLnNlYXJjaF9ub2RlXyA9IG5vZGUucHJldjsKICAgICAgICByZXR1cm4gbm9kZS5wcmV2OwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gbnVsbDsKfTsKLyoqCiAqIEBwYXJhbSB7IVhZfSBwb2ludCAtIFBvaW50CiAqIEByZXR1cm4ge05vZGV9CiAqLwoKCkFkdmFuY2luZ0Zyb250LnByb3RvdHlwZS5sb2NhdGVQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkgewogIHZhciBweCA9IHBvaW50Lng7CiAgdmFyIG5vZGUgPSB0aGlzLmZpbmRTZWFyY2hOb2RlKHB4KTsKICB2YXIgbnggPSBub2RlLnBvaW50Lng7CgogIGlmIChweCA9PT0gbngpIHsKICAgIC8vIEhlcmUgd2UgYXJlIGNvbXBhcmluZyBwb2ludCByZWZlcmVuY2VzLCBub3QgdmFsdWVzCiAgICBpZiAocG9pbnQgIT09IG5vZGUucG9pbnQpIHsKICAgICAgLy8gV2UgbWlnaHQgaGF2ZSB0d28gbm9kZXMgd2l0aCBzYW1lIHggdmFsdWUgZm9yIGEgc2hvcnQgdGltZQogICAgICBpZiAocG9pbnQgPT09IG5vZGUucHJldi5wb2ludCkgewogICAgICAgIG5vZGUgPSBub2RlLnByZXY7CiAgICAgIH0gZWxzZSBpZiAocG9pbnQgPT09IG5vZGUubmV4dC5wb2ludCkgewogICAgICAgIG5vZGUgPSBub2RlLm5leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5MnRyaSBJbnZhbGlkIEFkdmFuY2luZ0Zyb250LmxvY2F0ZVBvaW50KCkgY2FsbCcpOwogICAgICB9CiAgICB9CiAgfSBlbHNlIGlmIChweCA8IG54KSB7CiAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovCiAgICB3aGlsZSAobm9kZSA9IG5vZGUucHJldikgewogICAgICBpZiAocG9pbnQgPT09IG5vZGUucG9pbnQpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gZWxzZSB7CiAgICB3aGlsZSAobm9kZSA9IG5vZGUubmV4dCkgewogICAgICBpZiAocG9pbnQgPT09IG5vZGUucG9pbnQpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KCiAgaWYgKG5vZGUpIHsKICAgIHRoaXMuc2VhcmNoX25vZGVfID0gbm9kZTsKICB9CgogIHJldHVybiBub2RlOwp9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tRXhwb3J0cwoKCnZhciBhZHZhbmNpbmdmcm9udCA9IEFkdmFuY2luZ0Zyb250Owp2YXIgTm9kZV8xID0gTm9kZSQyOwphZHZhbmNpbmdmcm9udC5Ob2RlID0gTm9kZV8xOwoKLyoKICogUG9seTJUcmkgQ29weXJpZ2h0IChjKSAyMDA5LTIwMTQsIFBvbHkyVHJpIENvbnRyaWJ1dG9ycwogKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvcG9seTJ0cmkvCiAqIAogKiBwb2x5MnRyaS5qcyAoSmF2YVNjcmlwdCBwb3J0KSAoYykgMjAwOS0yMDE0LCBQb2x5MlRyaSBDb250cmlidXRvcnMKICogaHR0cHM6Ly9naXRodWIuY29tL3IzbWkvcG9seTJ0cmkuanMKICogCiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgMy1jbGF1c2UgQlNEIExpY2Vuc2UsIHNlZSBMSUNFTlNFLnR4dAogKi8KLyoqCiAqIFByZWNpc2lvbiB0byBkZXRlY3QgcmVwZWF0ZWQgb3IgY29sbGluZWFyIHBvaW50cwogKiBAcHJpdmF0ZQogKiBAY29uc3Qge251bWJlcn0KICogQGRlZmF1bHQKICovCgp2YXIgRVBTSUxPTiQxID0gMWUtMTI7CnZhciBFUFNJTE9OXzEgPSBFUFNJTE9OJDE7Ci8qKgogKiBAcHJpdmF0ZQogKiBAZW51bSB7bnVtYmVyfQogKiBAcmVhZG9ubHkKICovCgp2YXIgT3JpZW50YXRpb24kMSA9IHsKICAiQ1ciOiAxLAogICJDQ1ciOiAtMSwKICAiQ09MTElORUFSIjogMAp9Owp2YXIgT3JpZW50YXRpb25fMSA9IE9yaWVudGF0aW9uJDE7Ci8qKgogKiBGb3JtdWxhIHRvIGNhbGN1bGF0ZSBzaWduZWQgYXJlYTxicj4KICogUG9zaXRpdmUgaWYgQ0NXPGJyPgogKiBOZWdhdGl2ZSBpZiBDVzxicj4KICogMCBpZiBjb2xsaW5lYXI8YnI+CiAqIDxwcmU+CiAqIEFbUDEsUDIsUDNdICA9ICAoeDEqeTIgLSB5MSp4MikgKyAoeDIqeTMgLSB5Mip4MykgKyAoeDMqeTEgLSB5Myp4MSkKICogICAgICAgICAgICAgID0gICh4MS14MykqKHkyLXkzKSAtICh5MS15MykqKHgyLXgzKQogKiA8L3ByZT4KICoKICogQHByaXZhdGUKICogQHBhcmFtIHshWFl9IHBhICBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gcGIgIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBwYyAgcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7T3JpZW50YXRpb259CiAqLwoKZnVuY3Rpb24gb3JpZW50MmQkMShwYSwgcGIsIHBjKSB7CiAgdmFyIGRldGxlZnQgPSAocGEueCAtIHBjLngpICogKHBiLnkgLSBwYy55KTsKICB2YXIgZGV0cmlnaHQgPSAocGEueSAtIHBjLnkpICogKHBiLnggLSBwYy54KTsKICB2YXIgdmFsID0gZGV0bGVmdCAtIGRldHJpZ2h0OwoKICBpZiAodmFsID4gLUVQU0lMT04kMSAmJiB2YWwgPCBFUFNJTE9OJDEpIHsKICAgIHJldHVybiBPcmllbnRhdGlvbiQxLkNPTExJTkVBUjsKICB9IGVsc2UgaWYgKHZhbCA+IDApIHsKICAgIHJldHVybiBPcmllbnRhdGlvbiQxLkNDVzsKICB9IGVsc2UgewogICAgcmV0dXJuIE9yaWVudGF0aW9uJDEuQ1c7CiAgfQp9Cgp2YXIgb3JpZW50MmRfMSA9IG9yaWVudDJkJDE7Ci8qKgogKgogKiBAcHJpdmF0ZQogKiBAcGFyYW0geyFYWX0gcGEgIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBwYiAgcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHBhcmFtIHshWFl9IHBjICBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gcGQgIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEByZXR1cm4ge2Jvb2xlYW59CiAqLwoKZnVuY3Rpb24gaW5TY2FuQXJlYSQxKHBhLCBwYiwgcGMsIHBkKSB7CiAgdmFyIG9hZGIgPSAocGEueCAtIHBiLngpICogKHBkLnkgLSBwYi55KSAtIChwZC54IC0gcGIueCkgKiAocGEueSAtIHBiLnkpOwoKICBpZiAob2FkYiA+PSAtRVBTSUxPTiQxKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgb2FkYyA9IChwYS54IC0gcGMueCkgKiAocGQueSAtIHBjLnkpIC0gKHBkLnggLSBwYy54KSAqIChwYS55IC0gcGMueSk7CgogIGlmIChvYWRjIDw9IEVQU0lMT04kMSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgcmV0dXJuIHRydWU7Cn0KCnZhciBpblNjYW5BcmVhXzEgPSBpblNjYW5BcmVhJDE7Ci8qKgogKiBDaGVjayBpZiB0aGUgYW5nbGUgYmV0d2VlbiAocGEscGIpIGFuZCAocGEscGMpIGlzIG9idHVzZSBpLmUuIChhbmdsZSA+IM+ALzIgfHwgYW5nbGUgPCAtz4AvMikKICoKICogQHByaXZhdGUKICogQHBhcmFtIHshWFl9IHBhICBwb2ludCBvYmplY3Qgd2l0aCB7eCx5fQogKiBAcGFyYW0geyFYWX0gcGIgIHBvaW50IG9iamVjdCB3aXRoIHt4LHl9CiAqIEBwYXJhbSB7IVhZfSBwYyAgcG9pbnQgb2JqZWN0IHdpdGgge3gseX0KICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBhbmdsZSBpcyBvYnR1c2UKICovCgpmdW5jdGlvbiBpc0FuZ2xlT2J0dXNlJDEocGEsIHBiLCBwYykgewogIHZhciBheCA9IHBiLnggLSBwYS54OwogIHZhciBheSA9IHBiLnkgLSBwYS55OwogIHZhciBieCA9IHBjLnggLSBwYS54OwogIHZhciBieSA9IHBjLnkgLSBwYS55OwogIHJldHVybiBheCAqIGJ4ICsgYXkgKiBieSA8IDA7Cn0KCnZhciBpc0FuZ2xlT2J0dXNlXzEgPSBpc0FuZ2xlT2J0dXNlJDE7CnZhciB1dGlscyA9IHsKICBFUFNJTE9OOiBFUFNJTE9OXzEsCiAgT3JpZW50YXRpb246IE9yaWVudGF0aW9uXzEsCiAgb3JpZW50MmQ6IG9yaWVudDJkXzEsCiAgaW5TY2FuQXJlYTogaW5TY2FuQXJlYV8xLAogIGlzQW5nbGVPYnR1c2U6IGlzQW5nbGVPYnR1c2VfMQp9OwoKLyoqCiAqIFRoaXMgJ1N3ZWVwJyBtb2R1bGUgaXMgcHJlc2VudCBpbiBvcmRlciB0byBrZWVwIHRoaXMgSmF2YVNjcmlwdCB2ZXJzaW9uCiAqIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIHRoZSByZWZlcmVuY2UgQysrIHZlcnNpb24sIGV2ZW4gdGhvdWdoIGFsbW9zdCBhbGwKICogZnVuY3Rpb25zIGNvdWxkIGJlIGRlY2xhcmVkIGFzIG1ldGhvZHMgb24gdGhlIHtAbGlua2NvZGUgbW9kdWxlOnN3ZWVwY29udGV4dH5Td2VlcENvbnRleHR9IG9iamVjdC4KICogQG1vZHVsZQogKiBAcHJpdmF0ZQogKi8KCi8qCiAqIE5vdGUKICogPT09PQogKiB0aGUgc3RydWN0dXJlIG9mIHRoaXMgSmF2YVNjcmlwdCB2ZXJzaW9uIG9mIHBvbHkydHJpIGludGVudGlvbmFsbHkgZm9sbG93cwogKiBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHJlZmVyZW5jZSBDKysgdmVyc2lvbiwgdG8gbWFrZSBpdCAKICogZWFzaWVyIHRvIGtlZXAgdGhlIDIgdmVyc2lvbnMgaW4gc3luYy4KICovCgoKdmFyIE5vZGUkMSA9IGFkdmFuY2luZ2Zyb250Lk5vZGU7IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXV0aWxzCgovKiogQGNvbnN0ICovCgp2YXIgRVBTSUxPTiA9IHV0aWxzLkVQU0lMT047Ci8qKiBAY29uc3QgKi8KCnZhciBPcmllbnRhdGlvbiA9IHV0aWxzLk9yaWVudGF0aW9uOwovKiogQGNvbnN0ICovCgp2YXIgb3JpZW50MmQgPSB1dGlscy5vcmllbnQyZDsKLyoqIEBjb25zdCAqLwoKdmFyIGluU2NhbkFyZWEgPSB1dGlscy5pblNjYW5BcmVhOwovKiogQGNvbnN0ICovCgp2YXIgaXNBbmdsZU9idHVzZSA9IHV0aWxzLmlzQW5nbGVPYnR1c2U7IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVN3ZWVwCgovKioKICogVHJpYW5ndWxhdGUgdGhlIHBvbHlnb24gd2l0aCBob2xlcyBhbmQgU3RlaW5lciBwb2ludHMuCiAqIERvIHRoaXMgQUZURVIgeW91J3ZlIGFkZGVkIHRoZSBwb2x5bGluZSwgaG9sZXMsIGFuZCBTdGVpbmVyIHBvaW50cwogKiBAcHJpdmF0ZQogKiBAcGFyYW0geyFTd2VlcENvbnRleHR9IHRjeCAtIFN3ZWVwQ29udGV4dCBvYmplY3QKICovCgpmdW5jdGlvbiB0cmlhbmd1bGF0ZSh0Y3gpIHsKICB0Y3guaW5pdFRyaWFuZ3VsYXRpb24oKTsKICB0Y3guY3JlYXRlQWR2YW5jaW5nRnJvbnQoKTsgLy8gU3dlZXAgcG9pbnRzOyBidWlsZCBtZXNoCgogIHN3ZWVwUG9pbnRzKHRjeCk7IC8vIENsZWFuIHVwCgogIGZpbmFsaXphdGlvblBvbHlnb24odGN4KTsKfQovKioKICogU3RhcnQgc3dlZXBpbmcgdGhlIFktc29ydGVkIHBvaW50IHNldCBmcm9tIGJvdHRvbSB0byB0b3AKICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqLwoKCmZ1bmN0aW9uIHN3ZWVwUG9pbnRzKHRjeCkgewogIHZhciBpLAogICAgICBsZW4gPSB0Y3gucG9pbnRDb3VudCgpOwoKICBmb3IgKGkgPSAxOyBpIDwgbGVuOyArK2kpIHsKICAgIHZhciBwb2ludCA9IHRjeC5nZXRQb2ludChpKTsKICAgIHZhciBub2RlID0gcG9pbnRFdmVudCh0Y3gsIHBvaW50KTsKICAgIHZhciBlZGdlcyA9IHBvaW50Ll9wMnRfZWRnZV9saXN0OwoKICAgIGZvciAodmFyIGogPSAwOyBlZGdlcyAmJiBqIDwgZWRnZXMubGVuZ3RoOyArK2opIHsKICAgICAgZWRnZUV2ZW50QnlFZGdlKHRjeCwgZWRnZXNbal0sIG5vZGUpOwogICAgfQogIH0KfQovKioKICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqLwoKCmZ1bmN0aW9uIGZpbmFsaXphdGlvblBvbHlnb24odGN4KSB7CiAgLy8gR2V0IGFuIEludGVybmFsIHRyaWFuZ2xlIHRvIHN0YXJ0IHdpdGgKICB2YXIgdCA9IHRjeC5mcm9udCgpLmhlYWQoKS5uZXh0LnRyaWFuZ2xlOwogIHZhciBwID0gdGN4LmZyb250KCkuaGVhZCgpLm5leHQucG9pbnQ7CgogIHdoaWxlICghdC5nZXRDb25zdHJhaW5lZEVkZ2VDVyhwKSkgewogICAgdCA9IHQubmVpZ2hib3JDQ1cocCk7CiAgfSAvLyBDb2xsZWN0IGludGVyaW9yIHRyaWFuZ2xlcyBjb25zdHJhaW5lZCBieSBlZGdlcwoKCiAgdGN4Lm1lc2hDbGVhbih0KTsKfQovKioKICogRmluZCBjbG9zZXMgbm9kZSB0byB0aGUgbGVmdCBvZiB0aGUgbmV3IHBvaW50IGFuZAogKiBjcmVhdGUgYSBuZXcgdHJpYW5nbGUuIElmIG5lZWRlZCBuZXcgaG9sZXMgYW5kIGJhc2lucwogKiB3aWxsIGJlIGZpbGxlZCB0by4KICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqIEBwYXJhbSB7IVhZfSBwb2ludCAgIFBvaW50CiAqLwoKCmZ1bmN0aW9uIHBvaW50RXZlbnQodGN4LCBwb2ludCkgewogIHZhciBub2RlID0gdGN4LmxvY2F0ZU5vZGUocG9pbnQpOwogIHZhciBuZXdfbm9kZSA9IG5ld0Zyb250VHJpYW5nbGUodGN4LCBwb2ludCwgbm9kZSk7IC8vIE9ubHkgbmVlZCB0byBjaGVjayArZXBzaWxvbiBzaW5jZSBwb2ludCBuZXZlciBoYXZlIHNtYWxsZXIKICAvLyB4IHZhbHVlIHRoYW4gbm9kZSBkdWUgdG8gaG93IHdlIGZldGNoIG5vZGVzIGZyb20gdGhlIGZyb250CgogIGlmIChwb2ludC54IDw9IG5vZGUucG9pbnQueCArIEVQU0lMT04pIHsKICAgIGZpbGwodGN4LCBub2RlKTsKICB9IC8vdGN4LkFkZE5vZGUobmV3X25vZGUpOwoKCiAgZmlsbEFkdmFuY2luZ0Zyb250KHRjeCwgbmV3X25vZGUpOwogIHJldHVybiBuZXdfbm9kZTsKfQoKZnVuY3Rpb24gZWRnZUV2ZW50QnlFZGdlKHRjeCwgZWRnZSwgbm9kZSkgewogIHRjeC5lZGdlX2V2ZW50LmNvbnN0cmFpbmVkX2VkZ2UgPSBlZGdlOwogIHRjeC5lZGdlX2V2ZW50LnJpZ2h0ID0gZWRnZS5wLnggPiBlZGdlLnEueDsKCiAgaWYgKGlzRWRnZVNpZGVPZlRyaWFuZ2xlKG5vZGUudHJpYW5nbGUsIGVkZ2UucCwgZWRnZS5xKSkgewogICAgcmV0dXJuOwogIH0gLy8gRm9yIG5vdyB3ZSB3aWxsIGRvIGFsbCBuZWVkZWQgZmlsbGluZwogIC8vIFRPRE86IGludGVncmF0ZSB3aXRoIGZsaXAgcHJvY2VzcyBtaWdodCBnaXZlIHNvbWUgYmV0dGVyIHBlcmZvcm1hbmNlCiAgLy8gICAgICAgYnV0IGZvciBub3cgdGhpcyBhdm9pZCB0aGUgaXNzdWUgd2l0aCBjYXNlcyB0aGF0IG5lZWRzIGJvdGggZmxpcHMgYW5kIGZpbGxzCgoKICBmaWxsRWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7CiAgZWRnZUV2ZW50QnlQb2ludHModGN4LCBlZGdlLnAsIGVkZ2UucSwgbm9kZS50cmlhbmdsZSwgZWRnZS5xKTsKfQoKZnVuY3Rpb24gZWRnZUV2ZW50QnlQb2ludHModGN4LCBlcCwgZXEsIHRyaWFuZ2xlLCBwb2ludCkgewogIGlmIChpc0VkZ2VTaWRlT2ZUcmlhbmdsZSh0cmlhbmdsZSwgZXAsIGVxKSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIHAxID0gdHJpYW5nbGUucG9pbnRDQ1cocG9pbnQpOwogIHZhciBvMSA9IG9yaWVudDJkKGVxLCBwMSwgZXApOwoKICBpZiAobzEgPT09IE9yaWVudGF0aW9uLkNPTExJTkVBUikgewogICAgLy8gVE9ETyBpbnRlZ3JhdGUgaGVyZSBjaGFuZ2VzIGZyb20gQysrIHZlcnNpb24KICAgIC8vIChDKysgcmVwbyByZXZpc2lvbiAwOTg4MGE4NjkwOTUgZGF0ZWQgTWFyY2ggOCwgMjAxMSkKICAgIHRocm93IG5ldyBwb2ludGVycm9yKCdwb2x5MnRyaSBFZGdlRXZlbnQ6IENvbGxpbmVhciBub3Qgc3VwcG9ydGVkIScsIFtlcSwgcDEsIGVwXSk7CiAgfQoKICB2YXIgcDIgPSB0cmlhbmdsZS5wb2ludENXKHBvaW50KTsKICB2YXIgbzIgPSBvcmllbnQyZChlcSwgcDIsIGVwKTsKCiAgaWYgKG8yID09PSBPcmllbnRhdGlvbi5DT0xMSU5FQVIpIHsKICAgIC8vIFRPRE8gaW50ZWdyYXRlIGhlcmUgY2hhbmdlcyBmcm9tIEMrKyB2ZXJzaW9uCiAgICAvLyAoQysrIHJlcG8gcmV2aXNpb24gMDk4ODBhODY5MDk1IGRhdGVkIE1hcmNoIDgsIDIwMTEpCiAgICB0aHJvdyBuZXcgcG9pbnRlcnJvcigncG9seTJ0cmkgRWRnZUV2ZW50OiBDb2xsaW5lYXIgbm90IHN1cHBvcnRlZCEnLCBbZXEsIHAyLCBlcF0pOwogIH0KCiAgaWYgKG8xID09PSBvMikgewogICAgLy8gTmVlZCB0byBkZWNpZGUgaWYgd2UgYXJlIHJvdGF0aW5nIENXIG9yIENDVyB0byBnZXQgdG8gYSB0cmlhbmdsZQogICAgLy8gdGhhdCB3aWxsIGNyb3NzIGVkZ2UKICAgIGlmIChvMSA9PT0gT3JpZW50YXRpb24uQ1cpIHsKICAgICAgdHJpYW5nbGUgPSB0cmlhbmdsZS5uZWlnaGJvckNDVyhwb2ludCk7CiAgICB9IGVsc2UgewogICAgICB0cmlhbmdsZSA9IHRyaWFuZ2xlLm5laWdoYm9yQ1cocG9pbnQpOwogICAgfQoKICAgIGVkZ2VFdmVudEJ5UG9pbnRzKHRjeCwgZXAsIGVxLCB0cmlhbmdsZSwgcG9pbnQpOwogIH0gZWxzZSB7CiAgICAvLyBUaGlzIHRyaWFuZ2xlIGNyb3NzZXMgY29uc3RyYWludCBzbyBsZXRzIGZsaXBwaW4gc3RhcnQhCiAgICBmbGlwRWRnZUV2ZW50KHRjeCwgZXAsIGVxLCB0cmlhbmdsZSwgcG9pbnQpOwogIH0KfQoKZnVuY3Rpb24gaXNFZGdlU2lkZU9mVHJpYW5nbGUodHJpYW5nbGUsIGVwLCBlcSkgewogIHZhciBpbmRleCA9IHRyaWFuZ2xlLmVkZ2VJbmRleChlcCwgZXEpOwoKICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICB0cmlhbmdsZS5tYXJrQ29uc3RyYWluZWRFZGdlQnlJbmRleChpbmRleCk7CiAgICB2YXIgdCA9IHRyaWFuZ2xlLmdldE5laWdoYm9yKGluZGV4KTsKCiAgICBpZiAodCkgewogICAgICB0Lm1hcmtDb25zdHJhaW5lZEVkZ2VCeVBvaW50cyhlcCwgZXEpOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgcmV0dXJuIGZhbHNlOwp9Ci8qKgogKiBDcmVhdGVzIGEgbmV3IGZyb250IHRyaWFuZ2xlIGFuZCBsZWdhbGl6ZSBpdAogKiBAcGFyYW0geyFTd2VlcENvbnRleHR9IHRjeCAtIFN3ZWVwQ29udGV4dCBvYmplY3QKICovCgoKZnVuY3Rpb24gbmV3RnJvbnRUcmlhbmdsZSh0Y3gsIHBvaW50LCBub2RlKSB7CiAgdmFyIHRyaWFuZ2xlJDEgPSBuZXcgdHJpYW5nbGUocG9pbnQsIG5vZGUucG9pbnQsIG5vZGUubmV4dC5wb2ludCk7CiAgdHJpYW5nbGUkMS5tYXJrTmVpZ2hib3Iobm9kZS50cmlhbmdsZSk7CiAgdGN4LmFkZFRvTWFwKHRyaWFuZ2xlJDEpOwogIHZhciBuZXdfbm9kZSA9IG5ldyBOb2RlJDEocG9pbnQpOwogIG5ld19ub2RlLm5leHQgPSBub2RlLm5leHQ7CiAgbmV3X25vZGUucHJldiA9IG5vZGU7CiAgbm9kZS5uZXh0LnByZXYgPSBuZXdfbm9kZTsKICBub2RlLm5leHQgPSBuZXdfbm9kZTsKCiAgaWYgKCFsZWdhbGl6ZSh0Y3gsIHRyaWFuZ2xlJDEpKSB7CiAgICB0Y3gubWFwVHJpYW5nbGVUb05vZGVzKHRyaWFuZ2xlJDEpOwogIH0KCiAgcmV0dXJuIG5ld19ub2RlOwp9Ci8qKgogKiBBZGRzIGEgdHJpYW5nbGUgdG8gdGhlIGFkdmFuY2luZyBmcm9udCB0byBmaWxsIGEgaG9sZS4KICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqIEBwYXJhbSBub2RlIC0gbWlkZGxlIG5vZGUsIHRoYXQgaXMgdGhlIGJvdHRvbSBvZiB0aGUgaG9sZQogKi8KCgpmdW5jdGlvbiBmaWxsKHRjeCwgbm9kZSkgewogIHZhciB0cmlhbmdsZSQxID0gbmV3IHRyaWFuZ2xlKG5vZGUucHJldi5wb2ludCwgbm9kZS5wb2ludCwgbm9kZS5uZXh0LnBvaW50KTsgLy8gVE9ETzogc2hvdWxkIGNvcHkgdGhlIGNvbnN0cmFpbmVkX2VkZ2UgdmFsdWUgZnJvbSBuZWlnaGJvciB0cmlhbmdsZXMKICAvLyAgICAgICBmb3Igbm93IGNvbnN0cmFpbmVkX2VkZ2UgdmFsdWVzIGFyZSBjb3BpZWQgZHVyaW5nIHRoZSBsZWdhbGl6ZQoKICB0cmlhbmdsZSQxLm1hcmtOZWlnaGJvcihub2RlLnByZXYudHJpYW5nbGUpOwogIHRyaWFuZ2xlJDEubWFya05laWdoYm9yKG5vZGUudHJpYW5nbGUpOwogIHRjeC5hZGRUb01hcCh0cmlhbmdsZSQxKTsgLy8gVXBkYXRlIHRoZSBhZHZhbmNpbmcgZnJvbnQKCiAgbm9kZS5wcmV2Lm5leHQgPSBub2RlLm5leHQ7CiAgbm9kZS5uZXh0LnByZXYgPSBub2RlLnByZXY7IC8vIElmIGl0IHdhcyBsZWdhbGl6ZWQgdGhlIHRyaWFuZ2xlIGhhcyBhbHJlYWR5IGJlZW4gbWFwcGVkCgogIGlmICghbGVnYWxpemUodGN4LCB0cmlhbmdsZSQxKSkgewogICAgdGN4Lm1hcFRyaWFuZ2xlVG9Ob2Rlcyh0cmlhbmdsZSQxKTsKICB9IC8vdGN4LnJlbW92ZU5vZGUobm9kZSk7Cgp9Ci8qKgogKiBGaWxscyBob2xlcyBpbiB0aGUgQWR2YW5jaW5nIEZyb250CiAqIEBwYXJhbSB7IVN3ZWVwQ29udGV4dH0gdGN4IC0gU3dlZXBDb250ZXh0IG9iamVjdAogKi8KCgpmdW5jdGlvbiBmaWxsQWR2YW5jaW5nRnJvbnQodGN4LCBuKSB7CiAgLy8gRmlsbCByaWdodCBob2xlcwogIHZhciBub2RlID0gbi5uZXh0OwoKICB3aGlsZSAobm9kZS5uZXh0KSB7CiAgICAvLyBUT0RPIGludGVncmF0ZSBoZXJlIGNoYW5nZXMgZnJvbSBDKysgdmVyc2lvbgogICAgLy8gKEMrKyByZXBvIHJldmlzaW9uIGFjZjgxZjFmMTc2NCBkYXRlZCBBcHJpbCA3LCAyMDEyKQogICAgaWYgKGlzQW5nbGVPYnR1c2Uobm9kZS5wb2ludCwgbm9kZS5uZXh0LnBvaW50LCBub2RlLnByZXYucG9pbnQpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGZpbGwodGN4LCBub2RlKTsKICAgIG5vZGUgPSBub2RlLm5leHQ7CiAgfSAvLyBGaWxsIGxlZnQgaG9sZXMKCgogIG5vZGUgPSBuLnByZXY7CgogIHdoaWxlIChub2RlLnByZXYpIHsKICAgIC8vIFRPRE8gaW50ZWdyYXRlIGhlcmUgY2hhbmdlcyBmcm9tIEMrKyB2ZXJzaW9uCiAgICAvLyAoQysrIHJlcG8gcmV2aXNpb24gYWNmODFmMWYxNzY0IGRhdGVkIEFwcmlsIDcsIDIwMTIpCiAgICBpZiAoaXNBbmdsZU9idHVzZShub2RlLnBvaW50LCBub2RlLm5leHQucG9pbnQsIG5vZGUucHJldi5wb2ludCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgZmlsbCh0Y3gsIG5vZGUpOwogICAgbm9kZSA9IG5vZGUucHJldjsKICB9IC8vIEZpbGwgcmlnaHQgYmFzaW5zCgoKICBpZiAobi5uZXh0ICYmIG4ubmV4dC5uZXh0KSB7CiAgICBpZiAoaXNCYXNpbkFuZ2xlUmlnaHQobikpIHsKICAgICAgZmlsbEJhc2luKHRjeCwgbik7CiAgICB9CiAgfQp9Ci8qKgogKiBUaGUgYmFzaW4gYW5nbGUgaXMgZGVjaWRlZCBhZ2FpbnN0IHRoZSBob3Jpem9udGFsIGxpbmUgWzEsMF0uCiAqIEBwYXJhbSB7Tm9kZX0gbm9kZQogKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGFuZ2xlIDwgMyrPgC80CiAqLwoKCmZ1bmN0aW9uIGlzQmFzaW5BbmdsZVJpZ2h0KG5vZGUpIHsKICB2YXIgYXggPSBub2RlLnBvaW50LnggLSBub2RlLm5leHQubmV4dC5wb2ludC54OwogIHZhciBheSA9IG5vZGUucG9pbnQueSAtIG5vZGUubmV4dC5uZXh0LnBvaW50Lnk7CiAgYXNzZXJ0XzEoYXkgPj0gMCwgInVub3JkZXJlZCB5Iik7CiAgcmV0dXJuIGF4ID49IDAgfHwgTWF0aC5hYnMoYXgpIDwgYXk7Cn0KLyoqCiAqIFJldHVybnMgdHJ1ZSBpZiB0cmlhbmdsZSB3YXMgbGVnYWxpemVkCiAqIEBwYXJhbSB7IVN3ZWVwQ29udGV4dH0gdGN4IC0gU3dlZXBDb250ZXh0IG9iamVjdAogKiBAcmV0dXJuIHtib29sZWFufQogKi8KCgpmdW5jdGlvbiBsZWdhbGl6ZSh0Y3gsIHQpIHsKICAvLyBUbyBsZWdhbGl6ZSBhIHRyaWFuZ2xlIHdlIHN0YXJ0IGJ5IGZpbmRpbmcgaWYgYW55IG9mIHRoZSB0aHJlZSBlZGdlcwogIC8vIHZpb2xhdGUgdGhlIERlbGF1bmF5IGNvbmRpdGlvbgogIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgKytpKSB7CiAgICBpZiAodC5kZWxhdW5heV9lZGdlW2ldKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIHZhciBvdCA9IHQuZ2V0TmVpZ2hib3IoaSk7CgogICAgaWYgKG90KSB7CiAgICAgIHZhciBwID0gdC5nZXRQb2ludChpKTsKICAgICAgdmFyIG9wID0gb3Qub3Bwb3NpdGVQb2ludCh0LCBwKTsKICAgICAgdmFyIG9pID0gb3QuaW5kZXgob3ApOyAvLyBJZiB0aGlzIGlzIGEgQ29uc3RyYWluZWQgRWRnZSBvciBhIERlbGF1bmF5IEVkZ2Uob25seSBkdXJpbmcgcmVjdXJzaXZlIGxlZ2FsaXphdGlvbikKICAgICAgLy8gdGhlbiB3ZSBzaG91bGQgbm90IHRyeSB0byBsZWdhbGl6ZQoKICAgICAgaWYgKG90LmNvbnN0cmFpbmVkX2VkZ2Vbb2ldIHx8IG90LmRlbGF1bmF5X2VkZ2Vbb2ldKSB7CiAgICAgICAgdC5jb25zdHJhaW5lZF9lZGdlW2ldID0gb3QuY29uc3RyYWluZWRfZWRnZVtvaV07CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIHZhciBpbnNpZGUgPSBpbkNpcmNsZShwLCB0LnBvaW50Q0NXKHApLCB0LnBvaW50Q1cocCksIG9wKTsKCiAgICAgIGlmIChpbnNpZGUpIHsKICAgICAgICAvLyBMZXRzIG1hcmsgdGhpcyBzaGFyZWQgZWRnZSBhcyBEZWxhdW5heQogICAgICAgIHQuZGVsYXVuYXlfZWRnZVtpXSA9IHRydWU7CiAgICAgICAgb3QuZGVsYXVuYXlfZWRnZVtvaV0gPSB0cnVlOyAvLyBMZXRzIHJvdGF0ZSBzaGFyZWQgZWRnZSBvbmUgdmVydGV4IENXIHRvIGxlZ2FsaXplIGl0CgogICAgICAgIHJvdGF0ZVRyaWFuZ2xlUGFpcih0LCBwLCBvdCwgb3ApOyAvLyBXZSBub3cgZ290IG9uZSB2YWxpZCBEZWxhdW5heSBFZGdlIHNoYXJlZCBieSB0d28gdHJpYW5nbGVzCiAgICAgICAgLy8gVGhpcyBnaXZlcyB1cyA0IG5ldyBlZGdlcyB0byBjaGVjayBmb3IgRGVsYXVuYXkKICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0cmlhbmdsZSB0byBub2RlIG1hcHBpbmcgaXMgZG9uZSBvbmx5IG9uZSB0aW1lIGZvciBhIHNwZWNpZmljIHRyaWFuZ2xlCgogICAgICAgIHZhciBub3RfbGVnYWxpemVkID0gIWxlZ2FsaXplKHRjeCwgdCk7CgogICAgICAgIGlmIChub3RfbGVnYWxpemVkKSB7CiAgICAgICAgICB0Y3gubWFwVHJpYW5nbGVUb05vZGVzKHQpOwogICAgICAgIH0KCiAgICAgICAgbm90X2xlZ2FsaXplZCA9ICFsZWdhbGl6ZSh0Y3gsIG90KTsKCiAgICAgICAgaWYgKG5vdF9sZWdhbGl6ZWQpIHsKICAgICAgICAgIHRjeC5tYXBUcmlhbmdsZVRvTm9kZXMob3QpOwogICAgICAgIH0gLy8gUmVzZXQgdGhlIERlbGF1bmF5IGVkZ2VzLCBzaW5jZSB0aGV5IG9ubHkgYXJlIHZhbGlkIERlbGF1bmF5IGVkZ2VzCiAgICAgICAgLy8gdW50aWwgd2UgYWRkIGEgbmV3IHRyaWFuZ2xlIG9yIHBvaW50LgogICAgICAgIC8vIFhYWDogbmVlZCB0byB0aGluayBhYm91dCB0aGlzLiBDYW4gdGhlc2UgZWRnZXMgYmUgdHJpZWQgYWZ0ZXIgd2UKICAgICAgICAvLyAgICAgIHJldHVybiB0byBwcmV2aW91cyByZWN1cnNpdmUgbGV2ZWw/CgoKICAgICAgICB0LmRlbGF1bmF5X2VkZ2VbaV0gPSBmYWxzZTsKICAgICAgICBvdC5kZWxhdW5heV9lZGdlW29pXSA9IGZhbHNlOyAvLyBJZiB0cmlhbmdsZSBoYXZlIGJlZW4gbGVnYWxpemVkIG5vIG5lZWQgdG8gY2hlY2sgdGhlIG90aGVyIGVkZ2VzIHNpbmNlCiAgICAgICAgLy8gdGhlIHJlY3Vyc2l2ZSBsZWdhbGl6YXRpb24gd2lsbCBoYW5kbGVzIHRob3NlIHNvIHdlIGNhbiBlbmQgaGVyZS4KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBmYWxzZTsKfQovKioKICogPGI+UmVxdWlyZW1lbnQ8L2I+Ojxicj4KICogMS4gYSxiIGFuZCBjIGZvcm0gYSB0cmlhbmdsZS48YnI+CiAqIDIuIGEgYW5kIGQgaXMga25vdyB0byBiZSBvbiBvcHBvc2l0ZSBzaWRlIG9mIGJjPGJyPgogKiA8cHJlPgogKiAgICAgICAgICAgICAgICBhCiAqICAgICAgICAgICAgICAgICsKICogICAgICAgICAgICAgICAvIFwKICogICAgICAgICAgICAgIC8gICBcCiAqICAgICAgICAgICAgYi8gICAgIFxjCiAqICAgICAgICAgICAgKy0tLS0tLS0rCiAqICAgICAgICAgICAvICAgIGQgICAgXAogKiAgICAgICAgICAvICAgICAgICAgICBcCiAqIDwvcHJlPgogKiA8Yj5GYWN0PC9iPjogZCBoYXMgdG8gYmUgaW4gYXJlYSBCIHRvIGhhdmUgYSBjaGFuY2UgdG8gYmUgaW5zaWRlIHRoZSBjaXJjbGUgZm9ybWVkIGJ5CiAqICBhLGIgYW5kIGM8YnI+CiAqICBkIGlzIG91dHNpZGUgQiBpZiBvcmllbnQyZChhLGIsZCkgb3Igb3JpZW50MmQoYyxhLGQpIGlzIENXPGJyPgogKiAgVGhpcyBwcmVrbm93bGVkZ2UgZ2l2ZXMgdXMgYSB3YXkgdG8gb3B0aW1pemUgdGhlIGluY2lyY2xlIHRlc3QKICogQHBhcmFtIHBhIC0gdHJpYW5nbGUgcG9pbnQsIG9wcG9zaXRlIGQKICogQHBhcmFtIHBiIC0gdHJpYW5nbGUgcG9pbnQKICogQHBhcmFtIHBjIC0gdHJpYW5nbGUgcG9pbnQKICogQHBhcmFtIHBkIC0gcG9pbnQgb3Bwb3NpdGUgYQogKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGQgaXMgaW5zaWRlIGNpcmNsZSwgZmFsc2UgaWYgb24gY2lyY2xlIGVkZ2UKICovCgoKZnVuY3Rpb24gaW5DaXJjbGUocGEsIHBiLCBwYywgcGQpIHsKICB2YXIgYWR4ID0gcGEueCAtIHBkLng7CiAgdmFyIGFkeSA9IHBhLnkgLSBwZC55OwogIHZhciBiZHggPSBwYi54IC0gcGQueDsKICB2YXIgYmR5ID0gcGIueSAtIHBkLnk7CiAgdmFyIGFkeGJkeSA9IGFkeCAqIGJkeTsKICB2YXIgYmR4YWR5ID0gYmR4ICogYWR5OwogIHZhciBvYWJkID0gYWR4YmR5IC0gYmR4YWR5OwoKICBpZiAob2FiZCA8PSAwKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgY2R4ID0gcGMueCAtIHBkLng7CiAgdmFyIGNkeSA9IHBjLnkgLSBwZC55OwogIHZhciBjZHhhZHkgPSBjZHggKiBhZHk7CiAgdmFyIGFkeGNkeSA9IGFkeCAqIGNkeTsKICB2YXIgb2NhZCA9IGNkeGFkeSAtIGFkeGNkeTsKCiAgaWYgKG9jYWQgPD0gMCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIGJkeGNkeSA9IGJkeCAqIGNkeTsKICB2YXIgY2R4YmR5ID0gY2R4ICogYmR5OwogIHZhciBhbGlmdCA9IGFkeCAqIGFkeCArIGFkeSAqIGFkeTsKICB2YXIgYmxpZnQgPSBiZHggKiBiZHggKyBiZHkgKiBiZHk7CiAgdmFyIGNsaWZ0ID0gY2R4ICogY2R4ICsgY2R5ICogY2R5OwogIHZhciBkZXQgPSBhbGlmdCAqIChiZHhjZHkgLSBjZHhiZHkpICsgYmxpZnQgKiBvY2FkICsgY2xpZnQgKiBvYWJkOwogIHJldHVybiBkZXQgPiAwOwp9Ci8qKgogKiBSb3RhdGVzIGEgdHJpYW5nbGUgcGFpciBvbmUgdmVydGV4IENXCiAqPHByZT4KICogICAgICAgbjIgICAgICAgICAgICAgICAgICAgIG4yCiAqICBQICstLS0tLSsgICAgICAgICAgICAgUCArLS0tLS0rCiAqICAgIHwgdCAgL3wgICAgICAgICAgICAgICB8XCAgdCB8CiAqICAgIHwgICAvIHwgICAgICAgICAgICAgICB8IFwgICB8CiAqICBuMXwgIC8gIHxuMyAgICAgICAgICAgbjF8ICBcICB8bjMKICogICAgfCAvICAgfCAgICBhZnRlciBDVyAgIHwgICBcIHwKICogICAgfC8gb1QgfCAgICAgICAgICAgICAgIHwgb1QgXHwKICogICAgKy0tLS0tKyBvUCAgICAgICAgICAgICstLS0tLSsKICogICAgICAgbjQgICAgICAgICAgICAgICAgICAgIG40CiAqIDwvcHJlPgogKi8KCgpmdW5jdGlvbiByb3RhdGVUcmlhbmdsZVBhaXIodCwgcCwgb3QsIG9wKSB7CiAgdmFyIG4xLCBuMiwgbjMsIG40OwogIG4xID0gdC5uZWlnaGJvckNDVyhwKTsKICBuMiA9IHQubmVpZ2hib3JDVyhwKTsKICBuMyA9IG90Lm5laWdoYm9yQ0NXKG9wKTsKICBuNCA9IG90Lm5laWdoYm9yQ1cob3ApOwogIHZhciBjZTEsIGNlMiwgY2UzLCBjZTQ7CiAgY2UxID0gdC5nZXRDb25zdHJhaW5lZEVkZ2VDQ1cocCk7CiAgY2UyID0gdC5nZXRDb25zdHJhaW5lZEVkZ2VDVyhwKTsKICBjZTMgPSBvdC5nZXRDb25zdHJhaW5lZEVkZ2VDQ1cob3ApOwogIGNlNCA9IG90LmdldENvbnN0cmFpbmVkRWRnZUNXKG9wKTsKICB2YXIgZGUxLCBkZTIsIGRlMywgZGU0OwogIGRlMSA9IHQuZ2V0RGVsYXVuYXlFZGdlQ0NXKHApOwogIGRlMiA9IHQuZ2V0RGVsYXVuYXlFZGdlQ1cocCk7CiAgZGUzID0gb3QuZ2V0RGVsYXVuYXlFZGdlQ0NXKG9wKTsKICBkZTQgPSBvdC5nZXREZWxhdW5heUVkZ2VDVyhvcCk7CiAgdC5sZWdhbGl6ZShwLCBvcCk7CiAgb3QubGVnYWxpemUob3AsIHApOyAvLyBSZW1hcCBkZWxhdW5heV9lZGdlCgogIG90LnNldERlbGF1bmF5RWRnZUNDVyhwLCBkZTEpOwogIHQuc2V0RGVsYXVuYXlFZGdlQ1cocCwgZGUyKTsKICB0LnNldERlbGF1bmF5RWRnZUNDVyhvcCwgZGUzKTsKICBvdC5zZXREZWxhdW5heUVkZ2VDVyhvcCwgZGU0KTsgLy8gUmVtYXAgY29uc3RyYWluZWRfZWRnZQoKICBvdC5zZXRDb25zdHJhaW5lZEVkZ2VDQ1cocCwgY2UxKTsKICB0LnNldENvbnN0cmFpbmVkRWRnZUNXKHAsIGNlMik7CiAgdC5zZXRDb25zdHJhaW5lZEVkZ2VDQ1cob3AsIGNlMyk7CiAgb3Quc2V0Q29uc3RyYWluZWRFZGdlQ1cob3AsIGNlNCk7IC8vIFJlbWFwIG5laWdoYm9ycwogIC8vIFhYWDogbWlnaHQgb3B0aW1pemUgdGhlIG1hcmtOZWlnaGJvciBieSBrZWVwaW5nIHRyYWNrIG9mCiAgLy8gICAgICB3aGF0IHNpZGUgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIHdoYXQgbmVpZ2hib3IgYWZ0ZXIgdGhlCiAgLy8gICAgICByb3RhdGlvbi4gTm93IG1hcmsgbmVpZ2hib3IgZG9lcyBsb3RzIG9mIHRlc3RpbmcgdG8gZmluZAogIC8vICAgICAgdGhlIHJpZ2h0IHNpZGUuCgogIHQuY2xlYXJOZWlnaGJvcnMoKTsKICBvdC5jbGVhck5laWdoYm9ycygpOwoKICBpZiAobjEpIHsKICAgIG90Lm1hcmtOZWlnaGJvcihuMSk7CiAgfQoKICBpZiAobjIpIHsKICAgIHQubWFya05laWdoYm9yKG4yKTsKICB9CgogIGlmIChuMykgewogICAgdC5tYXJrTmVpZ2hib3IobjMpOwogIH0KCiAgaWYgKG40KSB7CiAgICBvdC5tYXJrTmVpZ2hib3IobjQpOwogIH0KCiAgdC5tYXJrTmVpZ2hib3Iob3QpOwp9Ci8qKgogKiBGaWxscyBhIGJhc2luIHRoYXQgaGFzIGZvcm1lZCBvbiB0aGUgQWR2YW5jaW5nIEZyb250IHRvIHRoZSByaWdodAogKiBvZiBnaXZlbiBub2RlLjxicj4KICogRmlyc3Qgd2UgZGVjaWRlIGEgbGVmdCxib3R0b20gYW5kIHJpZ2h0IG5vZGUgdGhhdCBmb3JtcyB0aGUKICogYm91bmRhcmllcyBvZiB0aGUgYmFzaW4uIFRoZW4gd2UgZG8gYSByZXF1cnNpdmUgZmlsbC4KICoKICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqIEBwYXJhbSBub2RlIC0gc3RhcnRpbmcgbm9kZSwgdGhpcyBvciBuZXh0IG5vZGUgd2lsbCBiZSBsZWZ0IG5vZGUKICovCgoKZnVuY3Rpb24gZmlsbEJhc2luKHRjeCwgbm9kZSkgewogIGlmIChvcmllbnQyZChub2RlLnBvaW50LCBub2RlLm5leHQucG9pbnQsIG5vZGUubmV4dC5uZXh0LnBvaW50KSA9PT0gT3JpZW50YXRpb24uQ0NXKSB7CiAgICB0Y3guYmFzaW4ubGVmdF9ub2RlID0gbm9kZS5uZXh0Lm5leHQ7CiAgfSBlbHNlIHsKICAgIHRjeC5iYXNpbi5sZWZ0X25vZGUgPSBub2RlLm5leHQ7CiAgfSAvLyBGaW5kIHRoZSBib3R0b20gYW5kIHJpZ2h0IG5vZGUKCgogIHRjeC5iYXNpbi5ib3R0b21fbm9kZSA9IHRjeC5iYXNpbi5sZWZ0X25vZGU7CgogIHdoaWxlICh0Y3guYmFzaW4uYm90dG9tX25vZGUubmV4dCAmJiB0Y3guYmFzaW4uYm90dG9tX25vZGUucG9pbnQueSA+PSB0Y3guYmFzaW4uYm90dG9tX25vZGUubmV4dC5wb2ludC55KSB7CiAgICB0Y3guYmFzaW4uYm90dG9tX25vZGUgPSB0Y3guYmFzaW4uYm90dG9tX25vZGUubmV4dDsKICB9CgogIGlmICh0Y3guYmFzaW4uYm90dG9tX25vZGUgPT09IHRjeC5iYXNpbi5sZWZ0X25vZGUpIHsKICAgIC8vIE5vIHZhbGlkIGJhc2luCiAgICByZXR1cm47CiAgfQoKICB0Y3guYmFzaW4ucmlnaHRfbm9kZSA9IHRjeC5iYXNpbi5ib3R0b21fbm9kZTsKCiAgd2hpbGUgKHRjeC5iYXNpbi5yaWdodF9ub2RlLm5leHQgJiYgdGN4LmJhc2luLnJpZ2h0X25vZGUucG9pbnQueSA8IHRjeC5iYXNpbi5yaWdodF9ub2RlLm5leHQucG9pbnQueSkgewogICAgdGN4LmJhc2luLnJpZ2h0X25vZGUgPSB0Y3guYmFzaW4ucmlnaHRfbm9kZS5uZXh0OwogIH0KCiAgaWYgKHRjeC5iYXNpbi5yaWdodF9ub2RlID09PSB0Y3guYmFzaW4uYm90dG9tX25vZGUpIHsKICAgIC8vIE5vIHZhbGlkIGJhc2lucwogICAgcmV0dXJuOwogIH0KCiAgdGN4LmJhc2luLndpZHRoID0gdGN4LmJhc2luLnJpZ2h0X25vZGUucG9pbnQueCAtIHRjeC5iYXNpbi5sZWZ0X25vZGUucG9pbnQueDsKICB0Y3guYmFzaW4ubGVmdF9oaWdoZXN0ID0gdGN4LmJhc2luLmxlZnRfbm9kZS5wb2ludC55ID4gdGN4LmJhc2luLnJpZ2h0X25vZGUucG9pbnQueTsKICBmaWxsQmFzaW5SZXEodGN4LCB0Y3guYmFzaW4uYm90dG9tX25vZGUpOwp9Ci8qKgogKiBSZWN1cnNpdmUgYWxnb3JpdGhtIHRvIGZpbGwgYSBCYXNpbiB3aXRoIHRyaWFuZ2xlcwogKgogKiBAcGFyYW0geyFTd2VlcENvbnRleHR9IHRjeCAtIFN3ZWVwQ29udGV4dCBvYmplY3QKICogQHBhcmFtIG5vZGUgLSBib3R0b21fbm9kZQogKi8KCgpmdW5jdGlvbiBmaWxsQmFzaW5SZXEodGN4LCBub2RlKSB7CiAgLy8gaWYgc2hhbGxvdyBzdG9wIGZpbGxpbmcKICBpZiAoaXNTaGFsbG93KHRjeCwgbm9kZSkpIHsKICAgIHJldHVybjsKICB9CgogIGZpbGwodGN4LCBub2RlKTsKICB2YXIgbzsKCiAgaWYgKG5vZGUucHJldiA9PT0gdGN4LmJhc2luLmxlZnRfbm9kZSAmJiBub2RlLm5leHQgPT09IHRjeC5iYXNpbi5yaWdodF9ub2RlKSB7CiAgICByZXR1cm47CiAgfSBlbHNlIGlmIChub2RlLnByZXYgPT09IHRjeC5iYXNpbi5sZWZ0X25vZGUpIHsKICAgIG8gPSBvcmllbnQyZChub2RlLnBvaW50LCBub2RlLm5leHQucG9pbnQsIG5vZGUubmV4dC5uZXh0LnBvaW50KTsKCiAgICBpZiAobyA9PT0gT3JpZW50YXRpb24uQ1cpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIG5vZGUgPSBub2RlLm5leHQ7CiAgfSBlbHNlIGlmIChub2RlLm5leHQgPT09IHRjeC5iYXNpbi5yaWdodF9ub2RlKSB7CiAgICBvID0gb3JpZW50MmQobm9kZS5wb2ludCwgbm9kZS5wcmV2LnBvaW50LCBub2RlLnByZXYucHJldi5wb2ludCk7CgogICAgaWYgKG8gPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgICByZXR1cm47CiAgICB9CgogICAgbm9kZSA9IG5vZGUucHJldjsKICB9IGVsc2UgewogICAgLy8gQ29udGludWUgd2l0aCB0aGUgbmVpZ2hib3Igbm9kZSB3aXRoIGxvd2VzdCBZIHZhbHVlCiAgICBpZiAobm9kZS5wcmV2LnBvaW50LnkgPCBub2RlLm5leHQucG9pbnQueSkgewogICAgICBub2RlID0gbm9kZS5wcmV2OwogICAgfSBlbHNlIHsKICAgICAgbm9kZSA9IG5vZGUubmV4dDsKICAgIH0KICB9CgogIGZpbGxCYXNpblJlcSh0Y3gsIG5vZGUpOwp9CgpmdW5jdGlvbiBpc1NoYWxsb3codGN4LCBub2RlKSB7CiAgdmFyIGhlaWdodDsKCiAgaWYgKHRjeC5iYXNpbi5sZWZ0X2hpZ2hlc3QpIHsKICAgIGhlaWdodCA9IHRjeC5iYXNpbi5sZWZ0X25vZGUucG9pbnQueSAtIG5vZGUucG9pbnQueTsKICB9IGVsc2UgewogICAgaGVpZ2h0ID0gdGN4LmJhc2luLnJpZ2h0X25vZGUucG9pbnQueSAtIG5vZGUucG9pbnQueTsKICB9IC8vIGlmIHNoYWxsb3cgc3RvcCBmaWxsaW5nCgoKICBpZiAodGN4LmJhc2luLndpZHRoID4gaGVpZ2h0KSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZmlsbEVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpIHsKICBpZiAodGN4LmVkZ2VfZXZlbnQucmlnaHQpIHsKICAgIGZpbGxSaWdodEFib3ZlRWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7CiAgfSBlbHNlIHsKICAgIGZpbGxMZWZ0QWJvdmVFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKTsKICB9Cn0KCmZ1bmN0aW9uIGZpbGxSaWdodEFib3ZlRWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSkgewogIHdoaWxlIChub2RlLm5leHQucG9pbnQueCA8IGVkZ2UucC54KSB7CiAgICAvLyBDaGVjayBpZiBuZXh0IG5vZGUgaXMgYmVsb3cgdGhlIGVkZ2UKICAgIGlmIChvcmllbnQyZChlZGdlLnEsIG5vZGUubmV4dC5wb2ludCwgZWRnZS5wKSA9PT0gT3JpZW50YXRpb24uQ0NXKSB7CiAgICAgIGZpbGxSaWdodEJlbG93RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7CiAgICB9IGVsc2UgewogICAgICBub2RlID0gbm9kZS5uZXh0OwogICAgfQogIH0KfQoKZnVuY3Rpb24gZmlsbFJpZ2h0QmVsb3dFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKSB7CiAgaWYgKG5vZGUucG9pbnQueCA8IGVkZ2UucC54KSB7CiAgICBpZiAob3JpZW50MmQobm9kZS5wb2ludCwgbm9kZS5uZXh0LnBvaW50LCBub2RlLm5leHQubmV4dC5wb2ludCkgPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgICAvLyBDb25jYXZlCiAgICAgIGZpbGxSaWdodENvbmNhdmVFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIENvbnZleAogICAgICBmaWxsUmlnaHRDb252ZXhFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKTsgLy8gUmV0cnkgdGhpcyBvbmUKCiAgICAgIGZpbGxSaWdodEJlbG93RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBmaWxsUmlnaHRDb25jYXZlRWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSkgewogIGZpbGwodGN4LCBub2RlLm5leHQpOwoKICBpZiAobm9kZS5uZXh0LnBvaW50ICE9PSBlZGdlLnApIHsKICAgIC8vIE5leHQgYWJvdmUgb3IgYmVsb3cgZWRnZT8KICAgIGlmIChvcmllbnQyZChlZGdlLnEsIG5vZGUubmV4dC5wb2ludCwgZWRnZS5wKSA9PT0gT3JpZW50YXRpb24uQ0NXKSB7CiAgICAgIC8vIEJlbG93CiAgICAgIGlmIChvcmllbnQyZChub2RlLnBvaW50LCBub2RlLm5leHQucG9pbnQsIG5vZGUubmV4dC5uZXh0LnBvaW50KSA9PT0gT3JpZW50YXRpb24uQ0NXKSB7CiAgICAgICAgLy8gTmV4dCBpcyBjb25jYXZlCiAgICAgICAgZmlsbFJpZ2h0Q29uY2F2ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpOwogICAgICB9CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBmaWxsUmlnaHRDb252ZXhFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKSB7CiAgLy8gTmV4dCBjb25jYXZlIG9yIGNvbnZleD8KICBpZiAob3JpZW50MmQobm9kZS5uZXh0LnBvaW50LCBub2RlLm5leHQubmV4dC5wb2ludCwgbm9kZS5uZXh0Lm5leHQubmV4dC5wb2ludCkgPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgLy8gQ29uY2F2ZQogICAgZmlsbFJpZ2h0Q29uY2F2ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUubmV4dCk7CiAgfSBlbHNlIHsKICAgIC8vIENvbnZleAogICAgLy8gTmV4dCBhYm92ZSBvciBiZWxvdyBlZGdlPwogICAgaWYgKG9yaWVudDJkKGVkZ2UucSwgbm9kZS5uZXh0Lm5leHQucG9pbnQsIGVkZ2UucCkgPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgICAvLyBCZWxvdwogICAgICBmaWxsUmlnaHRDb252ZXhFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlLm5leHQpOwogICAgfQogIH0KfQoKZnVuY3Rpb24gZmlsbExlZnRBYm92ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpIHsKICB3aGlsZSAobm9kZS5wcmV2LnBvaW50LnggPiBlZGdlLnAueCkgewogICAgLy8gQ2hlY2sgaWYgbmV4dCBub2RlIGlzIGJlbG93IHRoZSBlZGdlCiAgICBpZiAob3JpZW50MmQoZWRnZS5xLCBub2RlLnByZXYucG9pbnQsIGVkZ2UucCkgPT09IE9yaWVudGF0aW9uLkNXKSB7CiAgICAgIGZpbGxMZWZ0QmVsb3dFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKTsKICAgIH0gZWxzZSB7CiAgICAgIG5vZGUgPSBub2RlLnByZXY7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBmaWxsTGVmdEJlbG93RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSkgewogIGlmIChub2RlLnBvaW50LnggPiBlZGdlLnAueCkgewogICAgaWYgKG9yaWVudDJkKG5vZGUucG9pbnQsIG5vZGUucHJldi5wb2ludCwgbm9kZS5wcmV2LnByZXYucG9pbnQpID09PSBPcmllbnRhdGlvbi5DVykgewogICAgICAvLyBDb25jYXZlCiAgICAgIGZpbGxMZWZ0Q29uY2F2ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpOwogICAgfSBlbHNlIHsKICAgICAgLy8gQ29udmV4CiAgICAgIGZpbGxMZWZ0Q29udmV4RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7IC8vIFJldHJ5IHRoaXMgb25lCgogICAgICBmaWxsTGVmdEJlbG93RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZSk7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBmaWxsTGVmdENvbnZleEVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpIHsKICAvLyBOZXh0IGNvbmNhdmUgb3IgY29udmV4PwogIGlmIChvcmllbnQyZChub2RlLnByZXYucG9pbnQsIG5vZGUucHJldi5wcmV2LnBvaW50LCBub2RlLnByZXYucHJldi5wcmV2LnBvaW50KSA9PT0gT3JpZW50YXRpb24uQ1cpIHsKICAgIC8vIENvbmNhdmUKICAgIGZpbGxMZWZ0Q29uY2F2ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUucHJldik7CiAgfSBlbHNlIHsKICAgIC8vIENvbnZleAogICAgLy8gTmV4dCBhYm92ZSBvciBiZWxvdyBlZGdlPwogICAgaWYgKG9yaWVudDJkKGVkZ2UucSwgbm9kZS5wcmV2LnByZXYucG9pbnQsIGVkZ2UucCkgPT09IE9yaWVudGF0aW9uLkNXKSB7CiAgICAgIC8vIEJlbG93CiAgICAgIGZpbGxMZWZ0Q29udmV4RWRnZUV2ZW50KHRjeCwgZWRnZSwgbm9kZS5wcmV2KTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGZpbGxMZWZ0Q29uY2F2ZUVkZ2VFdmVudCh0Y3gsIGVkZ2UsIG5vZGUpIHsKICBmaWxsKHRjeCwgbm9kZS5wcmV2KTsKCiAgaWYgKG5vZGUucHJldi5wb2ludCAhPT0gZWRnZS5wKSB7CiAgICAvLyBOZXh0IGFib3ZlIG9yIGJlbG93IGVkZ2U/CiAgICBpZiAob3JpZW50MmQoZWRnZS5xLCBub2RlLnByZXYucG9pbnQsIGVkZ2UucCkgPT09IE9yaWVudGF0aW9uLkNXKSB7CiAgICAgIC8vIEJlbG93CiAgICAgIGlmIChvcmllbnQyZChub2RlLnBvaW50LCBub2RlLnByZXYucG9pbnQsIG5vZGUucHJldi5wcmV2LnBvaW50KSA9PT0gT3JpZW50YXRpb24uQ1cpIHsKICAgICAgICAvLyBOZXh0IGlzIGNvbmNhdmUKICAgICAgICBmaWxsTGVmdENvbmNhdmVFZGdlRXZlbnQodGN4LCBlZGdlLCBub2RlKTsKICAgICAgfQogICAgfQogIH0KfQoKZnVuY3Rpb24gZmxpcEVkZ2VFdmVudCh0Y3gsIGVwLCBlcSwgdCwgcCkgewogIHZhciBvdCA9IHQubmVpZ2hib3JBY3Jvc3MocCk7CiAgYXNzZXJ0XzEob3QsICJGTElQIGZhaWxlZCBkdWUgdG8gbWlzc2luZyB0cmlhbmdsZSEiKTsKICB2YXIgb3AgPSBvdC5vcHBvc2l0ZVBvaW50KHQsIHApOyAvLyBBZGRpdGlvbmFsIGNoZWNrIGZyb20gSmF2YSB2ZXJzaW9uIChzZWUgaXNzdWUgIzg4KQoKICBpZiAodC5nZXRDb25zdHJhaW5lZEVkZ2VBY3Jvc3MocCkpIHsKICAgIHZhciBpbmRleCA9IHQuaW5kZXgocCk7CiAgICB0aHJvdyBuZXcgcG9pbnRlcnJvcigicG9seTJ0cmkgSW50ZXJzZWN0aW5nIENvbnN0cmFpbnRzIiwgW3AsIG9wLCB0LmdldFBvaW50KChpbmRleCArIDEpICUgMyksIHQuZ2V0UG9pbnQoKGluZGV4ICsgMikgJSAzKV0pOwogIH0KCiAgaWYgKGluU2NhbkFyZWEocCwgdC5wb2ludENDVyhwKSwgdC5wb2ludENXKHApLCBvcCkpIHsKICAgIC8vIExldHMgcm90YXRlIHNoYXJlZCBlZGdlIG9uZSB2ZXJ0ZXggQ1cKICAgIHJvdGF0ZVRyaWFuZ2xlUGFpcih0LCBwLCBvdCwgb3ApOwogICAgdGN4Lm1hcFRyaWFuZ2xlVG9Ob2Rlcyh0KTsKICAgIHRjeC5tYXBUcmlhbmdsZVRvTm9kZXMob3QpOyAvLyBYWFg6IGluIHRoZSBvcmlnaW5hbCBDKysgY29kZSBmb3IgdGhlIG5leHQgMiBsaW5lcywgd2UgYXJlCiAgICAvLyBjb21wYXJpbmcgcG9pbnQgdmFsdWVzIChhbmQgbm90IHBvaW50ZXJzKS4gSW4gdGhpcyBKYXZhU2NyaXB0CiAgICAvLyBjb2RlLCB3ZSBhcmUgY29tcGFyaW5nIHBvaW50IHJlZmVyZW5jZXMgKHBvaW50ZXJzKS4gVGhpcyB3b3JrcwogICAgLy8gYmVjYXVzZSB3ZSBjYW4ndCBoYXZlIDIgZGlmZmVyZW50IHBvaW50cyB3aXRoIHRoZSBzYW1lIHZhbHVlcy4KICAgIC8vIEJ1dCB0byBiZSByZWFsbHkgZXF1aXZhbGVudCwgd2Ugc2hvdWxkIHVzZSAiUG9pbnQuZXF1YWxzIiBoZXJlLgoKICAgIGlmIChwID09PSBlcSAmJiBvcCA9PT0gZXApIHsKICAgICAgaWYgKGVxID09PSB0Y3guZWRnZV9ldmVudC5jb25zdHJhaW5lZF9lZGdlLnEgJiYgZXAgPT09IHRjeC5lZGdlX2V2ZW50LmNvbnN0cmFpbmVkX2VkZ2UucCkgewogICAgICAgIHQubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKGVwLCBlcSk7CiAgICAgICAgb3QubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKGVwLCBlcSk7CiAgICAgICAgbGVnYWxpemUodGN4LCB0KTsKICAgICAgICBsZWdhbGl6ZSh0Y3gsIG90KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIG8gPSBvcmllbnQyZChlcSwgb3AsIGVwKTsKICAgICAgdCA9IG5leHRGbGlwVHJpYW5nbGUodGN4LCBvLCB0LCBvdCwgcCwgb3ApOwogICAgICBmbGlwRWRnZUV2ZW50KHRjeCwgZXAsIGVxLCB0LCBwKTsKICAgIH0KICB9IGVsc2UgewogICAgdmFyIG5ld1AgPSBuZXh0RmxpcFBvaW50KGVwLCBlcSwgb3QsIG9wKTsKICAgIGZsaXBTY2FuRWRnZUV2ZW50KHRjeCwgZXAsIGVxLCB0LCBvdCwgbmV3UCk7CiAgICBlZGdlRXZlbnRCeVBvaW50cyh0Y3gsIGVwLCBlcSwgdCwgcCk7CiAgfQp9Ci8qKgogKiBBZnRlciBhIGZsaXAgd2UgaGF2ZSB0d28gdHJpYW5nbGVzIGFuZCBrbm93IHRoYXQgb25seSBvbmUgd2lsbCBzdGlsbCBiZQogKiBpbnRlcnNlY3RpbmcgdGhlIGVkZ2UuIFNvIGRlY2lkZSB3aGljaCB0byBjb250aXVuZSB3aXRoIGFuZCBsZWdhbGl6ZSB0aGUgb3RoZXIKICoKICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqIEBwYXJhbSBvIC0gc2hvdWxkIGJlIHRoZSByZXN1bHQgb2YgYW4gb3JpZW50MmQoIGVxLCBvcCwgZXAgKQogKiBAcGFyYW0gdCAtIHRyaWFuZ2xlIDEKICogQHBhcmFtIG90IC0gdHJpYW5nbGUgMgogKiBAcGFyYW0gcCAtIGEgcG9pbnQgc2hhcmVkIGJ5IGJvdGggdHJpYW5nbGVzCiAqIEBwYXJhbSBvcCAtIGFub3RoZXIgcG9pbnQgc2hhcmVkIGJ5IGJvdGggdHJpYW5nbGVzCiAqIEByZXR1cm4gcmV0dXJucyB0aGUgdHJpYW5nbGUgc3RpbGwgaW50ZXJzZWN0aW5nIHRoZSBlZGdlCiAqLwoKCmZ1bmN0aW9uIG5leHRGbGlwVHJpYW5nbGUodGN4LCBvLCB0LCBvdCwgcCwgb3ApIHsKICB2YXIgZWRnZV9pbmRleDsKCiAgaWYgKG8gPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgLy8gb3QgaXMgbm90IGNyb3NzaW5nIGVkZ2UgYWZ0ZXIgZmxpcAogICAgZWRnZV9pbmRleCA9IG90LmVkZ2VJbmRleChwLCBvcCk7CiAgICBvdC5kZWxhdW5heV9lZGdlW2VkZ2VfaW5kZXhdID0gdHJ1ZTsKICAgIGxlZ2FsaXplKHRjeCwgb3QpOwogICAgb3QuY2xlYXJEZWxhdW5heUVkZ2VzKCk7CiAgICByZXR1cm4gdDsKICB9IC8vIHQgaXMgbm90IGNyb3NzaW5nIGVkZ2UgYWZ0ZXIgZmxpcAoKCiAgZWRnZV9pbmRleCA9IHQuZWRnZUluZGV4KHAsIG9wKTsKICB0LmRlbGF1bmF5X2VkZ2VbZWRnZV9pbmRleF0gPSB0cnVlOwogIGxlZ2FsaXplKHRjeCwgdCk7CiAgdC5jbGVhckRlbGF1bmF5RWRnZXMoKTsKICByZXR1cm4gb3Q7Cn0KLyoqCiAqIFdoZW4gd2UgbmVlZCB0byB0cmF2ZXJzZSBmcm9tIG9uZSB0cmlhbmdsZSB0byB0aGUgbmV4dCB3ZSBuZWVkCiAqIHRoZSBwb2ludCBpbiBjdXJyZW50IHRyaWFuZ2xlIHRoYXQgaXMgdGhlIG9wcG9zaXRlIHBvaW50IHRvIHRoZSBuZXh0CiAqIHRyaWFuZ2xlLgogKi8KCgpmdW5jdGlvbiBuZXh0RmxpcFBvaW50KGVwLCBlcSwgb3QsIG9wKSB7CiAgdmFyIG8yZCA9IG9yaWVudDJkKGVxLCBvcCwgZXApOwoKICBpZiAobzJkID09PSBPcmllbnRhdGlvbi5DVykgewogICAgLy8gUmlnaHQKICAgIHJldHVybiBvdC5wb2ludENDVyhvcCk7CiAgfSBlbHNlIGlmIChvMmQgPT09IE9yaWVudGF0aW9uLkNDVykgewogICAgLy8gTGVmdAogICAgcmV0dXJuIG90LnBvaW50Q1cob3ApOwogIH0gZWxzZSB7CiAgICB0aHJvdyBuZXcgcG9pbnRlcnJvcigicG9seTJ0cmkgW1Vuc3VwcG9ydGVkXSBuZXh0RmxpcFBvaW50OiBvcHBvc2luZyBwb2ludCBvbiBjb25zdHJhaW5lZCBlZGdlISIsIFtlcSwgb3AsIGVwXSk7CiAgfQp9Ci8qKgogKiBTY2FuIHBhcnQgb2YgdGhlIEZsaXBTY2FuIGFsZ29yaXRobTxicj4KICogV2hlbiBhIHRyaWFuZ2xlIHBhaXIgaXNuJ3QgZmxpcHBhYmxlIHdlIHdpbGwgc2NhbiBmb3IgdGhlIG5leHQKICogcG9pbnQgdGhhdCBpcyBpbnNpZGUgdGhlIGZsaXAgdHJpYW5nbGUgc2NhbiBhcmVhLiBXaGVuIGZvdW5kCiAqIHdlIGdlbmVyYXRlIGEgbmV3IGZsaXBFZGdlRXZlbnQKICoKICogQHBhcmFtIHshU3dlZXBDb250ZXh0fSB0Y3ggLSBTd2VlcENvbnRleHQgb2JqZWN0CiAqIEBwYXJhbSBlcCAtIGxhc3QgcG9pbnQgb24gdGhlIGVkZ2Ugd2UgYXJlIHRyYXZlcnNpbmcKICogQHBhcmFtIGVxIC0gZmlyc3QgcG9pbnQgb24gdGhlIGVkZ2Ugd2UgYXJlIHRyYXZlcnNpbmcKICogQHBhcmFtIHshVHJpYW5nbGV9IGZsaXBfdHJpYW5nbGUgLSB0aGUgY3VycmVudCB0cmlhbmdsZSBzaGFyaW5nIHRoZSBwb2ludCBlcSB3aXRoIGVkZ2UKICogQHBhcmFtIHQKICogQHBhcmFtIHAKICovCgoKZnVuY3Rpb24gZmxpcFNjYW5FZGdlRXZlbnQodGN4LCBlcCwgZXEsIGZsaXBfdHJpYW5nbGUsIHQsIHApIHsKICB2YXIgb3QgPSB0Lm5laWdoYm9yQWNyb3NzKHApOwogIGFzc2VydF8xKG90LCAiRkxJUCBmYWlsZWQgZHVlIHRvIG1pc3NpbmcgdHJpYW5nbGUiKTsKICB2YXIgb3AgPSBvdC5vcHBvc2l0ZVBvaW50KHQsIHApOwoKICBpZiAoaW5TY2FuQXJlYShlcSwgZmxpcF90cmlhbmdsZS5wb2ludENDVyhlcSksIGZsaXBfdHJpYW5nbGUucG9pbnRDVyhlcSksIG9wKSkgewogICAgLy8gZmxpcCB3aXRoIG5ldyBlZGdlIG9wLmVxCiAgICBmbGlwRWRnZUV2ZW50KHRjeCwgZXEsIG9wLCBvdCwgb3ApOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3UCA9IG5leHRGbGlwUG9pbnQoZXAsIGVxLCBvdCwgb3ApOwogICAgZmxpcFNjYW5FZGdlRXZlbnQodGN4LCBlcCwgZXEsIGZsaXBfdHJpYW5nbGUsIG90LCBuZXdQKTsKICB9Cn0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUV4cG9ydHMKCgp2YXIgdHJpYW5ndWxhdGVfMSA9IHRyaWFuZ3VsYXRlOwp2YXIgc3dlZXAgPSB7CiAgdHJpYW5ndWxhdGU6IHRyaWFuZ3VsYXRlXzEKfTsKCi8qCiAqIE5vdGUKICogPT09PQogKiB0aGUgc3RydWN0dXJlIG9mIHRoaXMgSmF2YVNjcmlwdCB2ZXJzaW9uIG9mIHBvbHkydHJpIGludGVudGlvbmFsbHkgZm9sbG93cwogKiBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHJlZmVyZW5jZSBDKysgdmVyc2lvbiwgdG8gbWFrZSBpdCAKICogZWFzaWVyIHRvIGtlZXAgdGhlIDIgdmVyc2lvbnMgaW4gc3luYy4KICovCgoKdmFyIE5vZGUgPSBhZHZhbmNpbmdmcm9udC5Ob2RlOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS11dGlscwoKLyoqCiAqIEluaXRpYWwgdHJpYW5nbGUgZmFjdG9yLCBzZWVkIHRyaWFuZ2xlIHdpbGwgZXh0ZW5kIDMwJSBvZgogKiBQb2ludFNldCB3aWR0aCB0byBib3RoIGxlZnQgYW5kIHJpZ2h0LgogKiBAcHJpdmF0ZQogKiBAY29uc3QKICovCgp2YXIga0FscGhhID0gMC4zOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tRWRnZQoKLyoqCiAqIFJlcHJlc2VudHMgYSBzaW1wbGUgcG9seWdvbidzIGVkZ2UKICogQGNvbnN0cnVjdG9yCiAqIEBzdHJ1Y3QKICogQHByaXZhdGUKICogQHBhcmFtIHtQb2ludH0gcDEKICogQHBhcmFtIHtQb2ludH0gcDIKICogQHRocm93IHtQb2ludEVycm9yfSBpZiBwMSBpcyBzYW1lIGFzIHAyCiAqLwoKdmFyIEVkZ2UgPSBmdW5jdGlvbiBFZGdlKHAxLCBwMikgewogIHRoaXMucCA9IHAxOwogIHRoaXMucSA9IHAyOwoKICBpZiAocDEueSA+IHAyLnkpIHsKICAgIHRoaXMucSA9IHAxOwogICAgdGhpcy5wID0gcDI7CiAgfSBlbHNlIGlmIChwMS55ID09PSBwMi55KSB7CiAgICBpZiAocDEueCA+IHAyLngpIHsKICAgICAgdGhpcy5xID0gcDE7CiAgICAgIHRoaXMucCA9IHAyOwogICAgfSBlbHNlIGlmIChwMS54ID09PSBwMi54KSB7CiAgICAgIHRocm93IG5ldyBwb2ludGVycm9yKCdwb2x5MnRyaSBJbnZhbGlkIEVkZ2UgY29uc3RydWN0b3I6IHJlcGVhdGVkIHBvaW50cyEnLCBbcDFdKTsKICAgIH0KICB9CgogIGlmICghdGhpcy5xLl9wMnRfZWRnZV9saXN0KSB7CiAgICB0aGlzLnEuX3AydF9lZGdlX2xpc3QgPSBbXTsKICB9CgogIHRoaXMucS5fcDJ0X2VkZ2VfbGlzdC5wdXNoKHRoaXMpOwp9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1CYXNpbgoKLyoqCiAqIEBjb25zdHJ1Y3RvcgogKiBAc3RydWN0CiAqIEBwcml2YXRlCiAqLwoKCnZhciBCYXNpbiA9IGZ1bmN0aW9uIEJhc2luKCkgewogIC8qKiBAdHlwZSB7Tm9kZX0gKi8KICB0aGlzLmxlZnRfbm9kZSA9IG51bGw7CiAgLyoqIEB0eXBlIHtOb2RlfSAqLwoKICB0aGlzLmJvdHRvbV9ub2RlID0gbnVsbDsKICAvKiogQHR5cGUge05vZGV9ICovCgogIHRoaXMucmlnaHRfbm9kZSA9IG51bGw7CiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovCgogIHRoaXMud2lkdGggPSAwLjA7CiAgLyoqIEB0eXBlIHtib29sZWFufSAqLwoKICB0aGlzLmxlZnRfaGlnaGVzdCA9IGZhbHNlOwp9OwoKQmFzaW4ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewogIHRoaXMubGVmdF9ub2RlID0gbnVsbDsKICB0aGlzLmJvdHRvbV9ub2RlID0gbnVsbDsKICB0aGlzLnJpZ2h0X25vZGUgPSBudWxsOwogIHRoaXMud2lkdGggPSAwLjA7CiAgdGhpcy5sZWZ0X2hpZ2hlc3QgPSBmYWxzZTsKfTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1FZGdlRXZlbnQKCi8qKgogKiBAY29uc3RydWN0b3IKICogQHN0cnVjdAogKiBAcHJpdmF0ZQogKi8KCgp2YXIgRWRnZUV2ZW50ID0gZnVuY3Rpb24gRWRnZUV2ZW50KCkgewogIC8qKiBAdHlwZSB7RWRnZX0gKi8KICB0aGlzLmNvbnN0cmFpbmVkX2VkZ2UgPSBudWxsOwogIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8KCiAgdGhpcy5yaWdodCA9IGZhbHNlOwp9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tU3dlZXBDb250ZXh0IChwdWJsaWMgQVBJKQoKLyoqCiAqIFN3ZWVwQ29udGV4dCBjb25zdHJ1Y3RvciBvcHRpb24KICogQHR5cGVkZWYge09iamVjdH0gU3dlZXBDb250ZXh0T3B0aW9ucwogKiBAcHJvcGVydHkge2Jvb2xlYW49fSBjbG9uZUFycmF5cyAtIGlmIDxjb2RlPnRydWU8L2NvZGU+LCBkbyBhIHNoYWxsb3cgY29weSBvZiB0aGUgQXJyYXkgcGFyYW1ldGVycwogKiAgICAgICAgICAgICAgICAgIChjb250b3VyLCBob2xlcykuIFBvaW50cyBpbnNpZGUgYXJyYXlzIGFyZSBuZXZlciBjb3BpZWQuCiAqICAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyA8Y29kZT5mYWxzZTwvY29kZT4gOiBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBhcnJheSBhcmd1bWVudHMsCiAqICAgICAgICAgICAgICAgICAgd2hvIHdpbGwgYmUgbW9kaWZpZWQgaW4gcGxhY2UuCiAqLwoKLyoqCiAqIENvbnN0cnVjdG9yIGZvciB0aGUgdHJpYW5ndWxhdGlvbiBjb250ZXh0LgogKiBJdCBhY2NlcHRzIGEgc2ltcGxlIHBvbHlsaW5lICh3aXRoIG5vbiByZXBlYXRpbmcgcG9pbnRzKSwgCiAqIHdoaWNoIGRlZmluZXMgdGhlIGNvbnN0cmFpbmVkIGVkZ2VzLgogKgogKiBAZXhhbXBsZQogKiAgICAgICAgICB2YXIgY29udG91ciA9IFsKICogICAgICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgxMDAsIDEwMCksCiAqICAgICAgICAgICAgICBuZXcgcG9seTJ0cmkuUG9pbnQoMTAwLCAzMDApLAogKiAgICAgICAgICAgICAgbmV3IHBvbHkydHJpLlBvaW50KDMwMCwgMzAwKSwKICogICAgICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgzMDAsIDEwMCkKICogICAgICAgICAgXTsKICogICAgICAgICAgdmFyIHN3Y3R4ID0gbmV3IHBvbHkydHJpLlN3ZWVwQ29udGV4dChjb250b3VyLCB7Y2xvbmVBcnJheXM6IHRydWV9KTsKICogQGV4YW1wbGUKICogICAgICAgICAgdmFyIGNvbnRvdXIgPSBbe3g6MTAwLCB5OjEwMH0sIHt4OjEwMCwgeTozMDB9LCB7eDozMDAsIHk6MzAwfSwge3g6MzAwLCB5OjEwMH1dOwogKiAgICAgICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIsIHtjbG9uZUFycmF5czogdHJ1ZX0pOwogKiBAY29uc3RydWN0b3IKICogQHB1YmxpYwogKiBAc3RydWN0CiAqIEBwYXJhbSB7QXJyYXkuPFhZPn0gY29udG91ciAtIGFycmF5IG9mIHBvaW50IG9iamVjdHMuIFRoZSBwb2ludHMgY2FuIGJlIGVpdGhlciB7QGxpbmtjb2RlIFBvaW50fSBpbnN0YW5jZXMsCiAqICAgICAgICAgIG9yIGFueSAiUG9pbnQgbGlrZSIgY3VzdG9tIGNsYXNzIHdpdGggPGNvZGU+e3gsIHl9PC9jb2RlPiBhdHRyaWJ1dGVzLgogKiBAcGFyYW0ge1N3ZWVwQ29udGV4dE9wdGlvbnM9fSBvcHRpb25zIC0gY29uc3RydWN0b3Igb3B0aW9ucwogKi8KCgp2YXIgU3dlZXBDb250ZXh0ID0gZnVuY3Rpb24gU3dlZXBDb250ZXh0KGNvbnRvdXIsIG9wdGlvbnMpIHsKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICB0aGlzLnRyaWFuZ2xlc18gPSBbXTsKICB0aGlzLm1hcF8gPSBbXTsKICB0aGlzLnBvaW50c18gPSBvcHRpb25zLmNsb25lQXJyYXlzID8gY29udG91ci5zbGljZSgwKSA6IGNvbnRvdXI7CiAgdGhpcy5lZGdlX2xpc3QgPSBbXTsgLy8gQm91bmRpbmcgYm94IG9mIGFsbCBwb2ludHMuIENvbXB1dGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgdHJpYW5ndWxhdGlvbiwgCiAgLy8gaXQgaXMgc3RvcmVkIGluIGNhc2UgaXQgaXMgbmVlZGVkIGJ5IHRoZSBjYWxsZXIuCgogIHRoaXMucG1pbl8gPSB0aGlzLnBtYXhfID0gbnVsbDsKICAvKioKICAgKiBBZHZhbmNpbmcgZnJvbnQKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtBZHZhbmNpbmdGcm9udH0KICAgKi8KCiAgdGhpcy5mcm9udF8gPSBudWxsOwogIC8qKgogICAqIGhlYWQgcG9pbnQgdXNlZCB3aXRoIGFkdmFuY2luZyBmcm9udAogICAqIEBwcml2YXRlCiAgICogQHR5cGUge1BvaW50fQogICAqLwoKICB0aGlzLmhlYWRfID0gbnVsbDsKICAvKioKICAgKiB0YWlsIHBvaW50IHVzZWQgd2l0aCBhZHZhbmNpbmcgZnJvbnQKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtQb2ludH0KICAgKi8KCiAgdGhpcy50YWlsXyA9IG51bGw7CiAgLyoqCiAgICogQHByaXZhdGUKICAgKiBAdHlwZSB7Tm9kZX0KICAgKi8KCiAgdGhpcy5hZl9oZWFkXyA9IG51bGw7CiAgLyoqCiAgICogQHByaXZhdGUKICAgKiBAdHlwZSB7Tm9kZX0KICAgKi8KCiAgdGhpcy5hZl9taWRkbGVfID0gbnVsbDsKICAvKioKICAgKiBAcHJpdmF0ZQogICAqIEB0eXBlIHtOb2RlfQogICAqLwoKICB0aGlzLmFmX3RhaWxfID0gbnVsbDsKICB0aGlzLmJhc2luID0gbmV3IEJhc2luKCk7CiAgdGhpcy5lZGdlX2V2ZW50ID0gbmV3IEVkZ2VFdmVudCgpOwogIHRoaXMuaW5pdEVkZ2VzKHRoaXMucG9pbnRzXyk7Cn07Ci8qKgogKiBBZGQgYSBob2xlIHRvIHRoZSBjb25zdHJhaW50cwogKiBAZXhhbXBsZQogKiAgICAgIHZhciBzd2N0eCA9IG5ldyBwb2x5MnRyaS5Td2VlcENvbnRleHQoY29udG91cik7CiAqICAgICAgdmFyIGhvbGUgPSBbCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgyMDAsIDIwMCksCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgyMDAsIDI1MCksCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgyNTAsIDI1MCkKICogICAgICBdOwogKiAgICAgIHN3Y3R4LmFkZEhvbGUoaG9sZSk7CiAqIEBleGFtcGxlCiAqICAgICAgdmFyIHN3Y3R4ID0gbmV3IHBvbHkydHJpLlN3ZWVwQ29udGV4dChjb250b3VyKTsKICogICAgICBzd2N0eC5hZGRIb2xlKFt7eDoyMDAsIHk6MjAwfSwge3g6MjAwLCB5OjI1MH0sIHt4OjI1MCwgeToyNTB9XSk7CiAqIEBwdWJsaWMKICogQHBhcmFtIHtBcnJheS48WFk+fSBwb2x5bGluZSAtIGFycmF5IG9mICJQb2ludCBsaWtlIiBvYmplY3RzIHdpdGgge3gseX0KICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gKHBvbHlsaW5lKSB7CiAgdGhpcy5pbml0RWRnZXMocG9seWxpbmUpOwogIHZhciBpLAogICAgICBsZW4gPSBwb2x5bGluZS5sZW5ndGg7CgogIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgdGhpcy5wb2ludHNfLnB1c2gocG9seWxpbmVbaV0pOwogIH0KCiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkKICogQGZ1bmN0aW9uCiAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmtjb2RlIFN3ZWVwQ29udGV4dCNhZGRIb2xlfSBpbnN0ZWFkCiAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUuQWRkSG9sZSA9IFN3ZWVwQ29udGV4dC5wcm90b3R5cGUuYWRkSG9sZTsKLyoqCiAqIEFkZCBzZXZlcmFsIGhvbGVzIHRvIHRoZSBjb25zdHJhaW50cwogKiBAZXhhbXBsZQogKiAgICAgIHZhciBzd2N0eCA9IG5ldyBwb2x5MnRyaS5Td2VlcENvbnRleHQoY29udG91cik7CiAqICAgICAgdmFyIGhvbGVzID0gWwogKiAgICAgICAgICBbIG5ldyBwb2x5MnRyaS5Qb2ludCgyMDAsIDIwMCksIG5ldyBwb2x5MnRyaS5Qb2ludCgyMDAsIDI1MCksIG5ldyBwb2x5MnRyaS5Qb2ludCgyNTAsIDI1MCkgXSwKICogICAgICAgICAgWyBuZXcgcG9seTJ0cmkuUG9pbnQoMzAwLCAzMDApLCBuZXcgcG9seTJ0cmkuUG9pbnQoMzAwLCAzNTApLCBuZXcgcG9seTJ0cmkuUG9pbnQoMzUwLCAzNTApIF0KICogICAgICBdOwogKiAgICAgIHN3Y3R4LmFkZEhvbGVzKGhvbGVzKTsKICogQGV4YW1wbGUKICogICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIpOwogKiAgICAgIHZhciBob2xlcyA9IFsKICogICAgICAgICAgW3t4OjIwMCwgeToyMDB9LCB7eDoyMDAsIHk6MjUwfSwge3g6MjUwLCB5OjI1MH1dLAogKiAgICAgICAgICBbe3g6MzAwLCB5OjMwMH0sIHt4OjMwMCwgeTozNTB9LCB7eDozNTAsIHk6MzUwfV0KICogICAgICBdOwogKiAgICAgIHN3Y3R4LmFkZEhvbGVzKGhvbGVzKTsKICogQHB1YmxpYwogKiBAcGFyYW0ge0FycmF5LjxBcnJheS48WFk+Pn0gaG9sZXMgLSBhcnJheSBvZiBhcnJheSBvZiAiUG9pbnQgbGlrZSIgb2JqZWN0cyB3aXRoIHt4LHl9CiAqLwovLyBNZXRob2QgYWRkZWQgaW4gdGhlIEphdmFTY3JpcHQgdmVyc2lvbiAod2FzIG5vdCBwcmVzZW50IGluIHRoZSBjKysgdmVyc2lvbikKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUuYWRkSG9sZXMgPSBmdW5jdGlvbiAoaG9sZXMpIHsKICB2YXIgaSwKICAgICAgbGVuID0gaG9sZXMubGVuZ3RoOwoKICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIHRoaXMuaW5pdEVkZ2VzKGhvbGVzW2ldKTsKICB9CgogIHRoaXMucG9pbnRzXyA9IHRoaXMucG9pbnRzXy5jb25jYXQuYXBwbHkodGhpcy5wb2ludHNfLCBob2xlcyk7CiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogQWRkIGEgU3RlaW5lciBwb2ludCB0byB0aGUgY29uc3RyYWludHMKICogQGV4YW1wbGUKICogICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIpOwogKiAgICAgIHZhciBwb2ludCA9IG5ldyBwb2x5MnRyaS5Qb2ludCgxNTAsIDE1MCk7CiAqICAgICAgc3djdHguYWRkUG9pbnQocG9pbnQpOwogKiBAZXhhbXBsZQogKiAgICAgIHZhciBzd2N0eCA9IG5ldyBwb2x5MnRyaS5Td2VlcENvbnRleHQoY29udG91cik7CiAqICAgICAgc3djdHguYWRkUG9pbnQoe3g6MTUwLCB5OjE1MH0pOwogKiBAcHVibGljCiAqIEBwYXJhbSB7WFl9IHBvaW50IC0gYW55ICJQb2ludCBsaWtlIiBvYmplY3Qgd2l0aCB7eCx5fQogKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7CiAgdGhpcy5wb2ludHNfLnB1c2gocG9pbnQpOwogIHJldHVybiB0aGlzOyAvLyBmb3IgY2hhaW5pbmcKfTsKLyoqCiAqIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5CiAqIEBmdW5jdGlvbgogKiBAZGVwcmVjYXRlZCB1c2Uge0BsaW5rY29kZSBTd2VlcENvbnRleHQjYWRkUG9pbnR9IGluc3RlYWQKICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5BZGRQb2ludCA9IFN3ZWVwQ29udGV4dC5wcm90b3R5cGUuYWRkUG9pbnQ7Ci8qKgogKiBBZGQgc2V2ZXJhbCBTdGVpbmVyIHBvaW50cyB0byB0aGUgY29uc3RyYWludHMKICogQGV4YW1wbGUKICogICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIpOwogKiAgICAgIHZhciBwb2ludHMgPSBbCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgxNTAsIDE1MCksCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgyMDAsIDI1MCksCiAqICAgICAgICAgIG5ldyBwb2x5MnRyaS5Qb2ludCgyNTAsIDI1MCkKICogICAgICBdOwogKiAgICAgIHN3Y3R4LmFkZFBvaW50cyhwb2ludHMpOwogKiBAZXhhbXBsZQogKiAgICAgIHZhciBzd2N0eCA9IG5ldyBwb2x5MnRyaS5Td2VlcENvbnRleHQoY29udG91cik7CiAqICAgICAgc3djdHguYWRkUG9pbnRzKFt7eDoxNTAsIHk6MTUwfSwge3g6MjAwLCB5OjI1MH0sIHt4OjI1MCwgeToyNTB9XSk7CiAqIEBwdWJsaWMKICogQHBhcmFtIHtBcnJheS48WFk+fSBwb2ludHMgLSBhcnJheSBvZiAiUG9pbnQgbGlrZSIgb2JqZWN0IHdpdGgge3gseX0KICovCi8vIE1ldGhvZCBhZGRlZCBpbiB0aGUgSmF2YVNjcmlwdCB2ZXJzaW9uICh3YXMgbm90IHByZXNlbnQgaW4gdGhlIGMrKyB2ZXJzaW9uKQoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5hZGRQb2ludHMgPSBmdW5jdGlvbiAocG9pbnRzKSB7CiAgdGhpcy5wb2ludHNfID0gdGhpcy5wb2ludHNfLmNvbmNhdChwb2ludHMpOwogIHJldHVybiB0aGlzOyAvLyBmb3IgY2hhaW5pbmcKfTsKLyoqCiAqIFRyaWFuZ3VsYXRlIHRoZSBwb2x5Z29uIHdpdGggaG9sZXMgYW5kIFN0ZWluZXIgcG9pbnRzLgogKiBEbyB0aGlzIEFGVEVSIHlvdSd2ZSBhZGRlZCB0aGUgcG9seWxpbmUsIGhvbGVzLCBhbmQgU3RlaW5lciBwb2ludHMKICogQGV4YW1wbGUKICogICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIpOwogKiAgICAgIHN3Y3R4LnRyaWFuZ3VsYXRlKCk7CiAqICAgICAgdmFyIHRyaWFuZ2xlcyA9IHN3Y3R4LmdldFRyaWFuZ2xlcygpOwogKiBAcHVibGljCiAqLwovLyBTaG9ydGN1dCBtZXRob2QgZm9yIHN3ZWVwLnRyaWFuZ3VsYXRlKFN3ZWVwQ29udGV4dCkuCi8vIE1ldGhvZCBhZGRlZCBpbiB0aGUgSmF2YVNjcmlwdCB2ZXJzaW9uICh3YXMgbm90IHByZXNlbnQgaW4gdGhlIGMrKyB2ZXJzaW9uKQoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUudHJpYW5ndWxhdGUgPSBmdW5jdGlvbiAoKSB7CiAgc3dlZXAudHJpYW5ndWxhdGUodGhpcyk7CiAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZwp9OwovKioKICogR2V0IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHByb3ZpZGVkIGNvbnN0cmFpbnRzIChjb250b3VyLCBob2xlcyBhbmQgCiAqIFN0ZWludGVyIHBvaW50cykuIFdhcm5pbmcgOiB0aGVzZSB2YWx1ZXMgYXJlIG5vdCBhdmFpbGFibGUgaWYgdGhlIHRyaWFuZ3VsYXRpb24gCiAqIGhhcyBub3QgYmVlbiBkb25lIHlldC4KICogQHB1YmxpYwogKiBAcmV0dXJucyB7e21pbjpQb2ludCxtYXg6UG9pbnR9fSBvYmplY3Qgd2l0aCAnbWluJyBhbmQgJ21heCcgUG9pbnQKICovCi8vIE1ldGhvZCBhZGRlZCBpbiB0aGUgSmF2YVNjcmlwdCB2ZXJzaW9uICh3YXMgbm90IHByZXNlbnQgaW4gdGhlIGMrKyB2ZXJzaW9uKQoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3ggPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIG1pbjogdGhpcy5wbWluXywKICAgIG1heDogdGhpcy5wbWF4XwogIH07Cn07Ci8qKgogKiBHZXQgcmVzdWx0IG9mIHRyaWFuZ3VsYXRpb24uCiAqIFRoZSBvdXRwdXQgdHJpYW5nbGVzIGhhdmUgdmVydGljZXMgd2hpY2ggYXJlIHJlZmVyZW5jZXMKICogdG8gdGhlIGluaXRpYWwgaW5wdXQgcG9pbnRzIChub3QgY29waWVzKTogYW55IGN1c3RvbSBmaWVsZHMgaW4gdGhlCiAqIGluaXRpYWwgcG9pbnRzIGNhbiBiZSByZXRyaWV2ZWQgaW4gdGhlIG91dHB1dCB0cmlhbmdsZXMuCiAqIEBleGFtcGxlCiAqICAgICAgdmFyIHN3Y3R4ID0gbmV3IHBvbHkydHJpLlN3ZWVwQ29udGV4dChjb250b3VyKTsKICogICAgICBzd2N0eC50cmlhbmd1bGF0ZSgpOwogKiAgICAgIHZhciB0cmlhbmdsZXMgPSBzd2N0eC5nZXRUcmlhbmdsZXMoKTsKICogQGV4YW1wbGUKICogICAgICB2YXIgY29udG91ciA9IFt7eDoxMDAsIHk6MTAwLCBpZDoxfSwge3g6MTAwLCB5OjMwMCwgaWQ6Mn0sIHt4OjMwMCwgeTozMDAsIGlkOjN9XTsKICogICAgICB2YXIgc3djdHggPSBuZXcgcG9seTJ0cmkuU3dlZXBDb250ZXh0KGNvbnRvdXIpOwogKiAgICAgIHN3Y3R4LnRyaWFuZ3VsYXRlKCk7CiAqICAgICAgdmFyIHRyaWFuZ2xlcyA9IHN3Y3R4LmdldFRyaWFuZ2xlcygpOwogKiAgICAgIHR5cGVvZiB0cmlhbmdsZXNbMF0uZ2V0UG9pbnQoMCkuaWQKICogICAgICAvLyDihpIgIm51bWJlciIKICogQHB1YmxpYwogKiBAcmV0dXJucyB7YXJyYXk8VHJpYW5nbGU+fSAgIGFycmF5IG9mIHRyaWFuZ2xlcwogKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmdldFRyaWFuZ2xlcyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy50cmlhbmdsZXNfOwp9OwovKioKICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkKICogQGZ1bmN0aW9uCiAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmtjb2RlIFN3ZWVwQ29udGV4dCNnZXRUcmlhbmdsZXN9IGluc3RlYWQKICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5HZXRUcmlhbmdsZXMgPSBTd2VlcENvbnRleHQucHJvdG90eXBlLmdldFRyaWFuZ2xlczsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tU3dlZXBDb250ZXh0IChwcml2YXRlIEFQSSkKCi8qKiBAcHJpdmF0ZSAqLwoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5mcm9udCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5mcm9udF87Cn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUucG9pbnRDb3VudCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5wb2ludHNfLmxlbmd0aDsKfTsKLyoqIEBwcml2YXRlICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5oZWFkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLmhlYWRfOwp9OwovKiogQHByaXZhdGUgKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLnNldEhlYWQgPSBmdW5jdGlvbiAocDEpIHsKICB0aGlzLmhlYWRfID0gcDE7Cn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUudGFpbCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy50YWlsXzsKfTsKLyoqIEBwcml2YXRlICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5zZXRUYWlsID0gZnVuY3Rpb24gKHAxKSB7CiAgdGhpcy50YWlsXyA9IHAxOwp9OwovKiogQHByaXZhdGUgKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5tYXBfOwp9OwovKiogQHByaXZhdGUgKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmluaXRUcmlhbmd1bGF0aW9uID0gZnVuY3Rpb24gKCkgewogIHZhciB4bWF4ID0gdGhpcy5wb2ludHNfWzBdLng7CiAgdmFyIHhtaW4gPSB0aGlzLnBvaW50c19bMF0ueDsKICB2YXIgeW1heCA9IHRoaXMucG9pbnRzX1swXS55OwogIHZhciB5bWluID0gdGhpcy5wb2ludHNfWzBdLnk7IC8vIENhbGN1bGF0ZSBib3VuZHMKCiAgdmFyIGksCiAgICAgIGxlbiA9IHRoaXMucG9pbnRzXy5sZW5ndGg7CgogIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKykgewogICAgdmFyIHAgPSB0aGlzLnBvaW50c19baV07CiAgICAvKiBqc2hpbnQgZXhwcjp0cnVlICovCgogICAgcC54ID4geG1heCAmJiAoeG1heCA9IHAueCk7CiAgICBwLnggPCB4bWluICYmICh4bWluID0gcC54KTsKICAgIHAueSA+IHltYXggJiYgKHltYXggPSBwLnkpOwogICAgcC55IDwgeW1pbiAmJiAoeW1pbiA9IHAueSk7CiAgfQoKICB0aGlzLnBtaW5fID0gbmV3IHBvaW50KHhtaW4sIHltaW4pOwogIHRoaXMucG1heF8gPSBuZXcgcG9pbnQoeG1heCwgeW1heCk7CiAgdmFyIGR4ID0ga0FscGhhICogKHhtYXggLSB4bWluKTsKICB2YXIgZHkgPSBrQWxwaGEgKiAoeW1heCAtIHltaW4pOwogIHRoaXMuaGVhZF8gPSBuZXcgcG9pbnQoeG1heCArIGR4LCB5bWluIC0gZHkpOwogIHRoaXMudGFpbF8gPSBuZXcgcG9pbnQoeG1pbiAtIGR4LCB5bWluIC0gZHkpOyAvLyBTb3J0IHBvaW50cyBhbG9uZyB5LWF4aXMKCiAgdGhpcy5wb2ludHNfLnNvcnQocG9pbnQuY29tcGFyZSk7Cn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUuaW5pdEVkZ2VzID0gZnVuY3Rpb24gKHBvbHlsaW5lKSB7CiAgdmFyIGksCiAgICAgIGxlbiA9IHBvbHlsaW5lLmxlbmd0aDsKCiAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7CiAgICB0aGlzLmVkZ2VfbGlzdC5wdXNoKG5ldyBFZGdlKHBvbHlsaW5lW2ldLCBwb2x5bGluZVsoaSArIDEpICUgbGVuXSkpOwogIH0KfTsKLyoqIEBwcml2YXRlICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5nZXRQb2ludCA9IGZ1bmN0aW9uIChpbmRleCkgewogIHJldHVybiB0aGlzLnBvaW50c19baW5kZXhdOwp9OwovKiogQHByaXZhdGUgKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmFkZFRvTWFwID0gZnVuY3Rpb24gKHRyaWFuZ2xlKSB7CiAgdGhpcy5tYXBfLnB1c2godHJpYW5nbGUpOwp9OwovKiogQHByaXZhdGUgKi8KCgpTd2VlcENvbnRleHQucHJvdG90eXBlLmxvY2F0ZU5vZGUgPSBmdW5jdGlvbiAocG9pbnQpIHsKICByZXR1cm4gdGhpcy5mcm9udF8ubG9jYXRlTm9kZShwb2ludC54KTsKfTsKLyoqIEBwcml2YXRlICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5jcmVhdGVBZHZhbmNpbmdGcm9udCA9IGZ1bmN0aW9uICgpIHsKICB2YXIgaGVhZDsKICB2YXIgbWlkZGxlOwogIHZhciB0YWlsOyAvLyBJbml0aWFsIHRyaWFuZ2xlCgogIHZhciB0cmlhbmdsZSQxID0gbmV3IHRyaWFuZ2xlKHRoaXMucG9pbnRzX1swXSwgdGhpcy50YWlsXywgdGhpcy5oZWFkXyk7CiAgdGhpcy5tYXBfLnB1c2godHJpYW5nbGUkMSk7CiAgaGVhZCA9IG5ldyBOb2RlKHRyaWFuZ2xlJDEuZ2V0UG9pbnQoMSksIHRyaWFuZ2xlJDEpOwogIG1pZGRsZSA9IG5ldyBOb2RlKHRyaWFuZ2xlJDEuZ2V0UG9pbnQoMCksIHRyaWFuZ2xlJDEpOwogIHRhaWwgPSBuZXcgTm9kZSh0cmlhbmdsZSQxLmdldFBvaW50KDIpKTsKICB0aGlzLmZyb250XyA9IG5ldyBhZHZhbmNpbmdmcm9udChoZWFkLCB0YWlsKTsKICBoZWFkLm5leHQgPSBtaWRkbGU7CiAgbWlkZGxlLm5leHQgPSB0YWlsOwogIG1pZGRsZS5wcmV2ID0gaGVhZDsKICB0YWlsLnByZXYgPSBtaWRkbGU7Cn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7Ly8gZG8gbm90aGluZwoKICAvKiBqc2hpbnQgdW51c2VkOmZhbHNlICovCn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUubWFwVHJpYW5nbGVUb05vZGVzID0gZnVuY3Rpb24gKHQpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkgewogICAgaWYgKCF0LmdldE5laWdoYm9yKGkpKSB7CiAgICAgIHZhciBuID0gdGhpcy5mcm9udF8ubG9jYXRlUG9pbnQodC5wb2ludENXKHQuZ2V0UG9pbnQoaSkpKTsKCiAgICAgIGlmIChuKSB7CiAgICAgICAgbi50cmlhbmdsZSA9IHQ7CiAgICAgIH0KICAgIH0KICB9Cn07Ci8qKiBAcHJpdmF0ZSAqLwoKClN3ZWVwQ29udGV4dC5wcm90b3R5cGUucmVtb3ZlRnJvbU1hcCA9IGZ1bmN0aW9uICh0cmlhbmdsZSkgewogIHZhciBpLAogICAgICBtYXAgPSB0aGlzLm1hcF8sCiAgICAgIGxlbiA9IG1hcC5sZW5ndGg7CgogIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgaWYgKG1hcFtpXSA9PT0gdHJpYW5nbGUpIHsKICAgICAgbWFwLnNwbGljZShpLCAxKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQp9OwovKioKICogRG8gYSBkZXB0aCBmaXJzdCB0cmF2ZXJzYWwgdG8gY29sbGVjdCB0cmlhbmdsZXMKICogQHByaXZhdGUKICogQHBhcmFtIHtUcmlhbmdsZX0gdHJpYW5nbGUgc3RhcnQKICovCgoKU3dlZXBDb250ZXh0LnByb3RvdHlwZS5tZXNoQ2xlYW4gPSBmdW5jdGlvbiAodHJpYW5nbGUpIHsKICAvLyBOZXcgaW1wbGVtZW50YXRpb24gYXZvaWRzIHJlY3Vyc2l2ZSBjYWxscyBhbmQgdXNlIGEgbG9vcCBpbnN0ZWFkLgogIC8vIENmLiBpc3N1ZXMgIyA1NywgNjUgYW5kIDY5LgogIHZhciB0cmlhbmdsZXMgPSBbdHJpYW5nbGVdLAogICAgICB0LAogICAgICBpOwogIC8qIGpzaGludCBib3NzOnRydWUgKi8KCiAgd2hpbGUgKHQgPSB0cmlhbmdsZXMucG9wKCkpIHsKICAgIGlmICghdC5pc0ludGVyaW9yKCkpIHsKICAgICAgdC5zZXRJbnRlcmlvcih0cnVlKTsKICAgICAgdGhpcy50cmlhbmdsZXNfLnB1c2godCk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgaWYgKCF0LmNvbnN0cmFpbmVkX2VkZ2VbaV0pIHsKICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHQuZ2V0TmVpZ2hib3IoaSkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUV4cG9ydHMKCgp2YXIgc3dlZXBjb250ZXh0ID0gU3dlZXBDb250ZXh0OwoKdmFyIHJlcXVpcmUkJDAgPSBnZXRDanNFeHBvcnRGcm9tTmFtZXNwYWNlKHZlcnNpb24kMik7Cgp2YXIgcG9seTJ0cmkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgLyoqCiAgICogUHVibGljIEFQSSBmb3IgcG9seTJ0cmkuanMKICAgKiBAbW9kdWxlIHBvbHkydHJpCiAgICovCgogIC8qKgogICAqIElmIHlvdSBhcmUgbm90IHVzaW5nIGEgbW9kdWxlIHN5c3RlbSAoZS5nLiBDb21tb25KUywgUmVxdWlyZUpTKSwgeW91IGNhbiBhY2Nlc3MgdGhpcyBsaWJyYXJ5CiAgICogYXMgYSBnbG9iYWwgdmFyaWFibGUgPGNvZGU+cG9seTJ0cmk8L2NvZGU+IGkuZS4gPGNvZGU+d2luZG93LnBvbHkydHJpPC9jb2RlPiBpbiBhIGJyb3dzZXIuCiAgICogQG5hbWUgcG9seTJ0cmkKICAgKiBAZ2xvYmFsCiAgICogQHB1YmxpYwogICAqIEB0eXBlIHttb2R1bGU6cG9seTJ0cml9CiAgICovCgogIHZhciBwcmV2aW91c1BvbHkydHJpID0gY29tbW9uanNHbG9iYWwucG9seTJ0cmk7CiAgLyoqCiAgICogRm9yIEJyb3dzZXIgKyAmbHQ7c2NyaXB0Jmd0OyA6CiAgICogcmV2ZXJ0cyB0aGUge0BsaW5rY29kZSBwb2x5MnRyaX0gZ2xvYmFsIG9iamVjdCB0byBpdHMgcHJldmlvdXMgdmFsdWUsCiAgICogYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIGNhbGxlZC4KICAgKgogICAqIEBleGFtcGxlCiAgICogICAgICAgICAgICAgIHZhciBwID0gcG9seTJ0cmkubm9Db25mbGljdCgpOwogICAqIEBwdWJsaWMKICAgKiBAcmV0dXJuIHttb2R1bGU6cG9seTJ0cml9IGluc3RhbmNlIGNhbGxlZAogICAqLwogIC8vICh0aGlzIGZlYXR1cmUgaXMgbm90IGF1dG9tYXRpY2FsbHkgcHJvdmlkZWQgYnkgYnJvd3NlcmlmeSkuCgogIGV4cG9ydHMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHsKICAgIGNvbW1vbmpzR2xvYmFsLnBvbHkydHJpID0gcHJldmlvdXNQb2x5MnRyaTsKICAgIHJldHVybiBleHBvcnRzOwogIH07CiAgLyoqCiAgICogcG9seTJ0cmkgbGlicmFyeSB2ZXJzaW9uCiAgICogQHB1YmxpYwogICAqIEBjb25zdCB7c3RyaW5nfQogICAqLwoKCiAgZXhwb3J0cy5WRVJTSU9OID0gcmVxdWlyZSQkMC52ZXJzaW9uOwogIC8qKgogICAqIEV4cG9ydHMgdGhlIHtAbGlua2NvZGUgUG9pbnRFcnJvcn0gY2xhc3MuCiAgICogQHB1YmxpYwogICAqIEB0eXBlZGVmIHtQb2ludEVycm9yfSBtb2R1bGU6cG9seTJ0cmkuUG9pbnRFcnJvcgogICAqIEBmdW5jdGlvbgogICAqLwoKICBleHBvcnRzLlBvaW50RXJyb3IgPSBwb2ludGVycm9yOwogIC8qKgogICAqIEV4cG9ydHMgdGhlIHtAbGlua2NvZGUgUG9pbnR9IGNsYXNzLgogICAqIEBwdWJsaWMKICAgKiBAdHlwZWRlZiB7UG9pbnR9IG1vZHVsZTpwb2x5MnRyaS5Qb2ludAogICAqIEBmdW5jdGlvbgogICAqLwoKICBleHBvcnRzLlBvaW50ID0gcG9pbnQ7CiAgLyoqCiAgICogRXhwb3J0cyB0aGUge0BsaW5rY29kZSBUcmlhbmdsZX0gY2xhc3MuCiAgICogQHB1YmxpYwogICAqIEB0eXBlZGVmIHtUcmlhbmdsZX0gbW9kdWxlOnBvbHkydHJpLlRyaWFuZ2xlCiAgICogQGZ1bmN0aW9uCiAgICovCgogIGV4cG9ydHMuVHJpYW5nbGUgPSB0cmlhbmdsZTsKICAvKioKICAgKiBFeHBvcnRzIHRoZSB7QGxpbmtjb2RlIFN3ZWVwQ29udGV4dH0gY2xhc3MuCiAgICogQHB1YmxpYwogICAqIEB0eXBlZGVmIHtTd2VlcENvbnRleHR9IG1vZHVsZTpwb2x5MnRyaS5Td2VlcENvbnRleHQKICAgKiBAZnVuY3Rpb24KICAgKi8KCiAgZXhwb3J0cy5Td2VlcENvbnRleHQgPSBzd2VlcGNvbnRleHQ7IC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkKCiAgLyoqCiAgICogQGZ1bmN0aW9uCiAgICogQGRlcHJlY2F0ZWQgdXNlIHtAbGlua2NvZGUgU3dlZXBDb250ZXh0I3RyaWFuZ3VsYXRlfSBpbnN0ZWFkCiAgICovCgogIGV4cG9ydHMudHJpYW5ndWxhdGUgPSBzd2VlcC50cmlhbmd1bGF0ZTsKICAvKioKICAgKiBAZGVwcmVjYXRlZCB1c2Uge0BsaW5rY29kZSBTd2VlcENvbnRleHQjdHJpYW5ndWxhdGV9IGluc3RlYWQKICAgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBUcmlhbmd1bGF0ZSAtIHVzZSB7QGxpbmtjb2RlIFN3ZWVwQ29udGV4dCN0cmlhbmd1bGF0ZX0gaW5zdGVhZAogICAqLwoKICBleHBvcnRzLnN3ZWVwID0gewogICAgVHJpYW5ndWxhdGU6IHN3ZWVwLnRyaWFuZ3VsYXRlCiAgfTsKfSk7CnBvbHkydHJpLm5vQ29uZmxpY3Q7CnBvbHkydHJpLlZFUlNJT047CnBvbHkydHJpLlBvaW50RXJyb3I7CnZhciBwb2x5MnRyaV80ID0gcG9seTJ0cmkuUG9pbnQ7CnBvbHkydHJpLlRyaWFuZ2xlOwp2YXIgcG9seTJ0cmlfNiA9IHBvbHkydHJpLlN3ZWVwQ29udGV4dDsKcG9seTJ0cmkudHJpYW5ndWxhdGU7CnBvbHkydHJpLnN3ZWVwOwoKLyoqCiAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICovCnZhciBTaGFwZVV0aWxzID0gewogIC8vIGNhbGN1bGF0ZSBhcmVhIG9mIHRoZSBjb250b3VyIHBvbHlnb24KICBhcmVhOiBmdW5jdGlvbiBhcmVhKGNvbnRvdXIpIHsKICAgIHZhciBuID0gY29udG91ci5sZW5ndGg7CiAgICB2YXIgYSA9IDAuMDsKCiAgICBmb3IgKHZhciBwID0gbiAtIDEsIHEgPSAwOyBxIDwgbjsgcCA9IHErKykgewogICAgICBhICs9IGNvbnRvdXJbcF0ueCAqIGNvbnRvdXJbcV0ueSAtIGNvbnRvdXJbcV0ueCAqIGNvbnRvdXJbcF0ueTsKICAgIH0KCiAgICByZXR1cm4gYSAqIDAuNTsKICB9LAogIGlzQ2xvY2tXaXNlOiBmdW5jdGlvbiBpc0Nsb2NrV2lzZShwdHMpIHsKICAgIHJldHVybiBTaGFwZVV0aWxzLmFyZWEocHRzKSA8IDA7CiAgfSwKICB0cmlhbmd1bGF0ZVNoYXBlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZVNoYXBlKGNvbnRvdXIsIGhvbGVzKSB7CiAgICB2YXIgdmVydGljZXMgPSBbXTsgLy8gZmxhdCBhcnJheSBvZiB2ZXJ0aWNlcyBsaWtlIFsgeDAseTAsIHgxLHkxLCB4Mix5MiwgLi4uIF0KCiAgICB2YXIgaG9sZUluZGljZXMgPSBbXTsgLy8gYXJyYXkgb2YgaG9sZSBpbmRpY2VzCgogICAgdmFyIGZhY2VzID0gW107IC8vIGZpbmFsIGFycmF5IG9mIHZlcnRleCBpbmRpY2VzIGxpa2UgWyBbIGEsYixkIF0sIFsgYixjLGQgXSBdCgogICAgcmVtb3ZlRHVwRW5kUHRzKGNvbnRvdXIpOwogICAgYWRkQ29udG91cih2ZXJ0aWNlcywgY29udG91cik7IC8vCgogICAgdmFyIGhvbGVJbmRleCA9IGNvbnRvdXIubGVuZ3RoOwogICAgaG9sZXMuZm9yRWFjaChyZW1vdmVEdXBFbmRQdHMpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaG9sZUluZGljZXMucHVzaChob2xlSW5kZXgpOwogICAgICBob2xlSW5kZXggKz0gaG9sZXNbaV0ubGVuZ3RoOwogICAgICBhZGRDb250b3VyKHZlcnRpY2VzLCBob2xlc1tpXSk7CiAgICB9IC8vCgoKICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXRfMSh2ZXJ0aWNlcywgaG9sZUluZGljZXMpOyAvLwoKICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0cmlhbmdsZXMubGVuZ3RoOyBfaSArPSAzKSB7CiAgICAgIGZhY2VzLnB1c2godHJpYW5nbGVzLnNsaWNlKF9pLCBfaSArIDMpKTsKICAgIH0KCiAgICByZXR1cm4gZmFjZXM7CiAgfSwKICAvLyB5dW55YW5nIHRvZG8KICB0cmlhbmd1bGF0ZVNoYXBlUG9seTJ0cmk6IGZ1bmN0aW9uIHRyaWFuZ3VsYXRlU2hhcGVQb2x5MnRyaShjb250b3VyLCBob2xlcykgewogICAgcmVtb3ZlRHVwRW5kUHRzKGNvbnRvdXIpOwogICAgaG9sZXMuZm9yRWFjaChyZW1vdmVEdXBFbmRQdHMpOwogICAgdmFyIHBvaW50TWFwID0ge307CiAgICB2YXIgY291bnQgPSAwOwogICAgdmFyIHBvaW50cyA9IG1ha2VQb2ludHMoY29udG91cik7CiAgICB2YXIgc3dlZXBDb250ZXh0ID0gbmV3IHBvbHkydHJpXzYocG9pbnRzKTsKCiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBob2xlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7CiAgICAgIHBvaW50cyA9IG1ha2VQb2ludHMoaG9sZXNbaV0pOwogICAgICBzd2VlcENvbnRleHQuYWRkSG9sZShwb2ludHMpOwogICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KHBvaW50cyk7CiAgICB9CgogICAgdmFyIG9iamVjdCA9IHN3ZWVwQ29udGV4dC50cmlhbmd1bGF0ZSgpOwogICAgdmFyIHRyaWFuZ2xlcyA9IG9iamVjdC50cmlhbmdsZXNfOwogICAgdmFyIGE7CiAgICB2YXIgYjsKICAgIHZhciBjOwogICAgdmFyIHJlc3VsdCA9IFtdOwoKICAgIGZvciAodmFyIF9pMiA9IDAsIF9pbCA9IHRyaWFuZ2xlcy5sZW5ndGg7IF9pMiA8IF9pbDsgX2kyKyspIHsKICAgICAgcG9pbnRzID0gdHJpYW5nbGVzW19pMl0ucG9pbnRzXzsKICAgICAgYSA9IHBvaW50TWFwW3BvaW50c1swXS54ICsgJywnICsgcG9pbnRzWzBdLnldOwogICAgICBiID0gcG9pbnRNYXBbcG9pbnRzWzFdLnggKyAnLCcgKyBwb2ludHNbMV0ueV07CiAgICAgIGMgPSBwb2ludE1hcFtwb2ludHNbMl0ueCArICcsJyArIHBvaW50c1syXS55XTsKICAgICAgcmVzdWx0LnB1c2goW2EsIGIsIGNdKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwoKICAgIGZ1bmN0aW9uIG1ha2VQb2ludHMoYSkgewogICAgICB2YXIgaWwgPSBhLmxlbmd0aDsKICAgICAgdmFyIHBvaW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaWw7IF9pMysrKSB7CiAgICAgICAgcG9pbnRzLnB1c2gobmV3IHBvbHkydHJpXzQoYVtfaTNdLngsIGFbX2kzXS55KSk7CiAgICAgICAgcG9pbnRNYXBbYVtfaTNdLnggKyAnLCcgKyBhW19pM10ueV0gPSBjb3VudDsKICAgICAgICBjb3VudCsrOwogICAgICB9CgogICAgICByZXR1cm4gcG9pbnRzOwogICAgfQogIH0sCiAgdHJpYW5ndWxhdGVTaGFwZVRlc3N5OiBmdW5jdGlvbiB0cmlhbmd1bGF0ZVNoYXBlVGVzc3koY29udG91ciwgaG9sZXMsIHRlc3N5KSB7CiAgICByZW1vdmVEdXBFbmRQdHMoY29udG91cik7CiAgICBob2xlcy5mb3JFYWNoKHJlbW92ZUR1cEVuZFB0cyk7CiAgICB2YXIgdHJpYW5nbGVzID0gW107CiAgICB2YXIgcG9pbnRNYXAgPSB7fTsKICAgIHZhciBjb3VudCA9IDA7IC8vIGxpYnRlc3Mgd2lsbCB0YWtlIDNkIHZlcnRzIGFuZCBmbGF0dGVuIHRvIGEgcGxhbmUgZm9yIHRlc3NlbGF0aW9uCiAgICAvLyBzaW5jZSBvbmx5IGRvaW5nIDJkIHRlc3NlbGF0aW9uIGhlcmUsIHByb3ZpZGUgej0xIG5vcm1hbCB0byBza2lwCiAgICAvLyBpdGVyYXRpbmcgb3ZlciB2ZXJ0cyBvbmx5IHRvIGdldCB0aGUgc2FtZSBhbnN3ZXIuCiAgICAvLyBjb21tZW50IG91dCB0byB0ZXN0IG5vcm1hbC1nZW5lcmF0aW9uIGNvZGUKCiAgICB0ZXNzeS5nbHVUZXNzTm9ybWFsKDAsIDAsIDEpOwogICAgdGVzc3kuZ2x1VGVzc0JlZ2luUG9seWdvbih0cmlhbmdsZXMpOwogICAgdmFyIHBvaW50cyA9IG1ha2VQb2ludHMoY29udG91cik7CgogICAgZm9yICh2YXIgaSA9IDAsIGlsID0gaG9sZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICBwb2ludHMgPSBtYWtlUG9pbnRzKGhvbGVzW2ldKTsKICAgIH0KCiAgICB0ZXNzeS5nbHVUZXNzRW5kUG9seWdvbigpOwogICAgZGVidWcubG9nKCd0ZXNzeSB0ZXNzZWxhdGlvbicpOwogICAgdmFyIGE7CiAgICB2YXIgYjsKICAgIHZhciBjOwogICAgdmFyIHJlc3VsdCA9IFtdOwoKICAgIGZvciAodmFyIF9pNCA9IDAsIF9pbDIgPSB0cmlhbmdsZXMubGVuZ3RoOyBfaTQgPCBfaWwyOyBfaTQgKz0gNikgewogICAgICBhID0gcG9pbnRNYXBbdHJpYW5nbGVzW19pNF0gKyAnLCcgKyB0cmlhbmdsZXNbX2k0ICsgMV1dOwogICAgICBiID0gcG9pbnRNYXBbdHJpYW5nbGVzW19pNCArIDJdICsgJywnICsgdHJpYW5nbGVzW19pNCArIDNdXTsKICAgICAgYyA9IHBvaW50TWFwW3RyaWFuZ2xlc1tfaTQgKyA0XSArICcsJyArIHRyaWFuZ2xlc1tfaTQgKyA1XV07CiAgICAgIHJlc3VsdC5wdXNoKFthLCBiLCBjXSk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKCiAgICBmdW5jdGlvbiBtYWtlUG9pbnRzKGEpIHsKICAgICAgdmFyIGlsID0gYS5sZW5ndGg7CiAgICAgIHRlc3N5LmdsdVRlc3NCZWdpbkNvbnRvdXIoKTsKCiAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGlsOyBfaTUrKykgewogICAgICAgIHZhciBjb29yZGluYXRlcyA9IFthW19pNV0ueCwgYVtfaTVdLnksIDBdOwogICAgICAgIHRlc3N5LmdsdVRlc3NWZXJ0ZXgoY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzKTsKICAgICAgICBwb2ludE1hcFthW19pNV0ueCArICcsJyArIGFbX2k1XS55XSA9IGNvdW50OwogICAgICAgIGNvdW50Kys7CiAgICAgIH0KCiAgICAgIHRlc3N5LmdsdVRlc3NFbmRDb250b3VyKCk7CiAgICAgIHJldHVybiBwb2ludHM7CiAgICB9CiAgfQp9OwoKZnVuY3Rpb24gcmVtb3ZlRHVwRW5kUHRzKHBvaW50cykgewogIHZhciBsID0gcG9pbnRzLmxlbmd0aDsKCiAgaWYgKGwgPiAyICYmIHBvaW50c1tsIC0gMV0uZXF1YWxzKHBvaW50c1swXSkpIHsKICAgIHBvaW50cy5wb3AoKTsKICB9Cn0KCmZ1bmN0aW9uIGFkZENvbnRvdXIodmVydGljZXMsIGNvbnRvdXIpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRvdXIubGVuZ3RoOyBpKyspIHsKICAgIHZlcnRpY2VzLnB1c2goY29udG91cltpXS54KTsKICAgIHZlcnRpY2VzLnB1c2goY29udG91cltpXS55KTsKICB9Cn0KCi8vIGNvbnN0IHBvbHkydHJpID0gJyc7CgpmdW5jdGlvbiBFeHRydWRlQnVmZmVyR2VvbWV0cnkoc2hhcGVzLCBvcHRpb25zKSB7CiAgQnVmZmVyR2VvbWV0cnkuY2FsbCh0aGlzKTsKICB0aGlzLnR5cGUgPSAnRXh0cnVkZUJ1ZmZlckdlb21ldHJ5JzsKICB0aGlzLnBhcmFtZXRlcnMgPSB7CiAgICBzaGFwZXM6IHNoYXBlcywKICAgIG9wdGlvbnM6IG9wdGlvbnMKICB9OyAvLyBleHRydWRlU2NhbGUgIGRpc2FibGVkLCB5dW55YW5nCgogIG9wdGlvbnMuZXh0cnVkZVNjYWxlID0gMTsKICBzaGFwZXMgPSBBcnJheS5pc0FycmF5KHNoYXBlcykgPyBzaGFwZXMgOiBbc2hhcGVzXTsKICB2YXIgc2NvcGUgPSB0aGlzOwogIHZhciB2ZXJ0aWNlc0FycmF5ID0gW107CiAgdmFyIHV2QXJyYXkgPSBbXTsKICB2YXIgY3VydmVTZWdtZW50c0FkYXB0aXZlID0gb3B0aW9ucy5jdXJ2ZVNlZ21lbnRzQWRhcHRpdmUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3VydmVTZWdtZW50c0FkYXB0aXZlIDogMC4xOwogIHZhciBzaGFwZXNFeHRyYWN0ZWRQb2ludHMgPSBuZXcgQXJyYXkoc2hhcGVzLmxlbmd0aCk7CgogIGZvciAodmFyIGkgPSAwLCBsID0gc2hhcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgdmFyIHNoYXBlID0gc2hhcGVzW2ldOwogICAgc2hhcGUuaXNEZWZvcm1hdGlvbk9OID0gb3B0aW9ucy5pc0RlZm9ybWF0aW9uT047CiAgICBzaGFwZXNFeHRyYWN0ZWRQb2ludHNbaV0gPSBzaGFwZS5leHRyYWN0UG9pbnRzQWRhcHRpdmVseShjdXJ2ZVNlZ21lbnRzQWRhcHRpdmUpOwogIH0KCiAgdmFyIHNoYXBlc19jZW50ZXIgPSBuZXcgVmVjdG9yMigwLCAwKTsKICB2YXIgYm91bmRpbmdib3hfZm9yX3NoYXBlcyA9IG5ldyBCb3gyKCk7CgogIGZvciAodmFyIF9pID0gMCwgX2wgPSBzaGFwZXMubGVuZ3RoOyBfaSA8IF9sOyBfaSsrKSB7CiAgICB2YXIgX3NoYXBlID0gc2hhcGVzW19pXTsKICAgIHZhciByZXQgPSBjYWxjdWxhdGVTaGFwZUNlbnRlcihfc2hhcGUsIHNoYXBlc0V4dHJhY3RlZFBvaW50c1tfaV0pOwogICAgdmFyIHNoYXBlX2NlbnRlcl9yZXQgPSByZXRbMF07CiAgICB2YXIgYm91bmRpbmdib3ggPSByZXRbMV07CiAgICBzaGFwZXNfY2VudGVyLnggPSBzaGFwZXNfY2VudGVyLnggKyBzaGFwZV9jZW50ZXJfcmV0Lng7CiAgICBzaGFwZXNfY2VudGVyLnkgPSBzaGFwZXNfY2VudGVyLnkgKyBzaGFwZV9jZW50ZXJfcmV0Lnk7CiAgICBib3VuZGluZ2JveF9mb3Jfc2hhcGVzLnVuaW9uKGJvdW5kaW5nYm94KTsKICB9IC8vIHVwZGF0ZSBleHRydWRlUGF0aAoKCiAgaWYgKG9wdGlvbnMuZXh0cnVkZVBhdGggIT0gdW5kZWZpbmVkKSB7CiAgICB2YXIgdmxlbiA9IG9wdGlvbnMuZXh0cnVkZVBhdGgucG9pbnRzLmxlbmd0aDsKCiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB2bGVuOyBfaTIrKykgewogICAgICB2YXIgdGVtcCA9IG9wdGlvbnMuZXh0cnVkZVBhdGgucG9pbnRzW19pMl07CgogICAgICBvcHRpb25zLmV4dHJ1ZGVQYXRoLnBvaW50c1tfaTJdLnNldCh0ZW1wLnggKyBzaGFwZXNfY2VudGVyLngsIHRlbXAueSArIHNoYXBlc19jZW50ZXIueSwgdGVtcC56KTsKICAgIH0KICB9CgogIHZhciBjaGFyVmVydGV4R3JvdXAgPSBbXTsKICB2YXIgY2hhckNvdW50ID0gMDsKCiAgZm9yICh2YXIgX2kzID0gMCwgX2wyID0gc2hhcGVzLmxlbmd0aDsgX2kzIDwgX2wyOyBfaTMrKykgewogICAgaWYgKG9wdGlvbnMuY2hhckZsYWdbY2hhckNvdW50XSA9PSBfaTMpIHsKICAgICAgY2hhckNvdW50ID0gY2hhckNvdW50ICsgMTsKICAgICAgY2hhclZlcnRleEdyb3VwLnB1c2godmVydGljZXNBcnJheS5sZW5ndGggLyAzKTsKICAgIH0KCiAgICB2YXIgX3NoYXBlMiA9IHNoYXBlc1tfaTNdOwogICAgYWRkU2hhcGUoX3NoYXBlMiwgc2hhcGVzX2NlbnRlciwgYm91bmRpbmdib3hfZm9yX3NoYXBlcywgc2hhcGVzRXh0cmFjdGVkUG9pbnRzW19pM10pOwogIH0KCiAgY2hhclZlcnRleEdyb3VwLnB1c2godmVydGljZXNBcnJheS5sZW5ndGggLyAzKTsKCiAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgdmVydGljZXNBcnJheS5sZW5ndGggLyAzOyBfaTQrKykgewogICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyVmVydGV4R3JvdXAubGVuZ3RoIC0gMTsgaisrKSB7CiAgICAgIGlmIChfaTQgPj0gY2hhclZlcnRleEdyb3VwW2pdICYmIF9pNCA8IGNoYXJWZXJ0ZXhHcm91cFtqICsgMV0pIHsKICAgICAgICB0aGlzLmNoYXJWZXJ0ZXhGbGFnQXJyYXkucHVzaChqKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gLy8gYnVpbGQgZ2VvbWV0cnkKCgogIHRoaXMuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzQXJyYXksIDMpKTsKICB0aGlzLmFkZEF0dHJpYnV0ZSgndXYnLCBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dkFycmF5LCAyKSk7CgogIGlmIChvcHRpb25zLnNoYWRpbmdTbW9vdGhBbmdsZSA9PSAwKSB7CiAgICB0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7CiAgfSBlbHNlIHsKICAgIHRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHM0VGV4dGdlb21ldHJ5WXVueWFuZyhvcHRpb25zLnNoYWRpbmdTbW9vdGhBbmdsZSk7CiAgfQoKICB0aGlzLm1lcmdlU2FtZVZlcnRleCgpOwogIHRoaXMuY2VudGVyKCk7CiAgdGhpcy5wZXJDaGFyQ2FsY3VsYXRpb24oKTsKCiAgZnVuY3Rpb24gY2FsY3VsYXRlU2hhcGVDZW50ZXIoc2hhcGUsIHNoYXBlUG9pbnRzKSB7CiAgICB2YXIgdmVydGljZXMgPSBzaGFwZVBvaW50cy5zaGFwZTsKICAgIHZhciBib3VuZGluZ2JveCA9IG5ldyBCb3gyKCk7CiAgICBib3VuZGluZ2JveC5zZXRGcm9tUG9pbnRzKHZlcnRpY2VzKTsKICAgIHZhciB2bGVuID0gdmVydGljZXMubGVuZ3RoOwogICAgdmFyIHNoYXBlQ2VudGVyID0gbmV3IFZlY3RvcjIoKTsKICAgIHZhciB3ZWlnaHQgPSAxLjAgLyB2bGVuOyAvLyDorqHnrpdiYWNrIGZhY2luZyB2ZXJ0aWNlc+eahOS4reW/g+eCuQoKICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IHZsZW47IF9pNSsrKSB7CiAgICAgIHNoYXBlQ2VudGVyLnggKz0gdmVydGljZXNbX2k1XS54ICogd2VpZ2h0OwogICAgICBzaGFwZUNlbnRlci55ICs9IHZlcnRpY2VzW19pNV0ueSAqIHdlaWdodDsKICAgIH0KCiAgICByZXR1cm4gW3NoYXBlQ2VudGVyLCBib3VuZGluZ2JveF07CiAgfSAvLyB5dW55YW5nCgoKICBmdW5jdGlvbiBsYXBsYWNpYW5TbW9vdGgodmVydGljZXMsIGl0ZXJhdGlvbl9udW1iKSB7CiAgICBpZiAoaXRlcmF0aW9uX251bWIgPT0gMCkgcmV0dXJuOwoKICAgIGZvciAodmFyIGl0ID0gMDsgaXQgPCBpdGVyYXRpb25fbnVtYjsgaXQrKykgewogICAgICAvLyBjb25zdCB2ZXJ0aWNlc19vbGQgPSBbXS5jb25jYXQodmVydGljZXMpOy8v5rex5ou36LSd5pWw57uECiAgICAgIHZhciB2ZXJ0aWNlc19vbGQgPSBbXTsKCiAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IHZlcnRpY2VzLmxlbmd0aDsgX2k2KyspIHsKICAgICAgICB2YXIgdmVjMl90ZW1wID0gbmV3IFZlY3RvcjIoKTsKICAgICAgICB2ZWMyX3RlbXAuY29weSh2ZXJ0aWNlc1tfaTZdKTsKICAgICAgICB2ZXJ0aWNlc19vbGQucHVzaCh2ZWMyX3RlbXApOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaTcgPSAwLCBpbCA9IHZlcnRpY2VzX29sZC5sZW5ndGgsIF9qID0gaWwgLSAxLCBrID0gX2k3ICsgMTsgX2k3IDwgaWw7IF9pNysrLCBfaisrLCBrKyspIHsKICAgICAgICBpZiAoX2ogPT09IGlsKSBfaiA9IDA7CiAgICAgICAgaWYgKGsgPT09IGlsKSBrID0gMDsKICAgICAgICB2ZXJ0aWNlc1tfaTddLnggPSAwLjUgKiAodmVydGljZXNfb2xkW19qXS54ICsgdmVydGljZXNfb2xkW2tdLngpOwogICAgICAgIHZlcnRpY2VzW19pN10ueSA9IDAuNSAqICh2ZXJ0aWNlc19vbGRbX2pdLnkgKyB2ZXJ0aWNlc19vbGRba10ueSk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGFkZFNoYXBlKHNoYXBlLCBzaGFwZXNfY2VudGVyLCBib3VuZGluZ2JveF9mb3Jfc2hhcGVzLCBzaGFwZVBvaW50cykgewogICAgdmFyIHBsYWNlaG9sZGVyID0gW107CiAgICB2YXIgc3RlcHMgPSBvcHRpb25zLnN0ZXBzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0ZXBzIDogMTsKICAgIHZhciBkZXB0aCA9IG9wdGlvbnMuZGVwdGggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGVwdGggOiAxMDA7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMDsgLy8g5Z+65LqO6Iao6IOA5ZCR6YeP6L+b6KGM6Iao6IOA5ZKM57yp5bCPCgogICAgdmFyIHRyaWFuZ3VsYXRlTWV0aG9kID0gb3B0aW9ucy50cmlhbmd1bGF0ZU1ldGhvZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50cmlhbmd1bGF0ZU1ldGhvZCA6ICdlYXJjdXQnOwogICAgdmFyIGJldmVsRW5hYmxlZCA9IG9wdGlvbnMuYmV2ZWxFbmFibGVkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJldmVsRW5hYmxlZCA6IHRydWU7CiAgICB2YXIgYmV2ZWxUaGlja25lc3MgPSBvcHRpb25zLmJldmVsVGhpY2tuZXNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJldmVsVGhpY2tuZXNzIDogNjsKICAgIHZhciBiZXZlbFNpemUgPSBvcHRpb25zLmJldmVsU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5iZXZlbFNpemUgOiBiZXZlbFRoaWNrbmVzcyAtIDI7CiAgICB2YXIgYmV2ZWxTZWdtZW50cyA9IG9wdGlvbnMuYmV2ZWxTZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5iZXZlbFNlZ21lbnRzIDogMzsKICAgIHZhciBiZXZlbFR5cGUgPSBvcHRpb25zLmJldmVsVHlwZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5iZXZlbFR5cGUgOiAncXVhZF9lbGxpcHNlJzsKICAgIHZhciBiZXZlbEJhY2tFbmFibGVkID0gZmFsc2U7IC8vIOiDjOmdouWAkuinkuS4jeWGjeaUr+aMgeS6hgoKICAgIHZhciBleHRydWRlUGF0aCA9IG9wdGlvbnMuZXh0cnVkZVBhdGg7CiAgICB2YXIgZXh0cnVkZVNjYWxlID0gb3B0aW9ucy5leHRydWRlU2NhbGU7CiAgICB2YXIgdXZnZW4gPSBvcHRpb25zLlVWR2VuZXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLlVWR2VuZXJhdG9yIDogV29ybGRVVkdlbmVyYXRvcjsKICAgIHZhciBfb3B0aW9ucyRleHRydWRlT2Zmc2UgPSBvcHRpb25zLmV4dHJ1ZGVPZmZzZXRYLAogICAgICAgIGV4dHJ1ZGVPZmZzZXRYID0gX29wdGlvbnMkZXh0cnVkZU9mZnNlID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkZXh0cnVkZU9mZnNlOwogICAgdmFyIF9vcHRpb25zJGV4dHJ1ZGVPZmZzZTIgPSBvcHRpb25zLmV4dHJ1ZGVPZmZzZXRZLAogICAgICAgIGV4dHJ1ZGVPZmZzZXRZID0gX29wdGlvbnMkZXh0cnVkZU9mZnNlMiA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGV4dHJ1ZGVPZmZzZTI7CiAgICB2YXIgbGFwbGFjaWFuSXRlcmF0aW9uTnVtYiA9IG9wdGlvbnMubGFwbGFjaWFuSXRlcmF0aW9uTnVtYjsKICAgIHZhciB1dlNpZGVXYWxsTGVuZ3RoT2Zmc2V0ID0gMDsgLy8gZGVwcmVjYXRlZCBvcHRpb25zCgogICAgaWYgKG9wdGlvbnMuYW1vdW50ICE9PSB1bmRlZmluZWQpIHsKICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLicpOwogICAgICBvcHRpb25zLmFtb3VudCwgX3JlYWRPbmx5RXJyb3IoImRlcHRoIik7CiAgICB9IC8vIGNvbnN0IHNocmlua2VkU2hhcGUgPSBvcHRpb25zLnNocmlua2VkU2hhcGUhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaHJpbmtlZFNoYXBlIDogc2hhcGU7CiAgICAvLwoKCiAgICB2YXIgZXh0cnVkZVB0czsKICAgIHZhciBleHRydWRlQnlQYXRoID0gZmFsc2U7CiAgICB2YXIgYm91bmRpbmdib3ggPSBuZXcgQm94MigpOwoKICAgIGlmIChleHRydWRlUGF0aCkgewogICAgICBleHRydWRlUHRzID0gZXh0cnVkZVBhdGguZ2V0U3BhY2VkUG9pbnRzKHN0ZXBzKTsKICAgICAgZXh0cnVkZUJ5UGF0aCA9IHRydWU7CiAgICAgIF9yZWFkT25seUVycm9yKCJiZXZlbEVuYWJsZWQiKTsgLy8gYmV2ZWxzIG5vdCBzdXBwb3J0ZWQgZm9yIHBhdGggZXh0cnVzaW9uCiAgICAgIC8vIFNFVFVQIFROQiB2YXJpYWJsZXMKICAgICAgLy8gVE9ETzEgLSBoYXZlIGEgLmlzQ2xvc2VkIGluIHNwbGluZT8KCiAgICAgIGV4dHJ1ZGVQYXRoLmNvbXB1dGVGcmVuZXRGcmFtZXMoc3RlcHMsIGZhbHNlKTsKICAgIH0gLy8gU2FmZWd1YXJkcyBpZiBiZXZlbHMgYXJlIG5vdCBlbmFibGVkCgoKICAgIGlmICghYmV2ZWxFbmFibGVkKSB7CiAgICAgIGJldmVsU2VnbWVudHMgPSAwOwogICAgICBiZXZlbFRoaWNrbmVzcyA9IDA7CiAgICAgIGJldmVsU2l6ZSA9IDA7CiAgICB9IC8vIFZhcmlhYmxlcyBpbml0aWFsaXphdGlvbgoKCiAgICB2YXIgYWhvbGU7IC8vIGxvb3Bpbmcgb2YgaG9sZXMKCiAgICB2YXIgdmVydGljZXMgPSBzaGFwZVBvaW50cy5zaGFwZTsKICAgIHZhciBob2xlcyA9IHNoYXBlUG9pbnRzLmhvbGVzOyAvLyB0b2RvIHdpdGggc2hyaW5rCgogICAgdmFyIHJldmVyc2UgPSAhU2hhcGVVdGlscy5pc0Nsb2NrV2lzZSh2ZXJ0aWNlcyk7CgogICAgaWYgKHJldmVyc2UpIHsKICAgICAgdmVydGljZXMgPSB2ZXJ0aWNlcy5yZXZlcnNlKCk7IC8vIE1heWJlIHdlIHNob3VsZCBhbHNvIGNoZWNrIGlmIGhvbGVzIGFyZSBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLCBqdXN0IHRvIGJlIHNhZmUgLi4uCgogICAgICBmb3IgKHZhciBfaCA9IDAsIF9obCA9IGhvbGVzLmxlbmd0aDsgX2ggPCBfaGw7IF9oKyspIHsKICAgICAgICBhaG9sZSA9IGhvbGVzW19oXTsKCiAgICAgICAgaWYgKFNoYXBlVXRpbHMuaXNDbG9ja1dpc2UoYWhvbGUpKSB7CiAgICAgICAgICBob2xlc1tfaF0gPSBhaG9sZS5yZXZlcnNlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIHl1bnlhbmcsIHRlc3QgbGFwbGFjaWFuU21vb3RoCgoKICAgIGxhcGxhY2lhblNtb290aCh2ZXJ0aWNlcywgbGFwbGFjaWFuSXRlcmF0aW9uTnVtYik7IC8vIGxhcGxhY2lhblNtb290aChzaHJpbmtlZFZlcnRpY2VzLCBzaHJpbmtPdXRsaW5lTGFwbGFjaWFuSXRlcmF0aW9uTnVtYik7CgogICAgZm9yICh2YXIgX2gyID0gMCwgX2hsMiA9IGhvbGVzLmxlbmd0aDsgX2gyIDwgX2hsMjsgX2gyKyspIHsKICAgICAgdmFyIF9haG9sZSA9IGhvbGVzW19oMl07CiAgICAgIGxhcGxhY2lhblNtb290aChfYWhvbGUsIGxhcGxhY2lhbkl0ZXJhdGlvbk51bWIpOwogICAgfQoKICAgIGJvdW5kaW5nYm94LmNvcHkoYm91bmRpbmdib3hfZm9yX3NoYXBlcyk7CiAgICB2YXIgZmFjZXM7CgogICAgaWYgKHRyaWFuZ3VsYXRlTWV0aG9kID09PSAnZWFyY3V0JykgewogICAgICBmYWNlcyA9IFNoYXBlVXRpbHMudHJpYW5ndWxhdGVTaGFwZSh2ZXJ0aWNlcywgaG9sZXMpOwogICAgfSBlbHNlIGlmICh0cmlhbmd1bGF0ZU1ldGhvZCA9PT0gJ3BvbHkydHJpJykgewogICAgICB0cnkgewogICAgICAgIGZhY2VzID0gU2hhcGVVdGlscy50cmlhbmd1bGF0ZVNoYXBlUG9seTJ0cmkodmVydGljZXMsIGhvbGVzKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgZmFjZXMgPSBTaGFwZVV0aWxzLnRyaWFuZ3VsYXRlU2hhcGUodmVydGljZXMsIGhvbGVzKTsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0KICAgIH0KICAgIC8qIFZlcnRpY2VzICovCgoKICAgIHZhciBjb250b3VyID0gdmVydGljZXM7IC8vIHZlcnRpY2VzIGhhcyBhbGwgcG9pbnRzIGJ1dCBjb250b3VyIGhhcyBvbmx5IHBvaW50cyBvZiBjaXJjdW1mZXJlbmNlCiAgICAvLyBjb25zdCBzaHJpbmtlZENvbnRvdXIgPSBzaHJpbmtlZFZlcnRpY2VzOyAvLyB2ZXJ0aWNlcyBoYXMgYWxsIHBvaW50cyBidXQgY29udG91ciBoYXMgb25seSBwb2ludHMgb2YgY2lyY3VtZmVyZW5jZQoKICAgIGZvciAodmFyIF9oMyA9IDAsIF9obDMgPSBob2xlcy5sZW5ndGg7IF9oMyA8IF9obDM7IF9oMysrKSB7CiAgICAgIHZhciBfYWhvbGUyID0gaG9sZXNbX2gzXTsKICAgICAgdmVydGljZXMgPSB2ZXJ0aWNlcy5jb25jYXQoX2Fob2xlMik7CiAgICB9CgogICAgZnVuY3Rpb24gc2NhbGVQdDIocHQsIHZlYywgc2l6ZSkgewogICAgICBpZiAoIXZlYykgY29uc29sZS5lcnJvcignVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiB2ZWMgZG9lcyBub3QgZXhpc3QnKTsKICAgICAgcmV0dXJuIHZlYy5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKHNpemUpLmFkZChwdCk7CiAgICB9CiAgICB2YXIgYnM7CiAgICB2YXIgejsKICAgIHZhciB2ZXJ0OwogICAgdmFyIHZsZW4gPSB2ZXJ0aWNlcy5sZW5ndGg7IC8vLCBmYWNlLCBmbGVuID0gZmFjZXMubGVuZ3RoCiAgICAvLyBGaW5kIGRpcmVjdGlvbnMgZm9yIHBvaW50IG1vdmVtZW50CgogICAgZnVuY3Rpb24gZ2V0QmV2ZWxWZWMoaW5QdCwgaW5QcmV2LCBpbk5leHQpIHsKICAgICAgdmFyIHZfdHJhbnNfeCwgdl90cmFuc195LCBzaHJpbmtfYnk7IC8vIHJlc3VsdGluZyB0cmFuc2xhdGlvbiB2ZWN0b3IgZm9yIGluUHQKICAgICAgLy8gZ29vZCByZWFkaW5nIGZvciBnZW9tZXRyeSBhbGdvcml0aG1zIChoZXJlOiBsaW5lLWxpbmUgaW50ZXJzZWN0aW9uKQogICAgICAvLyBodHRwOi8vZ2VvbWFsZ29yaXRobXMuY29tL2EwNS1faW50ZXJzZWN0LTEuaHRtbAoKICAgICAgdmFyIHZfcHJldl94ID0gaW5QdC54IC0gaW5QcmV2Lng7CiAgICAgIHZhciB2X3ByZXZfeSA9IGluUHQueSAtIGluUHJldi55OwogICAgICB2YXIgdl9uZXh0X3ggPSBpbk5leHQueCAtIGluUHQueDsKICAgICAgdmFyIHZfbmV4dF95ID0gaW5OZXh0LnkgLSBpblB0Lnk7CiAgICAgIHZhciB2X3ByZXZfbGVuc3EgPSB2X3ByZXZfeCAqIHZfcHJldl94ICsgdl9wcmV2X3kgKiB2X3ByZXZfeTsgLy8geXVueWFuZwoKICAgICAgaWYgKHZfcHJldl9sZW5zcSA8IE51bWJlci5FUFNJTE9OKSBjb25zb2xlLmVycm9yKCdpblB0IGFuZCBpblByZXYgYXJlIHRoZSBzYW1lIHBvaW50Jyk7CiAgICAgIHZhciB2X25leHRfbGVuc3EgPSB2X25leHRfeCAqIHZfbmV4dF94ICsgdl9uZXh0X3kgKiB2X25leHRfeTsKICAgICAgaWYgKHZfbmV4dF9sZW5zcSA8IE51bWJlci5FUFNJTE9OKSBjb25zb2xlLmVycm9yKCdpblB0IGFuZCBpbk5leHQgYXJlIHRoZSBzYW1lIHBvaW50Jyk7IC8vIGNoZWNrIGZvciBjb2xsaW5lYXIgZWRnZXMKCiAgICAgIHZhciBjb2xsaW5lYXIwID0gdl9wcmV2X3ggKiB2X25leHRfeSAtIHZfcHJldl95ICogdl9uZXh0X3g7IC8vIGNyb3NzIHRvIGdldCB0cmlhbmdsZSBhcmVhCiAgICAgIC8vIGxhcmdldCBlcHNsaW9uLCB5dW55YW5n77yM5Zyo56e75Yqo56uv5Y+v6IO95Lya5pyJ6Zeu6aKYCgogICAgICB2YXIgZXBzbGlvbiA9IDAuMDE7IC8vIDEwMDAqTnVtYmVyLkVQU0lMT047CiAgICAgIC8vIGRlYnVnLmxvZygnZXBzbGlvbiBpcyAnLCBlcHNsaW9uKTsKCiAgICAgIGlmIChNYXRoLmFicyhjb2xsaW5lYXIwKSA+IGVwc2xpb24pIHsKICAgICAgICAvLyBpZiAoIE1hdGguYWJzKCBjb2xsaW5lYXIwICkgPiBOdW1iZXIuRVBTSUxPTiApIHsKICAgICAgICAvLyBub3QgY29sbGluZWFyCiAgICAgICAgLy8gbGVuZ3RoIG9mIHZlY3RvcnMgZm9yIG5vcm1hbGl6aW5nCiAgICAgICAgdmFyIHZfcHJldl9sZW4gPSBNYXRoLnNxcnQodl9wcmV2X2xlbnNxKTsKICAgICAgICB2YXIgdl9uZXh0X2xlbiA9IE1hdGguc3FydCh2X25leHRfeCAqIHZfbmV4dF94ICsgdl9uZXh0X3kgKiB2X25leHRfeSk7IC8vIHNoaWZ0IGFkamFjZW50IHBvaW50cyBieSB1bml0IHZlY3RvcnMgdG8gdGhlIGxlZnQKCiAgICAgICAgdmFyIHB0UHJldlNoaWZ0X3ggPSBpblByZXYueCAtIHZfcHJldl95IC8gdl9wcmV2X2xlbjsKICAgICAgICB2YXIgcHRQcmV2U2hpZnRfeSA9IGluUHJldi55ICsgdl9wcmV2X3ggLyB2X3ByZXZfbGVuOwogICAgICAgIHZhciBwdE5leHRTaGlmdF94ID0gaW5OZXh0LnggLSB2X25leHRfeSAvIHZfbmV4dF9sZW47CiAgICAgICAgdmFyIHB0TmV4dFNoaWZ0X3kgPSBpbk5leHQueSArIHZfbmV4dF94IC8gdl9uZXh0X2xlbjsgLy8gc2NhbGluZyBmYWN0b3IgZm9yIHZfcHJldiB0byBpbnRlcnNlY3Rpb24gcG9pbnQKCiAgICAgICAgdmFyIHNmID0gKChwdE5leHRTaGlmdF94IC0gcHRQcmV2U2hpZnRfeCkgKiB2X25leHRfeSAtIChwdE5leHRTaGlmdF95IC0gcHRQcmV2U2hpZnRfeSkgKiB2X25leHRfeCkgLyAodl9wcmV2X3ggKiB2X25leHRfeSAtIHZfcHJldl95ICogdl9uZXh0X3gpOyAvLyB2ZWN0b3IgZnJvbSBpblB0IHRvIGludGVyc2VjdGlvbiBwb2ludAoKICAgICAgICB2X3RyYW5zX3ggPSBwdFByZXZTaGlmdF94ICsgdl9wcmV2X3ggKiBzZiAtIGluUHQueDsKICAgICAgICB2X3RyYW5zX3kgPSBwdFByZXZTaGlmdF95ICsgdl9wcmV2X3kgKiBzZiAtIGluUHQueTsgLy8gRG9uJ3Qgbm9ybWFsaXplISwgb3RoZXJ3aXNlIHNoYXJwIGNvcm5lcnMgYmVjb21lIHVnbHkKICAgICAgICAvLyAgYnV0IHByZXZlbnQgY3Jhenkgc3Bpa2VzCgogICAgICAgIHZhciB2X3RyYW5zX2xlbnNxID0gdl90cmFuc194ICogdl90cmFuc194ICsgdl90cmFuc195ICogdl90cmFuc195OwoKICAgICAgICBpZiAodl90cmFuc19sZW5zcSA8PSAyKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodl90cmFuc194LCB2X3RyYW5zX3kpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzaHJpbmtfYnkgPSBNYXRoLnNxcnQodl90cmFuc19sZW5zcSAvIDIpOwogICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZfdHJhbnNfeCAvIHNocmlua19ieSwgdl90cmFuc195IC8gc2hyaW5rX2J5KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaGFuZGxlIGNvbGluZWFyLCB5dW55YW5nCiAgICAgICAgLy8gZGVidWcubG9nKCJjb2xpbmVhciIsIGluUHQsIGluUHJldiwgaW5OZXh0KTsKICAgICAgICAvLyByb3RhdGUgdl9wcmV2IDkwIGRlZ3JlZSB0byBnZXQgdmVjdG9yCiAgICAgICAgdmFyIF92X3ByZXZfbGVuID0gTWF0aC5zcXJ0KHZfcHJldl9sZW5zcSk7CgogICAgICAgIHZhciBfdl90cmFuc194ID0gLXZfcHJldl95IC8gX3ZfcHJldl9sZW47CgogICAgICAgIHZhciBfdl90cmFuc195ID0gdl9wcmV2X3ggLyBfdl9wcmV2X2xlbjsKCiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKF92X3RyYW5zX3gsIF92X3RyYW5zX3kpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TW92ZW1lbnQoY29udG91ciwgaG9sZXMsIGJldmVsU2l6ZSkgewogICAgICB2YXIgY29udG91ck1vdmVtZW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2k4ID0gMCwgX2lsID0gY29udG91ci5sZW5ndGgsIF9qMiA9IF9pbCAtIDEsIGsgPSBfaTggKyAxOyBfaTggPCBfaWw7IF9pOCsrLCBfajIrKywgaysrKSB7CiAgICAgICAgaWYgKF9qMiA9PT0gX2lsKSBfajIgPSAwOwogICAgICAgIGlmIChrID09PSBfaWwpIGsgPSAwOyAvLyAgKGopLS0tKGkpLS0tKGspCiAgICAgICAgLy8gZGVidWcubG9nKCdpLGosaycsIGksIGogLCBrKQogICAgICAgIC8vIGNvbnRvdXJNb3ZlbWVudHNbIGkgXSA9IGdldEJldmVsVmVjKCBjb250b3VyWyBpIF0sIGNvbnRvdXJbIGogXSwgY29udG91clsgayBdICk7Ly8ubXVsdGlwbHlTY2FsYXIoTWF0aC5hYnMoYmV2ZWxTaXplKSpzdGVwKTsKCiAgICAgICAgY29udG91ck1vdmVtZW50c1tfaThdID0gZ2V0QmV2ZWxWZWMoY29udG91cltfaThdLCBjb250b3VyW19qMl0sIGNvbnRvdXJba10pLm11bHRpcGx5U2NhbGFyKE1hdGguYWJzKGJldmVsU2l6ZSkpOwogICAgICB9IC8vIGF2ZXJhZ2Ugd2l0aCBuZWlnaGJvdXIKCiAgICAgIHZhciBob2xlc01vdmVtZW50cyA9IFtdOwogICAgICB2YXIgb25lSG9sZU1vdmVtZW50czsKICAgICAgdmFyIHZlcnRpY2VzTW92ZW1lbnRzID0gY29udG91ck1vdmVtZW50cy5jb25jYXQoKTsKCiAgICAgIGZvciAodmFyIF9oNCA9IDAsIF9obDQgPSBob2xlcy5sZW5ndGg7IF9oNCA8IF9obDQ7IF9oNCsrKSB7CiAgICAgICAgdmFyIF9haG9sZTMgPSBob2xlc1tfaDRdOwogICAgICAgIG9uZUhvbGVNb3ZlbWVudHMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgX2kxMCA9IDAsIF9pbDMgPSBfYWhvbGUzLmxlbmd0aCwgX2o0ID0gX2lsMyAtIDEsIF9rMiA9IF9pMTAgKyAxOyBfaTEwIDwgX2lsMzsgX2kxMCsrLCBfajQrKywgX2syKyspIHsKICAgICAgICAgIGlmIChfajQgPT09IF9pbDMpIF9qNCA9IDA7CiAgICAgICAgICBpZiAoX2syID09PSBfaWwzKSBfazIgPSAwOyAvLyAgKGopLS0tKGkpLS0tKGspCiAgICAgICAgICAvLyBvbmVIb2xlTW92ZW1lbnRzWyBpIF0gPSBnZXRCZXZlbFZlYyggYWhvbGVbIGkgXSwgYWhvbGVbIGogXSwgYWhvbGVbIGsgXSApOwoKICAgICAgICAgIG9uZUhvbGVNb3ZlbWVudHNbX2kxMF0gPSBnZXRCZXZlbFZlYyhfYWhvbGUzW19pMTBdLCBfYWhvbGUzW19qNF0sIF9haG9sZTNbX2syXSkubXVsdGlwbHlTY2FsYXIoTWF0aC5hYnMoYmV2ZWxTaXplKSk7CiAgICAgICAgfSAvLyBhdmVyYWdlICB3aXRoIG5laWdoYm91ciwgeXVueWFuZwoKICAgICAgICBob2xlc01vdmVtZW50cy5wdXNoKG9uZUhvbGVNb3ZlbWVudHMpOwogICAgICAgIHZlcnRpY2VzTW92ZW1lbnRzID0gdmVydGljZXNNb3ZlbWVudHMuY29uY2F0KG9uZUhvbGVNb3ZlbWVudHMpOwogICAgICB9CgogICAgICB2YXIgQXJyYXlzID0gbmV3IEFycmF5KCk7CiAgICAgIEFycmF5cy5wdXNoKGNvbnRvdXJNb3ZlbWVudHMpOwogICAgICBBcnJheXMucHVzaChob2xlc01vdmVtZW50cyk7CiAgICAgIEFycmF5cy5wdXNoKHZlcnRpY2VzTW92ZW1lbnRzKTsKICAgICAgcmV0dXJuIEFycmF5czsKICAgIH0KCiAgICB2YXIgQXJyYXlzID0gZ2V0TW92ZW1lbnQoY29udG91ciwgaG9sZXMsIGJldmVsU2l6ZSAqIDAuMDYpOwogICAgdmFyIGNvbnRvdXJNb3ZlbWVudHMgPSBBcnJheXNbMF07CiAgICB2YXIgaG9sZXNNb3ZlbWVudHMgPSBBcnJheXNbMV07CiAgICB2YXIgQXJyYXlzNEV4dHJ1ZGVTY2FsZSA9IGdldE1vdmVtZW50KGNvbnRvdXIsIGhvbGVzLCAwLjUpOyAvLyB0b2RvIDog5omA5pyJ55qEZ2V0TW92ZW1lbnTosIPnlKgg5Y+v5Lul57uf5LiA5LiA5LiLCgogICAgdmFyIGNvbnRvdXJNb3ZlbWVudHM0RXh0cnVkZVNjYWxlID0gQXJyYXlzNEV4dHJ1ZGVTY2FsZVswXTsKICAgIHZhciBob2xlc01vdmVtZW50czRFeHRydWRlU2NhbGUgPSBBcnJheXM0RXh0cnVkZVNjYWxlWzFdOyAvLwogICAgLy8g5pS+5aSn6Iao6IOACiAgICAvLwoKICAgIGlmIChzY2FsZSA+IDApIHsKICAgICAgdmFyIEFycmF5czRTY2FsZSA9IGdldE1vdmVtZW50KGNvbnRvdXIsIGhvbGVzLCBzY2FsZSk7CiAgICAgIHZhciBjb250b3VyTW92ZW1lbnRzNFNjYWxlID0gQXJyYXlzNFNjYWxlWzBdOwogICAgICB2YXIgaG9sZXNNb3ZlbWVudHM0U2NhbGUgPSBBcnJheXM0U2NhbGVbMV07CgogICAgICBmb3IgKHZhciBfaTEyID0gMDsgX2kxMiA8IGNvbnRvdXIubGVuZ3RoOyBfaTEyKyspIHsKICAgICAgICBjb250b3VyW19pMTJdID0gc2NhbGVQdDIoY29udG91cltfaTEyXSwgY29udG91ck1vdmVtZW50czRTY2FsZVtfaTEyXSwgMSk7CiAgICAgIH0gLy8gZXhwYW5kIGhvbGVzCgoKICAgICAgZm9yICh2YXIgX2g1ID0gMDsgX2g1IDwgaG9sZXMubGVuZ3RoOyBfaDUrKykgewogICAgICAgIHZhciBfYWhvbGU0ID0gaG9sZXNbX2g1XTsKICAgICAgICB2YXIgb25lSG9sZU1vdmVtZW50cyA9IGhvbGVzTW92ZW1lbnRzNFNjYWxlW19oNV07CgogICAgICAgIGZvciAodmFyIF9pMTMgPSAwOyBfaTEzIDwgX2Fob2xlNC5sZW5ndGg7IF9pMTMrKykgewogICAgICAgICAgX2Fob2xlNFtfaTEzXSA9IHNjYWxlUHQyKF9haG9sZTRbX2kxM10sIG9uZUhvbGVNb3ZlbWVudHNbX2kxM10sIDEpOwogICAgICAgIH0KCiAgICAgICAgaG9sZXNbX2g1XSA9IF9haG9sZTQ7CiAgICAgIH0KICAgIH0gLy8g5YCS6KeS57G75Z6LCiAgICAvLyBNYXRoLnNpZ24oYmV2ZWxTaXplKT09IC0xIOiGqOiDgOWAkuinkgogICAgLy8gTWF0aC5zaWduKGJldmVsU2l6ZSk9PSAxIOaUtue8qeWAkuinkgogICAgLy8g5YeG5aSH5YCS6KeS55Sf5oiQ55qE6LW35aeL54K5LCB5dW55YW5nCgoKICAgIGlmIChiZXZlbEVuYWJsZWQpIHsKCiAgICAgIGZvciAodmFyIF9pMTQgPSAwOyBfaTE0IDwgY29udG91ci5sZW5ndGg7IF9pMTQrKykgewogICAgICAgIGlmIChNYXRoLnNpZ24oYmV2ZWxTaXplKSA9PSAtMSkgewogICAgICAgICAgLy8g6Iao6IOA5YCS6KeS77yM5aSW6L2u5buT5LiN5pS257ypCiAgICAgICAgICAvLyBjb250b3VyWyBpIF0gPSBzY2FsZVB0MiggY29udG91clsgaSBdLCBjb250b3VyTW92ZW1lbnRzWyBpIF0sIC1icyApOwogICAgICAgICAgY29udG91cltfaTE0XSA9IGNvbnRvdXJbX2kxNF07CiAgICAgICAgfSAvLy8gL+WGhee8qeWAkuinku+8jOaUtue8qQogICAgICAgIC8vIGNvbnRvdXJbIGkgXSA9IHNocmlua2VkQ29udG91cltpXS5jbG9uZSgpOwogICAgICAgIGVsc2UgewogICAgICAgICAgY29udG91cltfaTE0XSA9IGNvbnRvdXJbX2kxNF07CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKHZhciBfaDYgPSAwOyBfaDYgPCBob2xlcy5sZW5ndGg7IF9oNisrKSB7CiAgICAgICAgdmFyIF9haG9sZTUgPSBob2xlc1tfaDZdOwogICAgICAgIGhvbGVzTW92ZW1lbnRzW19oNl07CgogICAgICAgIGZvciAodmFyIF9pMTUgPSAwOyBfaTE1IDwgX2Fob2xlNS5sZW5ndGg7IF9pMTUrKykgewogICAgICAgICAgaWYgKE1hdGguc2lnbihiZXZlbFNpemUpID09IC0xKSB7CiAgICAgICAgICAgIC8vIOiGqOiDgOWAkuinku+8jOWtlOS4jeiGqOiDgAogICAgICAgICAgICAvLyBhaG9sZVsgaSBdID0gc2NhbGVQdDIoIGFob2xlWyBpIF0sIG9uZUhvbGVNb3ZlbWVudHNbIGkgXSwgLWJzICk7CiAgICAgICAgICAgIF9haG9sZTVbX2kxNV0gPSBfYWhvbGU1W19pMTVdOwogICAgICAgICAgfSAvLyBhaG9sZVsgaSBdID0gc2hyaW5rZWRIb2xlc1sgaCBdW2ldLmNsb25lKCk7CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgX2Fob2xlNVtfaTE1XSA9IF9haG9sZTVbX2kxNV07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBob2xlc1tfaDZdID0gX2Fob2xlNTsKICAgICAgfSAvLyBBcnJheXMgPSBnZXRNb3ZlbWVudChjb250b3VyLCBob2xlcyk7CiAgICAgIC8vIGNvbnRvdXJNb3ZlbWVudHMgPSBBcnJheXNbMF07CiAgICAgIC8vIGhvbGVzTW92ZW1lbnRzID0gQXJyYXlzWzFdOwogICAgICAvLyB2ZXJ0aWNlc01vdmVtZW50cyA9IEFycmF5c1syXTsKCiAgICB9CiAgICB2YXIgZmxlbiA9IGZhY2VzLmxlbmd0aDsgLy8g5re75YqgIOato+mdouWAkuinkiDnmoTngrkKCiAgICBmb3IgKHZhciBfYiA9IDA7IF9iIDwgYmV2ZWxTZWdtZW50czsgX2IrKykgewogICAgICAvLwogICAgICAvLyDorqHnrpfov5nkuIDlsYLnmoTlgJLop5LnmoTmt7HluqZ65ZKMYnMKICAgICAgLy8KICAgICAgdmFyIF90ID0gX2IgLyBiZXZlbFNlZ21lbnRzOwoKICAgICAgaWYgKGJldmVsVHlwZSA9PSAncXVhZF9lbGxpcHNlJykgewogICAgICAgIF90ID0gX3QgKiBfdDsKICAgICAgICB6ID0gYmV2ZWxUaGlja25lc3MgKiBNYXRoLmNvcyhfdCAqIE1hdGguUEkgLyAyKTsKICAgICAgICBicyA9IE1hdGguc2luKF90ICogTWF0aC5QSSAvIDIpOwogICAgICB9IGVsc2UgaWYgKGJldmVsVHlwZSA9PSAnbGluZScpIHsKICAgICAgICB6ID0gYmV2ZWxUaGlja25lc3MgKiAoMSAtIF90KTsKICAgICAgICBicyA9IF90OwogICAgICB9IGVsc2UgaWYgKGJldmVsVHlwZSA9PSAnaGFsZl9lbGxpcHNlJykgewogICAgICAgIHogPSBiZXZlbFRoaWNrbmVzcyAqIE1hdGguY29zKF90ICogTWF0aC5QSSAtIE1hdGguUEkgLyAyKTsKICAgICAgICBicyA9IF90OwogICAgICB9IC8vCiAgICAgIC8vIOa3u+WKoOi/meS4gOWxgueahOWAkuinkumhtueCuQogICAgICAvLwogICAgICAvLyBjb250cmFjdCBzaGFwZQoKCiAgICAgIGZvciAodmFyIF9pMTYgPSAwLCBfaWw1ID0gY29udG91ci5sZW5ndGg7IF9pMTYgPCBfaWw1OyBfaTE2KyspIHsKICAgICAgICB2YXIgX3ZlcnQgPSBzY2FsZVB0Mihjb250b3VyW19pMTZdLCBjb250b3VyTW92ZW1lbnRzW19pMTZdLCBicyk7CgogICAgICAgIHBsYWNlaG9sZGVyLnB1c2goX3ZlcnQueCwgX3ZlcnQueSwgeik7CiAgICAgIH0gLy8gZXhwYW5kIGhvbGVzCgoKICAgICAgZm9yICh2YXIgX2g3ID0gMCwgX2hsNSA9IGhvbGVzLmxlbmd0aDsgX2g3IDwgX2hsNTsgX2g3KyspIHsKICAgICAgICB2YXIgX2Fob2xlNiA9IGhvbGVzW19oN107CiAgICAgICAgdmFyIF9vbmVIb2xlTW92ZW1lbnRzMiA9IGhvbGVzTW92ZW1lbnRzW19oN107CgogICAgICAgIGZvciAodmFyIF9pMTcgPSAwLCBfaWw2ID0gX2Fob2xlNi5sZW5ndGg7IF9pMTcgPCBfaWw2OyBfaTE3KyspIHsKICAgICAgICAgIHZlcnQgPSBzY2FsZVB0MihfYWhvbGU2W19pMTddLCBfb25lSG9sZU1vdmVtZW50czJbX2kxN10sIGJzKTsKICAgICAgICAgIHBsYWNlaG9sZGVyLnB1c2godmVydC54LCB2ZXJ0LnksIHopOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGJzID0gYmV2ZWxTaXplOyAvLyDkuIDlsYLkuIDlsYIg5b6Aeui9tOato+aWueWQkSDmt7vliqAg5q2j6Z2iIOWSjCDkvqfpnaLnmoTngrkKCiAgICBmb3IgKHZhciBzID0gMDsgcyA8PSBzdGVwczsgcysrKSB7CiAgICAgIHZhciBleHRydWRlWCA9IGV4dHJ1ZGVPZmZzZXRYOyAvLyBkZXB0aCAqIE1hdGguc2luKGV4dHJ1ZGVPZmZzZXRYLzE4MCAqIE1hdGguUEkpOwoKICAgICAgdmFyIGV4dHJ1ZGVZID0gZXh0cnVkZU9mZnNldFk7IC8vIGRlcHRoICogTWF0aC5zaW4oZXh0cnVkZU9mZnNldFkvMTgwICogTWF0aC5QSSk7CgogICAgICBpZiAoYmV2ZWxFbmFibGVkKSB7CiAgICAgICAgLy8geXVueWFuZyAncyBiZXZlbAogICAgICAgIC8vIGV4dHJ1ZGVTY2FsZUZhY3RvciA9IGV4dHJ1ZGVTY2FsZS8gc3RlcHMgKiBzOwogICAgICAgIC8vIOWkluWbtAogICAgICAgIGZvciAodmFyIF9pMTggPSAwOyBfaTE4IDwgY29udG91ci5sZW5ndGg7IF9pMTgrKykgewogICAgICAgICAgdmVydCA9IGNvbnRvdXJbX2kxOF0uY2xvbmUoKS5hZGQoY29udG91ck1vdmVtZW50c1tfaTE4XSkuYWRkKGNvbnRvdXJNb3ZlbWVudHM0RXh0cnVkZVNjYWxlW19pMThdLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoZXh0cnVkZVNjYWxlIC8gc3RlcHMgKiBzKSk7CiAgICAgICAgICBwbGFjZWhvbGRlci5wdXNoKHZlcnQueCArIGV4dHJ1ZGVYIC8gc3RlcHMgKiBzLCB2ZXJ0LnkgKyBleHRydWRlWSAvIHN0ZXBzICogcywgLWRlcHRoIC8gc3RlcHMgKiBzKTsKICAgICAgICB9IC8vIOWGhemDqOWtlAoKCiAgICAgICAgZm9yICh2YXIgX2g4ID0gMDsgX2g4IDwgaG9sZXMubGVuZ3RoOyBfaDgrKykgewogICAgICAgICAgdmFyIF9haG9sZTcgPSBob2xlc1tfaDhdOwogICAgICAgICAgdmFyIF9vbmVIb2xlTW92ZW1lbnRzMyA9IGhvbGVzTW92ZW1lbnRzW19oOF07CiAgICAgICAgICB2YXIgb25lSG9sZU1vdmVtZW50czRFeHRydWRlU2NhbGUgPSBob2xlc01vdmVtZW50czRFeHRydWRlU2NhbGVbX2g4XTsKCiAgICAgICAgICBmb3IgKHZhciBfaTE5ID0gMDsgX2kxOSA8IF9haG9sZTcubGVuZ3RoOyBfaTE5KyspIHsKICAgICAgICAgICAgdmVydCA9IF9haG9sZTdbX2kxOV0uY2xvbmUoKS5hZGQoX29uZUhvbGVNb3ZlbWVudHMzW19pMTldKS5hZGQob25lSG9sZU1vdmVtZW50czRFeHRydWRlU2NhbGVbX2kxOV0uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihleHRydWRlU2NhbGUgLyBzdGVwcyAqIHMpKTsKICAgICAgICAgICAgcGxhY2Vob2xkZXIucHVzaCh2ZXJ0LnggKyBleHRydWRlWCAvIHN0ZXBzICogcywgdmVydC55ICsgZXh0cnVkZVkgLyBzdGVwcyAqIHMsIC1kZXB0aCAvIHN0ZXBzICogcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIOayoeacieWAkuinkuaXtu+8jOato+mdouWSjOiDjOmdoueahOeCuQogICAgICBlbHNlIHsKICAgICAgICAvLyDlpJblm7QKICAgICAgICBmb3IgKHZhciBfaTIwID0gMDsgX2kyMCA8IGNvbnRvdXIubGVuZ3RoOyBfaTIwKyspIHsKICAgICAgICAgIHZlcnQgPSBjb250b3VyW19pMjBdLmNsb25lKCkuYWRkKGNvbnRvdXJNb3ZlbWVudHM0RXh0cnVkZVNjYWxlW19pMjBdLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoZXh0cnVkZVNjYWxlIC8gc3RlcHMgKiBzKSk7CiAgICAgICAgICBwbGFjZWhvbGRlci5wdXNoKHZlcnQueCArIGV4dHJ1ZGVYIC8gc3RlcHMgKiBzLCB2ZXJ0LnkgKyBleHRydWRlWSAvIHN0ZXBzICogcywgLWRlcHRoIC8gc3RlcHMgKiBzKTsKICAgICAgICB9IC8vIOWGhemDqOWtlAoKCiAgICAgICAgZm9yICh2YXIgX2g5ID0gMDsgX2g5IDwgaG9sZXMubGVuZ3RoOyBfaDkrKykgewogICAgICAgICAgdmFyIF9haG9sZTggPSBob2xlc1tfaDldOwogICAgICAgICAgdmFyIF9vbmVIb2xlTW92ZW1lbnRzNCA9IGhvbGVzTW92ZW1lbnRzNEV4dHJ1ZGVTY2FsZVtfaDldOwoKICAgICAgICAgIGZvciAodmFyIF9pMjEgPSAwOyBfaTIxIDwgX2Fob2xlOC5sZW5ndGg7IF9pMjErKykgewogICAgICAgICAgICB2ZXJ0ID0gX2Fob2xlOFtfaTIxXS5jbG9uZSgpLmFkZChfb25lSG9sZU1vdmVtZW50czRbX2kyMV0uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihleHRydWRlU2NhbGUgLyBzdGVwcyAqIHMpKTsKICAgICAgICAgICAgcGxhY2Vob2xkZXIucHVzaCh2ZXJ0LnggKyBleHRydWRlWCAvIHN0ZXBzICogcywgdmVydC55ICsgZXh0cnVkZVkgLyBzdGVwcyAqIHMsIC1kZXB0aCAvIHN0ZXBzICogcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIOa3u+WKoOiDjOmdoueahOWAkuinkueCuQoKCiAgICBpZiAoYmV2ZWxFbmFibGVkICYmIGJldmVsQmFja0VuYWJsZWQpIHsKICAgICAgdmFyIF9leHRydWRlWCA9IGV4dHJ1ZGVPZmZzZXRYOyAvLyBkZXB0aCAqIE1hdGguc2luKGV4dHJ1ZGVPZmZzZXRYLzE4MCAqIE1hdGguUEkpOwoKICAgICAgdmFyIF9leHRydWRlWSA9IGV4dHJ1ZGVPZmZzZXRZOyAvLyBkZXB0aCAqIE1hdGguc2luKGV4dHJ1ZGVPZmZzZXRZLzE4MCAqIE1hdGguUEkpOwogICAgICAvLyBmb3IgKCBiID0gMTsgYiA8PSBiZXZlbFNlZ21lbnRzOyBiICsrICkgewoKICAgICAgZm9yICh2YXIgX2IyID0gYmV2ZWxTZWdtZW50cyAtIDE7IF9iMiA+PSAwOyBfYjItLSAvLyDku47lgJLop5LlpJblm7TlvoDlhoXplb8KICAgICAgKSB7CiAgICAgICAgdmFyIF90MiA9IF9iMiAvIGJldmVsU2VnbWVudHM7CgogICAgICAgIGlmIChiZXZlbFR5cGUgPT0gJ3F1YWRfZWxsaXBzZScpIHsKICAgICAgICAgIHogPSBiZXZlbFRoaWNrbmVzcyAqIE1hdGguY29zKF90MiAqIE1hdGguUEkgLyAyKTsKICAgICAgICAgIGJzID0gTWF0aC5zaW4oX3QyICogTWF0aC5QSSAvIDIpOwogICAgICAgIH0gZWxzZSBpZiAoYmV2ZWxUeXBlID09ICdsaW5lJykgewogICAgICAgICAgeiA9IGJldmVsVGhpY2tuZXNzICogKDEgLSBfdDIpOwogICAgICAgICAgYnMgPSBfdDI7CiAgICAgICAgfSBlbHNlIGlmIChiZXZlbFR5cGUgPT0gJ2hhbGZfZWxsaXBzZScpIHsKICAgICAgICAgIHogPSBiZXZlbFRoaWNrbmVzcyAqIE1hdGguY29zKF90MiAqIE1hdGguUEkgLSBNYXRoLlBJIC8gMik7CiAgICAgICAgICBicyA9IF90MjsKICAgICAgICB9IC8vIOi9ruW7k+W+gOWklumVvwoKCiAgICAgICAgZm9yICh2YXIgX2kyMiA9IDA7IF9pMjIgPCBjb250b3VyLmxlbmd0aDsgX2kyMisrKSB7CiAgICAgICAgICB2YXIgX3ZlcnQyID0gc2NhbGVQdDIoY29udG91cltfaTIyXSwgY29udG91ck1vdmVtZW50c1tfaTIyXSwgYnMpOwoKICAgICAgICAgIF92ZXJ0Mi5hZGQoY29udG91ck1vdmVtZW50czRFeHRydWRlU2NhbGVbX2kyMl0uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihleHRydWRlU2NhbGUpKTsKCiAgICAgICAgICBwbGFjZWhvbGRlci5wdXNoKF92ZXJ0Mi54ICsgX2V4dHJ1ZGVYLCBfdmVydDIueSArIF9leHRydWRlWSwgLWRlcHRoIC0geik7CiAgICAgICAgfSAvLyDlhoXlrZTlvoDlpJbplb8KCgogICAgICAgIGZvciAodmFyIF9oMTAgPSAwOyBfaDEwIDwgaG9sZXMubGVuZ3RoOyBfaDEwKyspIHsKICAgICAgICAgIHZhciBfYWhvbGU5ID0gaG9sZXNbX2gxMF07CiAgICAgICAgICB2YXIgX29uZUhvbGVNb3ZlbWVudHM1ID0gaG9sZXNNb3ZlbWVudHNbX2gxMF07CiAgICAgICAgICB2YXIgX29uZUhvbGVNb3ZlbWVudHM0RXh0cnVkZVNjYWxlID0gaG9sZXNNb3ZlbWVudHM0RXh0cnVkZVNjYWxlW19oMTBdOwoKICAgICAgICAgIGZvciAodmFyIF9pMjMgPSAwLCBfaWw3ID0gX2Fob2xlOS5sZW5ndGg7IF9pMjMgPCBfaWw3OyBfaTIzKyspIHsKICAgICAgICAgICAgdmVydCA9IHNjYWxlUHQyKF9haG9sZTlbX2kyM10sIF9vbmVIb2xlTW92ZW1lbnRzNVtfaTIzXSwgYnMpOwogICAgICAgICAgICB2ZXJ0LmFkZChfb25lSG9sZU1vdmVtZW50czRFeHRydWRlU2NhbGVbX2kyM10uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihleHRydWRlU2NhbGUpKTsKCiAgICAgICAgICAgIGlmICghZXh0cnVkZUJ5UGF0aCkgewogICAgICAgICAgICAgIHBsYWNlaG9sZGVyLnB1c2godmVydC54ICsgX2V4dHJ1ZGVYLCB2ZXJ0LnkgKyBfZXh0cnVkZVksIC1kZXB0aCAtIHopOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBsYWNlaG9sZGVyLnB1c2godmVydC54LCB2ZXJ0LnkgKyBleHRydWRlUHRzW3N0ZXBzIC0gMV0ueSwgZXh0cnVkZVB0c1tzdGVwcyAtIDFdLnggKyB6KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmIChiZXZlbEVuYWJsZWQgJiYgIWJldmVsQmFja0VuYWJsZWQpIHsKICAgICAgdmFyIF9leHRydWRlWDIgPSBleHRydWRlT2Zmc2V0WDsgLy8gZGVwdGggKiBNYXRoLnNpbihleHRydWRlT2Zmc2V0WC8xODAgKiBNYXRoLlBJKTsKCiAgICAgIHZhciBfZXh0cnVkZVkyID0gZXh0cnVkZU9mZnNldFk7IC8vIGRlcHRoICogTWF0aC5zaW4oZXh0cnVkZU9mZnNldFkvMTgwICogTWF0aC5QSSk7CgogICAgICB2YXIgX3MgPSBzdGVwczsgLy8g5aSW5Zu0CgogICAgICBmb3IgKHZhciBfaTI0ID0gMDsgX2kyNCA8IGNvbnRvdXIubGVuZ3RoOyBfaTI0KyspIHsKICAgICAgICB2YXIgX3ZlcnQzID0gY29udG91cltfaTI0XS5jbG9uZSgpLmFkZChjb250b3VyTW92ZW1lbnRzNEV4dHJ1ZGVTY2FsZVtfaTI0XS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGV4dHJ1ZGVTY2FsZSAvIHN0ZXBzICogX3MpKTsKCiAgICAgICAgcGxhY2Vob2xkZXIucHVzaChfdmVydDMueCArIF9leHRydWRlWDIgLyBzdGVwcyAqIF9zLCBfdmVydDMueSArIF9leHRydWRlWTIgLyBzdGVwcyAqIF9zLCAtZGVwdGggLyBzdGVwcyAqIF9zKTsKICAgICAgfSAvLyDlhoXpg6jlrZQKCgogICAgICBmb3IgKHZhciBfaDExID0gMDsgX2gxMSA8IGhvbGVzLmxlbmd0aDsgX2gxMSsrKSB7CiAgICAgICAgdmFyIF9haG9sZTEwID0gaG9sZXNbX2gxMV07CiAgICAgICAgdmFyIF9vbmVIb2xlTW92ZW1lbnRzNiA9IGhvbGVzTW92ZW1lbnRzNEV4dHJ1ZGVTY2FsZVtfaDExXTsKCiAgICAgICAgZm9yICh2YXIgX2kyNSA9IDA7IF9pMjUgPCBfYWhvbGUxMC5sZW5ndGg7IF9pMjUrKykgewogICAgICAgICAgdmVydCA9IF9haG9sZTEwW19pMjVdLmNsb25lKCkuYWRkKF9vbmVIb2xlTW92ZW1lbnRzNltfaTI1XS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGV4dHJ1ZGVTY2FsZSAvIHN0ZXBzICogX3MpKTsKICAgICAgICAgIHBsYWNlaG9sZGVyLnB1c2godmVydC54ICsgX2V4dHJ1ZGVYMiAvIHN0ZXBzICogX3MsIHZlcnQueSArIF9leHRydWRlWTIgLyBzdGVwcyAqIF9zLCAtZGVwdGggLyBzdGVwcyAqIF9zKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qIEZhY2VzICovCiAgICAvLyBUb3AgYW5kIGJvdHRvbSBmYWNlcwoKCiAgICBidWlsZExpZEZhY2VzKCk7CiAgICBidWlsZEJldmVsRmFjZXMoKTsgLy8gU2lkZXMgZmFjZXMKCiAgICBidWlsZFNpZGVGYWNlcygpOyAvLy8gLy8gIEludGVybmFsIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIGJ1aWxkTGlkRmFjZXMoKSB7CiAgICAgIHZhciBzdGFydCA9IHZlcnRpY2VzQXJyYXkubGVuZ3RoIC8gMzsKCiAgICAgIGlmIChiZXZlbEVuYWJsZWQpIHsKICAgICAgICB2YXIgbGF5ZXIgPSAwOyAvLyBzdGVwcyArIDEKCiAgICAgICAgdmFyIG9mZnNldCA9IHZsZW4gKiBsYXllcjsgLy8gQm90dG9tIGZhY2VzCgogICAgICAgIGZvciAodmFyIF9pMjYgPSAwOyBfaTI2IDwgZmxlbjsgX2kyNisrKSB7CiAgICAgICAgICB2YXIgX2ZhY2UgPSBmYWNlc1tfaTI2XTsKICAgICAgICAgIHRyaWFuZ2xlVG9Qb2ludChfZmFjZVswXSArIG9mZnNldCwgX2ZhY2VbMV0gKyBvZmZzZXQsIF9mYWNlWzJdICsgb2Zmc2V0KTsKICAgICAgICB9CgogICAgICAgIGxheWVyID0gc3RlcHMgKyBiZXZlbFNlZ21lbnRzICogMTsgLy8gMjsKCiAgICAgICAgb2Zmc2V0ID0gdmxlbiAqIGxheWVyOyAvLyBUb3AgZmFjZXMKCiAgICAgICAgZm9yICh2YXIgX2kyNyA9IDA7IF9pMjcgPCBmbGVuOyBfaTI3KyspIHsKICAgICAgICAgIHZhciBfZmFjZTIgPSBmYWNlc1tfaTI3XTsKICAgICAgICAgIHRyaWFuZ2xlVG9Qb2ludChfZmFjZTJbMl0gKyBvZmZzZXQsIF9mYWNlMlsxXSArIG9mZnNldCwgX2ZhY2UyWzBdICsgb2Zmc2V0KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gQm90dG9tIGZhY2VzCiAgICAgICAgZm9yICh2YXIgX2kyOCA9IDA7IF9pMjggPCBmbGVuOyBfaTI4KyspIHsKICAgICAgICAgIHZhciBfZmFjZTMgPSBmYWNlc1tfaTI4XTsKICAgICAgICAgIHRyaWFuZ2xlVG9Qb2ludChfZmFjZTNbMF0sIF9mYWNlM1sxXSwgX2ZhY2UzWzJdKTsKICAgICAgICB9IC8vIFRvcCBmYWNlcwoKCiAgICAgICAgZm9yICh2YXIgX2kyOSA9IDA7IF9pMjkgPCBmbGVuOyBfaTI5KyspIHsKICAgICAgICAgIHZhciBfZmFjZTQgPSBmYWNlc1tfaTI5XTsKICAgICAgICAgIHRyaWFuZ2xlVG9Qb2ludChfZmFjZTRbMl0gKyB2bGVuICogc3RlcHMsIF9mYWNlNFsxXSArIHZsZW4gKiBzdGVwcywgX2ZhY2U0WzBdICsgdmxlbiAqIHN0ZXBzKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNjb3BlLmFkZEdyb3VwKHN0YXJ0LCB2ZXJ0aWNlc0FycmF5Lmxlbmd0aCAvIDMgLSBzdGFydCwgMCk7CiAgICB9CgogICAgZnVuY3Rpb24gYnVpbGRCZXZlbEZhY2VzKCkgewogICAgICBpZiAoYmV2ZWxTZWdtZW50cyA9PSAwIHx8ICFiZXZlbEVuYWJsZWQpIHJldHVybiAwOwogICAgICB2YXIgc3RhcnQgPSB2ZXJ0aWNlc0FycmF5Lmxlbmd0aCAvIDM7CiAgICAgIHZhciBsYXllcm9mZnNldCA9IDA7CiAgICAgIGJldmVsd2FsbHMoY29udG91ciwgbGF5ZXJvZmZzZXQpOwogICAgICBsYXllcm9mZnNldCArPSBjb250b3VyLmxlbmd0aDsKCiAgICAgIGZvciAodmFyIF9oMTIgPSAwLCBfaGw2ID0gaG9sZXMubGVuZ3RoOyBfaDEyIDwgX2hsNjsgX2gxMisrKSB7CiAgICAgICAgYWhvbGUgPSBob2xlc1tfaDEyXTsKICAgICAgICBiZXZlbHdhbGxzKGFob2xlLCBsYXllcm9mZnNldCk7IC8vLCB0cnVlCgogICAgICAgIGxheWVyb2Zmc2V0ICs9IGFob2xlLmxlbmd0aDsKICAgICAgfQoKICAgICAgc2NvcGUuYWRkR3JvdXAoc3RhcnQsIHZlcnRpY2VzQXJyYXkubGVuZ3RoIC8gMyAtIHN0YXJ0LCAxKTsKICAgIH0KCiAgICBmdW5jdGlvbiBiZXZlbHdhbGxzKGNvbnRvdXIsIGxheWVyb2Zmc2V0KSB7CiAgICAgIHZhciBjb250b3VyX2xlbmd0aCA9IFtdOwogICAgICB2YXIgY2xvc2VkQ29udG91ciA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kzMCA9IDA7IF9pMzAgPCBjb250b3VyLmxlbmd0aDsgX2kzMCsrKSB7CiAgICAgICAgY2xvc2VkQ29udG91ci5wdXNoKGNvbnRvdXJbX2kzMF0pOwogICAgICB9CgogICAgICBjbG9zZWRDb250b3VyLnB1c2goY29udG91clswXSk7CiAgICAgIGNvbnRvdXJfbGVuZ3RoWzBdID0gMDsKCiAgICAgIGZvciAodmFyIHggPSAxOyB4IDwgY2xvc2VkQ29udG91ci5sZW5ndGg7IHgrKykgewogICAgICAgIHZhciBfdGVtcCA9IGNvbnRvdXJfbGVuZ3RoW3ggLSAxXSArIGNsb3NlZENvbnRvdXJbeF0uY2xvbmUoKS5zdWIoY2xvc2VkQ29udG91clt4IC0gMV0pLmxlbmd0aCgpOwoKICAgICAgICBjb250b3VyX2xlbmd0aFt4XSA9IF90ZW1wOwogICAgICB9CgogICAgICB2YXIgc2wgPSBiZXZlbFNlZ21lbnRzOyAvLyBjYWxjdWxhdGUgc2lkZSB3YWxsIGRlcHRoIGxlbmd0aAoKICAgICAgdmFyIHNpZGVXYWxsTGVuZ3RoID0gW107CiAgICAgIHNpZGVXYWxsTGVuZ3RoWzBdID0gMDsKICAgICAgdmFyIGogPSAxOwoKICAgICAgZm9yICh2YXIgX3MyID0gMDsgX3MyIDwgc2w7IF9zMisrKSB7CiAgICAgICAgdmFyIHNsZW4xID0gdmxlbiAqIF9zMjsKICAgICAgICB2YXIgc2xlbjIgPSB2bGVuICogKF9zMiArIDEpOwogICAgICAgIHZhciBhID0gbGF5ZXJvZmZzZXQgKyBqICsgc2xlbjE7CiAgICAgICAgdmFyIGQgPSBsYXllcm9mZnNldCArIGogKyBzbGVuMjsKICAgICAgICB2YXIgdmEgPSBuZXcgVmVjdG9yMyhwbGFjZWhvbGRlclthICogMyArIDBdLCBwbGFjZWhvbGRlclthICogMyArIDFdLCBwbGFjZWhvbGRlclthICogMyArIDJdKTsKICAgICAgICB2YXIgdmQgPSBuZXcgVmVjdG9yMyhwbGFjZWhvbGRlcltkICogMyArIDBdLCBwbGFjZWhvbGRlcltkICogMyArIDFdLCBwbGFjZWhvbGRlcltkICogMyArIDJdKTsKCiAgICAgICAgdmFyIF90ZW1wMiA9IHZkLnN1Yih2YSkubGVuZ3RoKCk7CgogICAgICAgIHNpZGVXYWxsTGVuZ3RoLnB1c2goc2lkZVdhbGxMZW5ndGhbc2lkZVdhbGxMZW5ndGgubGVuZ3RoIC0gMV0gKyBfdGVtcDIpOwogICAgICB9IC8vIGNvbnNvbGUubG9nKHNpZGVXYWxsTGVuZ3RoKTsKCgogICAgICB1dlNpZGVXYWxsTGVuZ3RoT2Zmc2V0ID0gc2lkZVdhbGxMZW5ndGhbc2lkZVdhbGxMZW5ndGgubGVuZ3RoIC0gMV07CiAgICAgIHZhciBpID0gY29udG91ci5sZW5ndGg7CgogICAgICB3aGlsZSAoLS1pID49IDApIHsKICAgICAgICB2YXIgX2o2ID0gaTsKCiAgICAgICAgdmFyIF9rNCA9IGkgLSAxOwoKICAgICAgICBpZiAoX2s0IDwgMCkgX2s0ID0gY29udG91ci5sZW5ndGggLSAxOwoKICAgICAgICBmb3IgKHZhciBfczMgPSAwOyBfczMgPCBzbDsgX3MzKyspIHsKICAgICAgICAgIHZhciBfc2xlbiA9IHZsZW4gKiBfczM7CgogICAgICAgICAgdmFyIF9zbGVuMiA9IHZsZW4gKiAoX3MzICsgMSk7CgogICAgICAgICAgdmFyIF9hID0gbGF5ZXJvZmZzZXQgKyBfajYgKyBfc2xlbjsKCiAgICAgICAgICB2YXIgX2IzID0gbGF5ZXJvZmZzZXQgKyBfazQgKyBfc2xlbjsKCiAgICAgICAgICB2YXIgYyA9IGxheWVyb2Zmc2V0ICsgX2s0ICsgX3NsZW4yOwoKICAgICAgICAgIHZhciBfZCA9IGxheWVyb2Zmc2V0ICsgX2o2ICsgX3NsZW4yOwoKICAgICAgICAgIHF1YWRUb1BvaW50KGNvbnRvdXJfbGVuZ3RoLCBzaWRlV2FsbExlbmd0aCwgaSwgX3MzLCBfYjMsIF9hLCBfZCwgYyk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIENyZWF0ZSBmYWNlcyBmb3IgdGhlIHotc2lkZXMgb2YgdGhlIHNoYXBlCgoKICAgIGZ1bmN0aW9uIGJ1aWxkU2lkZUZhY2VzKCkgewogICAgICB2YXIgc3RhcnQgPSB2ZXJ0aWNlc0FycmF5Lmxlbmd0aCAvIDM7CiAgICAgIHZhciBsYXllcm9mZnNldCA9IHZsZW4gKiBiZXZlbFNlZ21lbnRzOwogICAgICBzaWRld2FsbHMoY29udG91ciwgbGF5ZXJvZmZzZXQpOwogICAgICBsYXllcm9mZnNldCArPSBjb250b3VyLmxlbmd0aDsKCiAgICAgIGZvciAodmFyIF9oMTMgPSAwLCBfaGw3ID0gaG9sZXMubGVuZ3RoOyBfaDEzIDwgX2hsNzsgX2gxMysrKSB7CiAgICAgICAgYWhvbGUgPSBob2xlc1tfaDEzXTsKICAgICAgICBzaWRld2FsbHMoYWhvbGUsIGxheWVyb2Zmc2V0KTsKICAgICAgICBsYXllcm9mZnNldCArPSBhaG9sZS5sZW5ndGg7CiAgICAgIH0KCiAgICAgIHNjb3BlLmFkZEdyb3VwKHN0YXJ0LCB2ZXJ0aWNlc0FycmF5Lmxlbmd0aCAvIDMgLSBzdGFydCwgMSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2lkZXdhbGxzKGNvbnRvdXIsIGxheWVyb2Zmc2V0KSB7CiAgICAgIHZhciBjb250b3VyX2xlbmd0aCA9IFtdOwogICAgICB2YXIgY2xvc2VkQ29udG91ciA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kzMSA9IDA7IF9pMzEgPCBjb250b3VyLmxlbmd0aDsgX2kzMSsrKSB7CiAgICAgICAgY2xvc2VkQ29udG91ci5wdXNoKGNvbnRvdXJbX2kzMV0pOwogICAgICB9CgogICAgICBjbG9zZWRDb250b3VyLnB1c2goY29udG91clswXSk7CiAgICAgIGNvbnRvdXJfbGVuZ3RoWzBdID0gMDsKCiAgICAgIGZvciAodmFyIHggPSAxOyB4IDwgY2xvc2VkQ29udG91ci5sZW5ndGg7IHgrKykgewogICAgICAgIHZhciBfdGVtcDMgPSBjb250b3VyX2xlbmd0aFt4IC0gMV0gKyBjbG9zZWRDb250b3VyW3hdLmNsb25lKCkuc3ViKGNsb3NlZENvbnRvdXJbeCAtIDFdKS5sZW5ndGgoKTsKCiAgICAgICAgY29udG91cl9sZW5ndGhbeF0gPSBfdGVtcDM7CiAgICAgIH0KCiAgICAgIHZhciBzbCA9IHN0ZXBzOyAvLyBjYWxjdWxhdGUgc2lkZSB3YWxsIGRlcHRoIGxlbmd0aAoKICAgICAgdmFyIHNpZGVXYWxsTGVuZ3RoID0gW107CiAgICAgIHNpZGVXYWxsTGVuZ3RoWzBdID0gdXZTaWRlV2FsbExlbmd0aE9mZnNldDsgLy8gMDsKCiAgICAgIHZhciBqID0gMTsKCiAgICAgIGZvciAodmFyIF9zNCA9IDA7IF9zNCA8IHNsOyBfczQrKykgewogICAgICAgIHZhciBzbGVuMSA9IHZsZW4gKiBfczQ7CiAgICAgICAgdmFyIHNsZW4yID0gdmxlbiAqIChfczQgKyAxKTsKICAgICAgICB2YXIgYSA9IGxheWVyb2Zmc2V0ICsgaiArIHNsZW4xOwogICAgICAgIHZhciBkID0gbGF5ZXJvZmZzZXQgKyBqICsgc2xlbjI7CiAgICAgICAgdmFyIHZhID0gbmV3IFZlY3RvcjMocGxhY2Vob2xkZXJbYSAqIDMgKyAwXSwgcGxhY2Vob2xkZXJbYSAqIDMgKyAxXSwgcGxhY2Vob2xkZXJbYSAqIDMgKyAyXSk7CiAgICAgICAgdmFyIHZkID0gbmV3IFZlY3RvcjMocGxhY2Vob2xkZXJbZCAqIDMgKyAwXSwgcGxhY2Vob2xkZXJbZCAqIDMgKyAxXSwgcGxhY2Vob2xkZXJbZCAqIDMgKyAyXSk7CgogICAgICAgIHZhciBfdGVtcDQgPSB2ZC5zdWIodmEpLmxlbmd0aCgpOwoKICAgICAgICBzaWRlV2FsbExlbmd0aC5wdXNoKHNpZGVXYWxsTGVuZ3RoW3NpZGVXYWxsTGVuZ3RoLmxlbmd0aCAtIDFdICsgX3RlbXA0KTsKICAgICAgfQoKICAgICAgdmFyIGkgPSBjb250b3VyLmxlbmd0aDsKCiAgICAgIHdoaWxlICgtLWkgPj0gMCkgewogICAgICAgIHZhciBfajcgPSBpOwoKICAgICAgICB2YXIgX2s1ID0gaSAtIDE7CgogICAgICAgIGlmIChfazUgPCAwKSBfazUgPSBjb250b3VyLmxlbmd0aCAtIDE7CgogICAgICAgIGZvciAodmFyIF9zNSA9IDA7IF9zNSA8IHNsOyBfczUrKykgewogICAgICAgICAgdmFyIF9zbGVuMyA9IHZsZW4gKiBfczU7CgogICAgICAgICAgdmFyIF9zbGVuNCA9IHZsZW4gKiAoX3M1ICsgMSk7CgogICAgICAgICAgdmFyIF9hMiA9IGxheWVyb2Zmc2V0ICsgX2o3ICsgX3NsZW4zOwoKICAgICAgICAgIHZhciBfYjQgPSBsYXllcm9mZnNldCArIF9rNSArIF9zbGVuMzsKCiAgICAgICAgICB2YXIgYyA9IGxheWVyb2Zmc2V0ICsgX2s1ICsgX3NsZW40OwoKICAgICAgICAgIHZhciBfZDIgPSBsYXllcm9mZnNldCArIF9qNyArIF9zbGVuNDsKCiAgICAgICAgICBxdWFkVG9Qb2ludChjb250b3VyX2xlbmd0aCwgc2lkZVdhbGxMZW5ndGgsIGksIF9zNSwgX2I0LCBfYTIsIF9kMiwgYyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJpYW5nbGVUb1BvaW50KGEsIGIsIGMpIHsKICAgICAgYWRkVmVydGV4KGEpOwogICAgICBhZGRWZXJ0ZXgoYik7CiAgICAgIGFkZFZlcnRleChjKTsKICAgICAgdmFyIG5leHRJbmRleCA9IHZlcnRpY2VzQXJyYXkubGVuZ3RoIC8gMzsKICAgICAgdmFyIHV2cyA9IHV2Z2VuLmdlbmVyYXRlVG9wVVYoc2NvcGUsIHZlcnRpY2VzQXJyYXksIGJvdW5kaW5nYm94LCBuZXh0SW5kZXggLSAzLCBuZXh0SW5kZXggLSAyLCBuZXh0SW5kZXggLSAxKTsKICAgICAgYWRkVVYodXZzWzBdKTsKICAgICAgYWRkVVYodXZzWzFdKTsKICAgICAgYWRkVVYodXZzWzJdKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWFkVG9Qb2ludChjb250b3VyX2xlbmd0aCwgc2lkZVdhbGxMZW5ndGgsIHV2U3RhcnRJbmRleCwgdXZTdGFydEluZGV4RGVwdGhEaXJlY3Rpb24sIGEsIGIsIGMsIGQpIHsKICAgICAgYWRkVmVydGV4KGEpOwogICAgICBhZGRWZXJ0ZXgoYik7CiAgICAgIGFkZFZlcnRleChkKTsKICAgICAgYWRkVmVydGV4KGIpOwogICAgICBhZGRWZXJ0ZXgoYyk7CiAgICAgIGFkZFZlcnRleChkKTsKICAgICAgdmFyIG5leHRJbmRleCA9IHZlcnRpY2VzQXJyYXkubGVuZ3RoIC8gMzsKICAgICAgdmFyIHV2cyA9IHV2Z2VuLmdlbmVyYXRlU2lkZVdhbGxVVkV4dGVuZChzY29wZSwgdmVydGljZXNBcnJheSwgYm91bmRpbmdib3gsIGRlcHRoLCBjb250b3VyX2xlbmd0aCwgc2lkZVdhbGxMZW5ndGgsIHV2U3RhcnRJbmRleCwgdXZTdGFydEluZGV4RGVwdGhEaXJlY3Rpb24sIG5leHRJbmRleCAtIDYsIG5leHRJbmRleCAtIDMsIG5leHRJbmRleCAtIDIsIG5leHRJbmRleCAtIDEpOwogICAgICBhZGRVVih1dnNbMF0pOwogICAgICBhZGRVVih1dnNbMV0pOwogICAgICBhZGRVVih1dnNbM10pOwogICAgICBhZGRVVih1dnNbMV0pOwogICAgICBhZGRVVih1dnNbMl0pOwogICAgICBhZGRVVih1dnNbM10pOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFZlcnRleChpbmRleCkgewogICAgICB2ZXJ0aWNlc0FycmF5LnB1c2gocGxhY2Vob2xkZXJbaW5kZXggKiAzICsgMF0sIHBsYWNlaG9sZGVyW2luZGV4ICogMyArIDFdLCBwbGFjZWhvbGRlcltpbmRleCAqIDMgKyAyXSk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkVVYodmVjdG9yMikgewogICAgICB1dkFycmF5LnB1c2godmVjdG9yMi54KTsKICAgICAgdXZBcnJheS5wdXNoKHZlY3RvcjIueSk7CiAgICB9CiAgfQp9CgpFeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpOwpFeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OwoKRXh0cnVkZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGRhdGEgPSBCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7CiAgdmFyIHNoYXBlcyA9IHRoaXMucGFyYW1ldGVycy5zaGFwZXM7CiAgdmFyIG9wdGlvbnMgPSB0aGlzLnBhcmFtZXRlcnMub3B0aW9uczsKICByZXR1cm4gdG9KU09OKHNoYXBlcywgb3B0aW9ucywgZGF0YSk7Cn07CgpmdW5jdGlvbiByb3RhdGVDb29yZDQ1ZGVncmVlKHgsIHksIG5ld194LCBuZXdfeSkgewogIG5ld194ID0gTWF0aC5TUVJUMiAqIHggLSBNYXRoLlNRUlQyICogeTsKICBuZXdfeSA9IE1hdGguU1FSVDIgKiB4ICsgTWF0aC5TUVJUMiAqIHk7CiAgcmV0dXJuIFtuZXdfeCwgbmV3X3ldOwp9IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE4MjQKCgp2YXIgV29ybGRVVkdlbmVyYXRvciA9IHsKICBnZW5lcmF0ZVRvcFVWOiBmdW5jdGlvbiBnZW5lcmF0ZVRvcFVWKGdlb21ldHJ5LCB2ZXJ0aWNlcywgYm91bmRpbmdib3gsIGluZGV4QSwgaW5kZXhCLCBpbmRleEMpIHsKICAgIHZhciBhX3ggPSB2ZXJ0aWNlc1tpbmRleEEgKiAzXTsKICAgIHZhciBhX3kgPSB2ZXJ0aWNlc1tpbmRleEEgKiAzICsgMV07CiAgICB2YXIgYl94ID0gdmVydGljZXNbaW5kZXhCICogM107CiAgICB2YXIgYl95ID0gdmVydGljZXNbaW5kZXhCICogMyArIDFdOwogICAgdmFyIGNfeCA9IHZlcnRpY2VzW2luZGV4QyAqIDNdOwogICAgdmFyIGNfeSA9IHZlcnRpY2VzW2luZGV4QyAqIDMgKyAxXTsKICAgIHZhciBiYiA9IGJvdW5kaW5nYm94OyAvLyBleHRydWRlZFNoYXBlLmJvdW5kaW5nQm94KCk7CgogICAgdmFyIGJieSA9IGJiLm1heC55IC0gYmIubWluLnk7CiAgICB2YXIgYW10ID0gYmJ5OwogICAgcmV0dXJuIFtuZXcgVmVjdG9yMigoYV94IC0gYmIubWluLngpIC8gYW10LCAxIC0gKGFfeSAtIGJiLm1pbi55KSAvIGFtdCksIG5ldyBWZWN0b3IyKChiX3ggLSBiYi5taW4ueCkgLyBhbXQsIDEgLSAoYl95IC0gYmIubWluLnkpIC8gYW10KSwgbmV3IFZlY3RvcjIoKGNfeCAtIGJiLm1pbi54KSAvIGFtdCwgMSAtIChjX3kgLSBiYi5taW4ueSkgLyBhbXQpXTsKICB9LAogIGdlbmVyYXRlQm90dG9tVVY6IGZ1bmN0aW9uIGdlbmVyYXRlQm90dG9tVVYoZ2VvbWV0cnksIHZlcnRpY2VzLCBib3VuZGluZ2JveCwgaW5kZXhBLCBpbmRleEIsIGluZGV4QykgewogICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVUb3BVVihnZW9tZXRyeSwgYm91bmRpbmdib3gsIGluZGV4QSwgaW5kZXhCLCBpbmRleEMpOwogIH0sCiAgLy8geXVueWFuZwogIGdlbmVyYXRlU2lkZVdhbGxVVjogZnVuY3Rpb24gZ2VuZXJhdGVTaWRlV2FsbFVWKGdlb21ldHJ5LCB2ZXJ0aWNlcywgYm91bmRpbmdib3gsIGV4dHJ1ZGVoZWlnaHQsIGluZGV4QSwgaW5kZXhCLCBpbmRleEMsIGluZGV4RCkgewogICAgdmFyIGF4ID0gdmVydGljZXNbaW5kZXhBICogM107CiAgICB2YXIgYXkgPSB2ZXJ0aWNlc1tpbmRleEEgKiAzICsgMV07CiAgICB2YXIgYXogPSB2ZXJ0aWNlc1tpbmRleEEgKiAzICsgMl07CiAgICB2YXIgYnggPSB2ZXJ0aWNlc1tpbmRleEIgKiAzXTsKICAgIHZhciBieSA9IHZlcnRpY2VzW2luZGV4QiAqIDMgKyAxXTsKICAgIHZhciBieiA9IHZlcnRpY2VzW2luZGV4QiAqIDMgKyAyXTsKICAgIHZhciBjeCA9IHZlcnRpY2VzW2luZGV4QyAqIDNdOwogICAgdmFyIGN5ID0gdmVydGljZXNbaW5kZXhDICogMyArIDFdOwogICAgdmFyIGN6ID0gdmVydGljZXNbaW5kZXhDICogMyArIDJdOwogICAgdmFyIGR4ID0gdmVydGljZXNbaW5kZXhEICogM107CiAgICB2YXIgZHkgPSB2ZXJ0aWNlc1tpbmRleEQgKiAzICsgMV07CiAgICB2YXIgZHogPSB2ZXJ0aWNlc1tpbmRleEQgKiAzICsgMl07CiAgICB2YXIgLy8gYW10ID0gZXh0cnVkZWhlaWdodCwvL3RoaXMuZXh0cnVkZWRPcHRpb25zLmFtb3VudCwKICAgIGJiID0gYm91bmRpbmdib3g7CiAgICAvLyBleHRydWRlZFNoYXBlLmdldEJvdW5kaW5nQm94KCksCiAgICBiYi5tYXgueCAtIGJiLm1pbi54OwogICAgdmFyIGJieSA9IGJiLm1heC55IC0gYmIubWluLnk7CiAgICBiYi5tYXgueiAtIGJiLm1pbi56OwogICAgdmFyIGFtdCA9IGJieTsgLy8gY29uc3QgYWJfYW5nbGUgPSBNYXRoLmFicyhheSAtIGJ5KSAvICBNYXRoLnNxcnQoKGF4LWJ4KSooYXgtYngpICsgKGF5LWJ5KSooYXktYnkpKTsKICAgIC8vIGNvbnN0IGFiX2FuZ2xlID0gKGF5IC0gYnkpIC8gIE1hdGguc3FydCgoYXgtYngpKihheC1ieCkgKyAoYXktYnkpKihheS1ieSkpOwoKICAgIHZhciBiYSA9IG5ldyBWZWN0b3IzKGJ4IC0gYXgsIGJ5IC0gYXksIDApOwogICAgdmFyIHhBeGlzID0gbmV3IFZlY3RvcjMoMSwgMCwgMCk7CiAgICB2YXIgYWJBbmdsZSA9IGJhLmFuZ2xlVG8oeEF4aXMpICogMTgwIC8gTWF0aC5QSTsKICAgIGlmIChhYkFuZ2xlIDwgMCB8fCBhYkFuZ2xlID4gMTgwKSBjb25zb2xlLmVycm9yKCdhYkFuZ2xlPDAgfHwgYWJBbmdsZT4xODAnLCBhYkFuZ2xlKTsKICAgIHZhciBhbmdsZUNvbnN0ID0gMzA7IC8vIGlmKE1hdGguYWJzKGF5IC0gYnkpL2JieCA8IDAuMDEpCgogICAgaWYgKGFiQW5nbGUgPCBhbmdsZUNvbnN0IHx8IGFiQW5nbGUgPiAxODAgLSBhbmdsZUNvbnN0KSB7CiAgICAgIHJldHVybiBbbmV3IFZlY3RvcjIoYXggLyBhbXQsIGF6IC8gYW10KSwgbmV3IFZlY3RvcjIoYnggLyBhbXQsIGJ6IC8gYW10KSwgbmV3IFZlY3RvcjIoY3ggLyBhbXQsIGN6IC8gYW10KSwgbmV3IFZlY3RvcjIoZHggLyBhbXQsIGR6IC8gYW10KV07CiAgICB9IGVsc2UgaWYgKGFiQW5nbGUgPiA5MCAtIGFuZ2xlQ29uc3QgJiYgYWJBbmdsZSA8IDkwICsgYW5nbGVDb25zdCkgewogICAgICByZXR1cm4gW25ldyBWZWN0b3IyKGF5IC8gYW10LCBheiAvIGFtdCksIG5ldyBWZWN0b3IyKGJ5IC8gYW10LCBieiAvIGFtdCksIG5ldyBWZWN0b3IyKGN5IC8gYW10LCBjeiAvIGFtdCksIG5ldyBWZWN0b3IyKGR5IC8gYW10LCBkeiAvIGFtdCldOwogICAgfSBlbHNlIHsKICAgICAgdmFyIF9yb3RhdGVDb29yZDQ1ZGVncmVlID0gcm90YXRlQ29vcmQ0NWRlZ3JlZShheCwgYXkpLAogICAgICAgICAgX3JvdGF0ZUNvb3JkNDVkZWdyZWUyID0gX3NsaWNlZFRvQXJyYXkoX3JvdGF0ZUNvb3JkNDVkZWdyZWUsIDIpLAogICAgICAgICAgbmV3X2F4ID0gX3JvdGF0ZUNvb3JkNDVkZWdyZWUyWzBdLAogICAgICAgICAgbmV3X2F5ID0gX3JvdGF0ZUNvb3JkNDVkZWdyZWUyWzFdOwoKICAgICAgdmFyIF9yb3RhdGVDb29yZDQ1ZGVncmVlMyA9IHJvdGF0ZUNvb3JkNDVkZWdyZWUoYngsIGJ5KSwKICAgICAgICAgIF9yb3RhdGVDb29yZDQ1ZGVncmVlNCA9IF9zbGljZWRUb0FycmF5KF9yb3RhdGVDb29yZDQ1ZGVncmVlMywgMiksCiAgICAgICAgICBuZXdfYnggPSBfcm90YXRlQ29vcmQ0NWRlZ3JlZTRbMF0sCiAgICAgICAgICBuZXdfYnkgPSBfcm90YXRlQ29vcmQ0NWRlZ3JlZTRbMV07CgogICAgICB2YXIgX2JhID0gbmV3IFZlY3RvcjMobmV3X2J4IC0gbmV3X2F4LCBuZXdfYnkgLSBuZXdfYXksIDApOwoKICAgICAgdmFyIG5ld0FiQW5nbGUgPSBfYmEuYW5nbGVUbyh4QXhpcykgKiAxODAgLyBNYXRoLlBJOwogICAgICB2YXIgbmV3X2FtdCA9IGFtdCAvIDEuNDE0MjE7CiAgICAgIHZhciBuZXdBbmdsZUNvbnN0ID0gNDUgLSBhbmdsZUNvbnN0OwoKICAgICAgaWYgKG5ld0FiQW5nbGUgPCBuZXdBbmdsZUNvbnN0IHx8IG5ld0FiQW5nbGUgPiAxODAgLSBuZXdBbmdsZUNvbnN0KSB7CiAgICAgICAgcmV0dXJuIFtuZXcgVmVjdG9yMihheCAvIG5ld19hbXQsIGF6IC8gYW10KSwgbmV3IFZlY3RvcjIoYnggLyBuZXdfYW10LCBieiAvIGFtdCksIG5ldyBWZWN0b3IyKGN4IC8gbmV3X2FtdCwgY3ogLyBhbXQpLCBuZXcgVmVjdG9yMihkeCAvIG5ld19hbXQsIGR6IC8gYW10KV07CiAgICAgIH0KCiAgICAgIHsKICAgICAgICByZXR1cm4gW25ldyBWZWN0b3IyKGF5IC8gbmV3X2FtdCwgYXogLyBhbXQpLCBuZXcgVmVjdG9yMihieSAvIG5ld19hbXQsIGJ6IC8gYW10KSwgbmV3IFZlY3RvcjIoY3kgLyBuZXdfYW10LCBjeiAvIGFtdCksIG5ldyBWZWN0b3IyKGR5IC8gbmV3X2FtdCwgZHogLyBhbXQpXTsKICAgICAgfQogICAgfQogIH0sCiAgLy8geXVueWFuZwogIGdlbmVyYXRlU2lkZVdhbGxVVkV4dGVuZDogZnVuY3Rpb24gZ2VuZXJhdGVTaWRlV2FsbFVWRXh0ZW5kKGdlb21ldHJ5LCB2ZXJ0aWNlcywgYm91bmRpbmdib3gsIGV4dHJ1ZGVoZWlnaHQsIGNvbnRvdXJfbGVuZ3RoLCBzaWRlV2FsbExlbmd0aCwgdXZTdGFydEluZGV4LCB1dlN0YXJ0SW5kZXhEZXB0aERpcmVjdGlvbiwgaW5kZXhBLCBpbmRleEIsIGluZGV4QywgaW5kZXhEKSB7CiAgICB2YXIgYmIgPSBib3VuZGluZ2JveDsKICAgIHZhciBiYnkgPSBiYi5tYXgueSAtIGJiLm1pbi55OwogICAgdmFyIGFtdCA9IGJieTsKCiAgICBpZiAodXZTdGFydEluZGV4IC0gMSA8IDApIHsKICAgICAgdXZTdGFydEluZGV4ID0gY29udG91cl9sZW5ndGgubGVuZ3RoIC0gMTsKICAgIH0KCiAgICB2YXIgdXYwVSA9IGNvbnRvdXJfbGVuZ3RoW3V2U3RhcnRJbmRleCAtIDFdIC8gYW10OyAvLy8gY29udG91cl9sZW5ndGhbY29udG91cl9sZW5ndGgubGVuZ3RoLTFdOwoKICAgIHZhciB1djFVID0gY29udG91cl9sZW5ndGhbdXZTdGFydEluZGV4XSAvIGFtdDsgLy8gLyBjb250b3VyX2xlbmd0aFtjb250b3VyX2xlbmd0aC5sZW5ndGgtMV07CgogICAgcmV0dXJuIFtuZXcgVmVjdG9yMih1djBVLCBzaWRlV2FsbExlbmd0aFt1dlN0YXJ0SW5kZXhEZXB0aERpcmVjdGlvbl0gLyBhbXQpLCBuZXcgVmVjdG9yMih1djFVLCBzaWRlV2FsbExlbmd0aFt1dlN0YXJ0SW5kZXhEZXB0aERpcmVjdGlvbl0gLyBhbXQpLCBuZXcgVmVjdG9yMih1djFVLCBzaWRlV2FsbExlbmd0aFt1dlN0YXJ0SW5kZXhEZXB0aERpcmVjdGlvbiArIDFdIC8gYW10KSwgbmV3IFZlY3RvcjIodXYwVSwgc2lkZVdhbGxMZW5ndGhbdXZTdGFydEluZGV4RGVwdGhEaXJlY3Rpb24gKyAxXSAvIGFtdCldOwogIH0KfTsKCmZ1bmN0aW9uIHRvSlNPTihzaGFwZXMsIG9wdGlvbnMsIGRhdGEpIHsKICBkYXRhLnNoYXBlcyA9IFtdOwoKICBpZiAoQXJyYXkuaXNBcnJheShzaGFwZXMpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHNoYXBlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHNoYXBlID0gc2hhcGVzW2ldOwogICAgICBkYXRhLnNoYXBlcy5wdXNoKHNoYXBlLnV1aWQpOwogICAgfQogIH0gZWxzZSB7CiAgICBkYXRhLnNoYXBlcy5wdXNoKHNoYXBlcy51dWlkKTsKICB9CgogIGlmIChvcHRpb25zLmV4dHJ1ZGVQYXRoICE9PSB1bmRlZmluZWQpIGRhdGEub3B0aW9ucy5leHRydWRlUGF0aCA9IG9wdGlvbnMuZXh0cnVkZVBhdGgudG9KU09OKCk7CiAgcmV0dXJuIGRhdGE7Cn0KCnZhciBnZXRQcm90b3R5cGVPZiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsKICAgIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7CiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX2dldFByb3RvdHlwZU9mID0gdW53cmFwRXhwb3J0cyhnZXRQcm90b3R5cGVPZik7Cgp2YXIgc3VwZXJQcm9wQmFzZSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7CiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgewogICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGVPZihvYmplY3QpOwogICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsKICAgIH0KCiAgICByZXR1cm4gb2JqZWN0OwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfc3VwZXJQcm9wQmFzZSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnVud3JhcEV4cG9ydHMoc3VwZXJQcm9wQmFzZSk7Cgp2YXIgZ2V0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkgewogIGZ1bmN0aW9uIF9nZXQoKSB7CiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICJ1bmRlZmluZWQiICYmIFJlZmxlY3QuZ2V0KSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IFJlZmxlY3QuZ2V0LmJpbmQoKSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKICAgIH0gZWxzZSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsKICAgICAgICB2YXIgYmFzZSA9IHN1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7CiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm47CiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTsKCiAgICAgICAgaWYgKGRlc2MuZ2V0KSB7CiAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoIDwgMyA/IHRhcmdldCA6IHJlY2VpdmVyKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBkZXNjLnZhbHVlOwogICAgICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbImRlZmF1bHQiXSA9IG1vZHVsZS5leHBvcnRzOwogICAgfQoKICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9nZXQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp2YXIgX2dldCA9IHVud3JhcEV4cG9ydHMoZ2V0KTsKCnZhciBzZXRQcm90b3R5cGVPZiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgewogICAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgICAgby5fX3Byb3RvX18gPSBwOwogICAgICByZXR1cm4gbzsKICAgIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7CiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKHNldFByb3RvdHlwZU9mKTsKCnZhciBpbmhlcml0cyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7CiAgICB9CgogICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICB9CiAgICB9KTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsKICAgICAgd3JpdGFibGU6IGZhbHNlCiAgICB9KTsKICAgIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9pbmhlcml0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnZhciBfaW5oZXJpdHMgPSB1bndyYXBFeHBvcnRzKGluaGVyaXRzKTsKCnZhciBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7CiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7CiAgICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7CiAgICB9CgogICAgcmV0dXJuIHNlbGY7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1siZGVmYXVsdCJdID0gbW9kdWxlLmV4cG9ydHM7Cn0pOwp1bndyYXBFeHBvcnRzKGFzc2VydFRoaXNJbml0aWFsaXplZCk7Cgp2YXIgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHsKICB2YXIgX3R5cGVvZiA9IF90eXBlb2ZfMVsiZGVmYXVsdCJdOwoKICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7CiAgICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICAgIHJldHVybiBjYWxsOwogICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsKICAgIH0KCiAgICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzWyJkZWZhdWx0Il0gPSBtb2R1bGUuZXhwb3J0czsKfSk7CnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IHVud3JhcEV4cG9ydHMocG9zc2libGVDb25zdHJ1Y3RvclJldHVybik7Cgp2YXIgQ3VydmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEN1cnZlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1cnZlKTsKCiAgICB0aGlzLnR5cGUgPSAnQ3VydmUnOwogICAgdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMgPSAyMDA7CiAgICB0aGlzLnJlY3VyRGVwdGggPSAwOwogIH0gLy8gR2V0IHBvaW50IGF0IHJlbGF0aXZlIHBvc2l0aW9uIGluIGN1cnZlIGFjY29yZGluZyB0byBhcmMgbGVuZ3RoCiAgLy8gLSB1IFswIC4uIDFdCgoKICBfY3JlYXRlQ2xhc3MoQ3VydmUsIFt7CiAgICBrZXk6ICJnZXRQb2ludEF0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludEF0KHUpIHsKICAgICAgdmFyIHQgPSB0aGlzLmdldFV0b1RtYXBwaW5nKHUpOwogICAgICByZXR1cm4gdGhpcy5nZXRQb2ludCh0KTsKICAgIH0gLy8gR2V0IHNlcXVlbmNlIG9mIHBvaW50cyB1c2luZyBnZXRQb2ludCggdCApCgogIH0sIHsKICAgIGtleTogImdldFBvaW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnRzKGRpdmlzaW9ucykgewogICAgICBpZiAoZGl2aXNpb25zID09PSB1bmRlZmluZWQpIGRpdmlzaW9ucyA9IDU7CiAgICAgIHZhciBwb2ludHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGQgPSAwOyBkIDw9IGRpdmlzaW9uczsgZCsrKSB7CiAgICAgICAgcG9pbnRzLnB1c2godGhpcy5nZXRQb2ludChkIC8gZGl2aXNpb25zKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb2ludHM7CiAgICB9IC8vIHl1bnlhbmcKCiAgfSwgewogICAga2V5OiAiZ2V0UG9pbnRzQnlTdGVwc2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnRzQnlTdGVwc2l6ZShzdGVwU2l6ZSkgewogICAgICBpZiAoc3RlcFNpemUgPT09IHVuZGVmaW5lZCkgc3RlcFNpemUgPSA1OwogICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgdmFyIGRpdmlzaW9uczsKCiAgICAgIGlmIChzdGVwU2l6ZSA+IGxlbmd0aCkgewogICAgICAgIGRpdmlzaW9ucyA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGl2aXNpb25zID0gTWF0aC5yb3VuZChsZW5ndGggLyBzdGVwU2l6ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmdldFBvaW50cyhkaXZpc2lvbnMpOwogICAgfSAvLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlCgogIH0sIHsKICAgIGtleTogInRyaWFuZ2xlQXJlYSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpYW5nbGVBcmVhKHAsIHEsIHIpIHsKICAgICAgcmV0dXJuIE1hdGguYWJzKChxLnggLSBwLngpICogKHIueSAtIHAueSkgLSAocS55IC0gcC55KSAqIChyLnggLSBwLngpKTsKICAgIH0gLy8gUiBpcyBwb2ludCBiZXR3ZWVuIFAgYW5kIFEKCiAgfSwgewogICAga2V5OiAiY2hlY2tGbGF0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0ZsYXQocG9pbnRQLCBwb2ludFEsIHBvaW50UiwgdG9sZXJhbmNlKSB7CiAgICAgIHJldHVybiB0aGlzLnRyaWFuZ2xlQXJlYShwb2ludFAsIHBvaW50USwgcG9pbnRSKSA8IHRvbGVyYW5jZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYW1wbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhbXBsZSh0UCwgdFEsIHRvbGVyYW5jZSwgc2FtcGxlUG9pbnRzKSB7CiAgICAgIGlmICh0aGlzLnJlY3VyRGVwdGggPiAxMDApIHsKICAgICAgICAvLyBkZWJ1Zy5sb2coInJlY3VyRGVwdGggPiAxMDAiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMucmVjdXJEZXB0aCsrOwogICAgICB2YXIgcG9pbnRQID0gdGhpcy5nZXRQb2ludEF0KHRQKTsKICAgICAgdmFyIHBvaW50USA9IHRoaXMuZ2V0UG9pbnRBdCh0USk7CiAgICAgIHZhciB0ID0gMC40NTsgLy8gKyAwLjEgKiAoTWF0aC5yYW5kb20oKSoyLTEpOyAvL01hdGgucmFuZG9tKCktLT4oMCwxKQoKICAgICAgdmFyIHRSID0gdFAgKyAodFEgLSB0UCkgKiB0OwogICAgICB2YXIgcG9pbnRSID0gdGhpcy5nZXRQb2ludEF0KHRSKTsKCiAgICAgIGlmICh0aGlzLmNoZWNrRmxhdChwb2ludFAsIHBvaW50USwgcG9pbnRSLCB0b2xlcmFuY2UpKSB7CiAgICAgICAgLy8gc2FtcGxlUG9pbnRzLmFkZChwb2ludFApOwogICAgICAgIHNhbXBsZVBvaW50cy5hZGQocG9pbnRRKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNhbXBsZSh0UCwgdFIsIHRvbGVyYW5jZSwgc2FtcGxlUG9pbnRzKTsKICAgICAgICB0aGlzLnNhbXBsZSh0UiwgdFEsIHRvbGVyYW5jZSwgc2FtcGxlUG9pbnRzKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldFBvaW50c0FkYXB0aXZlbHk0Q3VydmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0FkYXB0aXZlbHk0Q3VydmUoKSB7CiAgICAgIHZhciB0b2xlcmFuY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDAuMDE7CiAgICAgIHRoaXMucmVjdXJEZXB0aCA9IDA7CiAgICAgIHZhciBzYW1wbGVQb2ludHMgPSBuZXcgU2V0KCk7CiAgICAgIHZhciB0UCA9IDA7CiAgICAgIHZhciB0USA9IDE7CiAgICAgIHNhbXBsZVBvaW50cy5hZGQodGhpcy5nZXRQb2ludEF0KDApKTsKICAgICAgdGhpcy5zYW1wbGUodFAsIHRRLCB0b2xlcmFuY2UsIHNhbXBsZVBvaW50cyk7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKHNhbXBsZVBvaW50cyk7CiAgICB9IC8vIEdldCBzZXF1ZW5jZSBvZiBwb2ludHMgdXNpbmcgZ2V0UG9pbnRBdCggdSApCgogIH0sIHsKICAgIGtleTogImdldFNwYWNlZFBvaW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3BhY2VkUG9pbnRzKGRpdmlzaW9ucykgewogICAgICBpZiAoZGl2aXNpb25zID09PSB1bmRlZmluZWQpIGRpdmlzaW9ucyA9IDU7CiAgICAgIHZhciBwb2ludHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGQgPSAwOyBkIDw9IGRpdmlzaW9uczsgZCsrKSB7CiAgICAgICAgcG9pbnRzLnB1c2godGhpcy5nZXRQb2ludEF0KGQgLyBkaXZpc2lvbnMpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvaW50czsKICAgIH0gLy8gR2V0IHRvdGFsIGN1cnZlIGFyYyBsZW5ndGgKCiAgfSwgewogICAga2V5OiAiZ2V0TGVuZ3RoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMZW5ndGgoKSB7CiAgICAgIHZhciBsZW5ndGhzID0gdGhpcy5nZXRMZW5ndGhzKCk7CiAgICAgIHJldHVybiBsZW5ndGhzW2xlbmd0aHMubGVuZ3RoIC0gMV07CiAgICB9IC8vIEdldCBsaXN0IG9mIGN1bXVsYXRpdmUgc2VnbWVudCBsZW5ndGhzCgogIH0sIHsKICAgIGtleTogImdldExlbmd0aHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExlbmd0aHMoZGl2aXNpb25zKSB7CiAgICAgIGlmIChkaXZpc2lvbnMgPT09IHVuZGVmaW5lZCkgZGl2aXNpb25zID0gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM7CgogICAgICBpZiAodGhpcy5jYWNoZUFyY0xlbmd0aHMgJiYgdGhpcy5jYWNoZUFyY0xlbmd0aHMubGVuZ3RoID09PSBkaXZpc2lvbnMgKyAxICYmICF0aGlzLm5lZWRzVXBkYXRlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzOwogICAgICB9CgogICAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7CiAgICAgIHZhciBjYWNoZSA9IFtdOwogICAgICB2YXIgY3VycmVudDsKICAgICAgdmFyIGxhc3QgPSB0aGlzLmdldFBvaW50KDApOwogICAgICB2YXIgcDsKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIGNhY2hlLnB1c2goMCk7CgogICAgICBmb3IgKHAgPSAxOyBwIDw9IGRpdmlzaW9uczsgcCsrKSB7CiAgICAgICAgY3VycmVudCA9IHRoaXMuZ2V0UG9pbnQocCAvIGRpdmlzaW9ucyk7CiAgICAgICAgc3VtICs9IGN1cnJlbnQuZGlzdGFuY2VUbyhsYXN0KTsKICAgICAgICBjYWNoZS5wdXNoKHN1bSk7CiAgICAgICAgbGFzdCA9IGN1cnJlbnQ7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FjaGVBcmNMZW5ndGhzID0gY2FjaGU7CiAgICAgIHJldHVybiBjYWNoZTsgLy8geyBzdW1zOiBjYWNoZSwgc3VtOiBzdW0gfTsgU3VtIGlzIGluIHRoZSBsYXN0IGVsZW1lbnQuCiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlQXJjTGVuZ3RocyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQXJjTGVuZ3RocygpIHsKICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuZ2V0TGVuZ3RocygpOwogICAgfSAvLyBHaXZlbiB1ICggMCAuLiAxICksIGdldCBhIHQgdG8gZmluZCBwLiBUaGlzIGdpdmVzIHlvdSBwb2ludHMgd2hpY2ggYXJlIGVxdWlkaXN0YW50CgogIH0sIHsKICAgIGtleTogImdldFV0b1RtYXBwaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVdG9UbWFwcGluZyh1LCBkaXN0YW5jZSkgewogICAgICB2YXIgYXJjTGVuZ3RocyA9IHRoaXMuZ2V0TGVuZ3RocygpOwogICAgICB2YXIgaSA9IDA7CiAgICAgIHZhciBpbCA9IGFyY0xlbmd0aHMubGVuZ3RoOwogICAgICB2YXIgdGFyZ2V0QXJjTGVuZ3RoOyAvLyBUaGUgdGFyZ2V0ZWQgdSBkaXN0YW5jZSB2YWx1ZSB0byBnZXQKCiAgICAgIGlmIChkaXN0YW5jZSkgewogICAgICAgIHRhcmdldEFyY0xlbmd0aCA9IGRpc3RhbmNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldEFyY0xlbmd0aCA9IHUgKiBhcmNMZW5ndGhzW2lsIC0gMV07CiAgICAgIH0gLy8gYmluYXJ5IHNlYXJjaCBmb3IgdGhlIGluZGV4IHdpdGggbGFyZ2VzdCB2YWx1ZSBzbWFsbGVyIHRoYW4gdGFyZ2V0IHUgZGlzdGFuY2UKCgogICAgICB2YXIgbG93ID0gMDsKICAgICAgdmFyIGhpZ2ggPSBpbCAtIDE7CiAgICAgIHZhciBjb21wYXJpc29uOwoKICAgICAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7CiAgICAgICAgaSA9IE1hdGguZmxvb3IobG93ICsgKGhpZ2ggLSBsb3cpIC8gMik7IC8vIGxlc3MgbGlrZWx5IHRvIG92ZXJmbG93LCB0aG91Z2ggcHJvYmFibHkgbm90IGlzc3VlIGhlcmUsIEpTIGRvZXNuJ3QgcmVhbGx5IGhhdmUgaW50ZWdlcnMsIGFsbCBudW1iZXJzIGFyZSBmbG9hdHMKCiAgICAgICAgY29tcGFyaXNvbiA9IGFyY0xlbmd0aHNbaV0gLSB0YXJnZXRBcmNMZW5ndGg7CgogICAgICAgIGlmIChjb21wYXJpc29uIDwgMCkgewogICAgICAgICAgbG93ID0gaSArIDE7CiAgICAgICAgfSBlbHNlIGlmIChjb21wYXJpc29uID4gMCkgewogICAgICAgICAgaGlnaCA9IGkgLSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoaWdoID0gaTsKICAgICAgICAgIGJyZWFrOyAvLyBET05FCiAgICAgICAgfQogICAgICB9CgogICAgICBpID0gaGlnaDsKCiAgICAgIGlmIChhcmNMZW5ndGhzW2ldID09PSB0YXJnZXRBcmNMZW5ndGgpIHsKICAgICAgICByZXR1cm4gaSAvIChpbCAtIDEpOwogICAgICB9IC8vIHdlIGNvdWxkIGdldCBmaW5lciBncmFpbiBhdCBsZW5ndGhzLCBvciB1c2Ugc2ltcGxlIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcG9pbnRzCgoKICAgICAgdmFyIGxlbmd0aEJlZm9yZSA9IGFyY0xlbmd0aHNbaV07CiAgICAgIHZhciBsZW5ndGhBZnRlciA9IGFyY0xlbmd0aHNbaSArIDFdOwogICAgICB2YXIgc2VnbWVudExlbmd0aCA9IGxlbmd0aEFmdGVyIC0gbGVuZ3RoQmVmb3JlOyAvLyBkZXRlcm1pbmUgd2hlcmUgd2UgYXJlIGJldHdlZW4gdGhlICdiZWZvcmUnIGFuZCAnYWZ0ZXInIHBvaW50cwoKICAgICAgdmFyIHNlZ21lbnRGcmFjdGlvbiA9ICh0YXJnZXRBcmNMZW5ndGggLSBsZW5ndGhCZWZvcmUpIC8gc2VnbWVudExlbmd0aDsgLy8gYWRkIHRoYXQgZnJhY3Rpb25hbCBhbW91bnQgdG8gdAoKICAgICAgdmFyIHQgPSAoaSArIHNlZ21lbnRGcmFjdGlvbikgLyAoaWwgLSAxKTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Tm9ybWFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb3JtYWwodCkgewogICAgICB2YXIgX3RoaXMkZ2V0VGFuZ2VudCA9IHRoaXMuZ2V0VGFuZ2VudCh0KSwKICAgICAgICAgIHggPSBfdGhpcyRnZXRUYW5nZW50LngsCiAgICAgICAgICB5ID0gX3RoaXMkZ2V0VGFuZ2VudC55OyAvLyDnm7Tnur/pgIbml7bpkojml4vovawgOTAg5bqmCgoKICAgICAgdmFyIG5vcm1hbCA9IG5ldyBWZWN0b3IyKHksIC14KTsKICAgICAgcmV0dXJuIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgIH0gLy8gUmV0dXJucyBhIHVuaXQgdmVjdG9yIHRhbmdlbnQgYXQgdAogICAgLy8gSW4gY2FzZSBhbnkgc3ViIGN1cnZlIGRvZXMgbm90IGltcGxlbWVudCBpdHMgdGFuZ2VudCBkZXJpdmF0aW9uLAogICAgLy8gMiBwb2ludHMgYSBzbWFsbCBkZWx0YSBhcGFydCB3aWxsIGJlIHVzZWQgdG8gZmluZCBpdHMgZ3JhZGllbnQKICAgIC8vIHdoaWNoIHNlZW1zIHRvIGdpdmUgYSByZWFzb25hYmxlIGFwcHJveGltYXRpb24KCiAgfSwgewogICAga2V5OiAiZ2V0VGFuZ2VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFuZ2VudCh0KSB7CiAgICAgIHZhciBkZWx0YSA9IDAuMDAwMTsKICAgICAgdmFyIHQxID0gdCAtIGRlbHRhOwogICAgICB2YXIgdDIgPSB0ICsgZGVsdGE7IC8vIENhcHBpbmcgaW4gY2FzZSBvZiBkYW5nZXIKCiAgICAgIGlmICh0MSA8IDApIHQxID0gMDsKICAgICAgaWYgKHQyID4gMSkgdDIgPSAxOwogICAgICB2YXIgcHQxID0gdGhpcy5nZXRQb2ludCh0MSk7CiAgICAgIHZhciBwdDIgPSB0aGlzLmdldFBvaW50KHQyKTsKICAgICAgdmFyIHZlYyA9IHB0Mi5jbG9uZSgpLnN1YihwdDEpOwogICAgICByZXR1cm4gdmVjLm5vcm1hbGl6ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFRhbmdlbnRBdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFuZ2VudEF0KHUpIHsKICAgICAgdmFyIHQgPSB0aGlzLmdldFV0b1RtYXBwaW5nKHUpOwogICAgICByZXR1cm4gdGhpcy5nZXRUYW5nZW50KHQpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXB1dGVGcmVuZXRGcmFtZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVGcmVuZXRGcmFtZXMoc2VnbWVudHMsIGNsb3NlZCkgewogICAgICAvLyBzZWUgaHR0cDovL3d3dy5jcy5pbmRpYW5hLmVkdS9wdWIvdGVjaHJlcG9ydHMvVFI0MjUucGRmCiAgICAgIHZhciBub3JtYWwgPSBuZXcgVmVjdG9yMygpOwogICAgICB2YXIgdGFuZ2VudHMgPSBbXTsKICAgICAgdmFyIG5vcm1hbHMgPSBbXTsKICAgICAgdmFyIGJpbm9ybWFscyA9IFtdOwogICAgICB2YXIgdmVjID0gbmV3IFZlY3RvcjMoKTsKICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXg0KCk7CiAgICAgIHZhciBpLCB1LCB0aGV0YTsgLy8gY29tcHV0ZSB0aGUgdGFuZ2VudCB2ZWN0b3JzIGZvciBlYWNoIHNlZ21lbnQgb24gdGhlIGN1cnZlCgogICAgICBmb3IgKGkgPSAwOyBpIDw9IHNlZ21lbnRzOyBpKyspIHsKICAgICAgICB1ID0gaSAvIHNlZ21lbnRzOwogICAgICAgIHRhbmdlbnRzW2ldID0gdGhpcy5nZXRUYW5nZW50QXQodSk7CiAgICAgICAgdGFuZ2VudHNbaV0ubm9ybWFsaXplKCk7CiAgICAgIH0gLy8gc2VsZWN0IGFuIGluaXRpYWwgbm9ybWFsIHZlY3RvciBwZXJwZW5kaWN1bGFyIHRvIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvciwKICAgICAgLy8gYW5kIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG1pbmltdW0gdGFuZ2VudCB4eXogY29tcG9uZW50CgoKICAgICAgbm9ybWFsc1swXSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIGJpbm9ybWFsc1swXSA9IG5ldyBWZWN0b3IzKCk7CiAgICAgIHZhciBtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFOwogICAgICB2YXIgdHggPSBNYXRoLmFicyh0YW5nZW50c1swXS54KTsKICAgICAgdmFyIHR5ID0gTWF0aC5hYnModGFuZ2VudHNbMF0ueSk7CiAgICAgIHZhciB0eiA9IE1hdGguYWJzKHRhbmdlbnRzWzBdLnopOwoKICAgICAgaWYgKHR4IDw9IG1pbikgewogICAgICAgIG1pbiA9IHR4OwogICAgICAgIG5vcm1hbC5zZXQoMSwgMCwgMCk7CiAgICAgIH0KCiAgICAgIGlmICh0eSA8PSBtaW4pIHsKICAgICAgICBtaW4gPSB0eTsKICAgICAgICBub3JtYWwuc2V0KDAsIDEsIDApOwogICAgICB9CgogICAgICBpZiAodHogPD0gbWluKSB7CiAgICAgICAgbm9ybWFsLnNldCgwLCAwLCAxKTsKICAgICAgfQoKICAgICAgdmVjLmNyb3NzVmVjdG9ycyh0YW5nZW50c1swXSwgbm9ybWFsKS5ub3JtYWxpemUoKTsKICAgICAgbm9ybWFsc1swXS5jcm9zc1ZlY3RvcnModGFuZ2VudHNbMF0sIHZlYyk7CiAgICAgIGJpbm9ybWFsc1swXS5jcm9zc1ZlY3RvcnModGFuZ2VudHNbMF0sIG5vcm1hbHNbMF0pOyAvLyBjb21wdXRlIHRoZSBzbG93bHktdmFyeWluZyBub3JtYWwgYW5kIGJpbm9ybWFsIHZlY3RvcnMgZm9yIGVhY2ggc2VnbWVudCBvbiB0aGUgY3VydmUKCiAgICAgIGZvciAoaSA9IDE7IGkgPD0gc2VnbWVudHM7IGkrKykgewogICAgICAgIG5vcm1hbHNbaV0gPSBub3JtYWxzW2kgLSAxXS5jbG9uZSgpOwogICAgICAgIGJpbm9ybWFsc1tpXSA9IGJpbm9ybWFsc1tpIC0gMV0uY2xvbmUoKTsKICAgICAgICB2ZWMuY3Jvc3NWZWN0b3JzKHRhbmdlbnRzW2kgLSAxXSwgdGFuZ2VudHNbaV0pOwoKICAgICAgICBpZiAodmVjLmxlbmd0aCgpID4gTnVtYmVyLkVQU0lMT04pIHsKICAgICAgICAgIHZlYy5ub3JtYWxpemUoKTsKICAgICAgICAgIHRoZXRhID0gTWF0aC5hY29zKF9NYXRoLmNsYW1wKHRhbmdlbnRzW2kgLSAxXS5kb3QodGFuZ2VudHNbaV0pLCAtMSwgMSkpOyAvLyBjbGFtcCBmb3IgZmxvYXRpbmcgcHQgZXJyb3JzCgogICAgICAgICAgbm9ybWFsc1tpXS5hcHBseU1hdHJpeDQobWF0Lm1ha2VSb3RhdGlvbkF4aXModmVjLCB0aGV0YSkpOwogICAgICAgIH0KCiAgICAgICAgYmlub3JtYWxzW2ldLmNyb3NzVmVjdG9ycyh0YW5nZW50c1tpXSwgbm9ybWFsc1tpXSk7CiAgICAgIH0gLy8gaWYgdGhlIGN1cnZlIGlzIGNsb3NlZCwgcG9zdHByb2Nlc3MgdGhlIHZlY3RvcnMgc28gdGhlIGZpcnN0IGFuZCBsYXN0IG5vcm1hbCB2ZWN0b3JzIGFyZSB0aGUgc2FtZQoKCiAgICAgIGlmIChjbG9zZWQgPT09IHRydWUpIHsKICAgICAgICB0aGV0YSA9IE1hdGguYWNvcyhfTWF0aC5jbGFtcChub3JtYWxzWzBdLmRvdChub3JtYWxzW3NlZ21lbnRzXSksIC0xLCAxKSk7CiAgICAgICAgdGhldGEgLz0gc2VnbWVudHM7CgogICAgICAgIGlmICh0YW5nZW50c1swXS5kb3QodmVjLmNyb3NzVmVjdG9ycyhub3JtYWxzWzBdLCBub3JtYWxzW3NlZ21lbnRzXSkpID4gMCkgewogICAgICAgICAgdGhldGEgPSAtdGhldGE7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IHNlZ21lbnRzOyBpKyspIHsKICAgICAgICAgIC8vIHR3aXN0IGEgbGl0dGxlLi4uCiAgICAgICAgICBub3JtYWxzW2ldLmFwcGx5TWF0cml4NChtYXQubWFrZVJvdGF0aW9uQXhpcyh0YW5nZW50c1tpXSwgdGhldGEgKiBpKSk7CiAgICAgICAgICBiaW5vcm1hbHNbaV0uY3Jvc3NWZWN0b3JzKHRhbmdlbnRzW2ldLCBub3JtYWxzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgdGFuZ2VudHM6IHRhbmdlbnRzLAogICAgICAgIG5vcm1hbHM6IG5vcm1hbHMsCiAgICAgICAgYmlub3JtYWxzOiBiaW5vcm1hbHMKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgICB0aGlzLmFyY0xlbmd0aERpdmlzaW9ucyA9IHNvdXJjZS5hcmNMZW5ndGhEaXZpc2lvbnM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEN1cnZlOwp9KCk7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIkNyhEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQ3KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkNygpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCnZhciBMaW5lQ3VydmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DdXJ2ZSkgewogIF9pbmhlcml0cyhMaW5lQ3VydmUsIF9DdXJ2ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIkNyhMaW5lQ3VydmUpOwoKICBmdW5jdGlvbiBMaW5lQ3VydmUodjEsIHYyKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmVDdXJ2ZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLnR5cGUgPSAnTGluZUN1cnZlJzsKICAgIF90aGlzLnYxID0gdjEgfHwgbmV3IFZlY3RvcjIoKTsKICAgIF90aGlzLnYyID0gdjIgfHwgbmV3IFZlY3RvcjIoKTsKICAgIF90aGlzLmlzTGluZUN1cnZlID0gdHJ1ZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMaW5lQ3VydmUsIFt7CiAgICBrZXk6ICJnZXRQb2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2xlKG1pbiwgbWF4KSB7CiAgICAgIHZhciB2MSA9IHRoaXMudjEsCiAgICAgICAgICB2MiA9IHRoaXMudjI7CiAgICAgIG1pbi54ID0gTWF0aC5taW4obWluLngsIHYxLngsIHYyLngpOwogICAgICBtaW4ueSA9IE1hdGgubWluKG1pbi55LCB2MS55LCB2Mi55KTsKICAgICAgbWF4LnggPSBNYXRoLm1heChtYXgueCwgdjEueCwgdjIueCk7CiAgICAgIG1heC55ID0gTWF0aC5tYXgobWF4LnksIHYxLnksIHYyLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogInBvaW50QXBwbHlGdW5jIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwb2ludEFwcGx5RnVuYyhmdW5jKSB7CiAgICAgIGZ1bmModGhpcy52MSk7CiAgICAgIGZ1bmModGhpcy52Mik7CiAgICB9CiAgfSwgewogICAga2V5OiAic3BsaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGl0KF9yZWYpIHsKICAgICAgdmFyIHggPSBfcmVmLngsCiAgICAgICAgICB5ID0gX3JlZi55OwogICAgICB2YXIgdjEgPSB0aGlzLnYxLAogICAgICAgICAgdjIgPSB0aGlzLnYyOwogICAgICB2YXIgc3BsaXRCeVggPSB4ICE9PSB1bmRlZmluZWQgJiYgKHYxLnggLSB4KSAqICh2Mi54IC0geCkgPCAwOwogICAgICB2YXIgc3BsaXRCeVkgPSB5ICE9PSB1bmRlZmluZWQgJiYgKHYxLnkgLSB5KSAqICh2Mi55IC0geSkgPCAwOwoKICAgICAgaWYgKHNwbGl0QnlYKSB7CiAgICAgICAgeSA9IHYxLnkgKyAodjIueSAtIHYxLnkpIC8gKHYyLnggLSB2MS54KSAqICh4IC0gdjEueCk7CiAgICAgIH0KCiAgICAgIGlmIChzcGxpdEJ5WSkgewogICAgICAgIHggPSB2MS54ICsgKHYyLnggLSB2MS54KSAvICh2Mi55IC0gdjEueSkgKiAoeSAtIHYxLnkpOwogICAgICB9CgogICAgICBpZiAoc3BsaXRCeVggfHwgc3BsaXRCeVkpIHsKICAgICAgICB2YXIgbGluZUN1cnZlMSA9IG5ldyBMaW5lQ3VydmUodjEsIG5ldyBWZWN0b3IyKHgsIHkpKTsKICAgICAgICB2YXIgbGluZUN1cnZlMiA9IG5ldyBMaW5lQ3VydmUobmV3IFZlY3RvcjIoeCwgeSksIHYyKTsKICAgICAgICByZXR1cm4gW2xpbmVDdXJ2ZTEsIGxpbmVDdXJ2ZTJdOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbdGhpc107CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRMZW5ndGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExlbmd0aCgpIHsKICAgICAgdmFyIHYxID0gdGhpcy52MSwKICAgICAgICAgIHYyID0gdGhpcy52MjsKICAgICAgcmV0dXJuIE1hdGguaHlwb3QodjEueCAtIHYyLngsIHYxLnkgLSB2Mi55KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnQodCkgewogICAgICB2YXIgcG9pbnQgPSBuZXcgVmVjdG9yMigpOwoKICAgICAgaWYgKHQgPT09IDEpIHsKICAgICAgICBwb2ludC5jb3B5KHRoaXMudjIpOwogICAgICB9IGVsc2UgewogICAgICAgIHBvaW50LmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpOwogICAgICAgIHBvaW50Lm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnYxKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvaW50OwogICAgfQogIH0sIHsKICAgIGtleTogImdldE5vcm1hbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Tm9ybWFsKCkgewogICAgICB2YXIgeCA9IHRoaXMudjIueCAtIHRoaXMudjEueDsKICAgICAgdmFyIHkgPSB0aGlzLnYyLnkgLSB0aGlzLnYxLnk7IC8vIOebtOe6v+mAhuaXtumSiOaXi+i9rCA5MCDluqYKCiAgICAgIHZhciBub3JtYWwgPSBuZXcgVmVjdG9yMih5LCAteCk7CiAgICAgIHJldHVybiBub3JtYWwubm9ybWFsaXplKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VGFuZ2VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFuZ2VudCgpIHsKICAgICAgdmFyIHRhbmdlbnQgPSB0aGlzLnYyLmNsb25lKCkuc3ViKHRoaXMudjEpOwogICAgICByZXR1cm4gdGFuZ2VudC5ub3JtYWxpemUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihMaW5lQ3VydmUucHJvdG90eXBlKSwgImNvcHkiLCB0aGlzKS5jYWxsKHRoaXMsIHNvdXJjZSk7CgogICAgICB0aGlzLnYxLmNvcHkoc291cmNlLnYxKTsKICAgICAgdGhpcy52Mi5jb3B5KHNvdXJjZS52Mik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIExpbmVDdXJ2ZTsKfShDdXJ2ZSk7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIkNihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQ2KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkNigpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KLyoqCiAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICoKICoqLwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqICAgIEN1cnZlZCBQYXRoIC0gYSBjdXJ2ZSBwYXRoIGlzIHNpbXBseSBhIGFycmF5IG9mIGNvbm5lY3RlZAogKiAgY3VydmVzLCBidXQgcmV0YWlucyB0aGUgYXBpIG9mIGEgY3VydmUKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKdmFyIEN1cnZlUGF0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0N1cnZlKSB7CiAgX2luaGVyaXRzKEN1cnZlUGF0aCwgX0N1cnZlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlciQ2KEN1cnZlUGF0aCk7CgogIGZ1bmN0aW9uIEN1cnZlUGF0aCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3VydmVQYXRoKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgX3RoaXMudHlwZSA9ICdDdXJ2ZVBhdGgnOwogICAgX3RoaXMuY3VydmVzID0gW107CiAgICBfdGhpcy5hdXRvQ2xvc2UgPSBmYWxzZTsgLy8gQXV0b21hdGljYWxseSBjbG9zZXMgdGhlIHBhdGgKCiAgICBfdGhpcy5pc0RlZm9ybWF0aW9uT04gPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhDdXJ2ZVBhdGgsIFt7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChjdXJ2ZSkgewogICAgICB0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZVBhdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlUGF0aCgpIHsKICAgICAgLy8gQWRkIGEgbGluZSBjdXJ2ZSBpZiBzdGFydCBhbmQgZW5kIG9mIGxpbmVzIGFyZSBub3QgY29ubmVjdGVkCiAgICAgIHZhciBzdGFydFBvaW50ID0gdGhpcy5jdXJ2ZXNbMF0uZ2V0UG9pbnQoMCk7CiAgICAgIHZhciBlbmRQb2ludCA9IHRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aCAtIDFdLmdldFBvaW50KDEpOwoKICAgICAgaWYgKCFzdGFydFBvaW50LmVxdWFscyhlbmRQb2ludCkpIHsKICAgICAgICB0aGlzLmN1cnZlcy5wdXNoKG5ldyBMaW5lQ3VydmUoZW5kUG9pbnQsIHN0YXJ0UG9pbnQpKTsKICAgICAgfQogICAgfSAvLyBUbyBnZXQgYWNjdXJhdGUgcG9pbnQgd2l0aCByZWZlcmVuY2UgdG8KICAgIC8vIGVudGlyZSBwYXRoIGRpc3RhbmNlIGF0IHRpbWUgdCwKICAgIC8vIGZvbGxvd2luZyBoYXMgdG8gYmUgZG9uZToKICAgIC8vIDEuIExlbmd0aCBvZiBlYWNoIHN1YiBwYXRoIGhhdmUgdG8gYmUga25vd24KICAgIC8vIDIuIExvY2F0ZSBhbmQgaWRlbnRpZnkgdHlwZSBvZiBjdXJ2ZQogICAgLy8gMy4gR2V0IHQgZm9yIHRoZSBjdXJ2ZQogICAgLy8gNC4gUmV0dXJuIGN1cnZlLmdldFBvaW50QXQodCcpCgogIH0sIHsKICAgIGtleTogImdldFBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludCh0KSB7CiAgICAgIHZhciBkID0gdCAqIHRoaXMuZ2V0TGVuZ3RoKCk7CiAgICAgIHZhciBjdXJ2ZUxlbmd0aHMgPSB0aGlzLmdldEN1cnZlTGVuZ3RocygpOwogICAgICB2YXIgaSA9IDA7IC8vIFRvIHRoaW5rIGFib3V0IGJvdW5kYXJpZXMgcG9pbnRzLgoKICAgICAgd2hpbGUgKGkgPCBjdXJ2ZUxlbmd0aHMubGVuZ3RoKSB7CiAgICAgICAgaWYgKGN1cnZlTGVuZ3Roc1tpXSA+PSBkKSB7CiAgICAgICAgICB2YXIgZGlmZiA9IGN1cnZlTGVuZ3Roc1tpXSAtIGQ7CiAgICAgICAgICB2YXIgY3VydmUgPSB0aGlzLmN1cnZlc1tpXTsKICAgICAgICAgIHZhciBzZWdtZW50TGVuZ3RoID0gY3VydmUuZ2V0TGVuZ3RoKCk7CiAgICAgICAgICB2YXIgdSA9IHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogMSAtIGRpZmYgLyBzZWdtZW50TGVuZ3RoOwogICAgICAgICAgcmV0dXJuIGN1cnZlLmdldFBvaW50QXQodSk7CiAgICAgICAgfQoKICAgICAgICBpKys7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOyAvLyBsb29wIHdoZXJlIHN1bSAhPSAwLCBzdW0gPiBkICwgc3VtKzEgPGQKICAgIH0gLy8gV2UgY2Fubm90IHVzZSB0aGUgZGVmYXVsdCBUSFJFRS5DdXJ2ZSBnZXRQb2ludCgpIHdpdGggZ2V0TGVuZ3RoKCkgYmVjYXVzZSBpbgogICAgLy8gVEhSRUUuQ3VydmUsIGdldExlbmd0aCgpIGRlcGVuZHMgb24gZ2V0UG9pbnQoKSBidXQgaW4gVEhSRUUuQ3VydmVQYXRoCiAgICAvLyBnZXRQb2ludCgpIGRlcGVuZHMgb24gZ2V0TGVuZ3RoCgogIH0sIHsKICAgIGtleTogImdldExlbmd0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGVuZ3RoKCkgewogICAgICB2YXIgbGVucyA9IHRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7CiAgICAgIHJldHVybiBsZW5zW2xlbnMubGVuZ3RoIC0gMV07CiAgICB9IC8vIGNhY2hlTGVuZ3RocyBtdXN0IGJlIHJlY2FsY3VsYXRlZC4KCiAgfSwgewogICAga2V5OiAidXBkYXRlQXJjTGVuZ3RocyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQXJjTGVuZ3RocygpIHsKICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuY2FjaGVMZW5ndGhzID0gbnVsbDsKICAgICAgdGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTsKICAgIH0gLy8gQ29tcHV0ZSBsZW5ndGhzIGFuZCBjYWNoZSB0aGVtCiAgICAvLyBXZSBjYW5ub3Qgb3ZlcndyaXRlIGdldExlbmd0aHMoKSBiZWNhdXNlIFV0b1QgbWFwcGluZyB1c2VzIGl0LgoKICB9LCB7CiAgICBrZXk6ICJnZXRDdXJ2ZUxlbmd0aHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnZlTGVuZ3RocygpIHsKICAgICAgLy8gV2UgdXNlIGNhY2hlIHZhbHVlcyBpZiBjdXJ2ZXMgYW5kIGNhY2hlIGFycmF5IGFyZSBzYW1lIGxlbmd0aAogICAgICBpZiAodGhpcy5jYWNoZUxlbmd0aHMgJiYgdGhpcy5jYWNoZUxlbmd0aHMubGVuZ3RoID09PSB0aGlzLmN1cnZlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM7CiAgICAgIH0gLy8gR2V0IGxlbmd0aCBvZiBzdWItY3VydmUKICAgICAgLy8gUHVzaCBzdW1zIGludG8gY2FjaGVkIGFycmF5CgoKICAgICAgdmFyIGxlbmd0aHMgPSBbXTsKICAgICAgdmFyIHN1bXMgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmN1cnZlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBzdW1zICs9IHRoaXMuY3VydmVzW2ldLmdldExlbmd0aCgpOwogICAgICAgIGxlbmd0aHMucHVzaChzdW1zKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWNoZUxlbmd0aHMgPSBsZW5ndGhzOwogICAgICByZXR1cm4gbGVuZ3RoczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTcGFjZWRQb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNwYWNlZFBvaW50cyhkaXZpc2lvbnMpIHsKICAgICAgaWYgKGRpdmlzaW9ucyA9PT0gdW5kZWZpbmVkKSBkaXZpc2lvbnMgPSA0MDsKICAgICAgdmFyIHBvaW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gZGl2aXNpb25zOyBpKyspIHsKICAgICAgICBwb2ludHMucHVzaCh0aGlzLmdldFBvaW50KGkgLyBkaXZpc2lvbnMpKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXV0b0Nsb3NlKSB7CiAgICAgICAgcG9pbnRzLnB1c2gocG9pbnRzWzBdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvaW50czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50cyhkaXZpc2lvbnMpIHsKICAgICAgZGl2aXNpb25zID0gZGl2aXNpb25zIHx8IDEyOwogICAgICB2YXIgcG9pbnRzID0gW107CiAgICAgIHZhciBsYXN0OwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmN1cnZlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjdXJ2ZSA9IHRoaXMuY3VydmVzW2ldOwogICAgICAgIHZhciByZXNvbHV0aW9uID0gY3VydmUgJiYgY3VydmUuaXNFbGxpcHNlQ3VydmUgPyBkaXZpc2lvbnMgKiAyIDogY3VydmUgJiYgKGN1cnZlLmlzTGluZUN1cnZlIHx8IGN1cnZlLmlzTGluZUN1cnZlMykgPyAxIDogY3VydmUgJiYgY3VydmUuaXNTcGxpbmVDdXJ2ZSA/IGRpdmlzaW9ucyAqIGN1cnZlLnBvaW50cy5sZW5ndGggOiBkaXZpc2lvbnM7IC8vIHl1bnlhbmcgLy/lvoXop6PlhrPvvIznm7Tnur/lpJrkuKrph4fmoLfngrnvvIzkvJrlr7zoh7Tohqjog4DlgJLop5LnmoRnZXR2ZWN0b3IoKeiuoeeul+WcqOafkOS6m+WcsOaWueWHuueOsGJ1ZwoKICAgICAgICBpZiAoY3VydmUgJiYgY3VydmUuaXNMaW5lQ3VydmUpIHsKICAgICAgICAgIHJlc29sdXRpb24gPSBkaXZpc2lvbnM7CiAgICAgICAgfQoKICAgICAgICB2YXIgcHRzID0gY3VydmUuZ2V0UG9pbnRzKHJlc29sdXRpb24pOyAvLyBsZXQgcHRzID0gY3VydmUuZ2V0UG9pbnRzQnlTdGVwc2l6ZSggcmVzb2x1dGlvbiApOwoKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHB0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgdmFyIHBvaW50ID0gcHRzW2pdOwogICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC5lcXVhbHMocG9pbnQpKSBjb250aW51ZTsgLy8gZW5zdXJlcyBubyBjb25zZWN1dGl2ZSBwb2ludHMgYXJlIGR1cGxpY2F0ZXMKCiAgICAgICAgICBwb2ludHMucHVzaChwb2ludCk7CiAgICAgICAgICBsYXN0ID0gcG9pbnQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5hdXRvQ2xvc2UgJiYgcG9pbnRzLmxlbmd0aCA+IDEgJiYgIXBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0uZXF1YWxzKHBvaW50c1swXSkpIHsKICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0pOwogICAgICB9CgogICAgICByZXR1cm4gcG9pbnRzOwogICAgfSAvLyB5dW55YW5nCgogIH0sIHsKICAgIGtleTogImdldFBvaW50c0J5U3RlcFNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0J5U3RlcFNpemUoc3RlcFNpemUpIHsKICAgICAgc3RlcFNpemUgPSBzdGVwU2l6ZSB8fCAxOwogICAgICB2YXIgcG9pbnRzID0gW107CiAgICAgIHZhciBsYXN0OwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGN1cnZlcyA9IHRoaXMuY3VydmVzOyBpIDwgY3VydmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGN1cnZlID0gY3VydmVzW2ldOwogICAgICAgIHZhciBjdXJ2ZUxlbmd0aCA9IGN1cnZlLmdldExlbmd0aCgyMCk7CiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBwYXJzZUludChNYXRoLm1heCgxLCBjdXJ2ZUxlbmd0aCAvIHN0ZXBTaXplKSk7IC8vIOacgOWwkeS4pOS4qumHh+agt+eCuQoKICAgICAgICBkZWJ1Zy5sb2coJ3Jlc29sdXRpb24nLCByZXNvbHV0aW9uKTsKICAgICAgICB2YXIgcHRzID0gY3VydmUuZ2V0UG9pbnRzKHJlc29sdXRpb24pOwoKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHB0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgdmFyIHBvaW50ID0gcHRzW2pdOwogICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC5lcXVhbHMocG9pbnQpKSBjb250aW51ZTsgLy8gZW5zdXJlcyBubyBjb25zZWN1dGl2ZSBwb2ludHMgYXJlIGR1cGxpY2F0ZXMKCiAgICAgICAgICBwb2ludHMucHVzaChwb2ludCk7CiAgICAgICAgICBsYXN0ID0gcG9pbnQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5hdXRvQ2xvc2UgJiYgcG9pbnRzLmxlbmd0aCA+IDEgJiYgIXBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0uZXF1YWxzKHBvaW50c1swXSkpIHsKICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0pOwogICAgICB9CgogICAgICByZXR1cm4gcG9pbnRzOwogICAgfSAvLyB5dW55YW5nCgogIH0sIHsKICAgIGtleTogImdldFBvaW50c0FkYXB0aXZlbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0FkYXB0aXZlbHkodG9sZXJhbmNlKSB7CiAgICAgIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwLjAxOwogICAgICB2YXIgcG9pbnRzID0gW107CiAgICAgIHZhciBsYXN0OwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGN1cnZlcyA9IHRoaXMuY3VydmVzOyBpIDwgY3VydmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGN1cnZlID0gY3VydmVzW2ldOwogICAgICAgIHZhciBwdHMgPSB2b2lkIDA7CgogICAgICAgIGlmIChjdXJ2ZS5pc0xpbmVDdXJ2ZSAmJiB0aGlzLmlzRGVmb3JtYXRpb25PTikgewogICAgICAgICAgLy8g5Y+Y5b2i5pe25YaN6ICD6JmRCiAgICAgICAgICB2YXIgY3VydmVMZW5ndGggPSBjdXJ2ZS5nZXRMZW5ndGgoMjApOwogICAgICAgICAgdmFyIHN0ZXBTaXplID0gTWF0aC5tYXgoMSwgdG9sZXJhbmNlICogMS41KTsgLy8gbGV0IHN0ZXBTaXplID0gMTA7Ly9NYXRoLm1heCgxLCB0b2xlcmFuY2UqMTAwKTsKCiAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHBhcnNlSW50KE1hdGgubWF4KDEsIGN1cnZlTGVuZ3RoIC8gc3RlcFNpemUpKTsgLy8g5pyA5bCR5Lik5Liq6YeH5qC354K5CiAgICAgICAgICAvLyBkZWJ1Zy5sb2coInJlc29sdXRpb24iLCByZXNvbHV0aW9uKTsKCiAgICAgICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4oMjAsIHJlc29sdXRpb24pOyAvLyDmnIDlpJoyMOS4qumHh+agt+eCuQoKICAgICAgICAgIHB0cyA9IGN1cnZlLmdldFBvaW50cyhyZXNvbHV0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcHRzID0gY3VydmUuZ2V0UG9pbnRzQWRhcHRpdmVseTRDdXJ2ZSh0b2xlcmFuY2UpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwdHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHZhciBwb2ludCA9IHB0c1tqXTsKICAgICAgICAgIGlmIChsYXN0ICYmIGxhc3QuZXF1YWxzKHBvaW50KSkgY29udGludWU7IC8vIGVuc3VyZXMgbm8gY29uc2VjdXRpdmUgcG9pbnRzIGFyZSBkdXBsaWNhdGVzCgogICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpOwogICAgICAgICAgbGFzdCA9IHBvaW50OwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXV0b0Nsb3NlICYmIHBvaW50cy5sZW5ndGggPiAxICYmICFwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdLmVxdWFscyhwb2ludHNbMF0pKSB7CiAgICAgICAgcG9pbnRzLnB1c2gocG9pbnRzWzBdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvaW50czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHNvdXJjZSk7CiAgICAgIHRoaXMuY3VydmVzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHNvdXJjZS5jdXJ2ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGN1cnZlID0gc291cmNlLmN1cnZlc1tpXTsKICAgICAgICB0aGlzLmN1cnZlcy5wdXNoKGN1cnZlLmNsb25lKCkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CgogIHJldHVybiBDdXJ2ZVBhdGg7Cn0oQ3VydmUpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyJDUoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkNSgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDUoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CnZhciBFbGxpcHNlQ3VydmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DdXJ2ZSkgewogIF9pbmhlcml0cyhFbGxpcHNlQ3VydmUsIF9DdXJ2ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIkNShFbGxpcHNlQ3VydmUpOwoKICBmdW5jdGlvbiBFbGxpcHNlQ3VydmUoYVgsIGFZLCB4UmFkaXVzLCB5UmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgY2xvY2t3aXNlLCByb3RhdGlvbikgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbGxpcHNlQ3VydmUpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy50eXBlID0gJ0VsbGlwc2VDdXJ2ZSc7CiAgICBfdGhpcy5hWCA9IGFYIHx8IDA7CiAgICBfdGhpcy5hWSA9IGFZIHx8IDA7CiAgICBfdGhpcy54UmFkaXVzID0geFJhZGl1cyB8fCAxOwogICAgX3RoaXMueVJhZGl1cyA9IHlSYWRpdXMgfHwgMTsKICAgIF90aGlzLnN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlIHx8IDA7CiAgICBfdGhpcy5lbmRBbmdsZSA9IGVuZEFuZ2xlIHx8IDIgKiBNYXRoLlBJOwogICAgX3RoaXMuY2xvY2t3aXNlID0gY2xvY2t3aXNlIHx8IGZhbHNlOwogICAgX3RoaXMucm90YXRpb24gPSByb3RhdGlvbiB8fCAwOwogICAgX3RoaXMuaXNFbGxpcHNlQ3VydmUgPSB0cnVlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEVsbGlwc2VDdXJ2ZSwgW3sKICAgIGtleTogImdldFBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludCh0KSB7CiAgICAgIHZhciB0d29QaSA9IE1hdGguUEkgKiAyOwogICAgICB2YXIgYVggPSB0aGlzLmFYLAogICAgICAgICAgYVkgPSB0aGlzLmFZLAogICAgICAgICAgcm90YXRpb24gPSB0aGlzLnJvdGF0aW9uLAogICAgICAgICAgeFJhZGl1cyA9IHRoaXMueFJhZGl1cywKICAgICAgICAgIHlSYWRpdXMgPSB0aGlzLnlSYWRpdXMsCiAgICAgICAgICBzdGFydEFuZ2xlID0gdGhpcy5zdGFydEFuZ2xlLAogICAgICAgICAgZW5kQW5nbGUgPSB0aGlzLmVuZEFuZ2xlOwogICAgICB2YXIgYW5nbGUgPSBzdGFydEFuZ2xlICsgdCAqIChlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpOwogICAgICBhbmdsZSAlPSB0d29QaTsKCiAgICAgIGlmIChhbmdsZSA8IDApIHsKICAgICAgICBhbmdsZSArPSB0d29QaTsKICAgICAgfQoKICAgICAgdmFyIHggPSBhWCArIHhSYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSk7CiAgICAgIHZhciB5ID0gYVkgKyB5UmFkaXVzICogTWF0aC5zaW4oYW5nbGUpOwoKICAgICAgaWYgKHJvdGF0aW9uKSB7CiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKHRoaXMucm90YXRpb24pOwogICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbih0aGlzLnJvdGF0aW9uKTsKICAgICAgICB2YXIgdHggPSB4IC0gYVg7CiAgICAgICAgdmFyIHR5ID0geSAtIGFZOyAvLyBSb3RhdGUgdGhlIHBvaW50IGFib3V0IHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2UuCgogICAgICAgIHggPSB0eCAqIGNvcyAtIHR5ICogc2luICsgYVg7CiAgICAgICAgeSA9IHR4ICogc2luICsgdHkgKiBjb3MgKyBhWTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkoc291cmNlKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKEVsbGlwc2VDdXJ2ZS5wcm90b3R5cGUpLCAiY29weSIsIHRoaXMpLmNhbGwodGhpcywgc291cmNlKTsKCiAgICAgIHRoaXMuYVggPSBzb3VyY2UuYVg7CiAgICAgIHRoaXMuYVkgPSBzb3VyY2UuYVk7CiAgICAgIHRoaXMueFJhZGl1cyA9IHNvdXJjZS54UmFkaXVzOwogICAgICB0aGlzLnlSYWRpdXMgPSBzb3VyY2UueVJhZGl1czsKICAgICAgdGhpcy5zdGFydEFuZ2xlID0gc291cmNlLmFTdGFydEFuZ2xlOwogICAgICB0aGlzLmVuZEFuZ2xlID0gc291cmNlLmFFbmRBbmdsZTsKICAgICAgdGhpcy5jbG9ja3dpc2UgPSBzb3VyY2UuYUNsb2Nrd2lzZTsKICAgICAgdGhpcy5yb3RhdGlvbiA9IHNvdXJjZS5hUm90YXRpb247CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEVsbGlwc2VDdXJ2ZTsKfShDdXJ2ZSk7CgovKioKICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogKgogKiBCZXppZXIgQ3VydmVzIGZvcm11bGFzIG9idGFpbmVkIGZyb20KICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Cw6l6aWVyX2N1cnZlCiAqLwpmdW5jdGlvbiBDYXRtdWxsUm9tKHQsIHAwLCBwMSwgcDIsIHAzKSB7CiAgdmFyIHYwID0gKHAyIC0gcDApICogMC41OwogIHZhciB2MSA9IChwMyAtIHAxKSAqIDAuNTsKICB2YXIgdDIgPSB0ICogdDsKICB2YXIgdDMgPSB0ICogdDI7CiAgcmV0dXJuICgyICogcDEgLSAyICogcDIgKyB2MCArIHYxKSAqIHQzICsgKC0zICogcDEgKyAzICogcDIgLSAyICogdjAgLSB2MSkgKiB0MiArIHYwICogdCArIHAxOwp9IC8vCgoKZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyUDAodCwgcCkgewogIHZhciBrID0gMSAtIHQ7CiAgcmV0dXJuIGsgKiBrICogcDsKfQoKZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyUDEodCwgcCkgewogIHJldHVybiAyICogKDEgLSB0KSAqIHQgKiBwOwp9CgpmdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJQMih0LCBwKSB7CiAgcmV0dXJuIHQgKiB0ICogcDsKfQoKZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyKHQsIHAwLCBwMSwgcDIpIHsKICByZXR1cm4gUXVhZHJhdGljQmV6aWVyUDAodCwgcDApICsgUXVhZHJhdGljQmV6aWVyUDEodCwgcDEpICsgUXVhZHJhdGljQmV6aWVyUDIodCwgcDIpOwp9IC8vCgoKZnVuY3Rpb24gQ3ViaWNCZXppZXJQMCh0LCBwKSB7CiAgdmFyIGsgPSAxIC0gdDsKICByZXR1cm4gayAqIGsgKiBrICogcDsKfQoKZnVuY3Rpb24gQ3ViaWNCZXppZXJQMSh0LCBwKSB7CiAgdmFyIGsgPSAxIC0gdDsKICByZXR1cm4gMyAqIGsgKiBrICogdCAqIHA7Cn0KCmZ1bmN0aW9uIEN1YmljQmV6aWVyUDIodCwgcCkgewogIHJldHVybiAzICogKDEgLSB0KSAqIHQgKiB0ICogcDsKfQoKZnVuY3Rpb24gQ3ViaWNCZXppZXJQMyh0LCBwKSB7CiAgcmV0dXJuIHQgKiB0ICogdCAqIHA7Cn0KCmZ1bmN0aW9uIEN1YmljQmV6aWVyKHQsIHAwLCBwMSwgcDIsIHAzKSB7CiAgcmV0dXJuIEN1YmljQmV6aWVyUDAodCwgcDApICsgQ3ViaWNCZXppZXJQMSh0LCBwMSkgKyBDdWJpY0JlemllclAyKHQsIHAyKSArIEN1YmljQmV6aWVyUDModCwgcDMpOwp9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIkNChEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQ0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkNCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KdmFyIFNwbGluZUN1cnZlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ3VydmUpIHsKICBfaW5oZXJpdHMoU3BsaW5lQ3VydmUsIF9DdXJ2ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIkNChTcGxpbmVDdXJ2ZSk7CgogIGZ1bmN0aW9uIFNwbGluZUN1cnZlKHBvaW50cykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcGxpbmVDdXJ2ZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLnR5cGUgPSAnU3BsaW5lQ3VydmUnOwogICAgX3RoaXMucG9pbnRzID0gcG9pbnRzIHx8IFtdOwogICAgX3RoaXMuaXNTcGxpbmVDdXJ2ZSA9IHRydWU7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU3BsaW5lQ3VydmUsIFt7CiAgICBrZXk6ICJnZXRQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnQodCkgewogICAgICB2YXIgcG9pbnQgPSBuZXcgVmVjdG9yMigpOwogICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7CiAgICAgIHZhciBwID0gKHBvaW50cy5sZW5ndGggLSAxKSAqIHQ7CiAgICAgIHZhciBpbnRQb2ludCA9IE1hdGguZmxvb3IocCk7CiAgICAgIHZhciB3ZWlnaHQgPSBwIC0gaW50UG9pbnQ7CiAgICAgIHZhciBwMCA9IHBvaW50c1tpbnRQb2ludCA9PT0gMCA/IGludFBvaW50IDogaW50UG9pbnQgLSAxXTsKICAgICAgdmFyIHAxID0gcG9pbnRzW2ludFBvaW50XTsKICAgICAgdmFyIHAyID0gcG9pbnRzW2ludFBvaW50ID4gcG9pbnRzLmxlbmd0aCAtIDIgPyBwb2ludHMubGVuZ3RoIC0gMSA6IGludFBvaW50ICsgMV07CiAgICAgIHZhciBwMyA9IHBvaW50c1tpbnRQb2ludCA+IHBvaW50cy5sZW5ndGggLSAzID8gcG9pbnRzLmxlbmd0aCAtIDEgOiBpbnRQb2ludCArIDJdOwogICAgICBwb2ludC5zZXQoQ2F0bXVsbFJvbSh3ZWlnaHQsIHAwLngsIHAxLngsIHAyLngsIHAzLngpLCBDYXRtdWxsUm9tKHdlaWdodCwgcDAueSwgcDEueSwgcDIueSwgcDMueSkpOwogICAgICByZXR1cm4gcG9pbnQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29weSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weShzb3VyY2UpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU3BsaW5lQ3VydmUucHJvdG90eXBlKSwgImNvcHkiLCB0aGlzKS5jYWxsKHRoaXMsIHNvdXJjZSk7CgogICAgICB0aGlzLnBvaW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzb3VyY2UucG9pbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBwb2ludCA9IHNvdXJjZS5wb2ludHNbaV07CiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludC5jbG9uZSgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3BsaW5lQ3VydmU7Cn0oQ3VydmUpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyJDMoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMygpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDMoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CnZhciBDdWJpY0JlemllckN1cnZlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ3VydmUpIHsKICBfaW5oZXJpdHMoQ3ViaWNCZXppZXJDdXJ2ZSwgX0N1cnZlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlciQzKEN1YmljQmV6aWVyQ3VydmUpOwoKICBmdW5jdGlvbiBDdWJpY0JlemllckN1cnZlKHYwLCB2MSwgdjIsIHYzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1YmljQmV6aWVyQ3VydmUpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy50eXBlID0gJ0N1YmljQmV6aWVyQ3VydmUnOwogICAgX3RoaXMudjAgPSB2MCB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMudjEgPSB2MSB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMudjIgPSB2MiB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMudjMgPSB2MyB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMuaXNDdWJpY0JlemllckN1cnZlID0gdHJ1ZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhDdWJpY0JlemllckN1cnZlLCBbewogICAga2V5OiAiZ2V0UG9sZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9sZShtaW4sIG1heCkgewogICAgICB2YXIgdjAgPSB0aGlzLnYwLAogICAgICAgICAgdjEgPSB0aGlzLnYxLAogICAgICAgICAgdjIgPSB0aGlzLnYyLAogICAgICAgICAgdjMgPSB0aGlzLnYzOwogICAgICBtaW4ueCA9IE1hdGgubWluKG1pbi54LCB2MC54LCB2MS54LCB2Mi54LCB2My54KTsKICAgICAgbWluLnkgPSBNYXRoLm1pbihtaW4ueSwgdjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgIG1heC54ID0gTWF0aC5tYXgobWF4LngsIHYwLngsIHYxLngsIHYyLngsIHYzLngpOwogICAgICBtYXgueSA9IE1hdGgubWF4KG1heC55LCB2MC55LCB2MS55LCB2Mi55LCB2My55KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnQodCwgb3B0aW9uYWxUYXJnZXQpIHsKICAgICAgdmFyIHBvaW50ID0gb3B0aW9uYWxUYXJnZXQgfHwgbmV3IFZlY3RvcjIoKTsKICAgICAgdmFyIHYwID0gdGhpcy52MCwKICAgICAgICAgIHYxID0gdGhpcy52MSwKICAgICAgICAgIHYyID0gdGhpcy52MiwKICAgICAgICAgIHYzID0gdGhpcy52MzsKICAgICAgcG9pbnQuc2V0KEN1YmljQmV6aWVyKHQsIHYwLngsIHYxLngsIHYyLngsIHYzLngpLCBDdWJpY0Jlemllcih0LCB2MC55LCB2MS55LCB2Mi55LCB2My55KSk7CiAgICAgIHJldHVybiBwb2ludDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb2ludEFwcGx5RnVuYyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcG9pbnRBcHBseUZ1bmMoZnVuYykgewogICAgICBmdW5jKHRoaXMudjApOwogICAgICBmdW5jKHRoaXMudjEpOwogICAgICBmdW5jKHRoaXMudjIpOwogICAgICBmdW5jKHRoaXMudjMpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkoc291cmNlKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKEN1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlKSwgImNvcHkiLCB0aGlzKS5jYWxsKHRoaXMsIHNvdXJjZSk7CgogICAgICB0aGlzLnYwLmNvcHkoc291cmNlLnYwKTsKICAgICAgdGhpcy52MS5jb3B5KHNvdXJjZS52MSk7CiAgICAgIHRoaXMudjIuY29weShzb3VyY2UudjIpOwogICAgICB0aGlzLnYzLmNvcHkoc291cmNlLnYzKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IC8vIDPpmLbotJ3loZ7lsJTliIblibLov5Dnrpfmr5TovoPlpKfvvIzmmoLml7blj6rmlK/mjIHlnYfliIYKCiAgfSwgewogICAga2V5OiAic3BsaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGl0KF9yZWYpIHsKICAgICAgdmFyIHggPSBfcmVmLngsCiAgICAgICAgICB5ID0gX3JlZi55OwogICAgICB2YXIgdjAgPSB0aGlzLnYwLAogICAgICAgICAgdjEgPSB0aGlzLnYxLAogICAgICAgICAgdjIgPSB0aGlzLnYyLAogICAgICAgICAgdjMgPSB0aGlzLnYzOwogICAgICB2YXIgbWluID0gbmV3IFZlY3RvcjIoSW5maW5pdHksIEluZmluaXR5KTsKICAgICAgdmFyIG1heCA9IG5ldyBWZWN0b3IyKC1JbmZpbml0eSwgLUluZmluaXR5KTsKICAgICAgdGhpcy5nZXRQb2xlKG1pbiwgbWF4KTsKICAgICAgdmFyIHNwbGl0QnlYID0geCAhPT0gdW5kZWZpbmVkICYmIChtaW4ueCAtIHgpICogKG1heC54IC0geCkgPCAwOwogICAgICB2YXIgc3BsaXRCeVkgPSB5ICE9PSB1bmRlZmluZWQgJiYgKG1pbi55IC0geSkgKiAobWF4LnkgLSB5KSA8IDA7CgogICAgICBpZiAoc3BsaXRCeVggfHwgc3BsaXRCeVkpIHsKICAgICAgICB4ID0gMC41ICogdjAueCArIDAuNSAqIHYxLng7CiAgICAgICAgeSA9IDAuNSAqIHYwLnkgKyAwLjUgKiB2MS55OwogICAgICAgIHZhciBwb2ludDEgPSBuZXcgVmVjdG9yMih4LCB5KTsKICAgICAgICB4ID0gMC4yNSAqIHYwLnggKyAwLjUgKiB2MS54ICsgMC4yNSAqIHYyLng7CiAgICAgICAgeSA9IDAuMjUgKiB2MC55ICsgMC41ICogdjEueSArIDAuMjUgKiB2Mi55OwogICAgICAgIHZhciBwb2ludDIgPSBuZXcgVmVjdG9yMih4LCB5KTsKICAgICAgICB4ID0gMC4xMjUgKiB2MC54ICsgMC4zNzUgKiB2MS54ICsgMC4zNzUgKiB2Mi54ICsgMC4xMjUgKiB2My54OwogICAgICAgIHkgPSAwLjEyNSAqIHYwLnkgKyAwLjM3NSAqIHYxLnkgKyAwLjM3NSAqIHYyLnkgKyAwLjEyNSAqIHYzLnk7CiAgICAgICAgdmFyIHBvaW50MyA9IG5ldyBWZWN0b3IyKHgsIHkpOwogICAgICAgIHggPSAwLjI1ICogdjEueCArIDAuNSAqIHYyLnggKyAwLjI1ICogdjMueDsKICAgICAgICB5ID0gMC4yNSAqIHYxLnkgKyAwLjUgKiB2Mi55ICsgMC4yNSAqIHYzLnk7CiAgICAgICAgdmFyIHBvaW50NCA9IG5ldyBWZWN0b3IyKHgsIHkpOwogICAgICAgIHggPSAwLjUgKiB2Mi54ICsgMC41ICogdjMueDsKICAgICAgICB5ID0gMC41ICogdjIueSArIDAuNSAqIHYzLnk7CiAgICAgICAgdmFyIHBvaW50NSA9IG5ldyBWZWN0b3IyKHgsIHkpOwogICAgICAgIHZhciBjdXJ2ZTEgPSBuZXcgQ3ViaWNCZXppZXJDdXJ2ZSh2MCwgcG9pbnQxLCBwb2ludDIsIHBvaW50Myk7CiAgICAgICAgdmFyIGN1cnZlMiA9IG5ldyBDdWJpY0JlemllckN1cnZlKHBvaW50My5jbG9uZSgpLCBwb2ludDQsIHBvaW50NSwgdjMpOwogICAgICAgIHJldHVybiBbY3VydmUxLCBjdXJ2ZTJdOwogICAgICB9CgogICAgICByZXR1cm4gW3RoaXNdOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEN1YmljQmV6aWVyQ3VydmU7Cn0oQ3VydmUpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyJDIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMigpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDIoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9Cgp2YXIgUXVhZHJhdGljQmV6aWVyQ3VydmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DdXJ2ZSkgewogIF9pbmhlcml0cyhRdWFkcmF0aWNCZXppZXJDdXJ2ZSwgX0N1cnZlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlciQyKFF1YWRyYXRpY0JlemllckN1cnZlKTsKCiAgZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyQ3VydmUodjAsIHYxLCB2MikgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRdWFkcmF0aWNCZXppZXJDdXJ2ZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLnR5cGUgPSAnUXVhZHJhdGljQmV6aWVyQ3VydmUnOwogICAgX3RoaXMudjAgPSB2MCB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMudjEgPSB2MSB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMudjIgPSB2MiB8fCBuZXcgVmVjdG9yMigpOwogICAgX3RoaXMuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZSA9IHRydWU7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUXVhZHJhdGljQmV6aWVyQ3VydmUsIFt7CiAgICBrZXk6ICJnZXRQb2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2xlKG1pbiwgbWF4KSB7CiAgICAgIHZhciB2MCA9IHRoaXMudjAsCiAgICAgICAgICB2MSA9IHRoaXMudjEsCiAgICAgICAgICB2MiA9IHRoaXMudjI7CiAgICAgIHZhciB4MSA9IDAuNSAqICh2MC54ICsgdjEueCk7CiAgICAgIHZhciB5MSA9IDAuNSAqICh2MC55ICsgdjEueSk7CiAgICAgIHZhciB4MiA9IDAuNSAqICh2MC54ICsgdjIueCk7CiAgICAgIHZhciB5MiA9IDAuNSAqICh2MC55ICsgdjIueSk7CiAgICAgIG1pbi54ID0gTWF0aC5taW4obWluLngsIHYwLngsIHYyLngsIHgxLCB4Mik7CiAgICAgIG1pbi55ID0gTWF0aC5taW4obWluLnksIHYwLnksIHYyLnksIHkxLCB5Mik7CiAgICAgIG1heC54ID0gTWF0aC5tYXgobWF4LngsIHYwLngsIHYyLngsIHgxLCB4Mik7CiAgICAgIG1heC55ID0gTWF0aC5tYXgobWF4LnksIHYwLnksIHYyLnksIHkxLCB5Mik7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9pbnRBcHBseUZ1bmMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBvaW50QXBwbHlGdW5jKGZ1bmMpIHsKICAgICAgZnVuYyh0aGlzLnYwKTsKICAgICAgZnVuYyh0aGlzLnYxKTsKICAgICAgZnVuYyh0aGlzLnYyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzcGxpdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3BsaXQoX3JlZikgewogICAgICB2YXIgeCA9IF9yZWYueCwKICAgICAgICAgIHkgPSBfcmVmLnk7CiAgICAgIHZhciB2MCA9IHRoaXMudjAsCiAgICAgICAgICB2MSA9IHRoaXMudjEsCiAgICAgICAgICB2MiA9IHRoaXMudjI7CiAgICAgIHZhciBzcGxpdEJ5WCA9IHggIT09IHVuZGVmaW5lZCAmJiBNYXRoLmFicyhNYXRoLnNpZ24odjAueCAtIHgpICsgTWF0aC5zaWduKHYxLnggLSB4KSArIE1hdGguc2lnbih2Mi54IC0geCkpID09PSAxOwogICAgICB2YXIgc3BsaXRCeVkgPSB5ICE9PSB1bmRlZmluZWQgJiYgTWF0aC5hYnMoTWF0aC5zaWduKHYwLnkgLSB4KSArIE1hdGguc2lnbih2MS55IC0geCkgKyBNYXRoLnNpZ24odjIueSAtIHgpKSA9PT0gMTsKICAgICAgdmFyIGEsIGIsIGMsIGQ7CgogICAgICBpZiAoc3BsaXRCeVgpIHsKICAgICAgICBhID0gdjAueCAtIDIgKiB2MS54ICsgdjIueDsKICAgICAgICBiID0gMiAqICgtdjAueCArIHYxLngpOwogICAgICAgIGMgPSB2MC54IC0geDsKICAgICAgfQoKICAgICAgaWYgKHNwbGl0QnlZKSB7CiAgICAgICAgYSA9IHYwLnkgLSAyICogdjEueSArIHYyLnk7CiAgICAgICAgYiA9IDIgKiAoLXYwLnkgKyB2MS55KTsKICAgICAgICBjID0gdjAueSAtIHk7CiAgICAgIH0KCiAgICAgIGlmIChzcGxpdEJ5WCB8fCBzcGxpdEJ5WSkgewogICAgICAgIGQgPSBiICogYiAtIDQgKiBhICogYzsKCiAgICAgICAgaWYgKGQgPiAwKSB7CiAgICAgICAgICB2YXIgZSA9IE1hdGguc3FydChkKTsKICAgICAgICAgIHZhciB0MSA9ICgtYiArIGUpIC8gMiAvIGE7CiAgICAgICAgICB2YXIgdDIgPSAoLWIgLSBlKSAvIDIgLyBhOwogICAgICAgICAgdmFyIHQgPSBbdDEsIHQyXS5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4ID4gMCAmJiB4IDwgMTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICh0KSB7CiAgICAgICAgICAgIHZhciBwb2ludDEgPSBuZXcgVmVjdG9yMigpLmxlcnBWZWN0b3JzKHYwLCB2MSwgdCk7CiAgICAgICAgICAgIHZhciBwb2ludDMgPSBuZXcgVmVjdG9yMigpLmxlcnBWZWN0b3JzKHYxLCB2MiwgdCk7CiAgICAgICAgICAgIHZhciBwb2ludDIgPSBuZXcgVmVjdG9yMigpLmxlcnBWZWN0b3JzKHBvaW50MSwgcG9pbnQzLCB0KTsKICAgICAgICAgICAgdmFyIGN1cnZlMSA9IG5ldyBRdWFkcmF0aWNCZXppZXJDdXJ2ZSh2MCwgcG9pbnQxLCBwb2ludDIpOwogICAgICAgICAgICB2YXIgY3VydmUyID0gbmV3IFF1YWRyYXRpY0JlemllckN1cnZlKHBvaW50Mi5jbG9uZSgpLCBwb2ludDMsIHYyKTsKICAgICAgICAgICAgcmV0dXJuIFtjdXJ2ZTEsIGN1cnZlMl07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gW3RoaXNdOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludCh0KSB7CiAgICAgIHZhciBwb2ludCA9IG5ldyBWZWN0b3IyKCk7CiAgICAgIHZhciB2MCA9IHRoaXMudjAsCiAgICAgICAgICB2MSA9IHRoaXMudjEsCiAgICAgICAgICB2MiA9IHRoaXMudjI7CiAgICAgIHBvaW50LnNldChRdWFkcmF0aWNCZXppZXIodCwgdjAueCwgdjEueCwgdjIueCksIFF1YWRyYXRpY0Jlemllcih0LCB2MC55LCB2MS55LCB2Mi55KSk7CiAgICAgIHJldHVybiBwb2ludDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihRdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUpLCAiY29weSIsIHRoaXMpLmNhbGwodGhpcywgc291cmNlKTsKCiAgICAgIHRoaXMudjAuY29weShzb3VyY2UudjApOwogICAgICB0aGlzLnYxLmNvcHkoc291cmNlLnYxKTsKICAgICAgdGhpcy52Mi5jb3B5KHNvdXJjZS52Mik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFF1YWRyYXRpY0JlemllckN1cnZlOwp9KEN1cnZlKTsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlciQxKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDEoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQovKioKICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogKiBDcmVhdGVzIGZyZWUgZm9ybSAyZCBwYXRoIHVzaW5nIHNlcmllcyBvZiBwb2ludHMsIGxpbmVzIG9yIGN1cnZlcy4KICoqLwoKdmFyIFBhdGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DdXJ2ZVBhdGgpIHsKICBfaW5oZXJpdHMoUGF0aCwgX0N1cnZlUGF0aCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIkMShQYXRoKTsKCiAgZnVuY3Rpb24gUGF0aChwb2ludHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF0aCk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludHMpOwogICAgX3RoaXMudHlwZSA9ICdQYXRoJzsKICAgIF90aGlzLmN1cnJlbnRQb2ludCA9IG5ldyBWZWN0b3IyKCk7CgogICAgaWYgKHBvaW50cykgewogICAgICBfdGhpcy5zZXRGcm9tUG9pbnRzKHBvaW50cyk7CiAgICB9CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBhdGgsIFt7CiAgICBrZXk6ICJzZXRGcm9tUG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cykgewogICAgICB0aGlzLm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpOwoKICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBwb2ludHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdGhpcy5saW5lVG8ocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIm1vdmVUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZVRvKHgsIHkpIHsKICAgICAgdGhpcy5jdXJyZW50UG9pbnQuc2V0KHgsIHkpOyAvLyBUT0RPIGNvbnNpZGVyIHJlZmVyZW5jaW5nIHZlY3RvcnMgaW5zdGVhZCBvZiBjb3B5aW5nPwogICAgfQogIH0sIHsKICAgIGtleTogImxpbmVUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGluZVRvKHgsIHkpIHsKICAgICAgdmFyIGN1cnZlID0gbmV3IExpbmVDdXJ2ZSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLCBuZXcgVmVjdG9yMih4LCB5KSk7CiAgICAgIHRoaXMuY3VydmVzLnB1c2goY3VydmUpOwogICAgICB0aGlzLmN1cnJlbnRQb2ludC5zZXQoeCwgeSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicXVhZHJhdGljQ3VydmVUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyhhQ1B4LCBhQ1B5LCBhWCwgYVkpIHsKICAgICAgdmFyIGN1cnZlID0gbmV3IFF1YWRyYXRpY0JlemllckN1cnZlKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksIG5ldyBWZWN0b3IyKGFDUHgsIGFDUHkpLCBuZXcgVmVjdG9yMihhWCwgYVkpKTsKICAgICAgdGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7CiAgICAgIHRoaXMuY3VycmVudFBvaW50LnNldChhWCwgYVkpOwogICAgfQogIH0sIHsKICAgIGtleTogImJlemllckN1cnZlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJlemllckN1cnZlVG8oYUNQMXgsIGFDUDF5LCBhQ1AyeCwgYUNQMnksIGFYLCBhWSkgewogICAgICB2YXIgY3VydmUgPSBuZXcgQ3ViaWNCZXppZXJDdXJ2ZSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLCBuZXcgVmVjdG9yMihhQ1AxeCwgYUNQMXkpLCBuZXcgVmVjdG9yMihhQ1AyeCwgYUNQMnkpLCBuZXcgVmVjdG9yMihhWCwgYVkpKTsKICAgICAgdGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7CiAgICAgIHRoaXMuY3VycmVudFBvaW50LnNldChhWCwgYVkpOwogICAgfQogIH0sIHsKICAgIGtleTogInNwbGluZVRocnUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGluZVRocnUocHRzCiAgICAvKiBBcnJheSBvZiBWZWN0b3IgKi8KICAgICkgewogICAgICB2YXIgbnB0cyA9IFt0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpXS5jb25jYXQocHRzKTsKICAgICAgdmFyIGN1cnZlID0gbmV3IFNwbGluZUN1cnZlKG5wdHMpOwogICAgICB0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTsKICAgICAgdGhpcy5jdXJyZW50UG9pbnQuY29weShwdHNbcHRzLmxlbmd0aCAtIDFdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcmMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFyYyhhWCwgYVksIGFSYWRpdXMsIGFTdGFydEFuZ2xlLCBhRW5kQW5nbGUsIGFDbG9ja3dpc2UpIHsKICAgICAgdmFyIHgwID0gdGhpcy5jdXJyZW50UG9pbnQueDsKICAgICAgdmFyIHkwID0gdGhpcy5jdXJyZW50UG9pbnQueTsKICAgICAgdGhpcy5hYnNhcmMoYVggKyB4MCwgYVkgKyB5MCwgYVJhZGl1cywgYVN0YXJ0QW5nbGUsIGFFbmRBbmdsZSwgYUNsb2Nrd2lzZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWJzYXJjIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhYnNhcmMoYVgsIGFZLCBhUmFkaXVzLCBhU3RhcnRBbmdsZSwgYUVuZEFuZ2xlLCBhQ2xvY2t3aXNlKSB7CiAgICAgIHRoaXMuYWJzZWxsaXBzZShhWCwgYVksIGFSYWRpdXMsIGFSYWRpdXMsIGFTdGFydEFuZ2xlLCBhRW5kQW5nbGUsIGFDbG9ja3dpc2UpOwogICAgfQogIH0sIHsKICAgIGtleTogImVsbGlwc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVsbGlwc2UoYVgsIGFZLCB4UmFkaXVzLCB5UmFkaXVzLCBhU3RhcnRBbmdsZSwgYUVuZEFuZ2xlLCBhQ2xvY2t3aXNlLCBhUm90YXRpb24pIHsKICAgICAgdmFyIHgwID0gdGhpcy5jdXJyZW50UG9pbnQueDsKICAgICAgdmFyIHkwID0gdGhpcy5jdXJyZW50UG9pbnQueTsKICAgICAgdGhpcy5hYnNlbGxpcHNlKGFYICsgeDAsIGFZICsgeTAsIHhSYWRpdXMsIHlSYWRpdXMsIGFTdGFydEFuZ2xlLCBhRW5kQW5nbGUsIGFDbG9ja3dpc2UsIGFSb3RhdGlvbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWJzZWxsaXBzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWJzZWxsaXBzZShhWCwgYVksIHhSYWRpdXMsIHlSYWRpdXMsIGFTdGFydEFuZ2xlLCBhRW5kQW5nbGUsIGFDbG9ja3dpc2UsIGFSb3RhdGlvbikgewogICAgICB2YXIgY3VydmUgPSBuZXcgRWxsaXBzZUN1cnZlKGFYLCBhWSwgeFJhZGl1cywgeVJhZGl1cywgYVN0YXJ0QW5nbGUsIGFFbmRBbmdsZSwgYUNsb2Nrd2lzZSwgYVJvdGF0aW9uKTsKCiAgICAgIGlmICh0aGlzLmN1cnZlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gaWYgYSBwcmV2aW91cyBjdXJ2ZSBpcyBwcmVzZW50LCBhdHRlbXB0IHRvIGpvaW4KICAgICAgICB2YXIgZmlyc3RQb2ludCA9IGN1cnZlLmdldFBvaW50KDApOwoKICAgICAgICBpZiAoIWZpcnN0UG9pbnQuZXF1YWxzKHRoaXMuY3VycmVudFBvaW50KSkgewogICAgICAgICAgdGhpcy5saW5lVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7CiAgICAgIHZhciBsYXN0UG9pbnQgPSBjdXJ2ZS5nZXRQb2ludCgxKTsKICAgICAgdGhpcy5jdXJyZW50UG9pbnQuY29weShsYXN0UG9pbnQpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkoc291cmNlKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFBhdGgucHJvdG90eXBlKSwgImNvcHkiLCB0aGlzKS5jYWxsKHRoaXMsIHNvdXJjZSk7CgogICAgICB0aGlzLmN1cnJlbnRQb2ludC5jb3B5KHNvdXJjZS5jdXJyZW50UG9pbnQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CgogIHJldHVybiBQYXRoOwp9KEN1cnZlUGF0aCk7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KLyoqCiAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICogRGVmaW5lcyBhIDJkIHNoYXBlIHBsYW5lIHVzaW5nIHBhdGhzLgogKiovCi8vIFNURVAgMSBDcmVhdGUgYSBwYXRoLgovLyBTVEVQIDIgVHVybiBwYXRoIGludG8gc2hhcGUuCi8vIFNURVAgMyBFeHRydWRlR2VvbWV0cnkgdGFrZXMgaW4gU2hhcGUvU2hhcGVzCi8vIFNURVAgM2EgLSBFeHRyYWN0IHBvaW50cyBmcm9tIGVhY2ggc2hhcGUsIHR1cm4gdG8gdmVydGljZXMKLy8gU1RFUCAzYiAtIFRyaWFuZ3VsYXRlIGVhY2ggc2hhcGUsIGFkZCBmYWNlcy4KCnZhciBTaGFwZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1BhdGgpIHsKICBfaW5oZXJpdHMoU2hhcGUsIF9QYXRoKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTaGFwZSk7CgogIGZ1bmN0aW9uIFNoYXBlKHBvaW50cykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFwZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludHMpOwogICAgX3RoaXMudXVpZCA9IF9NYXRoLmdlbmVyYXRlVVVJRCgpOwogICAgX3RoaXMudHlwZSA9ICdTaGFwZSc7CiAgICBfdGhpcy5ob2xlcyA9IFtdOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNoYXBlLCBbewogICAga2V5OiAiZ2V0UG9pbnRzSG9sZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0hvbGVzKGRpdmlzaW9ucykgewogICAgICB2YXIgaG9sZXNQdHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ob2xlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBob2xlc1B0c1tpXSA9IHRoaXMuaG9sZXNbaV0uZ2V0UG9pbnRzKGRpdmlzaW9ucyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBob2xlc1B0czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQb2ludHNIb2xlc0J5U3RlcFNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0hvbGVzQnlTdGVwU2l6ZShzdGVwU2l6ZSkgewogICAgICB2YXIgaG9sZXNQdHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ob2xlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBob2xlc1B0c1tpXSA9IHRoaXMuaG9sZXNbaV0uZ2V0UG9pbnRzQnlTdGVwU2l6ZShzdGVwU2l6ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBob2xlc1B0czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQb2ludHNIb2xlc0FkYXB0aXZlbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50c0hvbGVzQWRhcHRpdmVseSh0b2xlcmFuY2UpIHsKICAgICAgdmFyIGhvbGVzUHRzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuaG9sZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaG9sZXNQdHNbaV0gPSB0aGlzLmhvbGVzW2ldLmdldFBvaW50c0FkYXB0aXZlbHkodG9sZXJhbmNlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhvbGVzUHRzOwogICAgfSAvLyBnZXQgcG9pbnRzIG9mIHNoYXBlIGFuZCBob2xlcyAoa2V5cG9pbnRzIGJhc2VkIG9uIHNlZ21lbnRzIHBhcmFtZXRlcikKCiAgfSwgewogICAga2V5OiAiZXh0cmFjdFBvaW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFBvaW50cyhkaXZpc2lvbnMpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzaGFwZTogdGhpcy5nZXRQb2ludHMoZGl2aXNpb25zKSwKICAgICAgICBob2xlczogdGhpcy5nZXRQb2ludHNIb2xlcyhkaXZpc2lvbnMpCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiZXh0cmFjdFBvaW50c0J5U3RlcFNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RQb2ludHNCeVN0ZXBTaXplKHN0ZXBTaXplKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0UG9pbnRzQnlTdGVwU2l6ZShzdGVwU2l6ZSksCiAgICAgICAgaG9sZXM6IHRoaXMuZ2V0UG9pbnRzSG9sZXNCeVN0ZXBTaXplKHN0ZXBTaXplKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImV4dHJhY3RQb2ludHNBZGFwdGl2ZWx5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0UG9pbnRzQWRhcHRpdmVseSh0b2xlcmFuY2UpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzaGFwZTogdGhpcy5nZXRQb2ludHNBZGFwdGl2ZWx5KHRvbGVyYW5jZSksCiAgICAgICAgaG9sZXM6IHRoaXMuZ2V0UG9pbnRzSG9sZXNBZGFwdGl2ZWx5KHRvbGVyYW5jZSkKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNvdXJjZSkgewogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihTaGFwZS5wcm90b3R5cGUpLCAiY29weSIsIHRoaXMpLmNhbGwodGhpcywgc291cmNlKTsKCiAgICAgIHRoaXMuaG9sZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc291cmNlLmhvbGVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBob2xlID0gc291cmNlLmhvbGVzW2ldOwogICAgICAgIHRoaXMuaG9sZXMucHVzaChob2xlLmNsb25lKCkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CgogIHJldHVybiBTaGFwZTsKfShQYXRoKTsKCnZhciBTaGFwZVBhdGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNoYXBlUGF0aCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFwZVBhdGgpOwoKICAgIHRoaXMudHlwZSA9ICdTaGFwZVBhdGgnOwogICAgdGhpcy5zdWJQYXRocyA9IFtdOwogICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2hhcGVQYXRoLCBbewogICAga2V5OiAibW92ZVRvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlVG8oeCwgeSkgewogICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBhdGgoKTsKICAgICAgdGhpcy5zdWJQYXRocy5wdXNoKHRoaXMuY3VycmVudFBhdGgpOwogICAgICB0aGlzLmN1cnJlbnRQYXRoLm1vdmVUbyh4LCB5KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsaW5lVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxpbmVUbyh4LCB5KSB7CiAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZVRvKHgsIHkpOwogICAgfQogIH0sIHsKICAgIGtleTogInF1YWRyYXRpY0N1cnZlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHF1YWRyYXRpY0N1cnZlVG8oYUNQeCwgYUNQeSwgYVgsIGFZKSB7CiAgICAgIHRoaXMuY3VycmVudFBhdGgucXVhZHJhdGljQ3VydmVUbyhhQ1B4LCBhQ1B5LCBhWCwgYVkpOwogICAgfQogIH0sIHsKICAgIGtleTogImJlemllckN1cnZlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJlemllckN1cnZlVG8oYUNQMXgsIGFDUDF5LCBhQ1AyeCwgYUNQMnksIGFYLCBhWSkgewogICAgICB0aGlzLmN1cnJlbnRQYXRoLmJlemllckN1cnZlVG8oYUNQMXgsIGFDUDF5LCBhQ1AyeCwgYUNQMnksIGFYLCBhWSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3BsaW5lVGhydSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3BsaW5lVGhydShwdHMpIHsKICAgICAgdGhpcy5jdXJyZW50UGF0aC5zcGxpbmVUaHJ1KHB0cyk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9TaGFwZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvU2hhcGVzKGlzQ0NXLCBub0hvbGVzKSB7CiAgICAgIGZ1bmN0aW9uIHRvU2hhcGVzTm9Ib2xlcyhpblN1YnBhdGhzKSB7CiAgICAgICAgdmFyIHNoYXBlcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGluU3VicGF0aHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICB2YXIgX3RtcFBhdGggPSBpblN1YnBhdGhzW2ldOwoKICAgICAgICAgIHZhciBfdG1wU2hhcGUgPSBuZXcgU2hhcGUoKTsKCiAgICAgICAgICBfdG1wU2hhcGUuY3VydmVzID0gX3RtcFBhdGguY3VydmVzOwogICAgICAgICAgc2hhcGVzLnB1c2goX3RtcFNoYXBlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzaGFwZXM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGlzUG9pbnRJbnNpZGVQb2x5Z29uKGluUHQsIGluUG9seWdvbikgewogICAgICAgIHZhciBwb2x5TGVuID0gaW5Qb2x5Z29uLmxlbmd0aDsgLy8gaW5QdCBvbiBwb2x5Z29uIGNvbnRvdXIgPT4gaW1tZWRpYXRlIHN1Y2Nlc3MgICAgb3IKICAgICAgICAvLyB0b2dnbGluZyBvZiBpbnNpZGUvb3V0c2lkZSBhdCBldmVyeSBzaW5nbGUhIGludGVyc2VjdGlvbiBwb2ludCBvZiBhbiBlZGdlCiAgICAgICAgLy8gIHdpdGggdGhlIGhvcml6b250YWwgbGluZSB0aHJvdWdoIGluUHQsIGxlZnQgb2YgaW5QdAogICAgICAgIC8vICBub3QgY291bnRpbmcgbG93ZXJZIGVuZHBvaW50cyBvZiBlZGdlcyBhbmQgd2hvbGUgZWRnZXMgb24gdGhhdCBsaW5lCgogICAgICAgIHZhciBpbnNpZGUgPSBmYWxzZTsKCiAgICAgICAgZm9yICh2YXIgaSA9IHBvbHlMZW4gLSAxLCBxID0gMDsgcSA8IHBvbHlMZW47IGkgPSBxKyspIHsKICAgICAgICAgIHZhciBlZGdlTG93UHQgPSBpblBvbHlnb25baV07CiAgICAgICAgICB2YXIgZWRnZUhpZ2hQdCA9IGluUG9seWdvbltxXTsKICAgICAgICAgIHZhciBlZGdlRHggPSBlZGdlSGlnaFB0LnggLSBlZGdlTG93UHQueDsKICAgICAgICAgIHZhciBlZGdlRHkgPSBlZGdlSGlnaFB0LnkgLSBlZGdlTG93UHQueTsKCiAgICAgICAgICBpZiAoTWF0aC5hYnMoZWRnZUR5KSA+IE51bWJlci5FUFNJTE9OKSB7CiAgICAgICAgICAgIC8vIG5vdCBwYXJhbGxlbAogICAgICAgICAgICBpZiAoZWRnZUR5IDwgMCkgewogICAgICAgICAgICAgIGVkZ2VMb3dQdCA9IGluUG9seWdvbltxXTsKICAgICAgICAgICAgICBlZGdlRHggPSAtZWRnZUR4OwogICAgICAgICAgICAgIGVkZ2VIaWdoUHQgPSBpblBvbHlnb25baV07CiAgICAgICAgICAgICAgZWRnZUR5ID0gLWVkZ2VEeTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGluUHQueSA8IGVkZ2VMb3dQdC55IHx8IGluUHQueSA+IGVkZ2VIaWdoUHQueSkgY29udGludWU7CgogICAgICAgICAgICBpZiAoaW5QdC55ID09PSBlZGdlTG93UHQueSkgewogICAgICAgICAgICAgIGlmIChpblB0LnggPT09IGVkZ2VMb3dQdC54KSByZXR1cm4gdHJ1ZTsgLy8gaW5QdCBpcyBvbiBjb250b3VyID8KICAgICAgICAgICAgICAvLyBjb250aW51ZTsgICAgICAgICAgICAgICAgLy8gbm8gaW50ZXJzZWN0aW9uIG9yIGVkZ2VMb3dQdCA9PiBkb2Vzbid0IGNvdW50ICEhIQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBwZXJwRWRnZSA9IGVkZ2VEeSAqIChpblB0LnggLSBlZGdlTG93UHQueCkgLSBlZGdlRHggKiAoaW5QdC55IC0gZWRnZUxvd1B0LnkpOwogICAgICAgICAgICAgIGlmIChwZXJwRWRnZSA9PT0gMCkgcmV0dXJuIHRydWU7IC8vIGluUHQgaXMgb24gY29udG91ciA/CgogICAgICAgICAgICAgIGlmIChwZXJwRWRnZSA8IDApIGNvbnRpbnVlOwogICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7IC8vIHRydWUgaW50ZXJzZWN0aW9uIGxlZnQgb2YgaW5QdAogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBwYXJhbGxlbCBvciBjb2xsaW5lYXIKICAgICAgICAgICAgaWYgKGluUHQueSAhPT0gZWRnZUxvd1B0LnkpIGNvbnRpbnVlOyAvLyBwYXJhbGxlbAogICAgICAgICAgICAvLyBlZGdlIGxpZXMgb24gdGhlIHNhbWUgaG9yaXpvbnRhbCBsaW5lIGFzIGluUHQKCiAgICAgICAgICAgIGlmIChlZGdlSGlnaFB0LnggPD0gaW5QdC54ICYmIGluUHQueCA8PSBlZGdlTG93UHQueCB8fCBlZGdlTG93UHQueCA8PSBpblB0LnggJiYgaW5QdC54IDw9IGVkZ2VIaWdoUHQueCkgcmV0dXJuIHRydWU7IC8vIGluUHQ6IFBvaW50IG9uIGNvbnRvdXIgIQogICAgICAgICAgICAvLyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBpbnNpZGU7CiAgICAgIH0KCiAgICAgIHZhciBpc0Nsb2NrV2lzZSA9IFNoYXBlVXRpbHMuaXNDbG9ja1dpc2U7CiAgICAgIHZhciBzdWJQYXRocyA9IHRoaXMuc3ViUGF0aHM7CiAgICAgIGlmIChzdWJQYXRocy5sZW5ndGggPT09IDApIHJldHVybiBbXTsKICAgICAgaWYgKG5vSG9sZXMgPT09IHRydWUpIHJldHVybiB0b1NoYXBlc05vSG9sZXMoc3ViUGF0aHMpOwogICAgICB2YXIgc29saWQsIHRtcFBhdGgsIHRtcFNoYXBlOwogICAgICB2YXIgc2hhcGVzID0gW107CgogICAgICBpZiAoc3ViUGF0aHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdG1wUGF0aCA9IHN1YlBhdGhzWzBdOwogICAgICAgIHRtcFNoYXBlID0gbmV3IFNoYXBlKCk7CiAgICAgICAgdG1wU2hhcGUuY3VydmVzID0gdG1wUGF0aC5jdXJ2ZXM7CiAgICAgICAgc2hhcGVzLnB1c2godG1wU2hhcGUpOwogICAgICAgIHJldHVybiBzaGFwZXM7CiAgICAgIH0KCiAgICAgIHZhciBob2xlc0ZpcnN0ID0gIWlzQ2xvY2tXaXNlKHN1YlBhdGhzWzBdLmdldFBvaW50cygpKTsKICAgICAgaG9sZXNGaXJzdCA9IGlzQ0NXID8gIWhvbGVzRmlyc3QgOiBob2xlc0ZpcnN0OyAvLyBkZWJ1Zy5sb2coJ0hvbGVzIGZpcnN0JywgaG9sZXNGaXJzdCk7CgogICAgICB2YXIgYmV0dGVyU2hhcGVIb2xlcyA9IFtdOwogICAgICB2YXIgbmV3U2hhcGVzID0gW107CiAgICAgIHZhciBuZXdTaGFwZUhvbGVzID0gW107CiAgICAgIHZhciBtYWluSWR4ID0gMDsKICAgICAgdmFyIHRtcFBvaW50czsKICAgICAgbmV3U2hhcGVzW21haW5JZHhdID0gdW5kZWZpbmVkOwogICAgICBuZXdTaGFwZUhvbGVzW21haW5JZHhdID0gW107CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHN1YlBhdGhzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHRtcFBhdGggPSBzdWJQYXRoc1tpXTsKICAgICAgICB0bXBQb2ludHMgPSB0bXBQYXRoLmdldFBvaW50cygpOwogICAgICAgIHNvbGlkID0gaXNDbG9ja1dpc2UodG1wUG9pbnRzKTsKICAgICAgICBzb2xpZCA9IGlzQ0NXID8gIXNvbGlkIDogc29saWQ7CgogICAgICAgIGlmIChzb2xpZCkgewogICAgICAgICAgaWYgKCFob2xlc0ZpcnN0ICYmIG5ld1NoYXBlc1ttYWluSWR4XSkgbWFpbklkeCsrOwogICAgICAgICAgbmV3U2hhcGVzW21haW5JZHhdID0gewogICAgICAgICAgICBzOiBuZXcgU2hhcGUoKSwKICAgICAgICAgICAgcDogdG1wUG9pbnRzCiAgICAgICAgICB9OwogICAgICAgICAgbmV3U2hhcGVzW21haW5JZHhdLnMuY3VydmVzID0gdG1wUGF0aC5jdXJ2ZXM7CiAgICAgICAgICBpZiAoaG9sZXNGaXJzdCkgbWFpbklkeCsrOwogICAgICAgICAgbmV3U2hhcGVIb2xlc1ttYWluSWR4XSA9IFtdOyAvLyBkZWJ1Zy5sb2coJ2N3JywgaSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld1NoYXBlSG9sZXNbbWFpbklkeF0ucHVzaCh7CiAgICAgICAgICAgIGg6IHRtcFBhdGgsCiAgICAgICAgICAgIHA6IHRtcFBvaW50c1swXQogICAgICAgICAgfSk7IC8vIGRlYnVnLmxvZygnY2N3JywgaSk7CiAgICAgICAgfQogICAgICB9IC8vIG9ubHkgSG9sZXM/IC0+IHByb2JhYmx5IGFsbCBTaGFwZXMgd2l0aCB3cm9uZyBvcmllbnRhdGlvbgoKCiAgICAgIGlmICghbmV3U2hhcGVzWzBdKSByZXR1cm4gdG9TaGFwZXNOb0hvbGVzKHN1YlBhdGhzKTsKCiAgICAgIGlmIChuZXdTaGFwZXMubGVuZ3RoID4gMSkgewogICAgICAgIHZhciBhbWJpZ3VvdXMgPSBmYWxzZTsKICAgICAgICB2YXIgdG9DaGFuZ2UgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgc0lkeCA9IDAsIHNMZW4gPSBuZXdTaGFwZXMubGVuZ3RoOyBzSWR4IDwgc0xlbjsgc0lkeCsrKSB7CiAgICAgICAgICBiZXR0ZXJTaGFwZUhvbGVzW3NJZHhdID0gW107CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBfc0lkeCA9IDAsIF9zTGVuID0gbmV3U2hhcGVzLmxlbmd0aDsgX3NJZHggPCBfc0xlbjsgX3NJZHgrKykgewogICAgICAgICAgdmFyIHNobyA9IG5ld1NoYXBlSG9sZXNbX3NJZHhdOwoKICAgICAgICAgIGZvciAodmFyIGhJZHggPSAwOyBoSWR4IDwgc2hvLmxlbmd0aDsgaElkeCsrKSB7CiAgICAgICAgICAgIHZhciBobyA9IHNob1toSWR4XTsKICAgICAgICAgICAgdmFyIGhvbGVVbmFzc2lnbmVkID0gdHJ1ZTsKCiAgICAgICAgICAgIGZvciAodmFyIHMySWR4ID0gMDsgczJJZHggPCBuZXdTaGFwZXMubGVuZ3RoOyBzMklkeCsrKSB7CiAgICAgICAgICAgICAgaWYgKCFpc1BvaW50SW5zaWRlUG9seWdvbihoby5wLCBuZXdTaGFwZXNbczJJZHhdLnApKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChfc0lkeCAhPT0gczJJZHgpIHRvQ2hhbmdlLnB1c2goewogICAgICAgICAgICAgICAgZnJvbXM6IF9zSWR4LAogICAgICAgICAgICAgICAgdG9zOiBzMklkeCwKICAgICAgICAgICAgICAgIGhvbGU6IGhJZHgKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGhvbGVVbmFzc2lnbmVkKSB7CiAgICAgICAgICAgICAgICBob2xlVW5hc3NpZ25lZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgYmV0dGVyU2hhcGVIb2xlc1tzMklkeF0ucHVzaChobyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFtYmlndW91cyA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWhvbGVVbmFzc2lnbmVkKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJldHRlclNoYXBlSG9sZXNbX3NJZHhdLnB1c2goaG8pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHRvQ2hhbmdlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGlmICghYW1iaWd1b3VzKSBuZXdTaGFwZUhvbGVzID0gYmV0dGVyU2hhcGVIb2xlczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB0bXBIb2xlczsKCiAgICAgIGZvciAodmFyIF9pID0gMCwgaWwgPSBuZXdTaGFwZXMubGVuZ3RoOyBfaSA8IGlsOyBfaSsrKSB7CiAgICAgICAgdG1wU2hhcGUgPSBuZXdTaGFwZXNbX2ldLnM7CgogICAgICAgIGlmIChnZXRTaGFwZVNpemUodG1wU2hhcGUpID4gMSkgewogICAgICAgICAgc2hhcGVzLnB1c2godG1wU2hhcGUpOwogICAgICAgIH0KCiAgICAgICAgdG1wSG9sZXMgPSBuZXdTaGFwZUhvbGVzW19pXTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsID0gdG1wSG9sZXMubGVuZ3RoOyBqIDwgamw7IGorKykgewogICAgICAgICAgdG1wU2hhcGUuaG9sZXMucHVzaCh0bXBIb2xlc1tqXS5oKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzaGFwZXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2hhcGVQYXRoOwp9KCk7CgpmdW5jdGlvbiBnZXRTaGFwZVNpemUoc2hhcGUpIHsKICB2YXIgbWluID0gewogICAgeDogSW5maW5pdHksCiAgICB5OiBJbmZpbml0eQogIH07CiAgdmFyIG1heCA9IHsKICAgIHg6IC1JbmZpbml0eSwKICAgIHk6IC1JbmZpbml0eQogIH07CiAgc2hhcGUuY3VydmVzLmZvckVhY2goZnVuY3Rpb24gKGN1cnZlKSB7CiAgICBjdXJ2ZS5nZXRQb2xlKG1pbiwgbWF4KTsKICB9KTsKICByZXR1cm4gTWF0aC5oeXBvdChtaW4ueCAtIG1heC54LCBtaW4ueSAtIG1heC55KTsKfQoKdmFyIEZvbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEZvbnQoZGF0YSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvbnQpOwoKICAgIHRoaXMudHlwZSA9ICdGb250JzsKICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICB0aGlzLmlzRm9udCA9IHRydWU7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRm9udCwgbnVsbCwgW3sKICAgIGtleTogImdlbmVyYXRlU2hhcGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVNoYXBlcyhnbHlwaHMpIHsKICAgICAgdmFyIHNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIG9mZnNldFNjYWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBzaGFwZXMgPSBbXTsKICAgICAgdmFyIHBhdGhEYXRhID0gY3JlYXRlUGF0aHMoZ2x5cGhzLCBzaXplLCBkYXRhLCBvZmZzZXRTY2FsZSk7CiAgICAgIHZhciBwYXRocyA9IHBhdGhEYXRhLnBhdGhzOwogICAgICB2YXIgY2hhckZsYWcgPSBbXTsKICAgICAgdmFyIGNvdW50ID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgdGVtcFNoYXBlcyA9IHBhdGhzW2ldLnRvU2hhcGVzKCk7CiAgICAgICAgc2hhcGVzLnB1c2guYXBwbHkoc2hhcGVzLCBfdG9Db25zdW1hYmxlQXJyYXkodGVtcFNoYXBlcykpOwogICAgICAgIGNoYXJGbGFnLnB1c2goY291bnQpOwogICAgICAgIGNvdW50ICs9IHRlbXBTaGFwZXMubGVuZ3RoOwogICAgICB9CgogICAgICB2YXIgcmVzdWx0RGF0YSA9IHsKICAgICAgICBzaGFwZXM6IHNoYXBlcwogICAgICB9OwogICAgICByZXN1bHREYXRhLnBhcmEgPSBPYmplY3QuYXNzaWduKHt9LCBwYXRoRGF0YS5wYXJhLCB7CiAgICAgICAgY2hhckZsYWc6IGNoYXJGbGFnCiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0RGF0YTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb250Owp9KCk7CgpmdW5jdGlvbiBjcmVhdGVQYXRocyhnbHlwaHMpIHsKICB2YXIgc2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwOwogIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgdmFyIG9mZnNldFNjYWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7CiAgdmFyIGxldHRlclNwYWNpbmcgPSBkYXRhLmxldHRlclNwYWNpbmcsCiAgICAgIGxpbmVIZWlnaHQgPSBkYXRhLmxpbmVIZWlnaHQsCiAgICAgIGxpbmVIZWlnaHREYXRhID0gZGF0YS5saW5lSGVpZ2h0RGF0YSwKICAgICAgdGV4dEFsaWduID0gZGF0YS50ZXh0QWxpZ247CiAgdmFyIF9saW5lSGVpZ2h0RGF0YSRlbVNpeiA9IGxpbmVIZWlnaHREYXRhLmVtU2l6ZSwKICAgICAgZW1TaXplID0gX2xpbmVIZWlnaHREYXRhJGVtU2l6ID09PSB2b2lkIDAgPyAxMDI0IDogX2xpbmVIZWlnaHREYXRhJGVtU2l6OwogIHZhciBzY2FsZSA9IHNpemUgLyBlbVNpemU7CiAgdmFyIHJlYWxMaW5lSGVpZ2h0ID0gc2l6ZSAqIGxpbmVIZWlnaHQ7CiAgdmFyIHNoYXBlUGF0aHMgPSBbXTsKICB2YXIgY2hhclBvc0RhdGFzID0gW107CiAgdmFyIGxpbmVzV2lkdGggPSBbMF07CiAgdmFyIGogPSAwOwogIHZhciBvZmZzZXRYID0gMDsKICB2YXIgb2Zmc2V0WSA9IDA7CiAgdmFyIGsgPSAtMTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBnbHlwaHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBnbHlwaCA9IGdseXBoc1tpXTsKCiAgICBpZiAoZ2x5cGgubmFtZSA9PT0gJ1xuJykgewogICAgICBsaW5lc1dpZHRoWysral0gPSAwOwogICAgICBrID0gLTE7CiAgICB9IGVsc2UgewogICAgICBvZmZzZXRYID0gZ2x5cGguaGEgKiBzY2FsZSAqIG9mZnNldFNjYWxlICsgbGV0dGVyU3BhY2luZzsKICAgICAgbGluZXNXaWR0aFtqXSArPSBvZmZzZXRYOwoKICAgICAgaWYgKGdseXBoLm5hbWUgJiYgZ2x5cGgubmFtZSAhPT0gJyAnKSB7CiAgICAgICAgY2hhclBvc0RhdGFzLnB1c2goewogICAgICAgICAgcm93TnVtOiBqLAogICAgICAgICAgY29sdW1uTnVtOiArK2sKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KCiAgdmFyIG1heExpbmVXaWR0aCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGxpbmVzV2lkdGgpOwogIG9mZnNldFggPSAwOwogIGogPSAwOwoKICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZ2x5cGhzLmxlbmd0aDsgX2krKykgewogICAgdmFyIF9nbHlwaCA9IGdseXBoc1tfaV07CgogICAgaWYgKF9nbHlwaC5uYW1lID09PSAnXG4nKSB7CiAgICAgIG9mZnNldFkgLT0gcmVhbExpbmVIZWlnaHQ7CgogICAgICBzd2l0Y2ggKHRleHRBbGlnbikgewogICAgICAgIGNhc2UgJ2NlbnRlcic6CiAgICAgICAgICBvZmZzZXRYIC09IChsaW5lc1dpZHRoW2pdICsgbGluZXNXaWR0aFsrK2pdKSAvIDI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAncmlnaHQnOgogICAgICAgICAgb2Zmc2V0WCAtPSBsaW5lc1dpZHRoWysral07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIG9mZnNldFggPSAwOwogICAgICB9CiAgICB9IGVsc2UgaWYgKF9nbHlwaC5uYW1lID09PSAnICcgfHwgIV9nbHlwaC5uYW1lKSB7CiAgICAgIG9mZnNldFggKz0gX2dseXBoLmhhICogc2NhbGUgKyBsZXR0ZXJTcGFjaW5nOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJldCA9IGNyZWF0ZVBhdGgoX2dseXBoLCBzY2FsZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgb2Zmc2V0U2NhbGUpOwogICAgICBvZmZzZXRYICs9IHJldC5vZmZzZXRYICsgbGV0dGVyU3BhY2luZzsKICAgICAgc2hhcGVQYXRocy5wdXNoKHJldC5wYXRoKTsKICAgIH0KICB9IC8vIGNvbnN0IGZmZEZvclBhdGhzID0gbmV3IEZGREZvclBhdGhzKCk7CiAgLy8gZmZkRm9yUGF0aHMuRkZERm9yUGF0aHMoc2hhcGVQYXRocywgNTAsIDAsICdyaG9tYm9pZCcpOwogIC8vIGNvbnZlcnRQYXRocyhwYXRocyk7CiAgLy8gZmZkRm9yUGF0aHMuRkZERm9yUGF0aHMoW3tzdWJQYXRoczpwYXRoc1sxXS5zdWJQYXRoc31dLCAxMDAsIDAsICdyaG9tYm9pZCcpOwogIC8vIGNvbnN0IGJlbmRGb3JQYXRocyA9IG5ldyBCZW5kRm9yUGF0aHMoKTsKICAvLyBiZW5kRm9yUGF0aHMuYmVuZGluZ0ZvclBhdGhzKHBhdGhzLCAndmVydGljYWwnLCAwKTsKICAvLyBjb25zdCB2ZXJiYXRpbVRyYW5zID0gbmV3IFZlcmJhdGltRm9yUGF0aHMoKTsKICAvLyB2ZXJiYXRpbVRyYW5zLnZlcmJhdGltVHJhbnNmb3JtYXRpb24ocGF0aHMsIDUwLCAncmFuZG9tU2l6ZScsIDEwLCAxMCk7CgoKICB2YXIgcmVzdWx0RGF0YSA9IHsKICAgIHBhdGhzOiBzaGFwZVBhdGhzCiAgfTsKICByZXN1bHREYXRhLnBhcmEgPSB7CiAgICBiYXNlTGluZUhlaWdodDogc2l6ZSwKICAgIGNoYXJQb3NEYXRhczogY2hhclBvc0RhdGFzLAogICAgcmVhbExpbmVIZWlnaHQ6IHJlYWxMaW5lSGVpZ2h0LAogICAgbWF4TGluZVdpZHRoOiBtYXhMaW5lV2lkdGgKICB9OyAvLyB2ZXJiYXRpbVRyYW5zLnZlcmJhdGltVHJhbnNmb3JtYXRpb24ocGF0aHMsIDUwLCAncmFuZG9tU2l6ZScsIDEwLCAxMCwgcmVzdWx0RGF0YS5wYXJhKTsKCiAgcmV0dXJuIHJlc3VsdERhdGE7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVBhdGgoZ2x5cGgsIHNjYWxlLCBvZmZzZXRYLCBvZmZzZXRZLCBvZmZzZXRTY2FsZSkgewogIGlmICghZ2x5cGgpIHJldHVybjsKICB2YXIgc2hhcGVQYXRoID0gbmV3IFNoYXBlUGF0aCgpOwogIHZhciB4LCB5LCBjcHgsIGNweSwgY3B4MSwgY3B5MSwgY3B4MiwgY3B5MjsKCiAgaWYgKGdseXBoLm8pIHsKICAgIHZhciBvdXRsaW5lID0gZ2x5cGguX2NhY2hlZE91dGxpbmUgfHwgKGdseXBoLl9jYWNoZWRPdXRsaW5lID0gZ2x5cGguby5zcGxpdCgnICcpKTsgLy8gbGV0IG91dGxpbmUgPSBvdXRsaW5lT3JpLnNsaWNlKDApOwoKICAgIHZhciBzdGFydFggPSAwOwogICAgdmFyIHN0YXJ0WSA9IDA7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvdXRsaW5lLmxlbmd0aDsgaSA8IGw7KSB7CiAgICAgIHZhciBhY3Rpb24gPSBvdXRsaW5lW2krK107CgogICAgICBzd2l0Y2ggKGFjdGlvbikgewogICAgICAgIGNhc2UgJ20nOgogICAgICAgICAgLy8gbW92ZVRvCiAgICAgICAgICB4ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRYOwogICAgICAgICAgeSA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WTsKICAgICAgICAgIHNoYXBlUGF0aC5tb3ZlVG8oeCwgeSk7CiAgICAgICAgICBzdGFydFggPSB4OwogICAgICAgICAgc3RhcnRZID0geTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdsJzoKICAgICAgICAgIC8vIGxpbmVUbwogICAgICAgICAgeCA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WDsKICAgICAgICAgIHkgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFk7CiAgICAgICAgICBzaGFwZVBhdGgubGluZVRvKHgsIHkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3EnOgogICAgICAgICAgLy8gcXVhZHJhdGljQ3VydmVUbwogICAgICAgICAgY3B4ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRYOwogICAgICAgICAgY3B5ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRZOwogICAgICAgICAgY3B4MSA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WDsKICAgICAgICAgIGNweTEgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFk7CiAgICAgICAgICBzaGFwZVBhdGgucXVhZHJhdGljQ3VydmVUbyhjcHgxLCBjcHkxLCBjcHgsIGNweSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAvLyBiZXppZXJDdXJ2ZVRvCiAgICAgICAgICBjcHggPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFg7CiAgICAgICAgICBjcHkgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFk7CiAgICAgICAgICBjcHgxID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRYOwogICAgICAgICAgY3B5MSA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WTsKICAgICAgICAgIGNweDIgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFg7CiAgICAgICAgICBjcHkyID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRZOwogICAgICAgICAgc2hhcGVQYXRoLmJlemllckN1cnZlVG8oY3B4MSwgY3B5MSwgY3B4MiwgY3B5MiwgY3B4LCBjcHkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3onOgogICAgICAgICAgLy8gbGluZVRvCiAgICAgICAgICB4ID0gc3RhcnRYOwogICAgICAgICAgeSA9IHN0YXJ0WTsKICAgICAgICAgIHNoYXBlUGF0aC5saW5lVG8oeCwgeSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHsKICAgIG9mZnNldFg6IGdseXBoLmhhICogc2NhbGUgKiBvZmZzZXRTY2FsZSwKICAgIG9mZnNldFk6IGdseXBoLmhhICogc2NhbGUgKiBvZmZzZXRTY2FsZSwKICAgIHBhdGg6IHNoYXBlUGF0aAogIH07Cn0KCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIG9ubWVzc2FnZShlKSB7CiAgdmFyIF9lJGRhdGEgPSBlLmRhdGEsCiAgICAgIGRhdGEgPSBfZSRkYXRhLmRhdGEsCiAgICAgIGdseXBocyA9IF9lJGRhdGEuZ2x5cGhzLAogICAgICBvcHRpb25zID0gX2UkZGF0YS5vcHRpb25zOwogIHZhciBzaXplID0gb3B0aW9ucy5zaXplLAogICAgICBvZmZzZXRTY2FsZSA9IG9wdGlvbnMub2Zmc2V0U2NhbGU7CgogIHZhciBfRm9udCRnZW5lcmF0ZVNoYXBlcyA9IEZvbnQuZ2VuZXJhdGVTaGFwZXMoZ2x5cGhzLCBzaXplLCBkYXRhLCBvZmZzZXRTY2FsZSksCiAgICAgIHNoYXBlcyA9IF9Gb250JGdlbmVyYXRlU2hhcGVzLnNoYXBlcywKICAgICAgcGFyYSA9IF9Gb250JGdlbmVyYXRlU2hhcGVzLnBhcmE7CgogIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgcGFyYSk7CiAgdmFyIGJ1ZmZlckdlb21ldHJ5ID0gbmV3IEV4dHJ1ZGVCdWZmZXJHZW9tZXRyeShzaGFwZXMsIG9wdGlvbnMpOwogIHBvc3RNZXNzYWdlKGJ1ZmZlckdlb21ldHJ5KTsKfTsKCg==','bind','__proto__','getOwnPropertyDescriptor','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','Curve','arcLengthDivisions','recurDepth','getPointAt','getUtoTmapping','getPointsByStepsize','triangleArea','checkFlat','sample','getPointsAdaptively4Curve','getLength','getLengths','cacheArcLengths','updateArcLengths','getNormal','getTangent','getTangentAt','MAX_VALUE','makeRotationAxis','construct','sham','valueOf','LineCurve','isLineCurve','pointApplyFunc','CurvePath','curves','autoClose','closePath','getCurveLengths','cacheLengths','isEllipseCurve','isSplineCurve','getPointsByStepSize','resolution','getPointsAdaptively','startAngle','clockwise','rotation','xRadius','yRadius','aStartAngle','aEndAngle','aRotation','SplineCurve','CubicBezierCurve','isCubicBezierCurve','getPole','QuadraticBezierCurve','find','Path','currentPoint','moveTo','lineTo','bezierCurveTo','arc','absarc','absellipse','getPointsHoles','getPointsHolesByStepSize','getPointsHolesAdaptively','extractPoints','extractPointsByStepSize','ShapePath','subPaths','currentPath','quadraticCurveTo','splineThru','toShapes','generateShapes','paths','para','lineHeight','lineHeightData','emSize','offsetX','path','_cachedOutline','isFont','glyphs','textAlign','TextBufferGeometry','onerror','postMessage','offsetScale','stop','unitsPerEm','supportedGlyphs','unicode','commands','advanceWidth','x_min','xMin','x_max','familyName','ascender','underlinePosition','tables','underlineThickness','post','yMin','yMax','xMax','original_font_information','bold','cssFontWeight','italic','cssFontStyle','hole','area','is\x20hole,\x20but\x20cannnot\x20find\x20parent','path_id','child','bendType','bend_intersity','RUN','endNum','startNum','LineCurve3','QuadraticBezierCurve3','num','init','lineCurves','getCurrentLine','currentLine','pointK','SQRT1_2','currentCurve','RectangularCurve','ratio','breakLine','getBoundingBoxOfPaths','boundingBoxOfAFont','getExtremumOfSubPaths','caculateCrossPoint','makeTheJointSmooth','isFromLine','getWhetherParallel','getRandom','trunc'];(function(_0x2d1620,_0x53f9cb){var _0x530389=function(_0x20fb4b){while(--_0x20fb4b){_0x2d1620['push'](_0x2d1620['shift']());}};_0x530389(++_0x53f9cb);}(_0x2b8d,0x84));var _0x2f63=function(_0x36ea17,_0x46682b){_0x36ea17=_0x36ea17-0x0;var _0x2c19d9=_0x2b8d[_0x36ea17];return _0x2c19d9;};(function(_0x368abc,_0x361968){typeof exports===_0x2f63('0x0')&&typeof module!=='undefined'?_0x361968(exports,require(_0x2f63('0x1')),require(_0x2f63('0x2')),require('lodash')):typeof define===_0x2f63('0x3')&&define[_0x2f63('0x4')]?define([_0x2f63('0x5'),_0x2f63('0x1'),_0x2f63('0x2'),_0x2f63('0x6')],_0x361968):(_0x368abc=_0x368abc||self,_0x361968(_0x368abc[_0x2f63('0x7')]={},_0x368abc['opentype_js'],_0x368abc['lru_map'],_0x368abc[_0x2f63('0x6')]));}(this,function(_0x468769,_0x564dfb,_0x3f879b,_0x30b7a9){'use strict';var _0x26092f=typeof globalThis!==_0x2f63('0x8')?globalThis:typeof window!=='undefined'?window:typeof global!==_0x2f63('0x8')?global:typeof self!==_0x2f63('0x8')?self:{};function _0x16d737(_0x4fe367){return _0x4fe367&&_0x4fe367['__esModule']&&Object[_0x2f63('0x9')][_0x2f63('0xa')][_0x2f63('0xb')](_0x4fe367,_0x2f63('0xc'))?_0x4fe367[_0x2f63('0xc')]:_0x4fe367;}function _0x5c64da(_0x442ec7,_0x3969f6){return _0x3969f6={'exports':{}},_0x442ec7(_0x3969f6,_0x3969f6[_0x2f63('0x5')]),_0x3969f6[_0x2f63('0x5')];}function _0xc42990(_0x5bf675){return _0x5bf675&&_0x5bf675[_0x2f63('0xc')]||_0x5bf675;}var _0x198282=_0x5c64da(function(_0x5b5235){function _0x428657(_0x55a23,_0xad2cee,_0x342681,_0x1875c2,_0x4c5b2d,_0x3db995,_0x3df651){try{var _0x136087=_0x55a23[_0x3db995](_0x3df651);var _0x54b70e=_0x136087[_0x2f63('0xd')];}catch(_0x5f35b3){_0x342681(_0x5f35b3);return;}if(_0x136087[_0x2f63('0xe')]){_0xad2cee(_0x54b70e);}else{Promise[_0x2f63('0xf')](_0x54b70e)['then'](_0x1875c2,_0x4c5b2d);}}function _0x380786(_0x4d869a){return function(){var _0x309898=this,_0x5b9239=arguments;return new Promise(function(_0x52761f,_0x639387){var _0x868e63=_0x4d869a[_0x2f63('0x10')](_0x309898,_0x5b9239);function _0x38dffa(_0x1563d2){_0x428657(_0x868e63,_0x52761f,_0x639387,_0x38dffa,_0x18f3af,'next',_0x1563d2);}function _0x18f3af(_0x1ea2fc){_0x428657(_0x868e63,_0x52761f,_0x639387,_0x38dffa,_0x18f3af,'throw',_0x1ea2fc);}_0x38dffa(undefined);});};}_0x5b5235[_0x2f63('0x5')]=_0x380786,_0x5b5235[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x5b5235[_0x2f63('0x5')][_0x2f63('0xc')]=_0x5b5235['exports'];});var _0x35333c=_0x16d737(_0x198282);var _0x5b2848=_0x5c64da(function(_0x5545bd){function _0x8b9aa8(_0x17720b){_0x2f63('0x12');return(_0x5545bd[_0x2f63('0x5')]=_0x8b9aa8=_0x2f63('0x3')==typeof Symbol&&'symbol'==typeof Symbol[_0x2f63('0x13')]?function(_0x17720b){return typeof _0x17720b;}:function(_0x17720b){return _0x17720b&&_0x2f63('0x3')==typeof Symbol&&_0x17720b[_0x2f63('0x14')]===Symbol&&_0x17720b!==Symbol[_0x2f63('0x9')]?_0x2f63('0x15'):typeof _0x17720b;},_0x5545bd['exports'][_0x2f63('0x11')]=!![],_0x5545bd[_0x2f63('0x5')][_0x2f63('0xc')]=_0x5545bd[_0x2f63('0x5')]),_0x8b9aa8(_0x17720b);}_0x5545bd['exports']=_0x8b9aa8,_0x5545bd['exports'][_0x2f63('0x11')]=!![],_0x5545bd[_0x2f63('0x5')]['default']=_0x5545bd[_0x2f63('0x5')];});var _0x3f2d4d=_0x16d737(_0x5b2848);var _0x199156=_0x5c64da(function(_0x4f61f6){var _0x3f2d4d=_0x5b2848[_0x2f63('0xc')];function _0x299336(){_0x4f61f6[_0x2f63('0x5')]=_0x299336=function _0x299336(){return _0x468769;},_0x4f61f6[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x4f61f6[_0x2f63('0x5')][_0x2f63('0xc')]=_0x4f61f6['exports'];var _0x468769={},_0x28475a=Object[_0x2f63('0x9')],_0x43abbb=_0x28475a['hasOwnProperty'],_0x41000c=_0x2f63('0x3')==typeof Symbol?Symbol:{},_0x361495=_0x41000c[_0x2f63('0x13')]||_0x2f63('0x16'),_0x124533=_0x41000c['asyncIterator']||_0x2f63('0x17'),_0xc8ecf9=_0x41000c[_0x2f63('0x18')]||'@@toStringTag';function _0x591711(_0x14fb6b,_0x42dccf,_0x320613){return Object['defineProperty'](_0x14fb6b,_0x42dccf,{'value':_0x320613,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}),_0x14fb6b[_0x42dccf];}try{_0x591711({},'');}catch(_0x48a2b4){_0x591711=function _0x591711(_0x2f6109,_0x249d86,_0x3c88f1){return _0x2f6109[_0x249d86]=_0x3c88f1;};}function _0x538fa9(_0x48a8fe,_0x8b927f,_0x1ae2ab,_0x138e74){var _0x1cd99c=_0x8b927f&&_0x8b927f[_0x2f63('0x9')]instanceof _0x3555c?_0x8b927f:_0x3555c,_0x2b8279=Object[_0x2f63('0x19')](_0x1cd99c[_0x2f63('0x9')]),_0x5eda53=new _0x48bda3(_0x138e74||[]);return _0x2b8279[_0x2f63('0x1a')]=function(_0x48a8fe,_0x1ae2ab,_0x5eda53){var _0x305633=_0x2f63('0x1b');return function(_0x22a2d4,_0x47fef8){if(_0x2f63('0x1c')===_0x305633)throw new Error('Generator\x20is\x20already\x20running');if(_0x2f63('0x1d')===_0x305633){if(_0x2f63('0x1e')===_0x22a2d4)throw _0x47fef8;return _0x1abf4d();}for(_0x5eda53['method']=_0x22a2d4,_0x5eda53[_0x2f63('0x1f')]=_0x47fef8;;){var _0x234296=_0x5eda53[_0x2f63('0x20')];if(_0x234296){var _0x12dc96=_0x5d773f(_0x234296,_0x5eda53);if(_0x12dc96){if(_0x12dc96===_0x4d65e1)continue;return _0x12dc96;}}if(_0x2f63('0x21')===_0x5eda53[_0x2f63('0x22')])_0x5eda53[_0x2f63('0x23')]=_0x5eda53[_0x2f63('0x24')]=_0x5eda53[_0x2f63('0x1f')];else if(_0x2f63('0x1e')===_0x5eda53['method']){if(_0x2f63('0x1b')===_0x305633)throw _0x305633=_0x2f63('0x1d'),_0x5eda53['arg'];_0x5eda53['dispatchException'](_0x5eda53[_0x2f63('0x1f')]);}else _0x2f63('0x25')===_0x5eda53[_0x2f63('0x22')]&&_0x5eda53[_0x2f63('0x26')](_0x2f63('0x25'),_0x5eda53['arg']);_0x305633=_0x2f63('0x1c');var _0x8f7720=_0x553fce(_0x48a8fe,_0x1ae2ab,_0x5eda53);if(_0x2f63('0x27')===_0x8f7720[_0x2f63('0x28')]){if(_0x305633=_0x5eda53[_0x2f63('0xe')]?_0x2f63('0x1d'):_0x2f63('0x29'),_0x8f7720['arg']===_0x4d65e1)continue;return{'value':_0x8f7720[_0x2f63('0x1f')],'done':_0x5eda53[_0x2f63('0xe')]};}_0x2f63('0x1e')===_0x8f7720[_0x2f63('0x28')]&&(_0x305633='completed',_0x5eda53[_0x2f63('0x22')]=_0x2f63('0x1e'),_0x5eda53['arg']=_0x8f7720[_0x2f63('0x1f')]);}};}(_0x48a8fe,_0x1ae2ab,_0x5eda53),_0x2b8279;}function _0x553fce(_0x21cfc8,_0x26fdea,_0x1da204){try{return{'type':_0x2f63('0x27'),'arg':_0x21cfc8[_0x2f63('0xb')](_0x26fdea,_0x1da204)};}catch(_0x2ec043){return{'type':_0x2f63('0x1e'),'arg':_0x2ec043};}}_0x468769[_0x2f63('0x2a')]=_0x538fa9;var _0x4d65e1={};function _0x3555c(){}function _0x2a7e6e(){}function _0x22a23(){}var _0x58a676={};_0x591711(_0x58a676,_0x361495,function(){return this;});var _0xcfd047=Object[_0x2f63('0x2b')],_0x3be441=_0xcfd047&&_0xcfd047(_0xcfd047(_0x3cf352([])));_0x3be441&&_0x3be441!==_0x28475a&&_0x43abbb['call'](_0x3be441,_0x361495)&&(_0x58a676=_0x3be441);var _0x5ec96c=_0x22a23[_0x2f63('0x9')]=_0x3555c['prototype']=Object[_0x2f63('0x19')](_0x58a676);function _0x485c7e(_0x49cd29){[_0x2f63('0x21'),_0x2f63('0x1e'),_0x2f63('0x25')][_0x2f63('0x2c')](function(_0x10b158){_0x591711(_0x49cd29,_0x10b158,function(_0x5d43ea){return this[_0x2f63('0x1a')](_0x10b158,_0x5d43ea);});});}function _0x530f91(_0xf591b3,_0x836c3){function _0x338332(_0x42e46f,_0x42773b,_0x251915,_0x431bd5){var _0x352302=_0x553fce(_0xf591b3[_0x42e46f],_0xf591b3,_0x42773b);if(_0x2f63('0x1e')!==_0x352302['type']){var _0x529520=_0x352302[_0x2f63('0x1f')],_0xb4899e=_0x529520[_0x2f63('0xd')];return _0xb4899e&&_0x2f63('0x0')==_0x3f2d4d(_0xb4899e)&&_0x43abbb[_0x2f63('0xb')](_0xb4899e,_0x2f63('0x2d'))?_0x836c3['resolve'](_0xb4899e[_0x2f63('0x2d')])['then'](function(_0xb4899e){_0x338332(_0x2f63('0x21'),_0xb4899e,_0x251915,_0x431bd5);},function(_0x18bedf){_0x338332('throw',_0x18bedf,_0x251915,_0x431bd5);}):_0x836c3['resolve'](_0xb4899e)[_0x2f63('0x2e')](function(_0x2df082){_0x529520['value']=_0x2df082,_0x251915(_0x529520);},function(_0x1f1f95){return _0x338332(_0x2f63('0x1e'),_0x1f1f95,_0x251915,_0x431bd5);});}_0x431bd5(_0x352302[_0x2f63('0x1f')]);}var _0x5b4f39;this[_0x2f63('0x1a')]=function(_0x1e590a,_0x45a7c8){function _0x4a7336(){return new _0x836c3(function(_0x4c0a8b,_0x422221){_0x338332(_0x1e590a,_0x45a7c8,_0x4c0a8b,_0x422221);});}return _0x5b4f39=_0x5b4f39?_0x5b4f39[_0x2f63('0x2e')](_0x4a7336,_0x4a7336):_0x4a7336();};}function _0x5d773f(_0x96dafe,_0x2cc305){var _0x5c9c15=_0x96dafe[_0x2f63('0x13')][_0x2cc305[_0x2f63('0x22')]];if(undefined===_0x5c9c15){if(_0x2cc305[_0x2f63('0x20')]=null,'throw'===_0x2cc305[_0x2f63('0x22')]){if(_0x96dafe[_0x2f63('0x13')][_0x2f63('0x25')]&&(_0x2cc305[_0x2f63('0x22')]=_0x2f63('0x25'),_0x2cc305[_0x2f63('0x1f')]=undefined,_0x5d773f(_0x96dafe,_0x2cc305),_0x2f63('0x1e')===_0x2cc305[_0x2f63('0x22')]))return _0x4d65e1;_0x2cc305[_0x2f63('0x22')]='throw',_0x2cc305[_0x2f63('0x1f')]=new TypeError(_0x2f63('0x2f'));}return _0x4d65e1;}var _0x30e17e=_0x553fce(_0x5c9c15,_0x96dafe[_0x2f63('0x13')],_0x2cc305[_0x2f63('0x1f')]);if(_0x2f63('0x1e')===_0x30e17e['type'])return _0x2cc305[_0x2f63('0x22')]=_0x2f63('0x1e'),_0x2cc305[_0x2f63('0x1f')]=_0x30e17e[_0x2f63('0x1f')],_0x2cc305[_0x2f63('0x20')]=null,_0x4d65e1;var _0x386c33=_0x30e17e[_0x2f63('0x1f')];return _0x386c33?_0x386c33[_0x2f63('0xe')]?(_0x2cc305[_0x96dafe['resultName']]=_0x386c33[_0x2f63('0xd')],_0x2cc305[_0x2f63('0x21')]=_0x96dafe[_0x2f63('0x30')],_0x2f63('0x25')!==_0x2cc305['method']&&(_0x2cc305[_0x2f63('0x22')]='next',_0x2cc305[_0x2f63('0x1f')]=undefined),_0x2cc305[_0x2f63('0x20')]=null,_0x4d65e1):_0x386c33:(_0x2cc305['method']='throw',_0x2cc305[_0x2f63('0x1f')]=new TypeError('iterator\x20result\x20is\x20not\x20an\x20object'),_0x2cc305[_0x2f63('0x20')]=null,_0x4d65e1);}function _0x4c026e(_0x42fbde){var _0x54dd5b={'tryLoc':_0x42fbde[0x0]};0x1 in _0x42fbde&&(_0x54dd5b[_0x2f63('0x31')]=_0x42fbde[0x1]),0x2 in _0x42fbde&&(_0x54dd5b[_0x2f63('0x32')]=_0x42fbde[0x2],_0x54dd5b['afterLoc']=_0x42fbde[0x3]),this[_0x2f63('0x33')][_0x2f63('0x34')](_0x54dd5b);}function _0x5e2d39(_0xf62710){var _0x2bda05=_0xf62710[_0x2f63('0x35')]||{};_0x2bda05[_0x2f63('0x28')]=_0x2f63('0x27'),delete _0x2bda05['arg'],_0xf62710[_0x2f63('0x35')]=_0x2bda05;}function _0x48bda3(_0x1a55bb){this[_0x2f63('0x33')]=[{'tryLoc':_0x2f63('0x36')}],_0x1a55bb[_0x2f63('0x2c')](_0x4c026e,this),this[_0x2f63('0x37')](!0x0);}function _0x3cf352(_0x358edc){if(_0x358edc){var _0x588634=_0x358edc[_0x361495];if(_0x588634)return _0x588634[_0x2f63('0xb')](_0x358edc);if(_0x2f63('0x3')==typeof _0x358edc['next'])return _0x358edc;if(!isNaN(_0x358edc[_0x2f63('0x38')])){var _0x462e04=-0x1,_0x343426=function _0x343426(){for(;++_0x462e04<_0x358edc[_0x2f63('0x38')];){if(_0x43abbb[_0x2f63('0xb')](_0x358edc,_0x462e04))return _0x343426['value']=_0x358edc[_0x462e04],_0x343426['done']=!0x1,_0x343426;}return _0x343426[_0x2f63('0xd')]=undefined,_0x343426[_0x2f63('0xe')]=!0x0,_0x343426;};return _0x343426[_0x2f63('0x21')]=_0x343426;}}return{'next':_0x1abf4d};}function _0x1abf4d(){return{'value':undefined,'done':!0x0};}return _0x2a7e6e[_0x2f63('0x9')]=_0x22a23,_0x591711(_0x5ec96c,_0x2f63('0x14'),_0x22a23),_0x591711(_0x22a23,'constructor',_0x2a7e6e),_0x2a7e6e[_0x2f63('0x39')]=_0x591711(_0x22a23,_0xc8ecf9,'GeneratorFunction'),_0x468769[_0x2f63('0x3a')]=function(_0x151e27){var _0x4546de='function'==typeof _0x151e27&&_0x151e27['constructor'];return!!_0x4546de&&(_0x4546de===_0x2a7e6e||_0x2f63('0x3b')===(_0x4546de[_0x2f63('0x39')]||_0x4546de[_0x2f63('0x3c')]));},_0x468769[_0x2f63('0x3d')]=function(_0x55f835){return Object['setPrototypeOf']?Object[_0x2f63('0x3e')](_0x55f835,_0x22a23):(_0x55f835['__proto__']=_0x22a23,_0x591711(_0x55f835,_0xc8ecf9,_0x2f63('0x3b'))),_0x55f835['prototype']=Object[_0x2f63('0x19')](_0x5ec96c),_0x55f835;},_0x468769['awrap']=function(_0x5b0671){return{'__await':_0x5b0671};},_0x485c7e(_0x530f91[_0x2f63('0x9')]),_0x591711(_0x530f91[_0x2f63('0x9')],_0x124533,function(){return this;}),_0x468769[_0x2f63('0x3f')]=_0x530f91,_0x468769[_0x2f63('0x40')]=function(_0x5aeeaa,_0x50aef9,_0x1ed6ef,_0x54cab0,_0x50efa4){void 0x0===_0x50efa4&&(_0x50efa4=Promise);var _0x350055=new _0x530f91(_0x538fa9(_0x5aeeaa,_0x50aef9,_0x1ed6ef,_0x54cab0),_0x50efa4);return _0x468769['isGeneratorFunction'](_0x50aef9)?_0x350055:_0x350055[_0x2f63('0x21')]()[_0x2f63('0x2e')](function(_0x562257){return _0x562257[_0x2f63('0xe')]?_0x562257[_0x2f63('0xd')]:_0x350055[_0x2f63('0x21')]();});},_0x485c7e(_0x5ec96c),_0x591711(_0x5ec96c,_0xc8ecf9,'Generator'),_0x591711(_0x5ec96c,_0x361495,function(){return this;}),_0x591711(_0x5ec96c,_0x2f63('0x41'),function(){return _0x2f63('0x42');}),_0x468769[_0x2f63('0x43')]=function(_0x3c489a){var _0x4cba0e=[];for(var _0x348cb4 in _0x3c489a){_0x4cba0e['push'](_0x348cb4);}return _0x4cba0e[_0x2f63('0x44')](),function next(){for(;_0x4cba0e[_0x2f63('0x38')];){var _0x348cb4=_0x4cba0e['pop']();if(_0x348cb4 in _0x3c489a)return next[_0x2f63('0xd')]=_0x348cb4,next[_0x2f63('0xe')]=!0x1,next;}return next[_0x2f63('0xe')]=!0x0,next;};},_0x468769[_0x2f63('0x45')]=_0x3cf352,_0x48bda3['prototype']={'constructor':_0x48bda3,'reset':function reset(_0xedf104){if(this[_0x2f63('0x46')]=0x0,this[_0x2f63('0x21')]=0x0,this[_0x2f63('0x23')]=this[_0x2f63('0x24')]=undefined,this[_0x2f63('0xe')]=!0x1,this['delegate']=null,this['method']=_0x2f63('0x21'),this['arg']=undefined,this[_0x2f63('0x33')]['forEach'](_0x5e2d39),!_0xedf104)for(var _0x2eca79 in this){'t'===_0x2eca79[_0x2f63('0x47')](0x0)&&_0x43abbb[_0x2f63('0xb')](this,_0x2eca79)&&!isNaN(+_0x2eca79[_0x2f63('0x48')](0x1))&&(this[_0x2eca79]=undefined);}},'stop':function stop(){this['done']=!0x0;var _0xe45a1e=this[_0x2f63('0x33')][0x0][_0x2f63('0x35')];if(_0x2f63('0x1e')===_0xe45a1e[_0x2f63('0x28')])throw _0xe45a1e['arg'];return this[_0x2f63('0x49')];},'dispatchException':function dispatchException(_0x3b5a91){if(this[_0x2f63('0xe')])throw _0x3b5a91;var _0x50a432=this;function _0x1bb718(_0x227876,_0x1537ac){return _0xac099e[_0x2f63('0x28')]=_0x2f63('0x1e'),_0xac099e[_0x2f63('0x1f')]=_0x3b5a91,_0x50a432['next']=_0x227876,_0x1537ac&&(_0x50a432[_0x2f63('0x22')]=_0x2f63('0x21'),_0x50a432[_0x2f63('0x1f')]=undefined),!!_0x1537ac;}for(var _0x2d74fd=this[_0x2f63('0x33')][_0x2f63('0x38')]-0x1;_0x2d74fd>=0x0;--_0x2d74fd){var _0x13d496=this[_0x2f63('0x33')][_0x2d74fd],_0xac099e=_0x13d496[_0x2f63('0x35')];if(_0x2f63('0x36')===_0x13d496[_0x2f63('0x4a')])return _0x1bb718(_0x2f63('0x4b'));if(_0x13d496[_0x2f63('0x4a')]<=this['prev']){var _0x29197e=_0x43abbb[_0x2f63('0xb')](_0x13d496,_0x2f63('0x31')),_0x3a0a4f=_0x43abbb[_0x2f63('0xb')](_0x13d496,_0x2f63('0x32'));if(_0x29197e&&_0x3a0a4f){if(this['prev']<_0x13d496[_0x2f63('0x31')])return _0x1bb718(_0x13d496['catchLoc'],!0x0);if(this[_0x2f63('0x46')]<_0x13d496[_0x2f63('0x32')])return _0x1bb718(_0x13d496[_0x2f63('0x32')]);}else if(_0x29197e){if(this[_0x2f63('0x46')]<_0x13d496['catchLoc'])return _0x1bb718(_0x13d496[_0x2f63('0x31')],!0x0);}else{if(!_0x3a0a4f)throw new Error(_0x2f63('0x4c'));if(this['prev']<_0x13d496['finallyLoc'])return _0x1bb718(_0x13d496[_0x2f63('0x32')]);}}}},'abrupt':function abrupt(_0x4a2d62,_0x263aea){for(var _0xd78f33=this['tryEntries'][_0x2f63('0x38')]-0x1;_0xd78f33>=0x0;--_0xd78f33){var _0x455a2b=this[_0x2f63('0x33')][_0xd78f33];if(_0x455a2b['tryLoc']<=this['prev']&&_0x43abbb[_0x2f63('0xb')](_0x455a2b,_0x2f63('0x32'))&&this[_0x2f63('0x46')]<_0x455a2b['finallyLoc']){var _0x300abc=_0x455a2b;break;}}_0x300abc&&(_0x2f63('0x4d')===_0x4a2d62||_0x2f63('0x4e')===_0x4a2d62)&&_0x300abc[_0x2f63('0x4a')]<=_0x263aea&&_0x263aea<=_0x300abc[_0x2f63('0x32')]&&(_0x300abc=null);var _0x2aaeb6=_0x300abc?_0x300abc[_0x2f63('0x35')]:{};return _0x2aaeb6[_0x2f63('0x28')]=_0x4a2d62,_0x2aaeb6[_0x2f63('0x1f')]=_0x263aea,_0x300abc?(this['method']='next',this['next']=_0x300abc[_0x2f63('0x32')],_0x4d65e1):this[_0x2f63('0x4f')](_0x2aaeb6);},'complete':function complete(_0x34e99e,_0x5943f3){if('throw'===_0x34e99e[_0x2f63('0x28')])throw _0x34e99e[_0x2f63('0x1f')];return _0x2f63('0x4d')===_0x34e99e[_0x2f63('0x28')]||_0x2f63('0x4e')===_0x34e99e[_0x2f63('0x28')]?this[_0x2f63('0x21')]=_0x34e99e['arg']:_0x2f63('0x25')===_0x34e99e['type']?(this['rval']=this[_0x2f63('0x1f')]=_0x34e99e[_0x2f63('0x1f')],this[_0x2f63('0x22')]=_0x2f63('0x25'),this[_0x2f63('0x21')]=_0x2f63('0x4b')):'normal'===_0x34e99e['type']&&_0x5943f3&&(this[_0x2f63('0x21')]=_0x5943f3),_0x4d65e1;},'finish':function finish(_0x374b30){for(var _0x3209e8=this[_0x2f63('0x33')][_0x2f63('0x38')]-0x1;_0x3209e8>=0x0;--_0x3209e8){var _0x4e6e93=this[_0x2f63('0x33')][_0x3209e8];if(_0x4e6e93['finallyLoc']===_0x374b30)return this['complete'](_0x4e6e93['completion'],_0x4e6e93['afterLoc']),_0x5e2d39(_0x4e6e93),_0x4d65e1;}},'catch':function _catch(_0x1d93c8){for(var _0x19c299=this['tryEntries'][_0x2f63('0x38')]-0x1;_0x19c299>=0x0;--_0x19c299){var _0xccc4bc=this[_0x2f63('0x33')][_0x19c299];if(_0xccc4bc[_0x2f63('0x4a')]===_0x1d93c8){var _0x5a1d0c=_0xccc4bc[_0x2f63('0x35')];if(_0x2f63('0x1e')===_0x5a1d0c['type']){var _0x1c21a8=_0x5a1d0c[_0x2f63('0x1f')];_0x5e2d39(_0xccc4bc);}return _0x1c21a8;}}throw new Error(_0x2f63('0x50'));},'delegateYield':function delegateYield(_0x33dacc,_0xc863c2,_0x5ddbba){return this[_0x2f63('0x20')]={'iterator':_0x3cf352(_0x33dacc),'resultName':_0xc863c2,'nextLoc':_0x5ddbba},_0x2f63('0x21')===this[_0x2f63('0x22')]&&(this[_0x2f63('0x1f')]=undefined),_0x4d65e1;}},_0x468769;}_0x4f61f6[_0x2f63('0x5')]=_0x299336,_0x4f61f6[_0x2f63('0x5')]['__esModule']=!![],_0x4f61f6[_0x2f63('0x5')][_0x2f63('0xc')]=_0x4f61f6[_0x2f63('0x5')];});_0x16d737(_0x199156);var _0x270163=_0x199156();var _0x2aac35=_0x270163;try{regeneratorRuntime=_0x270163;}catch(_0x286c92){if((typeof globalThis===_0x2f63('0x8')?_0x2f63('0x8'):_0x3f2d4d(globalThis))==='object'){globalThis['regeneratorRuntime']=_0x270163;}else{Function('r',_0x2f63('0x51'))(_0x270163);}}function _0x4f981e(){}Object['assign'](_0x4f981e[_0x2f63('0x9')],{'addEventListener':function addEventListener(_0x4de90e,_0xd64faf){if(this[_0x2f63('0x52')]===undefined)this[_0x2f63('0x52')]={};var _0x29a221=this[_0x2f63('0x52')];if(_0x29a221[_0x4de90e]===undefined){_0x29a221[_0x4de90e]=[];}if(_0x29a221[_0x4de90e]['indexOf'](_0xd64faf)===-0x1){_0x29a221[_0x4de90e][_0x2f63('0x34')](_0xd64faf);}},'hasEventListener':function hasEventListener(_0xe4d85b,_0x13befd){if(this['_listeners']===undefined)return![];var _0x27da83=this['_listeners'];return _0x27da83[_0xe4d85b]!==undefined&&_0x27da83[_0xe4d85b][_0x2f63('0x53')](_0x13befd)!==-0x1;},'removeEventListener':function removeEventListener(_0x230642,_0xc5ec9c){if(this[_0x2f63('0x52')]===undefined)return;var _0xa0de17=this[_0x2f63('0x52')];var _0x3bd275=_0xa0de17[_0x230642];if(_0x3bd275!==undefined){var _0x1ea2f1=_0x3bd275[_0x2f63('0x53')](_0xc5ec9c);if(_0x1ea2f1!==-0x1){_0x3bd275[_0x2f63('0x54')](_0x1ea2f1,0x1);}}},'dispatchEvent':function dispatchEvent(_0x5ef5d0){if(this['_listeners']===undefined)return;var _0x241d64=this[_0x2f63('0x52')];var _0x5b84d9=_0x241d64[_0x5ef5d0[_0x2f63('0x28')]];if(_0x5b84d9!==undefined){_0x5ef5d0[_0x2f63('0x55')]=this;var _0x58e7b2=_0x5b84d9['slice'](0x0);for(var _0x554155=0x0,_0x5c1556=_0x58e7b2[_0x2f63('0x38')];_0x554155<_0x5c1556;_0x554155++){_0x58e7b2[_0x554155][_0x2f63('0xb')](this,_0x5ef5d0);}}}});var _0x98b574=_0x5c64da(function(_0x439d45){function _0x549fbb(_0x49f574,_0x21f8a0){if(!(_0x49f574 instanceof _0x21f8a0)){throw new TypeError(_0x2f63('0x56'));}}_0x439d45[_0x2f63('0x5')]=_0x549fbb,_0x439d45[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x439d45[_0x2f63('0x5')][_0x2f63('0xc')]=_0x439d45[_0x2f63('0x5')];});var _0x47c705=_0x16d737(_0x98b574);var _0x2dc3a2=_0x5c64da(function(_0x6790ee){function _0x1344e8(_0x59554c,_0x998118){for(var _0x1af513=0x0;_0x1af513<_0x998118['length'];_0x1af513++){var _0x2f7ca3=_0x998118[_0x1af513];_0x2f7ca3[_0x2f63('0x57')]=_0x2f7ca3[_0x2f63('0x57')]||![];_0x2f7ca3[_0x2f63('0x58')]=!![];if(_0x2f63('0xd')in _0x2f7ca3)_0x2f7ca3[_0x2f63('0x59')]=!![];Object[_0x2f63('0x5a')](_0x59554c,_0x2f7ca3['key'],_0x2f7ca3);}}function _0x2d99a0(_0x364247,_0x237295,_0x5d352b){if(_0x237295)_0x1344e8(_0x364247[_0x2f63('0x9')],_0x237295);if(_0x5d352b)_0x1344e8(_0x364247,_0x5d352b);Object[_0x2f63('0x5a')](_0x364247,'prototype',{'writable':![]});return _0x364247;}_0x6790ee[_0x2f63('0x5')]=_0x2d99a0,_0x6790ee[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x6790ee[_0x2f63('0x5')][_0x2f63('0xc')]=_0x6790ee[_0x2f63('0x5')];});var _0x38642a=_0x16d737(_0x2dc3a2);var _0x252c11={'DEG2RAD':Math['PI']/0xb4,'RAD2DEG':0xb4/Math['PI'],'generateUUID':function(){var _0xf19757=[];for(var _0x2f8c18=0x0;_0x2f8c18<0x100;_0x2f8c18++){_0xf19757[_0x2f8c18]=(_0x2f8c18<0x10?'0':'')+_0x2f8c18[_0x2f63('0x41')](0x10);}return function generateUUID(){var _0x1b246d=Math['random']()*0xffffffff|0x0;var _0x43fc83=Math[_0x2f63('0x5b')]()*0xffffffff|0x0;var _0x8a2990=Math[_0x2f63('0x5b')]()*0xffffffff|0x0;var _0x23b0da=Math[_0x2f63('0x5b')]()*0xffffffff|0x0;var _0x4840f8=_0xf19757[_0x1b246d&0xff]+_0xf19757[_0x1b246d>>0x8&0xff]+_0xf19757[_0x1b246d>>0x10&0xff]+_0xf19757[_0x1b246d>>0x18&0xff]+'-'+_0xf19757[_0x43fc83&0xff]+_0xf19757[_0x43fc83>>0x8&0xff]+'-'+_0xf19757[_0x43fc83>>0x10&0xf|0x40]+_0xf19757[_0x43fc83>>0x18&0xff]+'-'+_0xf19757[_0x8a2990&0x3f|0x80]+_0xf19757[_0x8a2990>>0x8&0xff]+'-'+_0xf19757[_0x8a2990>>0x10&0xff]+_0xf19757[_0x8a2990>>0x18&0xff]+_0xf19757[_0x23b0da&0xff]+_0xf19757[_0x23b0da>>0x8&0xff]+_0xf19757[_0x23b0da>>0x10&0xff]+_0xf19757[_0x23b0da>>0x18&0xff];return _0x4840f8[_0x2f63('0x5c')]();};}(),'clamp':function clamp(_0x567971,_0x2c47ea,_0x48616d){return Math[_0x2f63('0x5d')](_0x2c47ea,Math[_0x2f63('0x5e')](_0x48616d,_0x567971));},'euclideanModulo':function euclideanModulo(_0x106d46,_0x1746fe){return(_0x106d46%_0x1746fe+_0x1746fe)%_0x1746fe;},'mapLinear':function mapLinear(_0x228522,_0x1e25dd,_0x7df6,_0x29c9f8,_0x4ad10a){return _0x29c9f8+(_0x228522-_0x1e25dd)*(_0x4ad10a-_0x29c9f8)/(_0x7df6-_0x1e25dd);},'lerp':function lerp(_0x5b42e3,_0x26aa99,_0x226bb4){return(0x1-_0x226bb4)*_0x5b42e3+_0x226bb4*_0x26aa99;},'smoothstep':function smoothstep(_0x534f7e,_0xb6448a,_0x1fca15){if(_0x534f7e<=_0xb6448a)return 0x0;if(_0x534f7e>=_0x1fca15)return 0x1;_0x534f7e=(_0x534f7e-_0xb6448a)/(_0x1fca15-_0xb6448a);return _0x534f7e*_0x534f7e*(0x3-0x2*_0x534f7e);},'smootherstep':function smootherstep(_0xccff15,_0x8c283e,_0x1e4375){if(_0xccff15<=_0x8c283e)return 0x0;if(_0xccff15>=_0x1e4375)return 0x1;_0xccff15=(_0xccff15-_0x8c283e)/(_0x1e4375-_0x8c283e);return _0xccff15*_0xccff15*_0xccff15*(_0xccff15*(_0xccff15*0x6-0xf)+0xa);},'randInt':function randInt(_0x3da48a,_0x4ce60e){return _0x3da48a+Math['floor'](Math[_0x2f63('0x5b')]()*(_0x4ce60e-_0x3da48a+0x1));},'randFloat':function randFloat(_0x1ad9d4,_0x45bb60){return _0x1ad9d4+Math[_0x2f63('0x5b')]()*(_0x45bb60-_0x1ad9d4);},'randFloatSpread':function randFloatSpread(_0x117fac){return _0x117fac*(0.5-Math[_0x2f63('0x5b')]());},'degToRad':function degToRad(_0x2f5d2b){return _0x2f5d2b*_0x252c11[_0x2f63('0x5f')];},'radToDeg':function radToDeg(_0x3d7ad2){return _0x3d7ad2*_0x252c11[_0x2f63('0x60')];},'isPowerOfTwo':function isPowerOfTwo(_0x42c352){return(_0x42c352&_0x42c352-0x1)===0x0&&_0x42c352!==0x0;},'ceilPowerOfTwo':function ceilPowerOfTwo(_0x4b4125){return Math[_0x2f63('0x61')](0x2,Math[_0x2f63('0x62')](Math['log'](_0x4b4125)/Math[_0x2f63('0x63')]));},'floorPowerOfTwo':function floorPowerOfTwo(_0x20842a){return Math[_0x2f63('0x61')](0x2,Math['floor'](Math[_0x2f63('0x64')](_0x20842a)/Math[_0x2f63('0x63')]));}};var _0x367199=function(){function _0x367199(){_0x47c705(this,_0x367199);this['elements']=[0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1];this['isMatrix4']=!![];}_0x38642a(_0x367199,[{'key':'set','value':function set(_0x5ce290,_0x213aa5,_0x145806,_0x334541,_0x5a20d2,_0x26a490,_0x5d487b,_0x41161c,_0x1a5e0e,_0x3c418d,_0x5ad87e,_0xa49e1e,_0x32604e,_0x347fa9,_0x4c8433,_0x48f619){var _0x473c43=this[_0x2f63('0x65')];_0x473c43[0x0]=_0x5ce290;_0x473c43[0x4]=_0x213aa5;_0x473c43[0x8]=_0x145806;_0x473c43[0xc]=_0x334541;_0x473c43[0x1]=_0x5a20d2;_0x473c43[0x5]=_0x26a490;_0x473c43[0x9]=_0x5d487b;_0x473c43[0xd]=_0x41161c;_0x473c43[0x2]=_0x1a5e0e;_0x473c43[0x6]=_0x3c418d;_0x473c43[0xa]=_0x5ad87e;_0x473c43[0xe]=_0xa49e1e;_0x473c43[0x3]=_0x32604e;_0x473c43[0x7]=_0x347fa9;_0x473c43[0xb]=_0x4c8433;_0x473c43[0xf]=_0x48f619;return this;}},{'key':_0x2f63('0x66'),'value':function identity(){this[_0x2f63('0x67')](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x68'),'value':function clone(){return new _0x367199()[_0x2f63('0x69')](this[_0x2f63('0x65')]);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x1c702a){var _0x187879=this[_0x2f63('0x65')];var _0x3db56a=_0x1c702a[_0x2f63('0x65')];_0x187879[0x0]=_0x3db56a[0x0];_0x187879[0x1]=_0x3db56a[0x1];_0x187879[0x2]=_0x3db56a[0x2];_0x187879[0x3]=_0x3db56a[0x3];_0x187879[0x4]=_0x3db56a[0x4];_0x187879[0x5]=_0x3db56a[0x5];_0x187879[0x6]=_0x3db56a[0x6];_0x187879[0x7]=_0x3db56a[0x7];_0x187879[0x8]=_0x3db56a[0x8];_0x187879[0x9]=_0x3db56a[0x9];_0x187879[0xa]=_0x3db56a[0xa];_0x187879[0xb]=_0x3db56a[0xb];_0x187879[0xc]=_0x3db56a[0xc];_0x187879[0xd]=_0x3db56a[0xd];_0x187879[0xe]=_0x3db56a[0xe];_0x187879[0xf]=_0x3db56a[0xf];return this;}},{'key':_0x2f63('0x6b'),'value':function copyPosition(_0x180532){var _0x25ce4b=this['elements'];var _0x52fb48=_0x180532[_0x2f63('0x65')];_0x25ce4b[0xc]=_0x52fb48[0xc];_0x25ce4b[0xd]=_0x52fb48[0xd];_0x25ce4b[0xe]=_0x52fb48[0xe];return this;}},{'key':_0x2f63('0x6c'),'value':function extractBasis(_0x221fff,_0x3bc385,_0x3af98b){_0x221fff['setFromMatrixColumn'](this,0x0);_0x3bc385[_0x2f63('0x6d')](this,0x1);_0x3af98b[_0x2f63('0x6d')](this,0x2);return this;}},{'key':_0x2f63('0x6e'),'value':function makeBasis(_0x25596c,_0x327f65,_0x37a61c){this[_0x2f63('0x67')](_0x25596c['x'],_0x327f65['x'],_0x37a61c['x'],0x0,_0x25596c['y'],_0x327f65['y'],_0x37a61c['y'],0x0,_0x25596c['z'],_0x327f65['z'],_0x37a61c['z'],0x0,0x0,0x0,0x0,0x1);return this;}},{'key':'extractRotation','value':function extractRotation(_0x41f16d){var _0x40e941=new _0x14b965();var _0x2c631e=this[_0x2f63('0x65')];var _0x1b55e5=_0x41f16d[_0x2f63('0x65')];var _0x32e240=0x1/_0x40e941[_0x2f63('0x6d')](_0x41f16d,0x0)[_0x2f63('0x38')]();var _0x30fa42=0x1/_0x40e941[_0x2f63('0x6d')](_0x41f16d,0x1)['length']();var _0x32e535=0x1/_0x40e941[_0x2f63('0x6d')](_0x41f16d,0x2)[_0x2f63('0x38')]();_0x2c631e[0x0]=_0x1b55e5[0x0]*_0x32e240;_0x2c631e[0x1]=_0x1b55e5[0x1]*_0x32e240;_0x2c631e[0x2]=_0x1b55e5[0x2]*_0x32e240;_0x2c631e[0x3]=0x0;_0x2c631e[0x4]=_0x1b55e5[0x4]*_0x30fa42;_0x2c631e[0x5]=_0x1b55e5[0x5]*_0x30fa42;_0x2c631e[0x6]=_0x1b55e5[0x6]*_0x30fa42;_0x2c631e[0x7]=0x0;_0x2c631e[0x8]=_0x1b55e5[0x8]*_0x32e535;_0x2c631e[0x9]=_0x1b55e5[0x9]*_0x32e535;_0x2c631e[0xa]=_0x1b55e5[0xa]*_0x32e535;_0x2c631e[0xb]=0x0;_0x2c631e[0xc]=0x0;_0x2c631e[0xd]=0x0;_0x2c631e[0xe]=0x0;_0x2c631e[0xf]=0x1;return this;}},{'key':_0x2f63('0x6f'),'value':function makeRotationFromQuaternion(_0x20ca1d){var _0x51c890=new _0x14b965(0x0,0x0,0x0);var _0x495bbe=new _0x14b965(0x1,0x1,0x1);return this[_0x2f63('0x70')](_0x51c890,_0x20ca1d,_0x495bbe);}},{'key':_0x2f63('0x71'),'value':function lookAt(_0x3aed97,_0x51eb9e,_0x594ee8){var _0xb9a35c=new _0x14b965();var _0x5a6ee0=new _0x14b965();var _0x415dce=new _0x14b965();var _0x19ad20=this['elements'];_0x415dce[_0x2f63('0x72')](_0x3aed97,_0x51eb9e);if(_0x415dce[_0x2f63('0x73')]()===0x0){_0x415dce['z']=0x1;}_0x415dce[_0x2f63('0x74')]();_0xb9a35c['crossVectors'](_0x594ee8,_0x415dce);if(_0xb9a35c['lengthSq']()===0x0){if(Math[_0x2f63('0x75')](_0x594ee8['z'])===0x1){_0x415dce['x']+=0.0001;}else{_0x415dce['z']+=0.0001;}_0x415dce['normalize']();_0xb9a35c[_0x2f63('0x76')](_0x594ee8,_0x415dce);}_0xb9a35c[_0x2f63('0x74')]();_0x5a6ee0[_0x2f63('0x76')](_0x415dce,_0xb9a35c);_0x19ad20[0x0]=_0xb9a35c['x'];_0x19ad20[0x4]=_0x5a6ee0['x'];_0x19ad20[0x8]=_0x415dce['x'];_0x19ad20[0x1]=_0xb9a35c['y'];_0x19ad20[0x5]=_0x5a6ee0['y'];_0x19ad20[0x9]=_0x415dce['y'];_0x19ad20[0x2]=_0xb9a35c['z'];_0x19ad20[0x6]=_0x5a6ee0['z'];_0x19ad20[0xa]=_0x415dce['z'];return this;}},{'key':'multiply','value':function multiply(_0x1c1241,_0x38d9b0){if(_0x38d9b0!==undefined){console[_0x2f63('0x77')](_0x2f63('0x78'));return this[_0x2f63('0x79')](_0x1c1241,_0x38d9b0);}return this[_0x2f63('0x79')](this,_0x1c1241);}},{'key':_0x2f63('0x7a'),'value':function premultiply(_0x549bbe){return this[_0x2f63('0x79')](_0x549bbe,this);}},{'key':'multiplyMatrices','value':function multiplyMatrices(_0x36edd6,_0x3dfb2b){var _0x325c5e=_0x36edd6[_0x2f63('0x65')];var _0x6d3642=_0x3dfb2b['elements'];var _0x163cd9=this[_0x2f63('0x65')];var _0x52f320=_0x325c5e[0x0];var _0x473c06=_0x325c5e[0x4];var _0x1c4c9f=_0x325c5e[0x8];var _0x13a550=_0x325c5e[0xc];var _0x3d407a=_0x325c5e[0x1];var _0x392073=_0x325c5e[0x5];var _0x587648=_0x325c5e[0x9];var _0x55ee3b=_0x325c5e[0xd];var _0x33bd51=_0x325c5e[0x2];var _0x3ba253=_0x325c5e[0x6];var _0x7e46b3=_0x325c5e[0xa];var _0x5edcb7=_0x325c5e[0xe];var _0x575ea8=_0x325c5e[0x3];var _0x5335ad=_0x325c5e[0x7];var _0x4444c0=_0x325c5e[0xb];var _0x25a4f4=_0x325c5e[0xf];var _0x2b921b=_0x6d3642[0x0];var _0x3513cc=_0x6d3642[0x4];var _0x16a81b=_0x6d3642[0x8];var _0x3b471b=_0x6d3642[0xc];var _0x31ec3f=_0x6d3642[0x1];var _0xa90223=_0x6d3642[0x5];var _0x1159ab=_0x6d3642[0x9];var _0x42c8da=_0x6d3642[0xd];var _0x5a1c1b=_0x6d3642[0x2];var _0x2ead31=_0x6d3642[0x6];var _0x53e77c=_0x6d3642[0xa];var _0x2c717a=_0x6d3642[0xe];var _0x211931=_0x6d3642[0x3];var _0x537a93=_0x6d3642[0x7];var _0x4c0da2=_0x6d3642[0xb];var _0x4f3744=_0x6d3642[0xf];_0x163cd9[0x0]=_0x52f320*_0x2b921b+_0x473c06*_0x31ec3f+_0x1c4c9f*_0x5a1c1b+_0x13a550*_0x211931;_0x163cd9[0x4]=_0x52f320*_0x3513cc+_0x473c06*_0xa90223+_0x1c4c9f*_0x2ead31+_0x13a550*_0x537a93;_0x163cd9[0x8]=_0x52f320*_0x16a81b+_0x473c06*_0x1159ab+_0x1c4c9f*_0x53e77c+_0x13a550*_0x4c0da2;_0x163cd9[0xc]=_0x52f320*_0x3b471b+_0x473c06*_0x42c8da+_0x1c4c9f*_0x2c717a+_0x13a550*_0x4f3744;_0x163cd9[0x1]=_0x3d407a*_0x2b921b+_0x392073*_0x31ec3f+_0x587648*_0x5a1c1b+_0x55ee3b*_0x211931;_0x163cd9[0x5]=_0x3d407a*_0x3513cc+_0x392073*_0xa90223+_0x587648*_0x2ead31+_0x55ee3b*_0x537a93;_0x163cd9[0x9]=_0x3d407a*_0x16a81b+_0x392073*_0x1159ab+_0x587648*_0x53e77c+_0x55ee3b*_0x4c0da2;_0x163cd9[0xd]=_0x3d407a*_0x3b471b+_0x392073*_0x42c8da+_0x587648*_0x2c717a+_0x55ee3b*_0x4f3744;_0x163cd9[0x2]=_0x33bd51*_0x2b921b+_0x3ba253*_0x31ec3f+_0x7e46b3*_0x5a1c1b+_0x5edcb7*_0x211931;_0x163cd9[0x6]=_0x33bd51*_0x3513cc+_0x3ba253*_0xa90223+_0x7e46b3*_0x2ead31+_0x5edcb7*_0x537a93;_0x163cd9[0xa]=_0x33bd51*_0x16a81b+_0x3ba253*_0x1159ab+_0x7e46b3*_0x53e77c+_0x5edcb7*_0x4c0da2;_0x163cd9[0xe]=_0x33bd51*_0x3b471b+_0x3ba253*_0x42c8da+_0x7e46b3*_0x2c717a+_0x5edcb7*_0x4f3744;_0x163cd9[0x3]=_0x575ea8*_0x2b921b+_0x5335ad*_0x31ec3f+_0x4444c0*_0x5a1c1b+_0x25a4f4*_0x211931;_0x163cd9[0x7]=_0x575ea8*_0x3513cc+_0x5335ad*_0xa90223+_0x4444c0*_0x2ead31+_0x25a4f4*_0x537a93;_0x163cd9[0xb]=_0x575ea8*_0x16a81b+_0x5335ad*_0x1159ab+_0x4444c0*_0x53e77c+_0x25a4f4*_0x4c0da2;_0x163cd9[0xf]=_0x575ea8*_0x3b471b+_0x5335ad*_0x42c8da+_0x4444c0*_0x2c717a+_0x25a4f4*_0x4f3744;return this;}},{'key':_0x2f63('0x7b'),'value':function multiplyScalar(_0x1d831d){var _0x10da1f=this['elements'];_0x10da1f[0x0]*=_0x1d831d;_0x10da1f[0x4]*=_0x1d831d;_0x10da1f[0x8]*=_0x1d831d;_0x10da1f[0xc]*=_0x1d831d;_0x10da1f[0x1]*=_0x1d831d;_0x10da1f[0x5]*=_0x1d831d;_0x10da1f[0x9]*=_0x1d831d;_0x10da1f[0xd]*=_0x1d831d;_0x10da1f[0x2]*=_0x1d831d;_0x10da1f[0x6]*=_0x1d831d;_0x10da1f[0xa]*=_0x1d831d;_0x10da1f[0xe]*=_0x1d831d;_0x10da1f[0x3]*=_0x1d831d;_0x10da1f[0x7]*=_0x1d831d;_0x10da1f[0xb]*=_0x1d831d;_0x10da1f[0xf]*=_0x1d831d;return this;}},{'key':_0x2f63('0x7c'),'value':function applyToBufferAttribute(_0x3d7833){var _0x275ad8=new _0x14b965();for(var _0x33573b=0x0,_0x3d41a0=_0x3d7833['count'];_0x33573b<_0x3d41a0;_0x33573b++){_0x275ad8['x']=_0x3d7833[_0x2f63('0x7d')](_0x33573b);_0x275ad8['y']=_0x3d7833[_0x2f63('0x7e')](_0x33573b);_0x275ad8['z']=_0x3d7833['getZ'](_0x33573b);_0x275ad8['applyMatrix4'](this);_0x3d7833[_0x2f63('0x7f')](_0x33573b,_0x275ad8['x'],_0x275ad8['y'],_0x275ad8['z']);}return _0x3d7833;}},{'key':_0x2f63('0x80'),'value':function determinant(){var _0x1b7c81=this[_0x2f63('0x65')];var _0x24edcb=_0x1b7c81[0x0];var _0x32527e=_0x1b7c81[0x4];var _0x2c4505=_0x1b7c81[0x8];var _0x3e7bcb=_0x1b7c81[0xc];var _0xf169f1=_0x1b7c81[0x1];var _0x536f31=_0x1b7c81[0x5];var _0x310be1=_0x1b7c81[0x9];var _0x5efa33=_0x1b7c81[0xd];var _0x33e964=_0x1b7c81[0x2];var _0x3e2e04=_0x1b7c81[0x6];var _0x1a572a=_0x1b7c81[0xa];var _0x29ce61=_0x1b7c81[0xe];var _0x1f73f0=_0x1b7c81[0x3];var _0x2b57d3=_0x1b7c81[0x7];var _0x22caf2=_0x1b7c81[0xb];var _0x36874d=_0x1b7c81[0xf];return _0x1f73f0*(+_0x3e7bcb*_0x310be1*_0x3e2e04-_0x2c4505*_0x5efa33*_0x3e2e04-_0x3e7bcb*_0x536f31*_0x1a572a+_0x32527e*_0x5efa33*_0x1a572a+_0x2c4505*_0x536f31*_0x29ce61-_0x32527e*_0x310be1*_0x29ce61)+_0x2b57d3*(+_0x24edcb*_0x310be1*_0x29ce61-_0x24edcb*_0x5efa33*_0x1a572a+_0x3e7bcb*_0xf169f1*_0x1a572a-_0x2c4505*_0xf169f1*_0x29ce61+_0x2c4505*_0x5efa33*_0x33e964-_0x3e7bcb*_0x310be1*_0x33e964)+_0x22caf2*(+_0x24edcb*_0x5efa33*_0x3e2e04-_0x24edcb*_0x536f31*_0x29ce61-_0x3e7bcb*_0xf169f1*_0x3e2e04+_0x32527e*_0xf169f1*_0x29ce61+_0x3e7bcb*_0x536f31*_0x33e964-_0x32527e*_0x5efa33*_0x33e964)+_0x36874d*(-_0x2c4505*_0x536f31*_0x33e964-_0x24edcb*_0x310be1*_0x3e2e04+_0x24edcb*_0x536f31*_0x1a572a+_0x2c4505*_0xf169f1*_0x3e2e04-_0x32527e*_0xf169f1*_0x1a572a+_0x32527e*_0x310be1*_0x33e964);}},{'key':'transpose','value':function transpose(){var _0x50a589=this[_0x2f63('0x65')];var _0x207a53;_0x207a53=_0x50a589[0x1];_0x50a589[0x1]=_0x50a589[0x4];_0x50a589[0x4]=_0x207a53;_0x207a53=_0x50a589[0x2];_0x50a589[0x2]=_0x50a589[0x8];_0x50a589[0x8]=_0x207a53;_0x207a53=_0x50a589[0x6];_0x50a589[0x6]=_0x50a589[0x9];_0x50a589[0x9]=_0x207a53;_0x207a53=_0x50a589[0x3];_0x50a589[0x3]=_0x50a589[0xc];_0x50a589[0xc]=_0x207a53;_0x207a53=_0x50a589[0x7];_0x50a589[0x7]=_0x50a589[0xd];_0x50a589[0xd]=_0x207a53;_0x207a53=_0x50a589[0xb];_0x50a589[0xb]=_0x50a589[0xe];_0x50a589[0xe]=_0x207a53;return this;}},{'key':_0x2f63('0x81'),'value':function setPosition(_0x1edc7d){var _0x33de21=this['elements'];_0x33de21[0xc]=_0x1edc7d['x'];_0x33de21[0xd]=_0x1edc7d['y'];_0x33de21[0xe]=_0x1edc7d['z'];return this;}},{'key':'getInverse','value':function getInverse(_0x1373f0,_0x452267){var _0x2dc864=this[_0x2f63('0x65')];var _0x568f00=_0x1373f0[_0x2f63('0x65')];var _0x15dfe1=_0x568f00[0x0];var _0x7a981c=_0x568f00[0x1];var _0x51b301=_0x568f00[0x2];var _0xfaf773=_0x568f00[0x3];var _0x1f4cf7=_0x568f00[0x4];var _0x5562fa=_0x568f00[0x5];var _0xc367a9=_0x568f00[0x6];var _0x3b44e5=_0x568f00[0x7];var _0x591916=_0x568f00[0x8];var _0x2a9229=_0x568f00[0x9];var _0x3526e1=_0x568f00[0xa];var _0x3a4ce7=_0x568f00[0xb];var _0x49d6f0=_0x568f00[0xc];var _0x5644be=_0x568f00[0xd];var _0x808502=_0x568f00[0xe];var _0x5d6d6d=_0x568f00[0xf];var _0x1555df=_0x2a9229*_0x808502*_0x3b44e5-_0x5644be*_0x3526e1*_0x3b44e5+_0x5644be*_0xc367a9*_0x3a4ce7-_0x5562fa*_0x808502*_0x3a4ce7-_0x2a9229*_0xc367a9*_0x5d6d6d+_0x5562fa*_0x3526e1*_0x5d6d6d;var _0xad32ec=_0x49d6f0*_0x3526e1*_0x3b44e5-_0x591916*_0x808502*_0x3b44e5-_0x49d6f0*_0xc367a9*_0x3a4ce7+_0x1f4cf7*_0x808502*_0x3a4ce7+_0x591916*_0xc367a9*_0x5d6d6d-_0x1f4cf7*_0x3526e1*_0x5d6d6d;var _0x4ded9d=_0x591916*_0x5644be*_0x3b44e5-_0x49d6f0*_0x2a9229*_0x3b44e5+_0x49d6f0*_0x5562fa*_0x3a4ce7-_0x1f4cf7*_0x5644be*_0x3a4ce7-_0x591916*_0x5562fa*_0x5d6d6d+_0x1f4cf7*_0x2a9229*_0x5d6d6d;var _0x12cc5b=_0x49d6f0*_0x2a9229*_0xc367a9-_0x591916*_0x5644be*_0xc367a9-_0x49d6f0*_0x5562fa*_0x3526e1+_0x1f4cf7*_0x5644be*_0x3526e1+_0x591916*_0x5562fa*_0x808502-_0x1f4cf7*_0x2a9229*_0x808502;var _0x23bf2f=_0x15dfe1*_0x1555df+_0x7a981c*_0xad32ec+_0x51b301*_0x4ded9d+_0xfaf773*_0x12cc5b;if(_0x23bf2f===0x0){var _0x44415c='THREE.Matrix4:\x20.getInverse()\x20can\x27t\x20invert\x20matrix,\x20determinant\x20is\x200';if(_0x452267===!![]){throw new Error(_0x44415c);}else{console[_0x2f63('0x77')](_0x44415c);}return this[_0x2f63('0x66')]();}var _0x22c750=0x1/_0x23bf2f;_0x2dc864[0x0]=_0x1555df*_0x22c750;_0x2dc864[0x1]=(_0x5644be*_0x3526e1*_0xfaf773-_0x2a9229*_0x808502*_0xfaf773-_0x5644be*_0x51b301*_0x3a4ce7+_0x7a981c*_0x808502*_0x3a4ce7+_0x2a9229*_0x51b301*_0x5d6d6d-_0x7a981c*_0x3526e1*_0x5d6d6d)*_0x22c750;_0x2dc864[0x2]=(_0x5562fa*_0x808502*_0xfaf773-_0x5644be*_0xc367a9*_0xfaf773+_0x5644be*_0x51b301*_0x3b44e5-_0x7a981c*_0x808502*_0x3b44e5-_0x5562fa*_0x51b301*_0x5d6d6d+_0x7a981c*_0xc367a9*_0x5d6d6d)*_0x22c750;_0x2dc864[0x3]=(_0x2a9229*_0xc367a9*_0xfaf773-_0x5562fa*_0x3526e1*_0xfaf773-_0x2a9229*_0x51b301*_0x3b44e5+_0x7a981c*_0x3526e1*_0x3b44e5+_0x5562fa*_0x51b301*_0x3a4ce7-_0x7a981c*_0xc367a9*_0x3a4ce7)*_0x22c750;_0x2dc864[0x4]=_0xad32ec*_0x22c750;_0x2dc864[0x5]=(_0x591916*_0x808502*_0xfaf773-_0x49d6f0*_0x3526e1*_0xfaf773+_0x49d6f0*_0x51b301*_0x3a4ce7-_0x15dfe1*_0x808502*_0x3a4ce7-_0x591916*_0x51b301*_0x5d6d6d+_0x15dfe1*_0x3526e1*_0x5d6d6d)*_0x22c750;_0x2dc864[0x6]=(_0x49d6f0*_0xc367a9*_0xfaf773-_0x1f4cf7*_0x808502*_0xfaf773-_0x49d6f0*_0x51b301*_0x3b44e5+_0x15dfe1*_0x808502*_0x3b44e5+_0x1f4cf7*_0x51b301*_0x5d6d6d-_0x15dfe1*_0xc367a9*_0x5d6d6d)*_0x22c750;_0x2dc864[0x7]=(_0x1f4cf7*_0x3526e1*_0xfaf773-_0x591916*_0xc367a9*_0xfaf773+_0x591916*_0x51b301*_0x3b44e5-_0x15dfe1*_0x3526e1*_0x3b44e5-_0x1f4cf7*_0x51b301*_0x3a4ce7+_0x15dfe1*_0xc367a9*_0x3a4ce7)*_0x22c750;_0x2dc864[0x8]=_0x4ded9d*_0x22c750;_0x2dc864[0x9]=(_0x49d6f0*_0x2a9229*_0xfaf773-_0x591916*_0x5644be*_0xfaf773-_0x49d6f0*_0x7a981c*_0x3a4ce7+_0x15dfe1*_0x5644be*_0x3a4ce7+_0x591916*_0x7a981c*_0x5d6d6d-_0x15dfe1*_0x2a9229*_0x5d6d6d)*_0x22c750;_0x2dc864[0xa]=(_0x1f4cf7*_0x5644be*_0xfaf773-_0x49d6f0*_0x5562fa*_0xfaf773+_0x49d6f0*_0x7a981c*_0x3b44e5-_0x15dfe1*_0x5644be*_0x3b44e5-_0x1f4cf7*_0x7a981c*_0x5d6d6d+_0x15dfe1*_0x5562fa*_0x5d6d6d)*_0x22c750;_0x2dc864[0xb]=(_0x591916*_0x5562fa*_0xfaf773-_0x1f4cf7*_0x2a9229*_0xfaf773-_0x591916*_0x7a981c*_0x3b44e5+_0x15dfe1*_0x2a9229*_0x3b44e5+_0x1f4cf7*_0x7a981c*_0x3a4ce7-_0x15dfe1*_0x5562fa*_0x3a4ce7)*_0x22c750;_0x2dc864[0xc]=_0x12cc5b*_0x22c750;_0x2dc864[0xd]=(_0x591916*_0x5644be*_0x51b301-_0x49d6f0*_0x2a9229*_0x51b301+_0x49d6f0*_0x7a981c*_0x3526e1-_0x15dfe1*_0x5644be*_0x3526e1-_0x591916*_0x7a981c*_0x808502+_0x15dfe1*_0x2a9229*_0x808502)*_0x22c750;_0x2dc864[0xe]=(_0x49d6f0*_0x5562fa*_0x51b301-_0x1f4cf7*_0x5644be*_0x51b301-_0x49d6f0*_0x7a981c*_0xc367a9+_0x15dfe1*_0x5644be*_0xc367a9+_0x1f4cf7*_0x7a981c*_0x808502-_0x15dfe1*_0x5562fa*_0x808502)*_0x22c750;_0x2dc864[0xf]=(_0x1f4cf7*_0x2a9229*_0x51b301-_0x591916*_0x5562fa*_0x51b301+_0x591916*_0x7a981c*_0xc367a9-_0x15dfe1*_0x2a9229*_0xc367a9-_0x1f4cf7*_0x7a981c*_0x3526e1+_0x15dfe1*_0x5562fa*_0x3526e1)*_0x22c750;return this;}},{'key':_0x2f63('0x82'),'value':function scale(_0x3a16f7){var _0x5ed700=this[_0x2f63('0x65')];var _0x18abab=_0x3a16f7['x'];var _0x3286c0=_0x3a16f7['y'];var _0x4c89b0=_0x3a16f7['z'];_0x5ed700[0x0]*=_0x18abab;_0x5ed700[0x4]*=_0x3286c0;_0x5ed700[0x8]*=_0x4c89b0;_0x5ed700[0x1]*=_0x18abab;_0x5ed700[0x5]*=_0x3286c0;_0x5ed700[0x9]*=_0x4c89b0;_0x5ed700[0x2]*=_0x18abab;_0x5ed700[0x6]*=_0x3286c0;_0x5ed700[0xa]*=_0x4c89b0;_0x5ed700[0x3]*=_0x18abab;_0x5ed700[0x7]*=_0x3286c0;_0x5ed700[0xb]*=_0x4c89b0;return this;}},{'key':_0x2f63('0x83'),'value':function getMaxScaleOnAxis(){var _0x35acdc=this[_0x2f63('0x65')];var _0xdf3319=_0x35acdc[0x0]*_0x35acdc[0x0]+_0x35acdc[0x1]*_0x35acdc[0x1]+_0x35acdc[0x2]*_0x35acdc[0x2];var _0x4bee9f=_0x35acdc[0x4]*_0x35acdc[0x4]+_0x35acdc[0x5]*_0x35acdc[0x5]+_0x35acdc[0x6]*_0x35acdc[0x6];var _0x1e7d06=_0x35acdc[0x8]*_0x35acdc[0x8]+_0x35acdc[0x9]*_0x35acdc[0x9]+_0x35acdc[0xa]*_0x35acdc[0xa];return Math[_0x2f63('0x84')](Math[_0x2f63('0x5d')](_0xdf3319,_0x4bee9f,_0x1e7d06));}},{'key':_0x2f63('0x85'),'value':function makeTranslation(_0x4006e2,_0x13fea9,_0x42f744){this[_0x2f63('0x67')](0x1,0x0,0x0,_0x4006e2,0x0,0x1,0x0,_0x13fea9,0x0,0x0,0x1,_0x42f744,0x0,0x0,0x0,0x1);return this;}},{'key':'makeRotationX','value':function makeRotationX(_0x415057){var _0x21ca87=Math['cos'](_0x415057);var _0x5f52f2=Math['sin'](_0x415057);this['set'](0x1,0x0,0x0,0x0,0x0,_0x21ca87,-_0x5f52f2,0x0,0x0,_0x5f52f2,_0x21ca87,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':'makeRotationY','value':function makeRotationY(_0x59d289){var _0x22df11=Math[_0x2f63('0x86')](_0x59d289);var _0x4e3aff=Math[_0x2f63('0x87')](_0x59d289);this[_0x2f63('0x67')](_0x22df11,0x0,_0x4e3aff,0x0,0x0,0x1,0x0,0x0,-_0x4e3aff,0x0,_0x22df11,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x88'),'value':function makeRotationZ(_0x23dcdc){var _0x543b99=Math[_0x2f63('0x86')](_0x23dcdc);var _0x44a2de=Math[_0x2f63('0x87')](_0x23dcdc);this[_0x2f63('0x67')](_0x543b99,-_0x44a2de,0x0,0x0,_0x44a2de,_0x543b99,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':'makeRotationAxis','value':function makeRotationAxis(_0x10cebf,_0x2d1829){var _0x257dee=Math['cos'](_0x2d1829);var _0x3ed372=Math['sin'](_0x2d1829);var _0x13ebf2=0x1-_0x257dee;var _0x23b395=_0x10cebf['x'];var _0x576106=_0x10cebf['y'];var _0x1b1eb1=_0x10cebf['z'];var _0x5edffb=_0x13ebf2*_0x23b395;var _0x4249e9=_0x13ebf2*_0x576106;this[_0x2f63('0x67')](_0x5edffb*_0x23b395+_0x257dee,_0x5edffb*_0x576106-_0x3ed372*_0x1b1eb1,_0x5edffb*_0x1b1eb1+_0x3ed372*_0x576106,0x0,_0x5edffb*_0x576106+_0x3ed372*_0x1b1eb1,_0x4249e9*_0x576106+_0x257dee,_0x4249e9*_0x1b1eb1-_0x3ed372*_0x23b395,0x0,_0x5edffb*_0x1b1eb1-_0x3ed372*_0x576106,_0x4249e9*_0x1b1eb1+_0x3ed372*_0x23b395,_0x13ebf2*_0x1b1eb1*_0x1b1eb1+_0x257dee,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x89'),'value':function makeScale(_0x1d4da2,_0x113e89,_0x42a076){this[_0x2f63('0x67')](_0x1d4da2,0x0,0x0,0x0,0x0,_0x113e89,0x0,0x0,0x0,0x0,_0x42a076,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x8a'),'value':function _0x50bdba(_0x481540,_0x57f4d1,_0x260782){this[_0x2f63('0x67')](0x1,_0x57f4d1,_0x260782,0x0,_0x481540,0x1,_0x260782,0x0,_0x481540,_0x57f4d1,0x1,0x0,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x70'),'value':function compose(_0x31bb98,_0x1f749d,_0x43787f){var _0x25b0c2=this[_0x2f63('0x65')];var _0x1fb7f=_0x1f749d['_x'];var _0x57a865=_0x1f749d['_y'];var _0x1328b4=_0x1f749d['_z'];var _0x2bd79d=_0x1f749d['_w'];var _0x421806=_0x1fb7f+_0x1fb7f;var _0x5542f2=_0x57a865+_0x57a865;var _0x568392=_0x1328b4+_0x1328b4;var _0x5bdc16=_0x1fb7f*_0x421806;var _0x5e66b4=_0x1fb7f*_0x5542f2;var _0x4ec1b0=_0x1fb7f*_0x568392;var _0x225830=_0x57a865*_0x5542f2;var _0x3729a3=_0x57a865*_0x568392;var _0x523733=_0x1328b4*_0x568392;var _0x12940d=_0x2bd79d*_0x421806;var _0x2982e7=_0x2bd79d*_0x5542f2;var _0x3f03bd=_0x2bd79d*_0x568392;var _0x499530=_0x43787f['x'];var _0x4a3bf6=_0x43787f['y'];var _0x11e801=_0x43787f['z'];_0x25b0c2[0x0]=(0x1-(_0x225830+_0x523733))*_0x499530;_0x25b0c2[0x1]=(_0x5e66b4+_0x3f03bd)*_0x499530;_0x25b0c2[0x2]=(_0x4ec1b0-_0x2982e7)*_0x499530;_0x25b0c2[0x3]=0x0;_0x25b0c2[0x4]=(_0x5e66b4-_0x3f03bd)*_0x4a3bf6;_0x25b0c2[0x5]=(0x1-(_0x5bdc16+_0x523733))*_0x4a3bf6;_0x25b0c2[0x6]=(_0x3729a3+_0x12940d)*_0x4a3bf6;_0x25b0c2[0x7]=0x0;_0x25b0c2[0x8]=(_0x4ec1b0+_0x2982e7)*_0x11e801;_0x25b0c2[0x9]=(_0x3729a3-_0x12940d)*_0x11e801;_0x25b0c2[0xa]=(0x1-(_0x5bdc16+_0x225830))*_0x11e801;_0x25b0c2[0xb]=0x0;_0x25b0c2[0xc]=_0x31bb98['x'];_0x25b0c2[0xd]=_0x31bb98['y'];_0x25b0c2[0xe]=_0x31bb98['z'];_0x25b0c2[0xf]=0x1;return this;}},{'key':_0x2f63('0x8b'),'value':function decompose(_0x5b7dc0,_0x48cc3a,_0xd2f0e6){var _0x3a0763=new _0x14b965();var _0x2defe9=new _0x367199();var _0x18abe4=this[_0x2f63('0x65')];var _0x2800a9=_0x3a0763[_0x2f63('0x67')](_0x18abe4[0x0],_0x18abe4[0x1],_0x18abe4[0x2])[_0x2f63('0x38')]();var _0x4d2816=_0x3a0763['set'](_0x18abe4[0x4],_0x18abe4[0x5],_0x18abe4[0x6])[_0x2f63('0x38')]();var _0xff3b1b=_0x3a0763[_0x2f63('0x67')](_0x18abe4[0x8],_0x18abe4[0x9],_0x18abe4[0xa])[_0x2f63('0x38')]();var _0x1557b6=this[_0x2f63('0x80')]();if(_0x1557b6<0x0)_0x2800a9=-_0x2800a9;_0x5b7dc0['x']=_0x18abe4[0xc];_0x5b7dc0['y']=_0x18abe4[0xd];_0x5b7dc0['z']=_0x18abe4[0xe];_0x2defe9['copy'](this);var _0x19b2bb=0x1/_0x2800a9;var _0x14324c=0x1/_0x4d2816;var _0x16eb47=0x1/_0xff3b1b;_0x2defe9[_0x2f63('0x65')][0x0]*=_0x19b2bb;_0x2defe9[_0x2f63('0x65')][0x1]*=_0x19b2bb;_0x2defe9[_0x2f63('0x65')][0x2]*=_0x19b2bb;_0x2defe9[_0x2f63('0x65')][0x4]*=_0x14324c;_0x2defe9[_0x2f63('0x65')][0x5]*=_0x14324c;_0x2defe9[_0x2f63('0x65')][0x6]*=_0x14324c;_0x2defe9[_0x2f63('0x65')][0x8]*=_0x16eb47;_0x2defe9[_0x2f63('0x65')][0x9]*=_0x16eb47;_0x2defe9[_0x2f63('0x65')][0xa]*=_0x16eb47;_0x48cc3a[_0x2f63('0x8c')](_0x2defe9);_0xd2f0e6['x']=_0x2800a9;_0xd2f0e6['y']=_0x4d2816;_0xd2f0e6['z']=_0xff3b1b;return this;}},{'key':_0x2f63('0x8d'),'value':function makePerspective(_0x10922d,_0x2840a7,_0x189b85,_0x5da237,_0x4d79ff,_0x369634){if(_0x369634===undefined){console[_0x2f63('0x77')]('THREE.Matrix4:\x20.makePerspective()\x20has\x20been\x20redefined\x20and\x20has\x20a\x20new\x20signature.\x20Please\x20check\x20the\x20docs.');}var _0x5f13d5=this[_0x2f63('0x65')];var _0xa2d9f6=0x2*_0x4d79ff/(_0x2840a7-_0x10922d);var _0xb318d1=0x2*_0x4d79ff/(_0x189b85-_0x5da237);var _0x1e652b=(_0x2840a7+_0x10922d)/(_0x2840a7-_0x10922d);var _0x28b185=(_0x189b85+_0x5da237)/(_0x189b85-_0x5da237);var _0x152106=-(_0x369634+_0x4d79ff)/(_0x369634-_0x4d79ff);var _0x5eb152=-0x2*_0x369634*_0x4d79ff/(_0x369634-_0x4d79ff);_0x5f13d5[0x0]=_0xa2d9f6;_0x5f13d5[0x4]=0x0;_0x5f13d5[0x8]=_0x1e652b;_0x5f13d5[0xc]=0x0;_0x5f13d5[0x1]=0x0;_0x5f13d5[0x5]=_0xb318d1;_0x5f13d5[0x9]=_0x28b185;_0x5f13d5[0xd]=0x0;_0x5f13d5[0x2]=0x0;_0x5f13d5[0x6]=0x0;_0x5f13d5[0xa]=_0x152106;_0x5f13d5[0xe]=_0x5eb152;_0x5f13d5[0x3]=0x0;_0x5f13d5[0x7]=0x0;_0x5f13d5[0xb]=-0x1;_0x5f13d5[0xf]=0x0;return this;}},{'key':_0x2f63('0x8e'),'value':function makeOrthographic(_0x21d94a,_0x312f0f,_0x131407,_0x29ec48,_0x1f27cc,_0x5f0b13){var _0x4588f0=this[_0x2f63('0x65')];var _0x3290e4=0x1/(_0x312f0f-_0x21d94a);var _0xbed7f9=0x1/(_0x131407-_0x29ec48);var _0x28e4a2=0x1/(_0x5f0b13-_0x1f27cc);var _0x8c4cbf=(_0x312f0f+_0x21d94a)*_0x3290e4;var _0x9e5e67=(_0x131407+_0x29ec48)*_0xbed7f9;var _0x2b2e37=(_0x5f0b13+_0x1f27cc)*_0x28e4a2;_0x4588f0[0x0]=0x2*_0x3290e4;_0x4588f0[0x4]=0x0;_0x4588f0[0x8]=0x0;_0x4588f0[0xc]=-_0x8c4cbf;_0x4588f0[0x1]=0x0;_0x4588f0[0x5]=0x2*_0xbed7f9;_0x4588f0[0x9]=0x0;_0x4588f0[0xd]=-_0x9e5e67;_0x4588f0[0x2]=0x0;_0x4588f0[0x6]=0x0;_0x4588f0[0xa]=-0x2*_0x28e4a2;_0x4588f0[0xe]=-_0x2b2e37;_0x4588f0[0x3]=0x0;_0x4588f0[0x7]=0x0;_0x4588f0[0xb]=0x0;_0x4588f0[0xf]=0x1;return this;}},{'key':'equals','value':function _0x49ccf3(_0x101917){var _0x2b49d7=this['elements'];var _0xfdae8=_0x101917[_0x2f63('0x65')];for(var _0x3902b3=0x0;_0x3902b3<0x10;_0x3902b3++){if(_0x2b49d7[_0x3902b3]!==_0xfdae8[_0x3902b3])return![];}return!![];}},{'key':_0x2f63('0x69'),'value':function fromArray(_0x37270d,_0x4c0cb0){if(_0x4c0cb0===undefined)_0x4c0cb0=0x0;for(var _0x18d7b4=0x0;_0x18d7b4<0x10;_0x18d7b4++){this['elements'][_0x18d7b4]=_0x37270d[_0x18d7b4+_0x4c0cb0];}return this;}},{'key':_0x2f63('0x8f'),'value':function toArray(_0xa0e75,_0x490a52){if(_0xa0e75===undefined)_0xa0e75=[];if(_0x490a52===undefined)_0x490a52=0x0;var _0x3c3437=this['elements'];_0xa0e75[_0x490a52]=_0x3c3437[0x0];_0xa0e75[_0x490a52+0x1]=_0x3c3437[0x1];_0xa0e75[_0x490a52+0x2]=_0x3c3437[0x2];_0xa0e75[_0x490a52+0x3]=_0x3c3437[0x3];_0xa0e75[_0x490a52+0x4]=_0x3c3437[0x4];_0xa0e75[_0x490a52+0x5]=_0x3c3437[0x5];_0xa0e75[_0x490a52+0x6]=_0x3c3437[0x6];_0xa0e75[_0x490a52+0x7]=_0x3c3437[0x7];_0xa0e75[_0x490a52+0x8]=_0x3c3437[0x8];_0xa0e75[_0x490a52+0x9]=_0x3c3437[0x9];_0xa0e75[_0x490a52+0xa]=_0x3c3437[0xa];_0xa0e75[_0x490a52+0xb]=_0x3c3437[0xb];_0xa0e75[_0x490a52+0xc]=_0x3c3437[0xc];_0xa0e75[_0x490a52+0xd]=_0x3c3437[0xd];_0xa0e75[_0x490a52+0xe]=_0x3c3437[0xe];_0xa0e75[_0x490a52+0xf]=_0x3c3437[0xf];return _0xa0e75;}}]);return _0x367199;}();var _0x4ba6c2=function(){function _0x4ba6c2(_0x28211b,_0x527610,_0x5ce50c,_0x4372f8){_0x47c705(this,_0x4ba6c2);this['_x']=_0x28211b||0x0;this['_y']=_0x527610||0x0;this['_z']=_0x5ce50c||0x0;this['_w']=_0x4372f8!==undefined?_0x4372f8:0x1;this[_0x2f63('0x90')]=!![];}_0x38642a(_0x4ba6c2,[{'key':_0x2f63('0x91'),'value':function slerpFlat(_0x126669,_0x1b8564,_0x22b463,_0x24a347,_0x52c58f,_0x2b1012,_0x5661bd){var _0x363e98=_0x22b463[_0x24a347+0x0];var _0x4c6cfd=_0x22b463[_0x24a347+0x1];var _0x3b1cf1=_0x22b463[_0x24a347+0x2];var _0x593530=_0x22b463[_0x24a347+0x3];var _0x1c97c3=_0x52c58f[_0x2b1012+0x0];var _0x4abb54=_0x52c58f[_0x2b1012+0x1];var _0x540761=_0x52c58f[_0x2b1012+0x2];var _0x2c9b29=_0x52c58f[_0x2b1012+0x3];if(_0x593530!==_0x2c9b29||_0x363e98!==_0x1c97c3||_0x4c6cfd!==_0x4abb54||_0x3b1cf1!==_0x540761){var _0x2a3583=0x1-_0x5661bd;var _0x54ee90=_0x363e98*_0x1c97c3+_0x4c6cfd*_0x4abb54+_0x3b1cf1*_0x540761+_0x593530*_0x2c9b29;var _0x263c1c=_0x54ee90>=0x0?0x1:-0x1;var _0x546be5=0x1-_0x54ee90*_0x54ee90;if(_0x546be5>Number[_0x2f63('0x92')]){var _0x48d16b=Math[_0x2f63('0x84')](_0x546be5);var _0x57d428=Math[_0x2f63('0x93')](_0x48d16b,_0x54ee90*_0x263c1c);_0x2a3583=Math[_0x2f63('0x87')](_0x2a3583*_0x57d428)/_0x48d16b;_0x5661bd=Math['sin'](_0x5661bd*_0x57d428)/_0x48d16b;}var _0x4fdcd7=_0x5661bd*_0x263c1c;_0x363e98=_0x363e98*_0x2a3583+_0x1c97c3*_0x4fdcd7;_0x4c6cfd=_0x4c6cfd*_0x2a3583+_0x4abb54*_0x4fdcd7;_0x3b1cf1=_0x3b1cf1*_0x2a3583+_0x540761*_0x4fdcd7;_0x593530=_0x593530*_0x2a3583+_0x2c9b29*_0x4fdcd7;if(_0x2a3583===0x1-_0x5661bd){var _0x364556=0x1/Math[_0x2f63('0x84')](_0x363e98*_0x363e98+_0x4c6cfd*_0x4c6cfd+_0x3b1cf1*_0x3b1cf1+_0x593530*_0x593530);_0x363e98*=_0x364556;_0x4c6cfd*=_0x364556;_0x3b1cf1*=_0x364556;_0x593530*=_0x364556;}}_0x126669[_0x1b8564]=_0x363e98;_0x126669[_0x1b8564+0x1]=_0x4c6cfd;_0x126669[_0x1b8564+0x2]=_0x3b1cf1;_0x126669[_0x1b8564+0x3]=_0x593530;}},{'key':_0x2f63('0x67'),'value':function set(_0x2ced8f,_0x55d784,_0x6e49f,_0x71a424){this['_x']=_0x2ced8f;this['_y']=_0x55d784;this['_z']=_0x6e49f;this['_w']=_0x71a424;this[_0x2f63('0x94')]();return this;}},{'key':'clone','value':function clone(){return new this[(_0x2f63('0x14'))](this['_x'],this['_y'],this['_z'],this['_w']);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x1b187a){this['_x']=_0x1b187a['x'];this['_y']=_0x1b187a['y'];this['_z']=_0x1b187a['z'];this['_w']=_0x1b187a['w'];this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0x95'),'value':function setFromEuler(_0x3aeefe,_0x5cb58b){if(!(_0x3aeefe&&_0x3aeefe[_0x2f63('0x96')])){throw new Error('THREE.Quaternion:\x20.setFromEuler()\x20now\x20expects\x20an\x20Euler\x20rotation\x20rather\x20than\x20a\x20Vector3\x20and\x20order.');}var _0x48cfa3=_0x3aeefe['_x'];var _0xa326e0=_0x3aeefe['_y'];var _0x1383ef=_0x3aeefe['_z'];var _0x4948b2=_0x3aeefe[_0x2f63('0x97')];var _0x169c90=Math[_0x2f63('0x86')];var _0x53cff9=Math[_0x2f63('0x87')];var _0x50cfbd=_0x169c90(_0x48cfa3/0x2);var _0x431ea3=_0x169c90(_0xa326e0/0x2);var _0x2b6e7e=_0x169c90(_0x1383ef/0x2);var _0x1da9f3=_0x53cff9(_0x48cfa3/0x2);var _0x2deac5=_0x53cff9(_0xa326e0/0x2);var _0x2f4d20=_0x53cff9(_0x1383ef/0x2);if(_0x4948b2==='XYZ'){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e+_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e-_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20+_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e-_0x1da9f3*_0x2deac5*_0x2f4d20;}else if(_0x4948b2===_0x2f63('0x98')){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e+_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e-_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20-_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e+_0x1da9f3*_0x2deac5*_0x2f4d20;}else if(_0x4948b2===_0x2f63('0x99')){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e-_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e+_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20+_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e-_0x1da9f3*_0x2deac5*_0x2f4d20;}else if(_0x4948b2===_0x2f63('0x9a')){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e-_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e+_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20-_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e+_0x1da9f3*_0x2deac5*_0x2f4d20;}else if(_0x4948b2===_0x2f63('0x9b')){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e+_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e+_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20-_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e-_0x1da9f3*_0x2deac5*_0x2f4d20;}else if(_0x4948b2===_0x2f63('0x9c')){this['_x']=_0x1da9f3*_0x431ea3*_0x2b6e7e-_0x50cfbd*_0x2deac5*_0x2f4d20;this['_y']=_0x50cfbd*_0x2deac5*_0x2b6e7e-_0x1da9f3*_0x431ea3*_0x2f4d20;this['_z']=_0x50cfbd*_0x431ea3*_0x2f4d20+_0x1da9f3*_0x2deac5*_0x2b6e7e;this['_w']=_0x50cfbd*_0x431ea3*_0x2b6e7e+_0x1da9f3*_0x2deac5*_0x2f4d20;}if(_0x5cb58b!==![])this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0x9d'),'value':function setFromAxisAngle(_0x4ee2ea,_0x174f85){var _0x43e1e0=_0x174f85/0x2;var _0xdfa1c3=Math[_0x2f63('0x87')](_0x43e1e0);this['_x']=_0x4ee2ea['x']*_0xdfa1c3;this['_y']=_0x4ee2ea['y']*_0xdfa1c3;this['_z']=_0x4ee2ea['z']*_0xdfa1c3;this['_w']=Math['cos'](_0x43e1e0);this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0x8c'),'value':function setFromRotationMatrix(_0x48e070){var _0x21d0e1=_0x48e070[_0x2f63('0x65')];var _0x32b450=_0x21d0e1[0x0];var _0x5e5d15=_0x21d0e1[0x4];var _0x120a5b=_0x21d0e1[0x8];var _0x40bbbd=_0x21d0e1[0x1];var _0x5ec7b2=_0x21d0e1[0x5];var _0x2a0637=_0x21d0e1[0x9];var _0x2010f2=_0x21d0e1[0x2];var _0x2bbe5d=_0x21d0e1[0x6];var _0x25a826=_0x21d0e1[0xa];var _0xcbce6b=_0x32b450+_0x5ec7b2+_0x25a826;var _0x355d9d;if(_0xcbce6b>0x0){_0x355d9d=0.5/Math[_0x2f63('0x84')](_0xcbce6b+0x1);this['_w']=0.25/_0x355d9d;this['_x']=(_0x2bbe5d-_0x2a0637)*_0x355d9d;this['_y']=(_0x120a5b-_0x2010f2)*_0x355d9d;this['_z']=(_0x40bbbd-_0x5e5d15)*_0x355d9d;}else if(_0x32b450>_0x5ec7b2&&_0x32b450>_0x25a826){_0x355d9d=0x2*Math['sqrt'](0x1+_0x32b450-_0x5ec7b2-_0x25a826);this['_w']=(_0x2bbe5d-_0x2a0637)/_0x355d9d;this['_x']=0.25*_0x355d9d;this['_y']=(_0x5e5d15+_0x40bbbd)/_0x355d9d;this['_z']=(_0x120a5b+_0x2010f2)/_0x355d9d;}else if(_0x5ec7b2>_0x25a826){_0x355d9d=0x2*Math[_0x2f63('0x84')](0x1+_0x5ec7b2-_0x32b450-_0x25a826);this['_w']=(_0x120a5b-_0x2010f2)/_0x355d9d;this['_x']=(_0x5e5d15+_0x40bbbd)/_0x355d9d;this['_y']=0.25*_0x355d9d;this['_z']=(_0x2a0637+_0x2bbe5d)/_0x355d9d;}else{_0x355d9d=0x2*Math[_0x2f63('0x84')](0x1+_0x25a826-_0x32b450-_0x5ec7b2);this['_w']=(_0x40bbbd-_0x5e5d15)/_0x355d9d;this['_x']=(_0x120a5b+_0x2010f2)/_0x355d9d;this['_y']=(_0x2a0637+_0x2bbe5d)/_0x355d9d;this['_z']=0.25*_0x355d9d;}this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0x9e'),'value':function setFromUnitVectors(_0x1015ce,_0x504fbf){var _0x463344=new _0x14b965();var _0x2bc0ea;var _0x17d6c4=0.000001;if(_0x463344===undefined)_0x463344=new _0x14b965();_0x2bc0ea=_0x1015ce['dot'](_0x504fbf)+0x1;if(_0x2bc0ea<_0x17d6c4){_0x2bc0ea=0x0;if(Math[_0x2f63('0x75')](_0x1015ce['x'])>Math[_0x2f63('0x75')](_0x1015ce['z'])){_0x463344[_0x2f63('0x67')](-_0x1015ce['y'],_0x1015ce['x'],0x0);}else{_0x463344[_0x2f63('0x67')](0x0,-_0x1015ce['z'],_0x1015ce['y']);}}else{_0x463344[_0x2f63('0x76')](_0x1015ce,_0x504fbf);}this['_x']=_0x463344['x'];this['_y']=_0x463344['y'];this['_z']=_0x463344['z'];this['_w']=_0x2bc0ea;return this[_0x2f63('0x74')]();}},{'key':_0x2f63('0x9f'),'value':function angleTo(_0x20b10e){return 0x2*Math['acos'](Math[_0x2f63('0x75')](_0x252c11[_0x2f63('0xa0')](this[_0x2f63('0xa1')](_0x20b10e),-0x1,0x1)));}},{'key':_0x2f63('0xa2'),'value':function rotateTowards(_0xdb2cda,_0x491455){var _0x49e6e8=this['angleTo'](_0xdb2cda);if(_0x49e6e8===0x0)return this;var _0x51e2da=Math[_0x2f63('0x5e')](0x1,_0x491455/_0x49e6e8);this[_0x2f63('0xa3')](_0xdb2cda,_0x51e2da);return this;}},{'key':_0x2f63('0xa4'),'value':function inverse(){return this['conjugate']();}},{'key':'conjugate','value':function conjugate(){this['_x']*=-0x1;this['_y']*=-0x1;this['_z']*=-0x1;this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0xa1'),'value':function dot(_0x3fabf5){return this['_x']*_0x3fabf5['_x']+this['_y']*_0x3fabf5['_y']+this['_z']*_0x3fabf5['_z']+this['_w']*_0x3fabf5['_w'];}},{'key':_0x2f63('0x73'),'value':function lengthSq(){return this['_x']*this['_x']+this['_y']*this['_y']+this['_z']*this['_z']+this['_w']*this['_w'];}},{'key':'length','value':function length(){return Math[_0x2f63('0x84')](this['_x']*this['_x']+this['_y']*this['_y']+this['_z']*this['_z']+this['_w']*this['_w']);}},{'key':'normalize','value':function normalize(){var _0x5cd9ba=this['length']();if(_0x5cd9ba===0x0){this['_x']=0x0;this['_y']=0x0;this['_z']=0x0;this['_w']=0x1;}else{_0x5cd9ba=0x1/_0x5cd9ba;this['_x']=this['_x']*_0x5cd9ba;this['_y']=this['_y']*_0x5cd9ba;this['_z']=this['_z']*_0x5cd9ba;this['_w']=this['_w']*_0x5cd9ba;}this['onChangeCallback']();return this;}},{'key':'multiply','value':function multiply(_0x353125,_0x29e384){if(_0x29e384!==undefined){console[_0x2f63('0x77')](_0x2f63('0xa5'));return this[_0x2f63('0xa6')](_0x353125,_0x29e384);}return this['multiplyQuaternions'](this,_0x353125);}},{'key':_0x2f63('0x7a'),'value':function premultiply(_0x4ab2fb){return this[_0x2f63('0xa6')](_0x4ab2fb,this);}},{'key':'multiplyQuaternions','value':function multiplyQuaternions(_0x19c03b,_0x4dba43){var _0x9bbe9f=_0x19c03b['_x'];var _0x4125c2=_0x19c03b['_y'];var _0x564b77=_0x19c03b['_z'];var _0x41a606=_0x19c03b['_w'];var _0x480e35=_0x4dba43['_x'];var _0x257637=_0x4dba43['_y'];var _0x140e49=_0x4dba43['_z'];var _0x3dffa9=_0x4dba43['_w'];this['_x']=_0x9bbe9f*_0x3dffa9+_0x41a606*_0x480e35+_0x4125c2*_0x140e49-_0x564b77*_0x257637;this['_y']=_0x4125c2*_0x3dffa9+_0x41a606*_0x257637+_0x564b77*_0x480e35-_0x9bbe9f*_0x140e49;this['_z']=_0x564b77*_0x3dffa9+_0x41a606*_0x140e49+_0x9bbe9f*_0x257637-_0x4125c2*_0x480e35;this['_w']=_0x41a606*_0x3dffa9-_0x9bbe9f*_0x480e35-_0x4125c2*_0x257637-_0x564b77*_0x140e49;this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0xa3'),'value':function slerp(_0x41742f,_0x3478af){if(_0x3478af===0x0)return this;if(_0x3478af===0x1)return this[_0x2f63('0x6a')](_0x41742f);var _0x3fc02d=this['_x'];var _0x33d4a7=this['_y'];var _0x3f99a1=this['_z'];var _0x109e2f=this['_w'];var _0x2670b5=_0x109e2f*_0x41742f['_w']+_0x3fc02d*_0x41742f['_x']+_0x33d4a7*_0x41742f['_y']+_0x3f99a1*_0x41742f['_z'];if(_0x2670b5<0x0){this['_w']=-_0x41742f['_w'];this['_x']=-_0x41742f['_x'];this['_y']=-_0x41742f['_y'];this['_z']=-_0x41742f['_z'];_0x2670b5=-_0x2670b5;}else{this[_0x2f63('0x6a')](_0x41742f);}if(_0x2670b5>=0x1){this['_w']=_0x109e2f;this['_x']=_0x3fc02d;this['_y']=_0x33d4a7;this['_z']=_0x3f99a1;return this;}var _0x3686e8=0x1-_0x2670b5*_0x2670b5;if(_0x3686e8<=Number[_0x2f63('0x92')]){var _0x3b4c3d=0x1-_0x3478af;this['_w']=_0x3b4c3d*_0x109e2f+_0x3478af*this['_w'];this['_x']=_0x3b4c3d*_0x3fc02d+_0x3478af*this['_x'];this['_y']=_0x3b4c3d*_0x33d4a7+_0x3478af*this['_y'];this['_z']=_0x3b4c3d*_0x3f99a1+_0x3478af*this['_z'];return this['normalize']();}var _0xc7000=Math['sqrt'](_0x3686e8);var _0x5e0080=Math[_0x2f63('0x93')](_0xc7000,_0x2670b5);var _0x55bc44=Math['sin']((0x1-_0x3478af)*_0x5e0080)/_0xc7000;var _0x9a9591=Math[_0x2f63('0x87')](_0x3478af*_0x5e0080)/_0xc7000;this['_w']=_0x109e2f*_0x55bc44+this['_w']*_0x9a9591;this['_x']=_0x3fc02d*_0x55bc44+this['_x']*_0x9a9591;this['_y']=_0x33d4a7*_0x55bc44+this['_y']*_0x9a9591;this['_z']=_0x3f99a1*_0x55bc44+this['_z']*_0x9a9591;this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0xa7'),'value':function _0x49ccf3(_0x4258c6){return _0x4258c6['_x']===this['_x']&&_0x4258c6['_y']===this['_y']&&_0x4258c6['_z']===this['_z']&&_0x4258c6['_w']===this['_w'];}},{'key':'fromArray','value':function fromArray(_0x588109,_0x226969){if(_0x226969===undefined)_0x226969=0x0;this['_x']=_0x588109[_0x226969];this['_y']=_0x588109[_0x226969+0x1];this['_z']=_0x588109[_0x226969+0x2];this['_w']=_0x588109[_0x226969+0x3];this[_0x2f63('0x94')]();return this;}},{'key':_0x2f63('0x8f'),'value':function toArray(_0x4b5fe8,_0x1b8f08){if(_0x4b5fe8===undefined)_0x4b5fe8=[];if(_0x1b8f08===undefined)_0x1b8f08=0x0;_0x4b5fe8[_0x1b8f08]=this['_x'];_0x4b5fe8[_0x1b8f08+0x1]=this['_y'];_0x4b5fe8[_0x1b8f08+0x2]=this['_z'];_0x4b5fe8[_0x1b8f08+0x3]=this['_w'];return _0x4b5fe8;}},{'key':_0x2f63('0xa8'),'value':function onChange(_0x295916){this['onChangeCallback']=_0x295916;return this;}},{'key':_0x2f63('0x94'),'value':function onChangeCallback(){}}]);return _0x4ba6c2;}();Object[_0x2f63('0xa9')](_0x4ba6c2[_0x2f63('0x9')],{'x':{'get':function _0x4ff83e(){return this['_x'];},'set':function set(_0x17225e){this['_x']=_0x17225e;this[_0x2f63('0x94')]();}},'y':{'get':function _0x4ff83e(){return this['_y'];},'set':function set(_0xb60f7c){this['_y']=_0xb60f7c;this[_0x2f63('0x94')]();}},'z':{'get':function _0x4ff83e(){return this['_z'];},'set':function set(_0x4496d1){this['_z']=_0x4496d1;this[_0x2f63('0x94')]();}},'w':{'get':function _0x4ff83e(){return this['_w'];},'set':function set(_0x3b29a2){this['_w']=_0x3b29a2;this['onChangeCallback']();}}});var _0x14b965=function(){function _0x14b965(_0x29ec3f,_0x357565,_0x1dc069){_0x47c705(this,_0x14b965);this['x']=_0x29ec3f||0x0;this['y']=_0x357565||0x0;this['z']=_0x1dc069||0x0;this[_0x2f63('0xaa')]=!![];}_0x38642a(_0x14b965,[{'key':'set','value':function set(_0x1101cd,_0x36599a,_0x228e61){this['x']=_0x1101cd;this['y']=_0x36599a;this['z']=_0x228e61;return this;}},{'key':_0x2f63('0xab'),'value':function setScalar(_0xeb1269){this['x']=_0xeb1269;this['y']=_0xeb1269;this['z']=_0xeb1269;return this;}},{'key':'setX','value':function setX(_0x8d2260){this['x']=_0x8d2260;return this;}},{'key':'setY','value':function setY(_0xd60acb){this['y']=_0xd60acb;return this;}},{'key':_0x2f63('0xac'),'value':function setZ(_0x350092){this['z']=_0x350092;return this;}},{'key':_0x2f63('0xad'),'value':function setComponent(_0x34ffdf,_0x2f215f){switch(_0x34ffdf){case 0x0:this['x']=_0x2f215f;break;case 0x1:this['y']=_0x2f215f;break;case 0x2:this['z']=_0x2f215f;break;default:throw new Error(_0x2f63('0xae')+_0x34ffdf);}return this;}},{'key':_0x2f63('0xaf'),'value':function getComponent(_0x26b37e){switch(_0x26b37e){case 0x0:return this['x'];case 0x1:return this['y'];case 0x2:return this['z'];default:throw new Error(_0x2f63('0xae')+_0x26b37e);}}},{'key':_0x2f63('0x68'),'value':function clone(){return new this[(_0x2f63('0x14'))](this['x'],this['y'],this['z']);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x31245c){this['x']=_0x31245c['x'];this['y']=_0x31245c['y'];this['z']=_0x31245c['z'];return this;}},{'key':_0x2f63('0xb0'),'value':function add(_0x452284,_0x539644){if(_0x539644!==undefined){console[_0x2f63('0x77')](_0x2f63('0xb1'));return this[_0x2f63('0xb2')](_0x452284,_0x539644);}this['x']+=_0x452284['x'];this['y']+=_0x452284['y'];this['z']+=_0x452284['z'];return this;}},{'key':_0x2f63('0xb3'),'value':function addScalar(_0x90d9fc){this['x']+=_0x90d9fc;this['y']+=_0x90d9fc;this['z']+=_0x90d9fc;return this;}},{'key':'addVectors','value':function addVectors(_0x27cbed,_0x2f3c7b){this['x']=_0x27cbed['x']+_0x2f3c7b['x'];this['y']=_0x27cbed['y']+_0x2f3c7b['y'];this['z']=_0x27cbed['z']+_0x2f3c7b['z'];return this;}},{'key':_0x2f63('0xb4'),'value':function addScaledVector(_0x2acf00,_0x3d202e){this['x']+=_0x2acf00['x']*_0x3d202e;this['y']+=_0x2acf00['y']*_0x3d202e;this['z']+=_0x2acf00['z']*_0x3d202e;return this;}},{'key':_0x2f63('0xb5'),'value':function sub(_0x284d55,_0x259d1d){if(_0x259d1d!==undefined){console[_0x2f63('0x77')](_0x2f63('0xb6'));return this[_0x2f63('0x72')](_0x284d55,_0x259d1d);}this['x']-=_0x284d55['x'];this['y']-=_0x284d55['y'];this['z']-=_0x284d55['z'];return this;}},{'key':_0x2f63('0xb7'),'value':function subScalar(_0x153eb9){this['x']-=_0x153eb9;this['y']-=_0x153eb9;this['z']-=_0x153eb9;return this;}},{'key':'subVectors','value':function subVectors(_0x51cdad,_0x38e035){this['x']=_0x51cdad['x']-_0x38e035['x'];this['y']=_0x51cdad['y']-_0x38e035['y'];this['z']=_0x51cdad['z']-_0x38e035['z'];return this;}},{'key':_0x2f63('0xb8'),'value':function multiply(_0x195585,_0x51e9f3){if(_0x51e9f3!==undefined){console['warn']('THREE.Vector3:\x20.multiply()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.multiplyVectors(\x20a,\x20b\x20)\x20instead.');return this[_0x2f63('0xb9')](_0x195585,_0x51e9f3);}this['x']*=_0x195585['x'];this['y']*=_0x195585['y'];this['z']*=_0x195585['z'];return this;}},{'key':_0x2f63('0x7b'),'value':function multiplyScalar(_0xe9c7ea){this['x']*=_0xe9c7ea;this['y']*=_0xe9c7ea;this['z']*=_0xe9c7ea;return this;}},{'key':'multiplyVectors','value':function multiplyVectors(_0x45944d,_0x46b258){this['x']=_0x45944d['x']*_0x46b258['x'];this['y']=_0x45944d['y']*_0x46b258['y'];this['z']=_0x45944d['z']*_0x46b258['z'];return this;}},{'key':_0x2f63('0xba'),'value':function applyEuler(_0x1b6381){if(!(_0x1b6381&&_0x1b6381[_0x2f63('0x96')])){console[_0x2f63('0xbb')]('THREE.Vector3:\x20.applyEuler()\x20now\x20expects\x20an\x20Euler\x20rotation\x20rather\x20than\x20a\x20Vector3\x20and\x20order.');}var _0x310a4f=new _0x4ba6c2();return this[_0x2f63('0xbc')](_0x310a4f[_0x2f63('0x95')](_0x1b6381));}},{'key':_0x2f63('0xbd'),'value':function applyAxisAngle(_0x358358,_0x3b0335){var _0x37f476=new _0x4ba6c2();return this[_0x2f63('0xbc')](_0x37f476[_0x2f63('0x9d')](_0x358358,_0x3b0335));}},{'key':_0x2f63('0xbe'),'value':function applyMatrix3(_0x502835){var _0x4a5aaf=this['x'];var _0x251f5a=this['y'];var _0x55fe5d=this['z'];var _0x4d2a43=_0x502835['elements'];this['x']=_0x4d2a43[0x0]*_0x4a5aaf+_0x4d2a43[0x3]*_0x251f5a+_0x4d2a43[0x6]*_0x55fe5d;this['y']=_0x4d2a43[0x1]*_0x4a5aaf+_0x4d2a43[0x4]*_0x251f5a+_0x4d2a43[0x7]*_0x55fe5d;this['z']=_0x4d2a43[0x2]*_0x4a5aaf+_0x4d2a43[0x5]*_0x251f5a+_0x4d2a43[0x8]*_0x55fe5d;return this;}},{'key':_0x2f63('0xbf'),'value':function applyMatrix4(_0x4592c4){var _0x6fe4a=this['x'];var _0x4ca654=this['y'];var _0x1d0463=this['z'];var _0x5f8633=_0x4592c4[_0x2f63('0x65')];var _0x58c1c2=0x1/(_0x5f8633[0x3]*_0x6fe4a+_0x5f8633[0x7]*_0x4ca654+_0x5f8633[0xb]*_0x1d0463+_0x5f8633[0xf]);this['x']=(_0x5f8633[0x0]*_0x6fe4a+_0x5f8633[0x4]*_0x4ca654+_0x5f8633[0x8]*_0x1d0463+_0x5f8633[0xc])*_0x58c1c2;this['y']=(_0x5f8633[0x1]*_0x6fe4a+_0x5f8633[0x5]*_0x4ca654+_0x5f8633[0x9]*_0x1d0463+_0x5f8633[0xd])*_0x58c1c2;this['z']=(_0x5f8633[0x2]*_0x6fe4a+_0x5f8633[0x6]*_0x4ca654+_0x5f8633[0xa]*_0x1d0463+_0x5f8633[0xe])*_0x58c1c2;return this;}},{'key':'applyQuaternion','value':function applyQuaternion(_0x1184f4){var _0x33191f=this['x'];var _0x27638a=this['y'];var _0x943735=this['z'];var _0x45befa=_0x1184f4['x'];var _0x5708a8=_0x1184f4['y'];var _0x20b549=_0x1184f4['z'];var _0x27ef73=_0x1184f4['w'];var _0x4b934e=_0x27ef73*_0x33191f+_0x5708a8*_0x943735-_0x20b549*_0x27638a;var _0x388aae=_0x27ef73*_0x27638a+_0x20b549*_0x33191f-_0x45befa*_0x943735;var _0x59dbfe=_0x27ef73*_0x943735+_0x45befa*_0x27638a-_0x5708a8*_0x33191f;var _0x1ad147=-_0x45befa*_0x33191f-_0x5708a8*_0x27638a-_0x20b549*_0x943735;this['x']=_0x4b934e*_0x27ef73+_0x1ad147*-_0x45befa+_0x388aae*-_0x20b549-_0x59dbfe*-_0x5708a8;this['y']=_0x388aae*_0x27ef73+_0x1ad147*-_0x5708a8+_0x59dbfe*-_0x45befa-_0x4b934e*-_0x20b549;this['z']=_0x59dbfe*_0x27ef73+_0x1ad147*-_0x20b549+_0x4b934e*-_0x5708a8-_0x388aae*-_0x45befa;return this;}},{'key':_0x2f63('0xc0'),'value':function project(_0x2931f8){return this[_0x2f63('0xbf')](_0x2931f8[_0x2f63('0xc1')])[_0x2f63('0xbf')](_0x2931f8['projectionMatrix']);}},{'key':_0x2f63('0xc2'),'value':function unproject(_0x2d0323){var _0x53c42c=new _0x367199();return this[_0x2f63('0xbf')](_0x53c42c[_0x2f63('0xc3')](_0x2d0323[_0x2f63('0xc4')]))[_0x2f63('0xbf')](_0x2d0323['matrixWorld']);}},{'key':_0x2f63('0xc5'),'value':function transformDirection(_0x4ad06b){var _0x2e51a7=this['x'];var _0x372804=this['y'];var _0x59e420=this['z'];var _0x3b91e0=_0x4ad06b['elements'];this['x']=_0x3b91e0[0x0]*_0x2e51a7+_0x3b91e0[0x4]*_0x372804+_0x3b91e0[0x8]*_0x59e420;this['y']=_0x3b91e0[0x1]*_0x2e51a7+_0x3b91e0[0x5]*_0x372804+_0x3b91e0[0x9]*_0x59e420;this['z']=_0x3b91e0[0x2]*_0x2e51a7+_0x3b91e0[0x6]*_0x372804+_0x3b91e0[0xa]*_0x59e420;return this[_0x2f63('0x74')]();}},{'key':_0x2f63('0xc6'),'value':function divide(_0x12ed52){this['x']/=_0x12ed52['x'];this['y']/=_0x12ed52['y'];this['z']/=_0x12ed52['z'];return this;}},{'key':'divideScalar','value':function divideScalar(_0x3b7928){return this[_0x2f63('0x7b')](0x1/_0x3b7928);}},{'key':'min','value':function min(_0x19fdfe){this['x']=Math[_0x2f63('0x5e')](this['x'],_0x19fdfe['x']);this['y']=Math[_0x2f63('0x5e')](this['y'],_0x19fdfe['y']);this['z']=Math[_0x2f63('0x5e')](this['z'],_0x19fdfe['z']);return this;}},{'key':'max','value':function max(_0x3ac7cf){this['x']=Math[_0x2f63('0x5d')](this['x'],_0x3ac7cf['x']);this['y']=Math['max'](this['y'],_0x3ac7cf['y']);this['z']=Math[_0x2f63('0x5d')](this['z'],_0x3ac7cf['z']);return this;}},{'key':'clamp','value':function clamp(_0x90d8c1,_0x294427){this['x']=Math[_0x2f63('0x5d')](_0x90d8c1['x'],Math[_0x2f63('0x5e')](_0x294427['x'],this['x']));this['y']=Math[_0x2f63('0x5d')](_0x90d8c1['y'],Math[_0x2f63('0x5e')](_0x294427['y'],this['y']));this['z']=Math[_0x2f63('0x5d')](_0x90d8c1['z'],Math['min'](_0x294427['z'],this['z']));return this;}},{'key':'clampScalar','value':function clampScalar(_0x58f2a6,_0x5e0dde){var _0x14527a=new _0x14b965();var _0x2eabb7=new _0x14b965();_0x14527a[_0x2f63('0x67')](_0x58f2a6,_0x58f2a6,_0x58f2a6);_0x2eabb7[_0x2f63('0x67')](_0x5e0dde,_0x5e0dde,_0x5e0dde);return this['clamp'](_0x14527a,_0x2eabb7);}},{'key':_0x2f63('0xc7'),'value':function clampLength(_0x24e725,_0x4f5c41){var _0x594416=this[_0x2f63('0x38')]();return this[_0x2f63('0xc8')](_0x594416||0x1)[_0x2f63('0x7b')](Math[_0x2f63('0x5d')](_0x24e725,Math[_0x2f63('0x5e')](_0x4f5c41,_0x594416)));}},{'key':_0x2f63('0xc9'),'value':function floor(){this['x']=Math[_0x2f63('0xc9')](this['x']);this['y']=Math[_0x2f63('0xc9')](this['y']);this['z']=Math[_0x2f63('0xc9')](this['z']);return this;}},{'key':_0x2f63('0x62'),'value':function ceil(){this['x']=Math[_0x2f63('0x62')](this['x']);this['y']=Math[_0x2f63('0x62')](this['y']);this['z']=Math[_0x2f63('0x62')](this['z']);return this;}},{'key':_0x2f63('0xca'),'value':function round(){this['x']=Math['round'](this['x']);this['y']=Math[_0x2f63('0xca')](this['y']);this['z']=Math['round'](this['z']);return this;}},{'key':_0x2f63('0xcb'),'value':function roundToZero(){this['x']=this['x']<0x0?Math[_0x2f63('0x62')](this['x']):Math[_0x2f63('0xc9')](this['x']);this['y']=this['y']<0x0?Math[_0x2f63('0x62')](this['y']):Math['floor'](this['y']);this['z']=this['z']<0x0?Math['ceil'](this['z']):Math[_0x2f63('0xc9')](this['z']);return this;}},{'key':_0x2f63('0xcc'),'value':function negate(){this['x']=-this['x'];this['y']=-this['y'];this['z']=-this['z'];return this;}},{'key':_0x2f63('0xa1'),'value':function dot(_0x3d5ee1){return this['x']*_0x3d5ee1['x']+this['y']*_0x3d5ee1['y']+this['z']*_0x3d5ee1['z'];}},{'key':_0x2f63('0x73'),'value':function lengthSq(){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}},{'key':_0x2f63('0x38'),'value':function length(){return Math[_0x2f63('0x84')](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}},{'key':'manhattanLength','value':function manhattanLength(){return Math[_0x2f63('0x75')](this['x'])+Math[_0x2f63('0x75')](this['y'])+Math[_0x2f63('0x75')](this['z']);}},{'key':_0x2f63('0x74'),'value':function normalize(){return this[_0x2f63('0xc8')](this[_0x2f63('0x38')]()||0x1);}},{'key':_0x2f63('0xcd'),'value':function setLength(_0x90d68a){return this['normalize']()[_0x2f63('0x7b')](_0x90d68a);}},{'key':_0x2f63('0xce'),'value':function lerp(_0x1b89bf,_0x2df88f){this['x']+=(_0x1b89bf['x']-this['x'])*_0x2df88f;this['y']+=(_0x1b89bf['y']-this['y'])*_0x2df88f;this['z']+=(_0x1b89bf['z']-this['z'])*_0x2df88f;return this;}},{'key':_0x2f63('0xcf'),'value':function lerpVectors(_0x4cd530,_0x4fea05,_0x43e36d){return this[_0x2f63('0x72')](_0x4fea05,_0x4cd530)[_0x2f63('0x7b')](_0x43e36d)[_0x2f63('0xb0')](_0x4cd530);}},{'key':_0x2f63('0xd0'),'value':function cross(_0x11a6ad,_0x338376){if(_0x338376!==undefined){console[_0x2f63('0x77')](_0x2f63('0xd1'));return this[_0x2f63('0x76')](_0x11a6ad,_0x338376);}return this[_0x2f63('0x76')](this,_0x11a6ad);}},{'key':_0x2f63('0x76'),'value':function crossVectors(_0x22eaf2,_0x5593aa){var _0x553902=_0x22eaf2['x'];var _0x5c7441=_0x22eaf2['y'];var _0x16a963=_0x22eaf2['z'];var _0x44e9b4=_0x5593aa['x'];var _0x1f9f8b=_0x5593aa['y'];var _0x478b5b=_0x5593aa['z'];this['x']=_0x5c7441*_0x478b5b-_0x16a963*_0x1f9f8b;this['y']=_0x16a963*_0x44e9b4-_0x553902*_0x478b5b;this['z']=_0x553902*_0x1f9f8b-_0x5c7441*_0x44e9b4;return this;}},{'key':_0x2f63('0xd2'),'value':function projectOnVector(_0x4a77dd){var _0x1567c9=_0x4a77dd[_0x2f63('0xa1')](this)/_0x4a77dd[_0x2f63('0x73')]();return this['copy'](_0x4a77dd)[_0x2f63('0x7b')](_0x1567c9);}},{'key':'projectOnPlane','value':function projectOnPlane(_0x17749f){var _0x5d13ea=new _0x14b965();_0x5d13ea[_0x2f63('0x6a')](this)[_0x2f63('0xd2')](_0x17749f);return this[_0x2f63('0xb5')](_0x5d13ea);}},{'key':_0x2f63('0xd3'),'value':function reflect(_0x1af258){var _0x4bdd32=new _0x14b965();return this['sub'](_0x4bdd32['copy'](_0x1af258)[_0x2f63('0x7b')](0x2*this[_0x2f63('0xa1')](_0x1af258)));}},{'key':_0x2f63('0x9f'),'value':function angleTo(_0x36f27c){var _0x5761f3=this['dot'](_0x36f27c)/Math['sqrt'](this[_0x2f63('0x73')]()*_0x36f27c[_0x2f63('0x73')]());return Math[_0x2f63('0xd4')](_0x252c11['clamp'](_0x5761f3,-0x1,0x1));}},{'key':_0x2f63('0xd5'),'value':function distanceTo(_0x109007){return Math[_0x2f63('0x84')](this[_0x2f63('0xd6')](_0x109007));}},{'key':'distanceToSquared','value':function distanceToSquared(_0xcb36e9){var _0x3fc27d=this['x']-_0xcb36e9['x'];var _0x186b00=this['y']-_0xcb36e9['y'];var _0x509313=this['z']-_0xcb36e9['z'];return _0x3fc27d*_0x3fc27d+_0x186b00*_0x186b00+_0x509313*_0x509313;}},{'key':'manhattanDistanceTo','value':function manhattanDistanceTo(_0x186e49){return Math[_0x2f63('0x75')](this['x']-_0x186e49['x'])+Math['abs'](this['y']-_0x186e49['y'])+Math[_0x2f63('0x75')](this['z']-_0x186e49['z']);}},{'key':_0x2f63('0xd7'),'value':function setFromSpherical(_0x72ff92){return this[_0x2f63('0xd8')](_0x72ff92[_0x2f63('0xd9')],_0x72ff92[_0x2f63('0xda')],_0x72ff92[_0x2f63('0xdb')]);}},{'key':_0x2f63('0xd8'),'value':function setFromSphericalCoords(_0x321db7,_0x579aeb,_0x4c37e8){var _0x4272f6=Math[_0x2f63('0x87')](_0x579aeb)*_0x321db7;this['x']=_0x4272f6*Math[_0x2f63('0x87')](_0x4c37e8);this['y']=Math['cos'](_0x579aeb)*_0x321db7;this['z']=_0x4272f6*Math['cos'](_0x4c37e8);return this;}},{'key':'setFromCylindrical','value':function setFromCylindrical(_0x482a5f){return this[_0x2f63('0xdc')](_0x482a5f[_0x2f63('0xd9')],_0x482a5f[_0x2f63('0xdb')],_0x482a5f['y']);}},{'key':'setFromCylindricalCoords','value':function setFromCylindricalCoords(_0x26eff0,_0x2c38a4,_0x46a57b){this['x']=_0x26eff0*Math[_0x2f63('0x87')](_0x2c38a4);this['y']=_0x46a57b;this['z']=_0x26eff0*Math[_0x2f63('0x86')](_0x2c38a4);return this;}},{'key':_0x2f63('0xdd'),'value':function setFromMatrixPosition(_0x304395){var _0xdd2735=_0x304395['elements'];this['x']=_0xdd2735[0xc];this['y']=_0xdd2735[0xd];this['z']=_0xdd2735[0xe];return this;}},{'key':_0x2f63('0xde'),'value':function setFromMatrixScale(_0xca16b5){var _0x4ac867=this['setFromMatrixColumn'](_0xca16b5,0x0)[_0x2f63('0x38')]();var _0x3c9928=this[_0x2f63('0x6d')](_0xca16b5,0x1)[_0x2f63('0x38')]();var _0x419d17=this[_0x2f63('0x6d')](_0xca16b5,0x2)[_0x2f63('0x38')]();this['x']=_0x4ac867;this['y']=_0x3c9928;this['z']=_0x419d17;return this;}},{'key':'setFromMatrixColumn','value':function setFromMatrixColumn(_0x13bbe6,_0x21419d){return this['fromArray'](_0x13bbe6[_0x2f63('0x65')],_0x21419d*0x4);}},{'key':'equals','value':function _0x49ccf3(_0x4f1875){return _0x4f1875['x']===this['x']&&_0x4f1875['y']===this['y']&&_0x4f1875['z']===this['z'];}},{'key':_0x2f63('0x69'),'value':function fromArray(_0x423356,_0x356487){if(_0x356487===undefined)_0x356487=0x0;this['x']=_0x423356[_0x356487];this['y']=_0x423356[_0x356487+0x1];this['z']=_0x423356[_0x356487+0x2];return this;}},{'key':_0x2f63('0x8f'),'value':function toArray(_0x153949,_0x415a93){if(_0x153949===undefined)_0x153949=[];if(_0x415a93===undefined)_0x415a93=0x0;_0x153949[_0x415a93]=this['x'];_0x153949[_0x415a93+0x1]=this['y'];_0x153949[_0x415a93+0x2]=this['z'];return _0x153949;}},{'key':_0x2f63('0xdf'),'value':function fromBufferAttribute(_0x2dc239,_0x8c1cc5,_0x5a9ba4){if(_0x5a9ba4!==undefined){console['warn'](_0x2f63('0xe0'));}this['x']=_0x2dc239[_0x2f63('0x7d')](_0x8c1cc5);this['y']=_0x2dc239['getY'](_0x8c1cc5);this['z']=_0x2dc239[_0x2f63('0xe1')](_0x8c1cc5);return this;}}]);return _0x14b965;}();function _0x130255(_0x2c9fa,_0xf6a1ac,_0x21dbc3,_0x3901bb,_0xad787d){this['a']=_0x2c9fa;this['b']=_0xf6a1ac;this['c']=_0x21dbc3;this[_0x2f63('0x27')]=_0x3901bb&&_0x3901bb['isVector3']?_0x3901bb:new _0x14b965();this['vertexNormals']=Array['isArray'](_0x3901bb)?_0x3901bb:[];this['materialIndex']=_0xad787d!==undefined?_0xad787d:0x0;}Object[_0x2f63('0xe2')](_0x130255['prototype'],{'clone':function clone(){return new this['constructor']()['copy'](this);},'copy':function copy(_0x394139){this['a']=_0x394139['a'];this['b']=_0x394139['b'];this['c']=_0x394139['c'];this[_0x2f63('0x27')][_0x2f63('0x6a')](_0x394139['normal']);this[_0x2f63('0xe3')]=_0x394139['materialIndex'];for(var _0x4979d9=0x0,_0x5f4b8b=_0x394139[_0x2f63('0xe4')]['length'];_0x4979d9<_0x5f4b8b;_0x4979d9++){this[_0x2f63('0xe4')][_0x4979d9]=_0x394139[_0x2f63('0xe4')][_0x4979d9][_0x2f63('0x68')]();}return this;}});var _0x849ca1=function(){function _0x849ca1(){_0x47c705(this,_0x849ca1);this[_0x2f63('0x65')]=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1];this[_0x2f63('0xe5')]=!![];}_0x38642a(_0x849ca1,[{'key':'set','value':function set(_0x4f9c9e,_0x542c3b,_0x42d2c9,_0x5ddd06,_0x1817bd,_0x279a86,_0x197751,_0x184f1a,_0x3ed03d){var _0x31b416=this[_0x2f63('0x65')];_0x31b416[0x0]=_0x4f9c9e;_0x31b416[0x1]=_0x5ddd06;_0x31b416[0x2]=_0x197751;_0x31b416[0x3]=_0x542c3b;_0x31b416[0x4]=_0x1817bd;_0x31b416[0x5]=_0x184f1a;_0x31b416[0x6]=_0x42d2c9;_0x31b416[0x7]=_0x279a86;_0x31b416[0x8]=_0x3ed03d;return this;}},{'key':_0x2f63('0x66'),'value':function identity(){this[_0x2f63('0x67')](0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1);return this;}},{'key':_0x2f63('0x68'),'value':function clone(){return new this[(_0x2f63('0x14'))]()['fromArray'](this['elements']);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x54a9aa){var _0xefcd2c=this[_0x2f63('0x65')];var _0x22a3ad=_0x54a9aa[_0x2f63('0x65')];_0xefcd2c[0x0]=_0x22a3ad[0x0];_0xefcd2c[0x1]=_0x22a3ad[0x1];_0xefcd2c[0x2]=_0x22a3ad[0x2];_0xefcd2c[0x3]=_0x22a3ad[0x3];_0xefcd2c[0x4]=_0x22a3ad[0x4];_0xefcd2c[0x5]=_0x22a3ad[0x5];_0xefcd2c[0x6]=_0x22a3ad[0x6];_0xefcd2c[0x7]=_0x22a3ad[0x7];_0xefcd2c[0x8]=_0x22a3ad[0x8];return this;}},{'key':_0x2f63('0xe6'),'value':function setFromMatrix4(_0x476146){var _0x2e9abb=_0x476146[_0x2f63('0x65')];this['set'](_0x2e9abb[0x0],_0x2e9abb[0x4],_0x2e9abb[0x8],_0x2e9abb[0x1],_0x2e9abb[0x5],_0x2e9abb[0x9],_0x2e9abb[0x2],_0x2e9abb[0x6],_0x2e9abb[0xa]);return this;}},{'key':'applyToBufferAttribute','value':function applyToBufferAttribute(_0xde5f2f){var _0xfa3f48=new _0x14b965();for(var _0x13fc6c=0x0,_0x1ef3da=_0xde5f2f['count'];_0x13fc6c<_0x1ef3da;_0x13fc6c++){_0xfa3f48['x']=_0xde5f2f[_0x2f63('0x7d')](_0x13fc6c);_0xfa3f48['y']=_0xde5f2f['getY'](_0x13fc6c);_0xfa3f48['z']=_0xde5f2f[_0x2f63('0xe1')](_0x13fc6c);_0xfa3f48[_0x2f63('0xbe')](this);_0xde5f2f[_0x2f63('0x7f')](_0x13fc6c,_0xfa3f48['x'],_0xfa3f48['y'],_0xfa3f48['z']);}return _0xde5f2f;}},{'key':_0x2f63('0xb8'),'value':function multiply(_0x4d05eb){return this['multiplyMatrices'](this,_0x4d05eb);}},{'key':_0x2f63('0x7a'),'value':function premultiply(_0x5960cc){return this[_0x2f63('0x79')](_0x5960cc,this);}},{'key':'multiplyMatrices','value':function multiplyMatrices(_0x9cf4e6,_0x1a3957){var _0xae83a4=_0x9cf4e6['elements'];var _0x1b8159=_0x1a3957[_0x2f63('0x65')];var _0x3a34a9=this[_0x2f63('0x65')];var _0x431e8f=_0xae83a4[0x0];var _0x138637=_0xae83a4[0x3];var _0x30692d=_0xae83a4[0x6];var _0x4acff4=_0xae83a4[0x1];var _0x513aa3=_0xae83a4[0x4];var _0x58d8cc=_0xae83a4[0x7];var _0x319b02=_0xae83a4[0x2];var _0x5929ce=_0xae83a4[0x5];var _0x581b88=_0xae83a4[0x8];var _0x399df0=_0x1b8159[0x0];var _0x2d7982=_0x1b8159[0x3];var _0x52fe9b=_0x1b8159[0x6];var _0x5371c6=_0x1b8159[0x1];var _0xa151c1=_0x1b8159[0x4];var _0x31bd25=_0x1b8159[0x7];var _0x519a7c=_0x1b8159[0x2];var _0x2d7b58=_0x1b8159[0x5];var _0x2b7e16=_0x1b8159[0x8];_0x3a34a9[0x0]=_0x431e8f*_0x399df0+_0x138637*_0x5371c6+_0x30692d*_0x519a7c;_0x3a34a9[0x3]=_0x431e8f*_0x2d7982+_0x138637*_0xa151c1+_0x30692d*_0x2d7b58;_0x3a34a9[0x6]=_0x431e8f*_0x52fe9b+_0x138637*_0x31bd25+_0x30692d*_0x2b7e16;_0x3a34a9[0x1]=_0x4acff4*_0x399df0+_0x513aa3*_0x5371c6+_0x58d8cc*_0x519a7c;_0x3a34a9[0x4]=_0x4acff4*_0x2d7982+_0x513aa3*_0xa151c1+_0x58d8cc*_0x2d7b58;_0x3a34a9[0x7]=_0x4acff4*_0x52fe9b+_0x513aa3*_0x31bd25+_0x58d8cc*_0x2b7e16;_0x3a34a9[0x2]=_0x319b02*_0x399df0+_0x5929ce*_0x5371c6+_0x581b88*_0x519a7c;_0x3a34a9[0x5]=_0x319b02*_0x2d7982+_0x5929ce*_0xa151c1+_0x581b88*_0x2d7b58;_0x3a34a9[0x8]=_0x319b02*_0x52fe9b+_0x5929ce*_0x31bd25+_0x581b88*_0x2b7e16;return this;}},{'key':'multiplyScalar','value':function multiplyScalar(_0x258fe3){var _0x597ad0=this[_0x2f63('0x65')];_0x597ad0[0x0]*=_0x258fe3;_0x597ad0[0x3]*=_0x258fe3;_0x597ad0[0x6]*=_0x258fe3;_0x597ad0[0x1]*=_0x258fe3;_0x597ad0[0x4]*=_0x258fe3;_0x597ad0[0x7]*=_0x258fe3;_0x597ad0[0x2]*=_0x258fe3;_0x597ad0[0x5]*=_0x258fe3;_0x597ad0[0x8]*=_0x258fe3;return this;}},{'key':_0x2f63('0x80'),'value':function determinant(){var _0x3e1d20=this[_0x2f63('0x65')];var _0x30a779=_0x3e1d20[0x0];var _0x8ec48d=_0x3e1d20[0x1];var _0x3e7463=_0x3e1d20[0x2];var _0x5de4ba=_0x3e1d20[0x3];var _0x2bec11=_0x3e1d20[0x4];var _0x54967b=_0x3e1d20[0x5];var _0x3cff70=_0x3e1d20[0x6];var _0x54d862=_0x3e1d20[0x7];var _0x2aa362=_0x3e1d20[0x8];return _0x30a779*_0x2bec11*_0x2aa362-_0x30a779*_0x54967b*_0x54d862-_0x8ec48d*_0x5de4ba*_0x2aa362+_0x8ec48d*_0x54967b*_0x3cff70+_0x3e7463*_0x5de4ba*_0x54d862-_0x3e7463*_0x2bec11*_0x3cff70;}},{'key':_0x2f63('0xc3'),'value':function getInverse(_0x316d52,_0xeb9a5){if(_0x316d52&&_0x316d52[_0x2f63('0xe7')]){console[_0x2f63('0xbb')](_0x2f63('0xe8'));}var _0x46feaf=_0x316d52[_0x2f63('0x65')];var _0x3511ee=this[_0x2f63('0x65')];var _0x55ebd1=_0x46feaf[0x0];var _0x317c03=_0x46feaf[0x1];var _0x952e40=_0x46feaf[0x2];var _0x456212=_0x46feaf[0x3];var _0x439f64=_0x46feaf[0x4];var _0x528aad=_0x46feaf[0x5];var _0x1c4ea9=_0x46feaf[0x6];var _0x57b710=_0x46feaf[0x7];var _0x251488=_0x46feaf[0x8];var _0xec36f9=_0x251488*_0x439f64-_0x528aad*_0x57b710;var _0x3875a6=_0x528aad*_0x1c4ea9-_0x251488*_0x456212;var _0x57984b=_0x57b710*_0x456212-_0x439f64*_0x1c4ea9;var _0x12f27e=_0x55ebd1*_0xec36f9+_0x317c03*_0x3875a6+_0x952e40*_0x57984b;if(_0x12f27e===0x0){var _0x413caa='THREE.Matrix3:\x20.getInverse()\x20can\x27t\x20invert\x20matrix,\x20determinant\x20is\x200';if(_0xeb9a5===!![]){throw new Error(_0x413caa);}else{console['warn'](_0x413caa);}return this[_0x2f63('0x66')]();}var _0x38cbc8=0x1/_0x12f27e;_0x3511ee[0x0]=_0xec36f9*_0x38cbc8;_0x3511ee[0x1]=(_0x952e40*_0x57b710-_0x251488*_0x317c03)*_0x38cbc8;_0x3511ee[0x2]=(_0x528aad*_0x317c03-_0x952e40*_0x439f64)*_0x38cbc8;_0x3511ee[0x3]=_0x3875a6*_0x38cbc8;_0x3511ee[0x4]=(_0x251488*_0x55ebd1-_0x952e40*_0x1c4ea9)*_0x38cbc8;_0x3511ee[0x5]=(_0x952e40*_0x456212-_0x528aad*_0x55ebd1)*_0x38cbc8;_0x3511ee[0x6]=_0x57984b*_0x38cbc8;_0x3511ee[0x7]=(_0x317c03*_0x1c4ea9-_0x57b710*_0x55ebd1)*_0x38cbc8;_0x3511ee[0x8]=(_0x439f64*_0x55ebd1-_0x317c03*_0x456212)*_0x38cbc8;return this;}},{'key':_0x2f63('0xe9'),'value':function transpose(){var _0x31e2ce;var _0x53398f=this['elements'];_0x31e2ce=_0x53398f[0x1];_0x53398f[0x1]=_0x53398f[0x3];_0x53398f[0x3]=_0x31e2ce;_0x31e2ce=_0x53398f[0x2];_0x53398f[0x2]=_0x53398f[0x6];_0x53398f[0x6]=_0x31e2ce;_0x31e2ce=_0x53398f[0x5];_0x53398f[0x5]=_0x53398f[0x7];_0x53398f[0x7]=_0x31e2ce;return this;}},{'key':_0x2f63('0xea'),'value':function getNormalMatrix(_0x557fd9){return this[_0x2f63('0xe6')](_0x557fd9)[_0x2f63('0xc3')](this)[_0x2f63('0xe9')]();}},{'key':'transposeIntoArray','value':function transposeIntoArray(_0x571028){var _0x4668a8=this[_0x2f63('0x65')];_0x571028[0x0]=_0x4668a8[0x0];_0x571028[0x1]=_0x4668a8[0x3];_0x571028[0x2]=_0x4668a8[0x6];_0x571028[0x3]=_0x4668a8[0x1];_0x571028[0x4]=_0x4668a8[0x4];_0x571028[0x5]=_0x4668a8[0x7];_0x571028[0x6]=_0x4668a8[0x2];_0x571028[0x7]=_0x4668a8[0x5];_0x571028[0x8]=_0x4668a8[0x8];return this;}},{'key':_0x2f63('0xeb'),'value':function setUvTransform(_0x37d1e6,_0x271296,_0x40bf3d,_0x35e34f,_0x95846d,_0x151d9a,_0x46d971){var _0x254857=Math[_0x2f63('0x86')](_0x95846d);var _0x5a1c3b=Math['sin'](_0x95846d);this[_0x2f63('0x67')](_0x40bf3d*_0x254857,_0x40bf3d*_0x5a1c3b,-_0x40bf3d*(_0x254857*_0x151d9a+_0x5a1c3b*_0x46d971)+_0x151d9a+_0x37d1e6,-_0x35e34f*_0x5a1c3b,_0x35e34f*_0x254857,-_0x35e34f*(-_0x5a1c3b*_0x151d9a+_0x254857*_0x46d971)+_0x46d971+_0x271296,0x0,0x0,0x1);}},{'key':_0x2f63('0x82'),'value':function scale(_0x399049,_0xef5582){var _0x5c65c4=this[_0x2f63('0x65')];_0x5c65c4[0x0]*=_0x399049;_0x5c65c4[0x3]*=_0x399049;_0x5c65c4[0x6]*=_0x399049;_0x5c65c4[0x1]*=_0xef5582;_0x5c65c4[0x4]*=_0xef5582;_0x5c65c4[0x7]*=_0xef5582;return this;}},{'key':'rotate','value':function rotate(_0x1135c8){var _0x2fe1e4=Math[_0x2f63('0x86')](_0x1135c8);var _0x55b332=Math[_0x2f63('0x87')](_0x1135c8);var _0x3aff6b=this['elements'];var _0x3d2e41=_0x3aff6b[0x0];var _0x526b8e=_0x3aff6b[0x3];var _0x55714d=_0x3aff6b[0x6];var _0xc91a61=_0x3aff6b[0x1];var _0x5938f9=_0x3aff6b[0x4];var _0x9214e2=_0x3aff6b[0x7];_0x3aff6b[0x0]=_0x2fe1e4*_0x3d2e41+_0x55b332*_0xc91a61;_0x3aff6b[0x3]=_0x2fe1e4*_0x526b8e+_0x55b332*_0x5938f9;_0x3aff6b[0x6]=_0x2fe1e4*_0x55714d+_0x55b332*_0x9214e2;_0x3aff6b[0x1]=-_0x55b332*_0x3d2e41+_0x2fe1e4*_0xc91a61;_0x3aff6b[0x4]=-_0x55b332*_0x526b8e+_0x2fe1e4*_0x5938f9;_0x3aff6b[0x7]=-_0x55b332*_0x55714d+_0x2fe1e4*_0x9214e2;return this;}},{'key':_0x2f63('0xec'),'value':function translate(_0x3a21a6,_0xd53b52){var _0x5e3b66=this['elements'];_0x5e3b66[0x0]+=_0x3a21a6*_0x5e3b66[0x2];_0x5e3b66[0x3]+=_0x3a21a6*_0x5e3b66[0x5];_0x5e3b66[0x6]+=_0x3a21a6*_0x5e3b66[0x8];_0x5e3b66[0x1]+=_0xd53b52*_0x5e3b66[0x2];_0x5e3b66[0x4]+=_0xd53b52*_0x5e3b66[0x5];_0x5e3b66[0x7]+=_0xd53b52*_0x5e3b66[0x8];return this;}},{'key':_0x2f63('0xa7'),'value':function _0x49ccf3(_0x1bf021){var _0x224ffd=this['elements'];var _0x3066b5=_0x1bf021[_0x2f63('0x65')];for(var _0x53dbad=0x0;_0x53dbad<0x9;_0x53dbad++){if(_0x224ffd[_0x53dbad]!==_0x3066b5[_0x53dbad])return![];}return!![];}},{'key':'fromArray','value':function fromArray(_0x164e8e,_0x466cd6){if(_0x466cd6===undefined)_0x466cd6=0x0;for(var _0x84710a=0x0;_0x84710a<0x9;_0x84710a++){this[_0x2f63('0x65')][_0x84710a]=_0x164e8e[_0x84710a+_0x466cd6];}return this;}},{'key':_0x2f63('0x8f'),'value':function toArray(_0x3617c5,_0x1974bb){if(_0x3617c5===undefined)_0x3617c5=[];if(_0x1974bb===undefined)_0x1974bb=0x0;var _0x1d3a16=this[_0x2f63('0x65')];_0x3617c5[_0x1974bb]=_0x1d3a16[0x0];_0x3617c5[_0x1974bb+0x1]=_0x1d3a16[0x1];_0x3617c5[_0x1974bb+0x2]=_0x1d3a16[0x2];_0x3617c5[_0x1974bb+0x3]=_0x1d3a16[0x3];_0x3617c5[_0x1974bb+0x4]=_0x1d3a16[0x4];_0x3617c5[_0x1974bb+0x5]=_0x1d3a16[0x5];_0x3617c5[_0x1974bb+0x6]=_0x1d3a16[0x6];_0x3617c5[_0x1974bb+0x7]=_0x1d3a16[0x7];_0x3617c5[_0x1974bb+0x8]=_0x1d3a16[0x8];return _0x3617c5;}}]);return _0x849ca1;}();var _0x5f39d5=function(){function _0x5f39d5(_0x2bf33f,_0x417185){_0x47c705(this,_0x5f39d5);this['min']=_0x2bf33f!==undefined?_0x2bf33f:new _0x14b965(+Infinity,+Infinity,+Infinity);this[_0x2f63('0x5d')]=_0x417185!==undefined?_0x417185:new _0x14b965(-Infinity,-Infinity,-Infinity);this[_0x2f63('0xed')]=!![];}_0x38642a(_0x5f39d5,[{'key':_0x2f63('0x67'),'value':function set(_0x370d5d,_0xf1c0c0){this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x370d5d);this['max'][_0x2f63('0x6a')](_0xf1c0c0);return this;}},{'key':'setFromArray','value':function setFromArray(_0x2c5197){var _0x498464=+Infinity;var _0x2d49ff=+Infinity;var _0x3bf4ba=+Infinity;var _0x59d2c3=-Infinity;var _0x21371f=-Infinity;var _0x3add35=-Infinity;for(var _0xaeaa41=0x0,_0x5bb988=_0x2c5197[_0x2f63('0x38')];_0xaeaa41<_0x5bb988;_0xaeaa41+=0x3){var _0x213b7b=_0x2c5197[_0xaeaa41];var _0x560c10=_0x2c5197[_0xaeaa41+0x1];var _0x34f77a=_0x2c5197[_0xaeaa41+0x2];if(_0x213b7b<_0x498464)_0x498464=_0x213b7b;if(_0x560c10<_0x2d49ff)_0x2d49ff=_0x560c10;if(_0x34f77a<_0x3bf4ba)_0x3bf4ba=_0x34f77a;if(_0x213b7b>_0x59d2c3)_0x59d2c3=_0x213b7b;if(_0x560c10>_0x21371f)_0x21371f=_0x560c10;if(_0x34f77a>_0x3add35)_0x3add35=_0x34f77a;}this[_0x2f63('0x5e')][_0x2f63('0x67')](_0x498464,_0x2d49ff,_0x3bf4ba);this['max']['set'](_0x59d2c3,_0x21371f,_0x3add35);return this;}},{'key':_0x2f63('0xee'),'value':function setFromBufferAttribute(_0x2d73cd){var _0x5e3652=+Infinity;var _0x2927b1=+Infinity;var _0x9fa7d2=+Infinity;var _0x24e56f=-Infinity;var _0xf977c1=-Infinity;var _0x16ebab=-Infinity;for(var _0x794cd6=0x0,_0x3e4220=_0x2d73cd['count'];_0x794cd6<_0x3e4220;_0x794cd6++){var _0x49275d=_0x2d73cd['getX'](_0x794cd6);var _0x335f36=_0x2d73cd['getY'](_0x794cd6);var _0x1ee9d4=_0x2d73cd[_0x2f63('0xe1')](_0x794cd6);if(_0x49275d<_0x5e3652)_0x5e3652=_0x49275d;if(_0x335f36<_0x2927b1)_0x2927b1=_0x335f36;if(_0x1ee9d4<_0x9fa7d2)_0x9fa7d2=_0x1ee9d4;if(_0x49275d>_0x24e56f)_0x24e56f=_0x49275d;if(_0x335f36>_0xf977c1)_0xf977c1=_0x335f36;if(_0x1ee9d4>_0x16ebab)_0x16ebab=_0x1ee9d4;}this[_0x2f63('0x5e')]['set'](_0x5e3652,_0x2927b1,_0x9fa7d2);this['max'][_0x2f63('0x67')](_0x24e56f,_0xf977c1,_0x16ebab);return this;}},{'key':_0x2f63('0xef'),'value':function setFromPoints(_0xf2484b){this[_0x2f63('0xf0')]();for(var _0x59524a=0x0,_0x58f68a=_0xf2484b[_0x2f63('0x38')];_0x59524a<_0x58f68a;_0x59524a++){this[_0x2f63('0xf1')](_0xf2484b[_0x59524a]);}return this;}},{'key':_0x2f63('0xf2'),'value':function setFromCenterAndSize(_0x2fe80e,_0x536aa1){var _0x29ed02=_0x536aa1[_0x2f63('0x68')]()[_0x2f63('0x7b')](0.5);this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x2fe80e)[_0x2f63('0xb5')](_0x29ed02);this[_0x2f63('0x5d')]['copy'](_0x2fe80e)[_0x2f63('0xb0')](_0x29ed02);return this;}},{'key':_0x2f63('0xf3'),'value':function setFromObject(_0x5f37c4){this[_0x2f63('0xf0')]();return this[_0x2f63('0xf4')](_0x5f37c4);}},{'key':_0x2f63('0x68'),'value':function clone(){return new _0x5f39d5()[_0x2f63('0x6a')](this);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x14ace7){this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x14ace7[_0x2f63('0x5e')]);this[_0x2f63('0x5d')][_0x2f63('0x6a')](_0x14ace7[_0x2f63('0x5d')]);return this;}},{'key':_0x2f63('0xf0'),'value':function makeEmpty(){this[_0x2f63('0x5e')]['x']=this[_0x2f63('0x5e')]['y']=this[_0x2f63('0x5e')]['z']=+Infinity;this[_0x2f63('0x5d')]['x']=this[_0x2f63('0x5d')]['y']=this['max']['z']=-Infinity;return this;}},{'key':_0x2f63('0xf5'),'value':function isEmpty(){return this[_0x2f63('0x5d')]['x']<this[_0x2f63('0x5e')]['x']||this[_0x2f63('0x5d')]['y']<this['min']['y']||this[_0x2f63('0x5d')]['z']<this[_0x2f63('0x5e')]['z'];}},{'key':_0x2f63('0xf6'),'value':function getCenter(_0xab1e1){if(_0xab1e1===undefined){console[_0x2f63('0x77')](_0x2f63('0xf7'));_0xab1e1=new _0x14b965();}return this[_0x2f63('0xf5')]()?_0xab1e1[_0x2f63('0x67')](0x0,0x0,0x0):_0xab1e1[_0x2f63('0xb2')](this[_0x2f63('0x5e')],this[_0x2f63('0x5d')])[_0x2f63('0x7b')](0.5);}},{'key':'getSize','value':function getSize(){var _0x39a569=new _0x14b965();return this[_0x2f63('0xf5')]()?_0x39a569[_0x2f63('0x67')](0x0,0x0,0x0):_0x39a569[_0x2f63('0x72')](this[_0x2f63('0x5d')],this[_0x2f63('0x5e')]);}},{'key':_0x2f63('0xf1'),'value':function expandByPoint(_0x494e6f){this['min'][_0x2f63('0x5e')](_0x494e6f);this[_0x2f63('0x5d')][_0x2f63('0x5d')](_0x494e6f);return this;}},{'key':'expandByVector','value':function expandByVector(_0x1b60f8){this[_0x2f63('0x5e')][_0x2f63('0xb5')](_0x1b60f8);this['max'][_0x2f63('0xb0')](_0x1b60f8);return this;}},{'key':_0x2f63('0xf8'),'value':function expandByScalar(_0x384c4a){this[_0x2f63('0x5e')][_0x2f63('0xb3')](-_0x384c4a);this[_0x2f63('0x5d')]['addScalar'](_0x384c4a);return this;}},{'key':_0x2f63('0xf4'),'value':function expandByObject(_0x22a8f1){var _0x3ba700=new _0x14b965();function _0x1b2e69(_0x2aaad2){var _0x302a57=_0x2aaad2[_0x2f63('0xf9')];if(_0x302a57!==undefined){if(_0x302a57[_0x2f63('0xfa')]){var _0x29d441=_0x302a57[_0x2f63('0xfb')];for(var _0x49bdfe=0x0,_0x1ebd8b=_0x29d441[_0x2f63('0x38')];_0x49bdfe<_0x1ebd8b;_0x49bdfe++){_0x3ba700[_0x2f63('0x6a')](_0x29d441[_0x49bdfe]);_0x3ba700[_0x2f63('0xbf')](_0x2aaad2[_0x2f63('0xfc')]);this[_0x2f63('0xf1')](_0x3ba700);}}else if(_0x302a57[_0x2f63('0xfd')]){var _0x48f643=_0x302a57[_0x2f63('0xfe')][_0x2f63('0xff')];if(_0x48f643!==undefined){for(var _0x21cf3e=0x0,_0x4bc8d0=_0x48f643['count'];_0x21cf3e<_0x4bc8d0;_0x21cf3e++){_0x3ba700[_0x2f63('0xdf')](_0x48f643,_0x21cf3e)[_0x2f63('0xbf')](_0x2aaad2[_0x2f63('0xfc')]);this[_0x2f63('0xf1')](_0x3ba700);}}}}}_0x22a8f1['updateMatrixWorld'](!![]);_0x22a8f1['traverse'](_0x1b2e69);return this;}},{'key':_0x2f63('0x100'),'value':function containsPoint(_0x93de93){return!(_0x93de93['x']<this[_0x2f63('0x5e')]['x']||_0x93de93['x']>this[_0x2f63('0x5d')]['x']||_0x93de93['y']<this[_0x2f63('0x5e')]['y']||_0x93de93['y']>this[_0x2f63('0x5d')]['y']||_0x93de93['z']<this[_0x2f63('0x5e')]['z']||_0x93de93['z']>this[_0x2f63('0x5d')]['z']);}},{'key':_0x2f63('0x101'),'value':function containsBox(_0xf43bab){return this[_0x2f63('0x5e')]['x']<=_0xf43bab[_0x2f63('0x5e')]['x']&&_0xf43bab[_0x2f63('0x5d')]['x']<=this[_0x2f63('0x5d')]['x']&&this[_0x2f63('0x5e')]['y']<=_0xf43bab[_0x2f63('0x5e')]['y']&&_0xf43bab[_0x2f63('0x5d')]['y']<=this['max']['y']&&this[_0x2f63('0x5e')]['z']<=_0xf43bab[_0x2f63('0x5e')]['z']&&_0xf43bab[_0x2f63('0x5d')]['z']<=this[_0x2f63('0x5d')]['z'];}},{'key':_0x2f63('0x102'),'value':function getParameter(_0x4853ea,_0x3d50a1){if(_0x3d50a1===undefined){console[_0x2f63('0x77')](_0x2f63('0x103'));_0x3d50a1=new _0x14b965();}return _0x3d50a1[_0x2f63('0x67')]((_0x4853ea['x']-this[_0x2f63('0x5e')]['x'])/(this[_0x2f63('0x5d')]['x']-this[_0x2f63('0x5e')]['x']),(_0x4853ea['y']-this[_0x2f63('0x5e')]['y'])/(this[_0x2f63('0x5d')]['y']-this[_0x2f63('0x5e')]['y']),(_0x4853ea['z']-this['min']['z'])/(this[_0x2f63('0x5d')]['z']-this[_0x2f63('0x5e')]['z']));}},{'key':_0x2f63('0x104'),'value':function intersectsBox(_0x3f5f38){return!(_0x3f5f38[_0x2f63('0x5d')]['x']<this['min']['x']||_0x3f5f38[_0x2f63('0x5e')]['x']>this[_0x2f63('0x5d')]['x']||_0x3f5f38['max']['y']<this[_0x2f63('0x5e')]['y']||_0x3f5f38[_0x2f63('0x5e')]['y']>this[_0x2f63('0x5d')]['y']||_0x3f5f38[_0x2f63('0x5d')]['z']<this[_0x2f63('0x5e')]['z']||_0x3f5f38['min']['z']>this[_0x2f63('0x5d')]['z']);}},{'key':_0x2f63('0x105'),'value':function clampPoint(_0x1ebbce,_0x6734ae){if(_0x6734ae===undefined){console['warn'](_0x2f63('0x106'));_0x6734ae=new _0x14b965();}return _0x6734ae[_0x2f63('0x6a')](_0x1ebbce)['clamp'](this['min'],this[_0x2f63('0x5d')]);}},{'key':'distanceToPoint','value':function distanceToPoint(_0x4a29fb){var _0x6ce870=_0x4a29fb[_0x2f63('0x68')]()[_0x2f63('0xa0')](this['min'],this[_0x2f63('0x5d')]);return _0x6ce870[_0x2f63('0xb5')](_0x4a29fb)[_0x2f63('0x38')]();}},{'key':'getBoundingSphere','value':function getBoundingSphere(_0x53a7e6){if(_0x53a7e6===undefined){console[_0x2f63('0x77')](_0x2f63('0x107'));_0x53a7e6=new _0x482cf5();}this[_0x2f63('0xf6')](_0x53a7e6['center']);_0x53a7e6[_0x2f63('0xd9')]=this[_0x2f63('0x108')]()[_0x2f63('0x38')]()*0.5;return _0x53a7e6;}},{'key':_0x2f63('0x109'),'value':function intersect(_0x31ae0b){this[_0x2f63('0x5e')][_0x2f63('0x5d')](_0x31ae0b[_0x2f63('0x5e')]);this['max'][_0x2f63('0x5e')](_0x31ae0b['max']);if(this[_0x2f63('0xf5')]())this['makeEmpty']();return this;}},{'key':_0x2f63('0x10a'),'value':function union(_0x20d497){this[_0x2f63('0x5e')][_0x2f63('0x5e')](_0x20d497[_0x2f63('0x5e')]);this[_0x2f63('0x5d')][_0x2f63('0x5d')](_0x20d497[_0x2f63('0x5d')]);return this;}},{'key':_0x2f63('0xbf'),'value':function applyMatrix4(_0x228c3a){if(this[_0x2f63('0xf5')]())return this;var _0x2274dc=[new _0x14b965(),new _0x14b965(),new _0x14b965(),new _0x14b965(),new _0x14b965(),new _0x14b965(),new _0x14b965(),new _0x14b965()];_0x2274dc[0x0][_0x2f63('0x67')](this['min']['x'],this[_0x2f63('0x5e')]['y'],this[_0x2f63('0x5e')]['z'])['applyMatrix4'](_0x228c3a);_0x2274dc[0x1][_0x2f63('0x67')](this[_0x2f63('0x5e')]['x'],this[_0x2f63('0x5e')]['y'],this['max']['z'])[_0x2f63('0xbf')](_0x228c3a);_0x2274dc[0x2][_0x2f63('0x67')](this[_0x2f63('0x5e')]['x'],this[_0x2f63('0x5d')]['y'],this[_0x2f63('0x5e')]['z'])['applyMatrix4'](_0x228c3a);_0x2274dc[0x3]['set'](this[_0x2f63('0x5e')]['x'],this['max']['y'],this[_0x2f63('0x5d')]['z'])[_0x2f63('0xbf')](_0x228c3a);_0x2274dc[0x4][_0x2f63('0x67')](this['max']['x'],this[_0x2f63('0x5e')]['y'],this['min']['z'])[_0x2f63('0xbf')](_0x228c3a);_0x2274dc[0x5][_0x2f63('0x67')](this[_0x2f63('0x5d')]['x'],this[_0x2f63('0x5e')]['y'],this[_0x2f63('0x5d')]['z'])[_0x2f63('0xbf')](_0x228c3a);_0x2274dc[0x6][_0x2f63('0x67')](this[_0x2f63('0x5d')]['x'],this[_0x2f63('0x5d')]['y'],this[_0x2f63('0x5e')]['z'])[_0x2f63('0xbf')](_0x228c3a);_0x2274dc[0x7]['set'](this[_0x2f63('0x5d')]['x'],this[_0x2f63('0x5d')]['y'],this[_0x2f63('0x5d')]['z'])[_0x2f63('0xbf')](_0x228c3a);this[_0x2f63('0xef')](_0x2274dc);return this;}},{'key':'translate','value':function translate(_0x487dca){this[_0x2f63('0x5e')][_0x2f63('0xb0')](_0x487dca);this[_0x2f63('0x5d')][_0x2f63('0xb0')](_0x487dca);return this;}},{'key':_0x2f63('0xa7'),'value':function _0x49ccf3(_0x755e79){return _0x755e79[_0x2f63('0x5e')][_0x2f63('0xa7')](this[_0x2f63('0x5e')])&&_0x755e79[_0x2f63('0x5d')]['equals'](this[_0x2f63('0x5d')]);}}]);return _0x5f39d5;}();var _0x482cf5=function(){function _0x482cf5(_0x4e0c6d,_0x1dcfe6){_0x47c705(this,_0x482cf5);this[_0x2f63('0x10b')]=_0x4e0c6d!==undefined?_0x4e0c6d:new _0x14b965();this[_0x2f63('0xd9')]=_0x1dcfe6!==undefined?_0x1dcfe6:0x0;}_0x38642a(_0x482cf5,[{'key':_0x2f63('0x67'),'value':function set(_0x21911b,_0x459ed1){this['center'][_0x2f63('0x6a')](_0x21911b);this[_0x2f63('0xd9')]=_0x459ed1;return this;}},{'key':_0x2f63('0xef'),'value':function setFromPoints(_0x379ed5,_0x2bbc5a){var _0x10522d=new _0x5f39d5();var _0x48d0c2=this['center'];if(_0x2bbc5a!==undefined){_0x48d0c2[_0x2f63('0x6a')](_0x2bbc5a);}else{_0x10522d['setFromPoints'](_0x379ed5)[_0x2f63('0xf6')](_0x48d0c2);}var _0x51d650=0x0;for(var _0xe590ad=0x0,_0x7c7c59=_0x379ed5['length'];_0xe590ad<_0x7c7c59;_0xe590ad++){_0x51d650=Math[_0x2f63('0x5d')](_0x51d650,_0x48d0c2[_0x2f63('0xd6')](_0x379ed5[_0xe590ad]));}this['radius']=Math[_0x2f63('0x84')](_0x51d650);return this;}},{'key':'clone','value':function clone(){return new this[(_0x2f63('0x14'))]()[_0x2f63('0x6a')](this);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x10c111){this[_0x2f63('0x10b')][_0x2f63('0x6a')](_0x10c111['center']);this[_0x2f63('0xd9')]=_0x10c111[_0x2f63('0xd9')];return this;}},{'key':_0x2f63('0x10c'),'value':function empty(){return this[_0x2f63('0xd9')]<=0x0;}},{'key':'containsPoint','value':function containsPoint(_0x40c894){return _0x40c894[_0x2f63('0xd6')](this[_0x2f63('0x10b')])<=this[_0x2f63('0xd9')]*this[_0x2f63('0xd9')];}},{'key':_0x2f63('0x10d'),'value':function distanceToPoint(_0x1283b0){return _0x1283b0['distanceTo'](this['center'])-this[_0x2f63('0xd9')];}},{'key':_0x2f63('0x10e'),'value':function intersectsSphere(_0x162dba){var _0x105153=this[_0x2f63('0xd9')]+_0x162dba[_0x2f63('0xd9')];return _0x162dba['center']['distanceToSquared'](this[_0x2f63('0x10b')])<=_0x105153*_0x105153;}},{'key':_0x2f63('0x104'),'value':function intersectsBox(_0x2fdff6){return _0x2fdff6['intersectsSphere'](this);}},{'key':'intersectsPlane','value':function intersectsPlane(_0xb6bb48){return Math[_0x2f63('0x75')](_0xb6bb48[_0x2f63('0x10d')](this[_0x2f63('0x10b')]))<=this[_0x2f63('0xd9')];}},{'key':_0x2f63('0x105'),'value':function clampPoint(_0xa2fc29,_0x3f6a6c){var _0x325142=this[_0x2f63('0x10b')][_0x2f63('0xd6')](_0xa2fc29);if(_0x3f6a6c===undefined){console['warn']('THREE.Sphere:\x20.clampPoint()\x20target\x20is\x20now\x20required');_0x3f6a6c=new _0x14b965();}_0x3f6a6c[_0x2f63('0x6a')](_0xa2fc29);if(_0x325142>this[_0x2f63('0xd9')]*this[_0x2f63('0xd9')]){_0x3f6a6c['sub'](this[_0x2f63('0x10b')])[_0x2f63('0x74')]();_0x3f6a6c[_0x2f63('0x7b')](this[_0x2f63('0xd9')])[_0x2f63('0xb0')](this['center']);}return _0x3f6a6c;}},{'key':'getBoundingBox','value':function getBoundingBox(_0x5d1e1a){if(_0x5d1e1a===undefined){console[_0x2f63('0x77')](_0x2f63('0x10f'));_0x5d1e1a=new _0x5f39d5();}_0x5d1e1a[_0x2f63('0x67')](this['center'],this['center']);_0x5d1e1a['expandByScalar'](this[_0x2f63('0xd9')]);return _0x5d1e1a;}},{'key':_0x2f63('0xbf'),'value':function applyMatrix4(_0x48318d){this[_0x2f63('0x10b')][_0x2f63('0xbf')](_0x48318d);this['radius']=this[_0x2f63('0xd9')]*_0x48318d[_0x2f63('0x83')]();return this;}},{'key':'translate','value':function translate(_0x4958ed){this[_0x2f63('0x10b')][_0x2f63('0xb0')](_0x4958ed);return this;}},{'key':_0x2f63('0xa7'),'value':function _0x49ccf3(_0x349431){return _0x349431[_0x2f63('0x10b')][_0x2f63('0xa7')](this[_0x2f63('0x10b')])&&_0x349431[_0x2f63('0xd9')]===this[_0x2f63('0xd9')];}}]);return _0x482cf5;}();var _0x2b6548=function(){function _0x2b6548(_0x2414bc,_0x11389b){_0x47c705(this,_0x2b6548);this['x']=_0x2414bc||0x0;this['y']=_0x11389b||0x0;this[_0x2f63('0x110')]=!![];}_0x38642a(_0x2b6548,[{'key':_0x2f63('0x67'),'value':function set(_0x1d6e02,_0x3ebe99){this['x']=_0x1d6e02;this['y']=_0x3ebe99;return this;}},{'key':'setScalar','value':function setScalar(_0x55d010){this['x']=_0x55d010;this['y']=_0x55d010;return this;}},{'key':_0x2f63('0x111'),'value':function setX(_0xe13e2a){this['x']=_0xe13e2a;return this;}},{'key':_0x2f63('0x112'),'value':function setY(_0x254b37){this['y']=_0x254b37;return this;}},{'key':_0x2f63('0xad'),'value':function setComponent(_0x3b61dc,_0x8ed312){switch(_0x3b61dc){case 0x0:this['x']=_0x8ed312;break;case 0x1:this['y']=_0x8ed312;break;default:throw new Error(_0x2f63('0xae')+_0x3b61dc);}return this;}},{'key':_0x2f63('0xaf'),'value':function getComponent(_0x39da11){switch(_0x39da11){case 0x0:return this['x'];case 0x1:return this['y'];default:throw new Error(_0x2f63('0xae')+_0x39da11);}}},{'key':_0x2f63('0x68'),'value':function clone(){return new this[(_0x2f63('0x14'))](this['x'],this['y']);}},{'key':'copy','value':function copy(_0x483e97){this['x']=_0x483e97['x'];this['y']=_0x483e97['y'];return this;}},{'key':_0x2f63('0xb0'),'value':function add(_0x47901d,_0x42341b){if(_0x42341b!==undefined){console[_0x2f63('0x77')]('THREE.Vector2:\x20.add()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.addVectors(\x20a,\x20b\x20)\x20instead.');return this[_0x2f63('0xb2')](_0x47901d,_0x42341b);}this['x']+=_0x47901d['x'];this['y']+=_0x47901d['y'];return this;}},{'key':'addScalar','value':function addScalar(_0x4087c4){this['x']+=_0x4087c4;this['y']+=_0x4087c4;return this;}},{'key':'addVectors','value':function addVectors(_0x555fa3,_0x176666){this['x']=_0x555fa3['x']+_0x176666['x'];this['y']=_0x555fa3['y']+_0x176666['y'];return this;}},{'key':_0x2f63('0xb4'),'value':function addScaledVector(_0x28da0f,_0x945522){this['x']+=_0x28da0f['x']*_0x945522;this['y']+=_0x28da0f['y']*_0x945522;return this;}},{'key':_0x2f63('0xb5'),'value':function sub(_0x341ca5,_0x19a85d){if(_0x19a85d!==undefined){console[_0x2f63('0x77')]('THREE.Vector2:\x20.sub()\x20now\x20only\x20accepts\x20one\x20argument.\x20Use\x20.subVectors(\x20a,\x20b\x20)\x20instead.');return this[_0x2f63('0x72')](_0x341ca5,_0x19a85d);}this['x']-=_0x341ca5['x'];this['y']-=_0x341ca5['y'];return this;}},{'key':_0x2f63('0xb7'),'value':function subScalar(_0x257e97){this['x']-=_0x257e97;this['y']-=_0x257e97;return this;}},{'key':_0x2f63('0x72'),'value':function subVectors(_0x202dec,_0x400e05){this['x']=_0x202dec['x']-_0x400e05['x'];this['y']=_0x202dec['y']-_0x400e05['y'];return this;}},{'key':_0x2f63('0xb8'),'value':function multiply(_0x176d0d){this['x']*=_0x176d0d['x'];this['y']*=_0x176d0d['y'];return this;}},{'key':'multiplyScalar','value':function multiplyScalar(_0x5d056a){this['x']*=_0x5d056a;this['y']*=_0x5d056a;return this;}},{'key':_0x2f63('0xc6'),'value':function divide(_0x253c92){this['x']/=_0x253c92['x'];this['y']/=_0x253c92['y'];return this;}},{'key':_0x2f63('0xc8'),'value':function divideScalar(_0x45be19){return this[_0x2f63('0x7b')](0x1/_0x45be19);}},{'key':_0x2f63('0xbe'),'value':function applyMatrix3(_0x368d4b){var _0x11dc78=this['x'],_0x4a2218=this['y'];var _0x18dc4f=_0x368d4b['elements'];this['x']=_0x18dc4f[0x0]*_0x11dc78+_0x18dc4f[0x3]*_0x4a2218+_0x18dc4f[0x6];this['y']=_0x18dc4f[0x1]*_0x11dc78+_0x18dc4f[0x4]*_0x4a2218+_0x18dc4f[0x7];return this;}},{'key':_0x2f63('0x5e'),'value':function min(_0x56fd47){this['x']=Math[_0x2f63('0x5e')](this['x'],_0x56fd47['x']);this['y']=Math[_0x2f63('0x5e')](this['y'],_0x56fd47['y']);return this;}},{'key':_0x2f63('0x5d'),'value':function max(_0x2097b1){this['x']=Math[_0x2f63('0x5d')](this['x'],_0x2097b1['x']);this['y']=Math[_0x2f63('0x5d')](this['y'],_0x2097b1['y']);return this;}},{'key':_0x2f63('0xa0'),'value':function clamp(_0x62bdb5,_0x30d17a){this['x']=Math['max'](_0x62bdb5['x'],Math[_0x2f63('0x5e')](_0x30d17a['x'],this['x']));this['y']=Math[_0x2f63('0x5d')](_0x62bdb5['y'],Math['min'](_0x30d17a['y'],this['y']));return this;}},{'key':'clampScalar','value':function clampScalar(_0x19b354,_0x1056c8){var _0x1cee70=new _0x2b6548(_0x19b354,_0x19b354);var _0xef426b=new _0x2b6548(_0x1056c8,_0x1056c8);return this[_0x2f63('0xa0')](_0x1cee70,_0xef426b);}},{'key':_0x2f63('0xc7'),'value':function clampLength(_0x2cf147,_0x53f18e){var _0x474143=this[_0x2f63('0x38')]();return this[_0x2f63('0xc8')](_0x474143||0x1)['multiplyScalar'](Math[_0x2f63('0x5d')](_0x2cf147,Math['min'](_0x53f18e,_0x474143)));}},{'key':_0x2f63('0xc9'),'value':function floor(){this['x']=Math[_0x2f63('0xc9')](this['x']);this['y']=Math[_0x2f63('0xc9')](this['y']);return this;}},{'key':_0x2f63('0x62'),'value':function ceil(){this['x']=Math[_0x2f63('0x62')](this['x']);this['y']=Math['ceil'](this['y']);return this;}},{'key':'round','value':function round(){this['x']=Math['round'](this['x']);this['y']=Math[_0x2f63('0xca')](this['y']);return this;}},{'key':_0x2f63('0xcb'),'value':function roundToZero(){this['x']=this['x']<0x0?Math[_0x2f63('0x62')](this['x']):Math[_0x2f63('0xc9')](this['x']);this['y']=this['y']<0x0?Math[_0x2f63('0x62')](this['y']):Math['floor'](this['y']);return this;}},{'key':'negate','value':function negate(){this['x']=-this['x'];this['y']=-this['y'];return this;}},{'key':_0x2f63('0xa1'),'value':function dot(_0x485f1c){return this['x']*_0x485f1c['x']+this['y']*_0x485f1c['y'];}},{'key':_0x2f63('0xd0'),'value':function cross(_0x1b435f){return this['x']*_0x1b435f['y']-this['y']*_0x1b435f['x'];}},{'key':'lengthSq','value':function lengthSq(){return this['x']*this['x']+this['y']*this['y'];}},{'key':_0x2f63('0x38'),'value':function length(){return Math[_0x2f63('0x113')](this['x'],this['y']);}},{'key':_0x2f63('0x114'),'value':function manhattanLength(){return Math[_0x2f63('0x75')](this['x'])+Math['abs'](this['y']);}},{'key':_0x2f63('0x74'),'value':function normalize(){return this[_0x2f63('0xc8')](this[_0x2f63('0x38')]()||0x1);}},{'key':'angle','value':function _0x1eb02d(){var _0x1eb02d=Math['atan2'](this['y'],this['x']);if(_0x1eb02d<0x0)_0x1eb02d+=0x2*Math['PI'];return _0x1eb02d;}},{'key':_0x2f63('0xd5'),'value':function distanceTo(_0x53e6e1){return Math[_0x2f63('0x113')](_0x53e6e1['x']-this['x'],_0x53e6e1['y']-this['y']);}},{'key':_0x2f63('0xd6'),'value':function distanceToSquared(_0x51f29d){var _0x3f194c=this['x']-_0x51f29d['x'];var _0x53a336=this['y']-_0x51f29d['y'];return _0x3f194c*_0x3f194c+_0x53a336*_0x53a336;}},{'key':_0x2f63('0x115'),'value':function manhattanDistanceTo(_0x4f3ee2){return Math[_0x2f63('0x75')](this['x']-_0x4f3ee2['x'])+Math[_0x2f63('0x75')](this['y']-_0x4f3ee2['y']);}},{'key':_0x2f63('0xcd'),'value':function setLength(_0x1ffa03){return this[_0x2f63('0x74')]()[_0x2f63('0x7b')](_0x1ffa03);}},{'key':_0x2f63('0xce'),'value':function lerp(_0x5e8585,_0x127108){this['x']+=(_0x5e8585['x']-this['x'])*_0x127108;this['y']+=(_0x5e8585['y']-this['y'])*_0x127108;return this;}},{'key':_0x2f63('0xcf'),'value':function lerpVectors(_0x545b53,_0x241ae0,_0x53ca91){return this['subVectors'](_0x241ae0,_0x545b53)['multiplyScalar'](_0x53ca91)[_0x2f63('0xb0')](_0x545b53);}},{'key':'equals','value':function _0x49ccf3(_0x89bc68){return _0x89bc68['x']===this['x']&&_0x89bc68['y']===this['y'];}},{'key':'fromArray','value':function fromArray(_0x54d4c0,_0x1a4f3c){if(_0x1a4f3c===undefined)_0x1a4f3c=0x0;this['x']=_0x54d4c0[_0x1a4f3c];this['y']=_0x54d4c0[_0x1a4f3c+0x1];return this;}},{'key':_0x2f63('0x8f'),'value':function toArray(_0x54aa3f,_0x2cefe3){if(_0x54aa3f===undefined)_0x54aa3f=[];if(_0x2cefe3===undefined)_0x2cefe3=0x0;_0x54aa3f[_0x2cefe3]=this['x'];_0x54aa3f[_0x2cefe3+0x1]=this['y'];return _0x54aa3f;}},{'key':_0x2f63('0xdf'),'value':function fromBufferAttribute(_0x188bc4,_0x4d678b,_0x87a2ba){if(_0x87a2ba!==undefined){console[_0x2f63('0x77')](_0x2f63('0x116'));}this['x']=_0x188bc4['getX'](_0x4d678b);this['y']=_0x188bc4[_0x2f63('0x7e')](_0x4d678b);return this;}},{'key':'rotateAround','value':function rotateAround(_0x41f68b,_0x2193d3){var _0x59e5da=Math[_0x2f63('0x86')](_0x2193d3);var _0x1b64d4=Math['sin'](_0x2193d3);var _0x2edb94=this['x']-_0x41f68b['x'];var _0x1d64e1=this['y']-_0x41f68b['y'];this['x']=_0x2edb94*_0x59e5da-_0x1d64e1*_0x1b64d4+_0x41f68b['x'];this['y']=_0x2edb94*_0x1b64d4+_0x1d64e1*_0x59e5da+_0x41f68b['y'];return this;}}]);return _0x2b6548;}();Object[_0x2f63('0xa9')](_0x2b6548[_0x2f63('0x9')],{'width':{'get':function _0x4ff83e(){return this['x'];},'set':function set(_0x434f83){this['x']=_0x434f83;}},'height':{'get':function _0x4ff83e(){return this['y'];},'set':function set(_0x25c8d0){this['y']=_0x25c8d0;}}});function _0x1aa4b3(_0x319883,_0x3d7758,_0x4981be,_0x22a381){this['_x']=_0x319883||0x0;this['_y']=_0x3d7758||0x0;this['_z']=_0x4981be||0x0;this[_0x2f63('0x117')]=_0x22a381||_0x1aa4b3[_0x2f63('0x118')];}_0x1aa4b3[_0x2f63('0x119')]=[_0x2f63('0x11a'),_0x2f63('0x9b'),_0x2f63('0x99'),_0x2f63('0x9c'),_0x2f63('0x98'),'ZYX'];_0x1aa4b3[_0x2f63('0x118')]=_0x2f63('0x11a');Object['defineProperties'](_0x1aa4b3[_0x2f63('0x9')],{'x':{'get':function _0x4ff83e(){return this['_x'];},'set':function set(_0x378e71){this['_x']=_0x378e71;this[_0x2f63('0x94')]();}},'y':{'get':function _0x4ff83e(){return this['_y'];},'set':function set(_0x539122){this['_y']=_0x539122;this[_0x2f63('0x94')]();}},'z':{'get':function _0x4ff83e(){return this['_z'];},'set':function set(_0xb57437){this['_z']=_0xb57437;this[_0x2f63('0x94')]();}},'order':{'get':function _0x4ff83e(){return this[_0x2f63('0x117')];},'set':function set(_0x9e77ee){this[_0x2f63('0x117')]=_0x9e77ee;this[_0x2f63('0x94')]();}}});Object[_0x2f63('0xe2')](_0x1aa4b3[_0x2f63('0x9')],{'isEuler':!![],'set':function set(_0x11019d,_0x26622d,_0x33411f,_0x3f0c40){this['_x']=_0x11019d;this['_y']=_0x26622d;this['_z']=_0x33411f;this[_0x2f63('0x117')]=_0x3f0c40||this[_0x2f63('0x117')];this['onChangeCallback']();return this;},'clone':function clone(){return new this[(_0x2f63('0x14'))](this['_x'],this['_y'],this['_z'],this[_0x2f63('0x117')]);},'copy':function copy(_0x6796c6){this['_x']=_0x6796c6['_x'];this['_y']=_0x6796c6['_y'];this['_z']=_0x6796c6['_z'];this[_0x2f63('0x117')]=_0x6796c6['_order'];this[_0x2f63('0x94')]();return this;},'setFromRotationMatrix':function setFromRotationMatrix(_0x3da06a,_0x6bad5d,_0x43cdaf){var _0x37969c=_0x252c11[_0x2f63('0xa0')];var _0x2605c2=_0x3da06a['elements'];var _0x413348=_0x2605c2[0x0];var _0x3ffabe=_0x2605c2[0x4];var _0x4c66c9=_0x2605c2[0x8];var _0x584008=_0x2605c2[0x1];var _0x42e30c=_0x2605c2[0x5];var _0x16ba32=_0x2605c2[0x9];var _0x5dbef9=_0x2605c2[0x2];var _0x30ccce=_0x2605c2[0x6];var _0xa68f28=_0x2605c2[0xa];_0x6bad5d=_0x6bad5d||this['_order'];if(_0x6bad5d===_0x2f63('0x11a')){this['_y']=Math['asin'](_0x37969c(_0x4c66c9,-0x1,0x1));if(Math['abs'](_0x4c66c9)<0.99999){this['_x']=Math[_0x2f63('0x93')](-_0x16ba32,_0xa68f28);this['_z']=Math['atan2'](-_0x3ffabe,_0x413348);}else{this['_x']=Math[_0x2f63('0x93')](_0x30ccce,_0x42e30c);this['_z']=0x0;}}else if(_0x6bad5d===_0x2f63('0x98')){this['_x']=Math[_0x2f63('0x11b')](-_0x37969c(_0x16ba32,-0x1,0x1));if(Math['abs'](_0x16ba32)<0.99999){this['_y']=Math['atan2'](_0x4c66c9,_0xa68f28);this['_z']=Math[_0x2f63('0x93')](_0x584008,_0x42e30c);}else{this['_y']=Math[_0x2f63('0x93')](-_0x5dbef9,_0x413348);this['_z']=0x0;}}else if(_0x6bad5d===_0x2f63('0x99')){this['_x']=Math[_0x2f63('0x11b')](_0x37969c(_0x30ccce,-0x1,0x1));if(Math[_0x2f63('0x75')](_0x30ccce)<0.99999){this['_y']=Math['atan2'](-_0x5dbef9,_0xa68f28);this['_z']=Math[_0x2f63('0x93')](-_0x3ffabe,_0x42e30c);}else{this['_y']=0x0;this['_z']=Math[_0x2f63('0x93')](_0x584008,_0x413348);}}else if(_0x6bad5d==='ZYX'){this['_y']=Math['asin'](-_0x37969c(_0x5dbef9,-0x1,0x1));if(Math['abs'](_0x5dbef9)<0.99999){this['_x']=Math['atan2'](_0x30ccce,_0xa68f28);this['_z']=Math['atan2'](_0x584008,_0x413348);}else{this['_x']=0x0;this['_z']=Math[_0x2f63('0x93')](-_0x3ffabe,_0x42e30c);}}else if(_0x6bad5d===_0x2f63('0x9b')){this['_z']=Math[_0x2f63('0x11b')](_0x37969c(_0x584008,-0x1,0x1));if(Math[_0x2f63('0x75')](_0x584008)<0.99999){this['_x']=Math[_0x2f63('0x93')](-_0x16ba32,_0x42e30c);this['_y']=Math[_0x2f63('0x93')](-_0x5dbef9,_0x413348);}else{this['_x']=0x0;this['_y']=Math[_0x2f63('0x93')](_0x4c66c9,_0xa68f28);}}else if(_0x6bad5d===_0x2f63('0x9c')){this['_z']=Math[_0x2f63('0x11b')](-_0x37969c(_0x3ffabe,-0x1,0x1));if(Math[_0x2f63('0x75')](_0x3ffabe)<0.99999){this['_x']=Math['atan2'](_0x30ccce,_0x42e30c);this['_y']=Math[_0x2f63('0x93')](_0x4c66c9,_0x413348);}else{this['_x']=Math[_0x2f63('0x93')](-_0x16ba32,_0xa68f28);this['_y']=0x0;}}else{console['warn'](_0x2f63('0x11c')+_0x6bad5d);}this[_0x2f63('0x117')]=_0x6bad5d;if(_0x43cdaf!==![])this[_0x2f63('0x94')]();return this;},'setFromQuaternion':function(){var _0x126d62=new _0x367199();return function setFromQuaternion(_0x28937e,_0x43055e,_0x59ca14){_0x126d62[_0x2f63('0x6f')](_0x28937e);return this['setFromRotationMatrix'](_0x126d62,_0x43055e,_0x59ca14);};}(),'setFromVector3':function setFromVector3(_0x5528c1,_0x55429d){return this[_0x2f63('0x67')](_0x5528c1['x'],_0x5528c1['y'],_0x5528c1['z'],_0x55429d||this[_0x2f63('0x117')]);},'reorder':function(){var _0xf23d48=new _0x4ba6c2();return function reorder(_0x36394d){_0xf23d48['setFromEuler'](this);return this['setFromQuaternion'](_0xf23d48,_0x36394d);};}(),'equals':function _0x49ccf3(_0x6d10b5){return _0x6d10b5['_x']===this['_x']&&_0x6d10b5['_y']===this['_y']&&_0x6d10b5['_z']===this['_z']&&_0x6d10b5[_0x2f63('0x117')]===this[_0x2f63('0x117')];},'fromArray':function fromArray(_0x2f17c5){this['_x']=_0x2f17c5[0x0];this['_y']=_0x2f17c5[0x1];this['_z']=_0x2f17c5[0x2];if(_0x2f17c5[0x3]!==undefined)this[_0x2f63('0x117')]=_0x2f17c5[0x3];this[_0x2f63('0x94')]();return this;},'toArray':function toArray(_0x40869e,_0x30525d){if(_0x40869e===undefined)_0x40869e=[];if(_0x30525d===undefined)_0x30525d=0x0;_0x40869e[_0x30525d]=this['_x'];_0x40869e[_0x30525d+0x1]=this['_y'];_0x40869e[_0x30525d+0x2]=this['_z'];_0x40869e[_0x30525d+0x3]=this[_0x2f63('0x117')];return _0x40869e;},'toVector3':function toVector3(_0x336639){if(_0x336639){return _0x336639[_0x2f63('0x67')](this['_x'],this['_y'],this['_z']);}else{return new _0x14b965(this['_x'],this['_y'],this['_z']);}},'onChange':function onChange(_0x52567a){this[_0x2f63('0x94')]=_0x52567a;return this;},'onChangeCallback':function onChangeCallback(){}});function _0x23962d(){this['mask']=0x1|0x0;}Object[_0x2f63('0xe2')](_0x23962d[_0x2f63('0x9')],{'set':function set(_0x5518fc){this[_0x2f63('0x11d')]=0x1<<_0x5518fc|0x0;},'enable':function enable(_0x334698){this[_0x2f63('0x11d')]|=0x1<<_0x334698|0x0;},'toggle':function toggle(_0x52a14e){this[_0x2f63('0x11d')]^=0x1<<_0x52a14e|0x0;},'disable':function disable(_0xf55e00){this[_0x2f63('0x11d')]&=~(0x1<<_0xf55e00|0x0);},'test':function test(_0x387501){return(this[_0x2f63('0x11d')]&_0x387501[_0x2f63('0x11d')])!==0x0;}});var _0x3f8783=0x0;function _0x4ac14e(){Object[_0x2f63('0x5a')](this,'id',{'value':_0x3f8783++});this['uuid']=_0x252c11['generateUUID']();this[_0x2f63('0x3c')]='';this[_0x2f63('0x28')]='Object3D';this[_0x2f63('0x11e')]=null;this[_0x2f63('0x11f')]=[];this['up']=_0x4ac14e[_0x2f63('0x120')][_0x2f63('0x68')]();var _0x3c2811=new _0x14b965();var _0x44c271=new _0x1aa4b3();var _0x408434=new _0x4ba6c2();var _0x10491d=new _0x14b965(0x1,0x1,0x1);function _0x15c00e(){_0x408434[_0x2f63('0x95')](_0x44c271,![]);}function _0x2125b9(){_0x44c271[_0x2f63('0x121')](_0x408434,undefined,![]);}_0x44c271[_0x2f63('0xa8')](_0x15c00e);_0x408434[_0x2f63('0xa8')](_0x2125b9);Object['defineProperties'](this,{'position':{'configurable':!![],'enumerable':!![],'value':_0x3c2811},'rotation':{'configurable':!![],'enumerable':!![],'value':_0x44c271},'quaternion':{'configurable':!![],'enumerable':!![],'value':_0x408434},'scale':{'configurable':!![],'enumerable':!![],'value':_0x10491d},'modelViewMatrix':{'value':new _0x367199()},'normalMatrix':{'value':new _0x849ca1()}});this[_0x2f63('0x122')]=new _0x367199();this['matrixWorld']=new _0x367199();this[_0x2f63('0x123')]=_0x4ac14e[_0x2f63('0x124')];this[_0x2f63('0x125')]=![];this[_0x2f63('0x126')]=new _0x23962d();this['visible']=!![];this[_0x2f63('0x127')]=![];this[_0x2f63('0x128')]=![];this[_0x2f63('0x129')]=!![];this[_0x2f63('0x12a')]=0x0;this['userData']={};}_0x4ac14e[_0x2f63('0x120')]=new _0x14b965(0x0,0x1,0x0);_0x4ac14e[_0x2f63('0x124')]=!![];_0x4ac14e['prototype']=Object[_0x2f63('0xe2')](Object[_0x2f63('0x19')](_0x4f981e[_0x2f63('0x9')]),{'constructor':_0x4ac14e,'isObject3D':!![],'onBeforeRender':function onBeforeRender(){},'onAfterRender':function onAfterRender(){},'applyMatrix':function applyMatrix(_0x2d7dc4){this['matrix']['multiplyMatrices'](_0x2d7dc4,this[_0x2f63('0x122')]);this[_0x2f63('0x122')][_0x2f63('0x8b')](this[_0x2f63('0xff')],this[_0x2f63('0x12b')],this[_0x2f63('0x82')]);},'applyQuaternion':function applyQuaternion(_0x4419c7){this['quaternion']['premultiply'](_0x4419c7);return this;},'setRotationFromAxisAngle':function setRotationFromAxisAngle(_0x297f70,_0x1624d4){this[_0x2f63('0x12b')][_0x2f63('0x9d')](_0x297f70,_0x1624d4);},'setRotationFromEuler':function setRotationFromEuler(_0x55b1b4){this[_0x2f63('0x12b')][_0x2f63('0x95')](_0x55b1b4,!![]);},'setRotationFromMatrix':function setRotationFromMatrix(_0x239aac){this['quaternion'][_0x2f63('0x8c')](_0x239aac);},'setRotationFromQuaternion':function setRotationFromQuaternion(_0x1ed123){this[_0x2f63('0x12b')][_0x2f63('0x6a')](_0x1ed123);},'rotateOnAxis':function(){var _0x4cb6d7=new _0x4ba6c2();return function rotateOnAxis(_0x442525,_0x41d765){_0x4cb6d7[_0x2f63('0x9d')](_0x442525,_0x41d765);this[_0x2f63('0x12b')][_0x2f63('0xb8')](_0x4cb6d7);return this;};}(),'translateOnAxis':function(){var _0x3aa425=new _0x14b965();return function translateOnAxis(_0x52795f,_0x50fd70){_0x3aa425['copy'](_0x52795f)[_0x2f63('0xbc')](this[_0x2f63('0x12b')]);this[_0x2f63('0xff')][_0x2f63('0xb0')](_0x3aa425[_0x2f63('0x7b')](_0x50fd70));return this;};}(),'translateX':function(){var _0x35eb1c=new _0x14b965(0x1,0x0,0x0);return function translateX(_0x3751aa){return this[_0x2f63('0x12c')](_0x35eb1c,_0x3751aa);};}(),'translateY':function(){var _0x4fd9d8=new _0x14b965(0x0,0x1,0x0);return function translateY(_0x12eca2){return this[_0x2f63('0x12c')](_0x4fd9d8,_0x12eca2);};}(),'translateZ':function(){var _0x936b8a=new _0x14b965(0x0,0x0,0x1);return function translateZ(_0x277fd7){return this[_0x2f63('0x12c')](_0x936b8a,_0x277fd7);};}(),'localToWorld':function localToWorld(_0xefa385){return _0xefa385['applyMatrix4'](this[_0x2f63('0xfc')]);},'worldToLocal':function(){var _0x5e1516=new _0x367199();return function worldToLocal(_0x173969){return _0x173969[_0x2f63('0xbf')](_0x5e1516['getInverse'](this[_0x2f63('0xfc')]));};}(),'lookAt':function(){var _0x226250=new _0x4ba6c2();var _0x5f4aac=new _0x367199();var _0x1d0b42=new _0x14b965();var _0x13a998=new _0x14b965();return function lookAt(_0x533d50,_0x263e18,_0x331a42){if(_0x533d50[_0x2f63('0xaa')]){_0x1d0b42[_0x2f63('0x6a')](_0x533d50);}else{_0x1d0b42[_0x2f63('0x67')](_0x533d50,_0x263e18,_0x331a42);}var _0x3e5d80=this[_0x2f63('0x11e')];this[_0x2f63('0x12d')](!![],![]);_0x13a998[_0x2f63('0xdd')](this['matrixWorld']);if(this['isCamera']){_0x5f4aac['lookAt'](_0x13a998,_0x1d0b42,this['up']);}else{_0x5f4aac[_0x2f63('0x71')](_0x1d0b42,_0x13a998,this['up']);}this[_0x2f63('0x12b')]['setFromRotationMatrix'](_0x5f4aac);if(_0x3e5d80){_0x5f4aac['extractRotation'](_0x3e5d80[_0x2f63('0xfc')]);_0x226250[_0x2f63('0x8c')](_0x5f4aac);this[_0x2f63('0x12b')][_0x2f63('0x7a')](_0x226250[_0x2f63('0xa4')]());}};}(),'add':function add(_0x28f3d6){if(arguments[_0x2f63('0x38')]>0x1){for(var _0x421f20=0x0;_0x421f20<arguments[_0x2f63('0x38')];_0x421f20++){this[_0x2f63('0xb0')](arguments[_0x421f20]);}return this;}if(_0x28f3d6===this){console[_0x2f63('0xbb')](_0x2f63('0x12e'),_0x28f3d6);return this;}if(_0x28f3d6&&_0x28f3d6[_0x2f63('0x12f')]){if(_0x28f3d6[_0x2f63('0x11e')]!==null){_0x28f3d6['parent'][_0x2f63('0x130')](_0x28f3d6);}_0x28f3d6[_0x2f63('0x11e')]=this;_0x28f3d6[_0x2f63('0x131')]({'type':'added'});this['children'][_0x2f63('0x34')](_0x28f3d6);}else{console[_0x2f63('0xbb')](_0x2f63('0x132'),_0x28f3d6);}return this;},'remove':function remove(_0x39be2d){if(arguments[_0x2f63('0x38')]>0x1){for(var _0x40a99b=0x0;_0x40a99b<arguments[_0x2f63('0x38')];_0x40a99b++){this[_0x2f63('0x130')](arguments[_0x40a99b]);}return this;}var _0x55e6ac=this['children'][_0x2f63('0x53')](_0x39be2d);if(_0x55e6ac!==-0x1){_0x39be2d[_0x2f63('0x11e')]=null;_0x39be2d[_0x2f63('0x131')]({'type':'removed'});this[_0x2f63('0x11f')]['splice'](_0x55e6ac,0x1);}return this;},'getObjectById':function getObjectById(_0x403fa9){return this[_0x2f63('0x133')]('id',_0x403fa9);},'getObjectByName':function getObjectByName(_0x3fd09a){return this[_0x2f63('0x133')](_0x2f63('0x3c'),_0x3fd09a);},'getObjectByProperty':function getObjectByProperty(_0x39e0a6,_0x301674){if(this[_0x39e0a6]===_0x301674)return this;for(var _0x5009f8=0x0,_0x1f6357=this[_0x2f63('0x11f')][_0x2f63('0x38')];_0x5009f8<_0x1f6357;_0x5009f8++){var _0x35995f=this[_0x2f63('0x11f')][_0x5009f8];var _0x5b0b12=_0x35995f['getObjectByProperty'](_0x39e0a6,_0x301674);if(_0x5b0b12!==undefined){return _0x5b0b12;}}return undefined;},'getWorldPosition':function getWorldPosition(_0x12c0b7){if(_0x12c0b7===undefined){console[_0x2f63('0x77')]('THREE.Object3D:\x20.getWorldPosition()\x20target\x20is\x20now\x20required');_0x12c0b7=new _0x14b965();}this[_0x2f63('0x134')](!![]);return _0x12c0b7[_0x2f63('0xdd')](this[_0x2f63('0xfc')]);},'getWorldQuaternion':function(){var _0x1b4b34=new _0x14b965();var _0x3d40e5=new _0x14b965();return function getWorldQuaternion(_0x183f8e){if(_0x183f8e===undefined){console['warn'](_0x2f63('0x135'));_0x183f8e=new _0x4ba6c2();}this['updateMatrixWorld'](!![]);this[_0x2f63('0xfc')][_0x2f63('0x8b')](_0x1b4b34,_0x183f8e,_0x3d40e5);return _0x183f8e;};}(),'getWorldScale':function(){var _0x30219b=new _0x14b965();var _0x470019=new _0x4ba6c2();return function getWorldScale(_0x391b41){if(_0x391b41===undefined){console[_0x2f63('0x77')](_0x2f63('0x136'));_0x391b41=new _0x14b965();}this[_0x2f63('0x134')](!![]);this[_0x2f63('0xfc')][_0x2f63('0x8b')](_0x30219b,_0x470019,_0x391b41);return _0x391b41;};}(),'getWorldDirection':function getWorldDirection(_0x25c725){if(_0x25c725===undefined){console[_0x2f63('0x77')](_0x2f63('0x137'));_0x25c725=new _0x14b965();}this['updateMatrixWorld'](!![]);var _0x1cd321=this['matrixWorld'][_0x2f63('0x65')];return _0x25c725[_0x2f63('0x67')](_0x1cd321[0x8],_0x1cd321[0x9],_0x1cd321[0xa])[_0x2f63('0x74')]();},'raycast':function raycast(){},'traverse':function traverse(_0xa2b97e){_0xa2b97e(this);var _0x5cd50b=this[_0x2f63('0x11f')];for(var _0x4357ca=0x0,_0x3889ea=_0x5cd50b[_0x2f63('0x38')];_0x4357ca<_0x3889ea;_0x4357ca++){_0x5cd50b[_0x4357ca][_0x2f63('0x138')](_0xa2b97e);}},'traverseVisible':function traverseVisible(_0x5c66dc){if(this[_0x2f63('0x139')]===![])return;_0x5c66dc(this);var _0x2279fc=this[_0x2f63('0x11f')];for(var _0x315269=0x0,_0x57bc47=_0x2279fc[_0x2f63('0x38')];_0x315269<_0x57bc47;_0x315269++){_0x2279fc[_0x315269][_0x2f63('0x13a')](_0x5c66dc);}},'traverseAncestors':function traverseAncestors(_0x14ed81){var _0x190a88=this[_0x2f63('0x11e')];if(_0x190a88!==null){_0x14ed81(_0x190a88);_0x190a88['traverseAncestors'](_0x14ed81);}},'updateMatrix':function updateMatrix(){this[_0x2f63('0x122')][_0x2f63('0x70')](this[_0x2f63('0xff')],this[_0x2f63('0x12b')],this[_0x2f63('0x82')]);this[_0x2f63('0x125')]=!![];},'updateMatrixWorld':function updateMatrixWorld(_0x17dabc){if(this[_0x2f63('0x123')])this[_0x2f63('0x13b')]();if(this[_0x2f63('0x125')]||_0x17dabc){if(this[_0x2f63('0x11e')]===null){this[_0x2f63('0xfc')][_0x2f63('0x6a')](this[_0x2f63('0x122')]);}else{this[_0x2f63('0xfc')][_0x2f63('0x79')](this[_0x2f63('0x11e')]['matrixWorld'],this['matrix']);}this[_0x2f63('0x125')]=![];_0x17dabc=!![];}var _0x11c569=this[_0x2f63('0x11f')];for(var _0x2c79a9=0x0,_0x587967=_0x11c569['length'];_0x2c79a9<_0x587967;_0x2c79a9++){_0x11c569[_0x2c79a9]['updateMatrixWorld'](_0x17dabc);}},'updateWorldMatrix':function updateWorldMatrix(_0x44e245,_0x31bd24){var _0x2433ca=this['parent'];if(_0x44e245===!![]&&_0x2433ca!==null){_0x2433ca['updateWorldMatrix'](!![],![]);}if(this['matrixAutoUpdate'])this[_0x2f63('0x13b')]();if(this[_0x2f63('0x11e')]===null){this[_0x2f63('0xfc')][_0x2f63('0x6a')](this[_0x2f63('0x122')]);}else{this[_0x2f63('0xfc')][_0x2f63('0x79')](this[_0x2f63('0x11e')][_0x2f63('0xfc')],this[_0x2f63('0x122')]);}if(_0x31bd24===!![]){var _0x1a4118=this[_0x2f63('0x11f')];for(var _0x5d3d24=0x0,_0x36929a=_0x1a4118[_0x2f63('0x38')];_0x5d3d24<_0x36929a;_0x5d3d24++){_0x1a4118[_0x5d3d24][_0x2f63('0x12d')](![],!![]);}}},'toJSON':function _0x483a4d(_0x3bf11e){var _0xa74a0a=_0x3bf11e===undefined||typeof _0x3bf11e===_0x2f63('0x13c');var _0x4468e3={};if(_0xa74a0a){_0x3bf11e={'geometries':{},'materials':{},'textures':{},'images':{},'shapes':{}};_0x4468e3[_0x2f63('0x13d')]={'version':4.5,'type':'Object','generator':'Object3D.toJSON'};}var _0x52efe1={};_0x52efe1[_0x2f63('0x13e')]=this[_0x2f63('0x13e')];_0x52efe1[_0x2f63('0x28')]=this[_0x2f63('0x28')];if(this[_0x2f63('0x3c')]!=='')_0x52efe1[_0x2f63('0x3c')]=this[_0x2f63('0x3c')];if(this[_0x2f63('0x127')]===!![])_0x52efe1[_0x2f63('0x127')]=!![];if(this[_0x2f63('0x128')]===!![])_0x52efe1['receiveShadow']=!![];if(this[_0x2f63('0x139')]===![])_0x52efe1[_0x2f63('0x139')]=![];if(this[_0x2f63('0x129')]===![])_0x52efe1[_0x2f63('0x129')]=![];if(this[_0x2f63('0x12a')]!==0x0)_0x52efe1[_0x2f63('0x12a')]=this[_0x2f63('0x12a')];if(JSON[_0x2f63('0x13f')](this[_0x2f63('0x140')])!=='{}')_0x52efe1[_0x2f63('0x140')]=this[_0x2f63('0x140')];_0x52efe1[_0x2f63('0x126')]=this[_0x2f63('0x126')][_0x2f63('0x11d')];_0x52efe1[_0x2f63('0x122')]=this[_0x2f63('0x122')]['toArray']();if(this['matrixAutoUpdate']===![])_0x52efe1[_0x2f63('0x123')]=![];function _0x108db7(_0xecf0fc,_0xdc151a){if(_0xecf0fc[_0xdc151a[_0x2f63('0x13e')]]===undefined){_0xecf0fc[_0xdc151a[_0x2f63('0x13e')]]=_0xdc151a[_0x2f63('0x141')](_0x3bf11e);}return _0xdc151a[_0x2f63('0x13e')];}if(this[_0x2f63('0x142')]||this[_0x2f63('0x143')]||this[_0x2f63('0x144')]){_0x52efe1[_0x2f63('0xf9')]=_0x108db7(_0x3bf11e[_0x2f63('0x145')],this['geometry']);var _0x4c07a5=this['geometry']['parameters'];if(_0x4c07a5!==undefined&&_0x4c07a5[_0x2f63('0x146')]!==undefined){var _0x21f7ed=_0x4c07a5[_0x2f63('0x146')];if(Array[_0x2f63('0x147')](_0x21f7ed)){for(var _0x2f3860=0x0,_0x55caa6=_0x21f7ed[_0x2f63('0x38')];_0x2f3860<_0x55caa6;_0x2f3860++){var _0x5f2cb2=_0x21f7ed[_0x2f3860];_0x108db7(_0x3bf11e['shapes'],_0x5f2cb2);}}else{_0x108db7(_0x3bf11e[_0x2f63('0x146')],_0x21f7ed);}}}if(this[_0x2f63('0x148')]!==undefined){if(Array[_0x2f63('0x147')](this[_0x2f63('0x148')])){var _0x3a4152=[];for(var _0x2f3860=0x0,_0x55caa6=this[_0x2f63('0x148')]['length'];_0x2f3860<_0x55caa6;_0x2f3860++){_0x3a4152[_0x2f63('0x34')](_0x108db7(_0x3bf11e[_0x2f63('0x149')],this[_0x2f63('0x148')][_0x2f3860]));}_0x52efe1[_0x2f63('0x148')]=_0x3a4152;}else{_0x52efe1[_0x2f63('0x148')]=_0x108db7(_0x3bf11e[_0x2f63('0x149')],this[_0x2f63('0x148')]);}}if(this[_0x2f63('0x11f')][_0x2f63('0x38')]>0x0){_0x52efe1[_0x2f63('0x11f')]=[];for(var _0x2f3860=0x0;_0x2f3860<this[_0x2f63('0x11f')]['length'];_0x2f3860++){_0x52efe1['children'][_0x2f63('0x34')](this[_0x2f63('0x11f')][_0x2f3860][_0x2f63('0x141')](_0x3bf11e)[_0x2f63('0x0')]);}}if(_0xa74a0a){var _0x3ec910=_0x4541d1(_0x3bf11e['geometries']);var _0x5cbd49=_0x4541d1(_0x3bf11e[_0x2f63('0x149')]);var _0x2933bf=_0x4541d1(_0x3bf11e[_0x2f63('0x14a')]);var _0x127608=_0x4541d1(_0x3bf11e[_0x2f63('0x14b')]);var _0x21f7ed=_0x4541d1(_0x3bf11e[_0x2f63('0x146')]);if(_0x3ec910['length']>0x0)_0x4468e3[_0x2f63('0x145')]=_0x3ec910;if(_0x5cbd49[_0x2f63('0x38')]>0x0)_0x4468e3['materials']=_0x5cbd49;if(_0x2933bf[_0x2f63('0x38')]>0x0)_0x4468e3[_0x2f63('0x14a')]=_0x2933bf;if(_0x127608[_0x2f63('0x38')]>0x0)_0x4468e3[_0x2f63('0x14b')]=_0x127608;if(_0x21f7ed[_0x2f63('0x38')]>0x0)_0x4468e3[_0x2f63('0x146')]=_0x21f7ed;}_0x4468e3['object']=_0x52efe1;return _0x4468e3;function _0x4541d1(_0x1fb8e3){var _0x46e271=[];for(var _0x4d04cd in _0x1fb8e3){var _0x45c203=_0x1fb8e3[_0x4d04cd];delete _0x45c203[_0x2f63('0x13d')];_0x46e271[_0x2f63('0x34')](_0x45c203);}return _0x46e271;}},'clone':function clone(_0x2e99ef){return new this[(_0x2f63('0x14'))]()['copy'](this,_0x2e99ef);},'copy':function copy(_0x4f85bd,_0x268a41){if(_0x268a41===undefined)_0x268a41=!![];this[_0x2f63('0x3c')]=_0x4f85bd[_0x2f63('0x3c')];this['up']['copy'](_0x4f85bd['up']);this[_0x2f63('0xff')]['copy'](_0x4f85bd[_0x2f63('0xff')]);this[_0x2f63('0x12b')][_0x2f63('0x6a')](_0x4f85bd[_0x2f63('0x12b')]);this[_0x2f63('0x82')][_0x2f63('0x6a')](_0x4f85bd[_0x2f63('0x82')]);this[_0x2f63('0x122')][_0x2f63('0x6a')](_0x4f85bd[_0x2f63('0x122')]);this[_0x2f63('0xfc')][_0x2f63('0x6a')](_0x4f85bd['matrixWorld']);this[_0x2f63('0x123')]=_0x4f85bd[_0x2f63('0x123')];this[_0x2f63('0x125')]=_0x4f85bd[_0x2f63('0x125')];this[_0x2f63('0x126')][_0x2f63('0x11d')]=_0x4f85bd[_0x2f63('0x126')][_0x2f63('0x11d')];this[_0x2f63('0x139')]=_0x4f85bd['visible'];this['castShadow']=_0x4f85bd[_0x2f63('0x127')];this[_0x2f63('0x128')]=_0x4f85bd['receiveShadow'];this[_0x2f63('0x129')]=_0x4f85bd[_0x2f63('0x129')];this['renderOrder']=_0x4f85bd['renderOrder'];this[_0x2f63('0x140')]=JSON[_0x2f63('0x14c')](JSON['stringify'](_0x4f85bd[_0x2f63('0x140')]));if(_0x268a41===!![]){for(var _0x122800=0x0;_0x122800<_0x4f85bd[_0x2f63('0x11f')][_0x2f63('0x38')];_0x122800++){var _0x53b05d=_0x4f85bd[_0x2f63('0x11f')][_0x122800];this[_0x2f63('0xb0')](_0x53b05d[_0x2f63('0x68')]());}}return this;}});var _0x1cae5e=_0x5c64da(function(_0x476dc6){function _0x2a76bf(_0x39510c,_0x2c6c5a){if(_0x2c6c5a==null||_0x2c6c5a>_0x39510c[_0x2f63('0x38')])_0x2c6c5a=_0x39510c[_0x2f63('0x38')];for(var _0x2c04a8=0x0,_0x196111=new Array(_0x2c6c5a);_0x2c04a8<_0x2c6c5a;_0x2c04a8++){_0x196111[_0x2c04a8]=_0x39510c[_0x2c04a8];}return _0x196111;}_0x476dc6[_0x2f63('0x5')]=_0x2a76bf,_0x476dc6[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x476dc6[_0x2f63('0x5')][_0x2f63('0xc')]=_0x476dc6[_0x2f63('0x5')];});_0x16d737(_0x1cae5e);var _0x43b157=_0x5c64da(function(_0x53673b){function _0x16cea7(_0x8c388b){if(Array['isArray'](_0x8c388b))return _0x1cae5e(_0x8c388b);}_0x53673b[_0x2f63('0x5')]=_0x16cea7,_0x53673b['exports']['__esModule']=!![],_0x53673b[_0x2f63('0x5')][_0x2f63('0xc')]=_0x53673b[_0x2f63('0x5')];});_0x16d737(_0x43b157);var _0x30d62e=_0x5c64da(function(_0x323d2d){function _0x10d8a5(_0x465a05){if(typeof Symbol!==_0x2f63('0x8')&&_0x465a05[Symbol[_0x2f63('0x13')]]!=null||_0x465a05[_0x2f63('0x16')]!=null)return Array[_0x2f63('0x14d')](_0x465a05);}_0x323d2d[_0x2f63('0x5')]=_0x10d8a5,_0x323d2d['exports']['__esModule']=!![],_0x323d2d[_0x2f63('0x5')][_0x2f63('0xc')]=_0x323d2d[_0x2f63('0x5')];});_0x16d737(_0x30d62e);var _0x1895da=_0x5c64da(function(_0x351afc){function _0x4c3c02(_0x211237,_0x84f13f){if(!_0x211237)return;if(typeof _0x211237==='string')return _0x1cae5e(_0x211237,_0x84f13f);var _0x227427=Object[_0x2f63('0x9')][_0x2f63('0x41')][_0x2f63('0xb')](_0x211237)['slice'](0x8,-0x1);if(_0x227427===_0x2f63('0x14e')&&_0x211237['constructor'])_0x227427=_0x211237[_0x2f63('0x14')][_0x2f63('0x3c')];if(_0x227427==='Map'||_0x227427===_0x2f63('0x14f'))return Array['from'](_0x211237);if(_0x227427===_0x2f63('0x150')||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[_0x2f63('0x151')](_0x227427))return _0x1cae5e(_0x211237,_0x84f13f);}_0x351afc[_0x2f63('0x5')]=_0x4c3c02,_0x351afc[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x351afc[_0x2f63('0x5')]['default']=_0x351afc[_0x2f63('0x5')];});_0x16d737(_0x1895da);var _0x4bd70a=_0x5c64da(function(_0x4ecadf){function _0x5a9152(){throw new TypeError(_0x2f63('0x152'));}_0x4ecadf[_0x2f63('0x5')]=_0x5a9152,_0x4ecadf[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x4ecadf['exports'][_0x2f63('0xc')]=_0x4ecadf[_0x2f63('0x5')];});_0x16d737(_0x4bd70a);var _0x5ebab3=_0x5c64da(function(_0x217f79){function _0x400342(_0x3ba2b9){return _0x43b157(_0x3ba2b9)||_0x30d62e(_0x3ba2b9)||_0x1895da(_0x3ba2b9)||_0x4bd70a();}_0x217f79[_0x2f63('0x5')]=_0x400342,_0x217f79['exports'][_0x2f63('0x11')]=!![],_0x217f79[_0x2f63('0x5')]['default']=_0x217f79[_0x2f63('0x5')];});var _0x9959f=_0x16d737(_0x5ebab3);var _0x2b2095=_0x5c64da(function(_0x25f022){function _0x3c31f4(_0x2a562d,_0x4a83a8,_0x7ebf3f){if(_0x4a83a8 in _0x2a562d){Object[_0x2f63('0x5a')](_0x2a562d,_0x4a83a8,{'value':_0x7ebf3f,'enumerable':!![],'configurable':!![],'writable':!![]});}else{_0x2a562d[_0x4a83a8]=_0x7ebf3f;}return _0x2a562d;}_0x25f022[_0x2f63('0x5')]=_0x3c31f4,_0x25f022[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x25f022[_0x2f63('0x5')][_0x2f63('0xc')]=_0x25f022[_0x2f63('0x5')];});var _0x4b1376=_0x16d737(_0x2b2095);var _0x355b51=_0x5c64da(function(_0x5f2b95){function _0x20a6dd(_0x40e135){if(Array[_0x2f63('0x147')](_0x40e135))return _0x40e135;}_0x5f2b95[_0x2f63('0x5')]=_0x20a6dd,_0x5f2b95[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x5f2b95[_0x2f63('0x5')][_0x2f63('0xc')]=_0x5f2b95[_0x2f63('0x5')];});_0x16d737(_0x355b51);var _0x5c5f3f=_0x5c64da(function(_0x4e6125){function _0x15cd9c(_0x79c634,_0x5a6e1b){var _0xbd1730=_0x79c634==null?null:typeof Symbol!=='undefined'&&_0x79c634[Symbol[_0x2f63('0x13')]]||_0x79c634[_0x2f63('0x16')];if(_0xbd1730==null)return;var _0x449464=[];var _0x271ae1=!![];var _0x254e59=![];var _0x124e94,_0x4357c4;try{for(_0xbd1730=_0xbd1730[_0x2f63('0xb')](_0x79c634);!(_0x271ae1=(_0x124e94=_0xbd1730[_0x2f63('0x21')]())[_0x2f63('0xe')]);_0x271ae1=!![]){_0x449464['push'](_0x124e94[_0x2f63('0xd')]);if(_0x5a6e1b&&_0x449464['length']===_0x5a6e1b)break;}}catch(_0x4cd4a5){_0x254e59=!![];_0x4357c4=_0x4cd4a5;}finally{try{if(!_0x271ae1&&_0xbd1730[_0x2f63('0x25')]!=null)_0xbd1730[_0x2f63('0x25')]();}finally{if(_0x254e59)throw _0x4357c4;}}return _0x449464;}_0x4e6125[_0x2f63('0x5')]=_0x15cd9c,_0x4e6125[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x4e6125['exports'][_0x2f63('0xc')]=_0x4e6125[_0x2f63('0x5')];});_0x16d737(_0x5c5f3f);var _0x1a67a3=_0x5c64da(function(_0x6505c){function _0x450597(){throw new TypeError(_0x2f63('0x153'));}_0x6505c['exports']=_0x450597,_0x6505c[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x6505c['exports']['default']=_0x6505c[_0x2f63('0x5')];});_0x16d737(_0x1a67a3);var _0x3689b2=_0x5c64da(function(_0x30d0b5){function _0x44335e(_0x2c16d9,_0x4e51b4){return _0x355b51(_0x2c16d9)||_0x5c5f3f(_0x2c16d9,_0x4e51b4)||_0x1895da(_0x2c16d9,_0x4e51b4)||_0x1a67a3();}_0x30d0b5[_0x2f63('0x5')]=_0x44335e,_0x30d0b5['exports'][_0x2f63('0x11')]=!![],_0x30d0b5[_0x2f63('0x5')][_0x2f63('0xc')]=_0x30d0b5[_0x2f63('0x5')];});var _0x21a939=_0x16d737(_0x3689b2);var _0x389309=0x3e8;var _0xf12a62=_0x389309*0x3c;var _0x16777a=_0xf12a62*0x3c;var _0x39691d=_0x16777a*0x18;var _0x58ae64=_0x39691d*0x7;var _0x224512=_0x39691d*365.25;var _0x189ff7=function _0x189ff7(_0x3f30e9,_0x2f00a0){_0x2f00a0=_0x2f00a0||{};var _0x53dec2=_0x3f2d4d(_0x3f30e9);if(_0x53dec2===_0x2f63('0x13c')&&_0x3f30e9[_0x2f63('0x38')]>0x0){return _0x513961(_0x3f30e9);}else if(_0x53dec2===_0x2f63('0x154')&&isFinite(_0x3f30e9)){return _0x2f00a0[_0x2f63('0x155')]?_0xd7d62e(_0x3f30e9):_0x39bb09(_0x3f30e9);}throw new Error(_0x2f63('0x156')+JSON['stringify'](_0x3f30e9));};function _0x513961(_0xada7f2){_0xada7f2=String(_0xada7f2);if(_0xada7f2['length']>0x64){return;}var _0x2788b8=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i[_0x2f63('0x157')](_0xada7f2);if(!_0x2788b8){return;}var _0x55f029=parseFloat(_0x2788b8[0x1]);var _0x923efc=(_0x2788b8[0x2]||'ms')[_0x2f63('0x158')]();switch(_0x923efc){case _0x2f63('0x159'):case _0x2f63('0x15a'):case _0x2f63('0x15b'):case'yr':case'y':return _0x55f029*_0x224512;case _0x2f63('0x15c'):case _0x2f63('0x15d'):case'w':return _0x55f029*_0x58ae64;case _0x2f63('0x15e'):case _0x2f63('0x15f'):case'd':return _0x55f029*_0x39691d;case _0x2f63('0x160'):case _0x2f63('0x161'):case _0x2f63('0x162'):case'hr':case'h':return _0x55f029*_0x16777a;case _0x2f63('0x163'):case _0x2f63('0x164'):case _0x2f63('0x165'):case _0x2f63('0x5e'):case'm':return _0x55f029*_0xf12a62;case'seconds':case _0x2f63('0x166'):case _0x2f63('0x167'):case'sec':case's':return _0x55f029*_0x389309;case'milliseconds':case _0x2f63('0x168'):case _0x2f63('0x169'):case _0x2f63('0x16a'):case'ms':return _0x55f029;default:return undefined;}}function _0x39bb09(_0x189ff7){var _0x1ee289=Math[_0x2f63('0x75')](_0x189ff7);if(_0x1ee289>=_0x39691d){return Math[_0x2f63('0xca')](_0x189ff7/_0x39691d)+'d';}if(_0x1ee289>=_0x16777a){return Math[_0x2f63('0xca')](_0x189ff7/_0x16777a)+'h';}if(_0x1ee289>=_0xf12a62){return Math[_0x2f63('0xca')](_0x189ff7/_0xf12a62)+'m';}if(_0x1ee289>=_0x389309){return Math[_0x2f63('0xca')](_0x189ff7/_0x389309)+'s';}return _0x189ff7+'ms';}function _0xd7d62e(_0x189ff7){var _0xb683c7=Math[_0x2f63('0x75')](_0x189ff7);if(_0xb683c7>=_0x39691d){return _0x57cf5c(_0x189ff7,_0xb683c7,_0x39691d,_0x2f63('0x15f'));}if(_0xb683c7>=_0x16777a){return _0x57cf5c(_0x189ff7,_0xb683c7,_0x16777a,_0x2f63('0x161'));}if(_0xb683c7>=_0xf12a62){return _0x57cf5c(_0x189ff7,_0xb683c7,_0xf12a62,_0x2f63('0x164'));}if(_0xb683c7>=_0x389309){return _0x57cf5c(_0x189ff7,_0xb683c7,_0x389309,_0x2f63('0x166'));}return _0x189ff7+'\x20ms';}function _0x57cf5c(_0x189ff7,_0x469a6d,_0x4dfd05,_0x458988){var _0x20dea6=_0x469a6d>=_0x4dfd05*1.5;return Math[_0x2f63('0xca')](_0x189ff7/_0x4dfd05)+'\x20'+_0x458988+(_0x20dea6?'s':'');}function _0x885b10(_0x2a439b){_0x2741a0[_0x2f63('0x16b')]=_0x2741a0;_0x2741a0[_0x2f63('0xc')]=_0x2741a0;_0x2741a0[_0x2f63('0x16c')]=_0x2e7867;_0x2741a0[_0x2f63('0x16d')]=_0x3bc27b;_0x2741a0[_0x2f63('0x16e')]=_0x28bb20;_0x2741a0[_0x2f63('0x16f')]=_0x3988ab;_0x2741a0[_0x2f63('0x170')]=_0x189ff7;_0x2741a0[_0x2f63('0x171')]=_0x2a06bb;Object[_0x2f63('0x43')](_0x2a439b)[_0x2f63('0x2c')](function(_0x7a47ed){_0x2741a0[_0x7a47ed]=_0x2a439b[_0x7a47ed];});_0x2741a0[_0x2f63('0x172')]=[];_0x2741a0['skips']=[];_0x2741a0['formatters']={};function _0xfd89fc(_0x580dd0){var _0x170664=0x0;for(var _0x56497a=0x0;_0x56497a<_0x580dd0[_0x2f63('0x38')];_0x56497a++){_0x170664=(_0x170664<<0x5)-_0x170664+_0x580dd0[_0x2f63('0x173')](_0x56497a);_0x170664|=0x0;}return _0x2741a0['colors'][Math['abs'](_0x170664)%_0x2741a0[_0x2f63('0x174')][_0x2f63('0x38')]];}_0x2741a0[_0x2f63('0x175')]=_0xfd89fc;function _0x2741a0(_0x35ff42){var _0x107fad;var _0x31bab4=null;var _0x4152aa;var _0x55ae1c;function _0x33b55d(){for(var _0x549454=arguments[_0x2f63('0x38')],_0x1ad572=new Array(_0x549454),_0x3df1fb=0x0;_0x3df1fb<_0x549454;_0x3df1fb++){_0x1ad572[_0x3df1fb]=arguments[_0x3df1fb];}if(!_0x33b55d[_0x2f63('0x16f')]){return;}var _0x4f5acd=_0x33b55d;var _0x255def=Number(new Date());var _0x189ff7=_0x255def-(_0x107fad||_0x255def);_0x4f5acd[_0x2f63('0x176')]=_0x189ff7;_0x4f5acd[_0x2f63('0x46')]=_0x107fad;_0x4f5acd[_0x2f63('0x177')]=_0x255def;_0x107fad=_0x255def;_0x1ad572[0x0]=_0x2741a0[_0x2f63('0x16c')](_0x1ad572[0x0]);if(typeof _0x1ad572[0x0]!==_0x2f63('0x13c')){_0x1ad572[_0x2f63('0x178')]('%O');}var _0x1cd905=0x0;_0x1ad572[0x0]=_0x1ad572[0x0][_0x2f63('0x179')](/%([a-zA-Z%])/g,function(_0x1fc38a,_0x15cd22){if(_0x1fc38a==='%%'){return'%';}_0x1cd905++;var _0x54310a=_0x2741a0[_0x2f63('0x17a')][_0x15cd22];if(typeof _0x54310a==='function'){var _0x247235=_0x1ad572[_0x1cd905];_0x1fc38a=_0x54310a[_0x2f63('0xb')](_0x4f5acd,_0x247235);_0x1ad572[_0x2f63('0x54')](_0x1cd905,0x1);_0x1cd905--;}return _0x1fc38a;});_0x2741a0[_0x2f63('0x17b')][_0x2f63('0xb')](_0x4f5acd,_0x1ad572);var _0x4bf8a9=_0x4f5acd['log']||_0x2741a0[_0x2f63('0x64')];_0x4bf8a9['apply'](_0x4f5acd,_0x1ad572);}_0x33b55d[_0x2f63('0x17c')]=_0x35ff42;_0x33b55d[_0x2f63('0x17d')]=_0x2741a0[_0x2f63('0x17d')]();_0x33b55d[_0x2f63('0x17e')]=_0x2741a0[_0x2f63('0x175')](_0x35ff42);_0x33b55d['extend']=_0xff48e0;_0x33b55d[_0x2f63('0x171')]=_0x2741a0[_0x2f63('0x171')];Object[_0x2f63('0x5a')](_0x33b55d,_0x2f63('0x16f'),{'enumerable':!![],'configurable':![],'get':function _0x4ff83e(){if(_0x31bab4!==null){return _0x31bab4;}if(_0x4152aa!==_0x2741a0['namespaces']){_0x4152aa=_0x2741a0[_0x2f63('0x17f')];_0x55ae1c=_0x2741a0['enabled'](_0x35ff42);}return _0x55ae1c;},'set':function set(_0x24f904){_0x31bab4=_0x24f904;}});if(typeof _0x2741a0['init']===_0x2f63('0x3')){_0x2741a0['init'](_0x33b55d);}return _0x33b55d;}function _0xff48e0(_0x20a711,_0x32b5a3){var _0x5cdebe=_0x2741a0(this[_0x2f63('0x17c')]+(typeof _0x32b5a3===_0x2f63('0x8')?':':_0x32b5a3)+_0x20a711);_0x5cdebe[_0x2f63('0x64')]=this[_0x2f63('0x64')];return _0x5cdebe;}function _0x28bb20(_0x1bf47a){_0x2741a0[_0x2f63('0x180')](_0x1bf47a);_0x2741a0[_0x2f63('0x17f')]=_0x1bf47a;_0x2741a0[_0x2f63('0x172')]=[];_0x2741a0[_0x2f63('0x181')]=[];var _0x3dd589;var _0x4db9e1=(typeof _0x1bf47a===_0x2f63('0x13c')?_0x1bf47a:'')[_0x2f63('0x182')](/[\s,]+/);var _0x2744ab=_0x4db9e1[_0x2f63('0x38')];for(_0x3dd589=0x0;_0x3dd589<_0x2744ab;_0x3dd589++){if(!_0x4db9e1[_0x3dd589]){continue;}_0x1bf47a=_0x4db9e1[_0x3dd589][_0x2f63('0x179')](/\*/g,_0x2f63('0x183'));if(_0x1bf47a[0x0]==='-'){_0x2741a0['skips'][_0x2f63('0x34')](new RegExp('^'+_0x1bf47a[_0x2f63('0x48')](0x1)+'$'));}else{_0x2741a0['names'][_0x2f63('0x34')](new RegExp('^'+_0x1bf47a+'$'));}}}function _0x3bc27b(){var _0x5d1a9d=[][_0x2f63('0x184')](_0x9959f(_0x2741a0['names'][_0x2f63('0x185')](_0xe67ebe)),_0x9959f(_0x2741a0[_0x2f63('0x181')][_0x2f63('0x185')](_0xe67ebe)[_0x2f63('0x185')](function(_0x6d69c6){return'-'+_0x6d69c6;})))[_0x2f63('0x186')](',');_0x2741a0[_0x2f63('0x16e')]('');return _0x5d1a9d;}function _0x3988ab(_0x32b3e8){if(_0x32b3e8[_0x32b3e8[_0x2f63('0x38')]-0x1]==='*'){return!![];}var _0x10e9c9;var _0x2c08df;for(_0x10e9c9=0x0,_0x2c08df=_0x2741a0[_0x2f63('0x181')][_0x2f63('0x38')];_0x10e9c9<_0x2c08df;_0x10e9c9++){if(_0x2741a0['skips'][_0x10e9c9][_0x2f63('0x151')](_0x32b3e8)){return![];}}for(_0x10e9c9=0x0,_0x2c08df=_0x2741a0[_0x2f63('0x172')][_0x2f63('0x38')];_0x10e9c9<_0x2c08df;_0x10e9c9++){if(_0x2741a0[_0x2f63('0x172')][_0x10e9c9][_0x2f63('0x151')](_0x32b3e8)){return!![];}}return![];}function _0xe67ebe(_0x2f7ce4){return _0x2f7ce4['toString']()[_0x2f63('0x187')](0x2,_0x2f7ce4[_0x2f63('0x41')]()['length']-0x2)['replace'](/\.\*\?$/,'*');}function _0x2e7867(_0x357461){if(_0x357461 instanceof Error){return _0x357461[_0x2f63('0x188')]||_0x357461['message'];}return _0x357461;}function _0x2a06bb(){console['warn'](_0x2f63('0x189'));}_0x2741a0['enable'](_0x2741a0[_0x2f63('0x18a')]());return _0x2741a0;}var _0x3c5edf=_0x885b10;var _0x4d1767=_0x5c64da(function(_0x1098d5,_0x468769){_0x468769[_0x2f63('0x17b')]=_0x1530be;_0x468769[_0x2f63('0x180')]=_0x20d501;_0x468769[_0x2f63('0x18a')]=_0x2bf7d0;_0x468769[_0x2f63('0x17d')]=_0x5c191b;_0x468769[_0x2f63('0x18b')]=_0x4bd137();_0x468769['destroy']=function(){var _0x2f1d2c=![];return function(){if(!_0x2f1d2c){_0x2f1d2c=!![];console[_0x2f63('0x77')](_0x2f63('0x189'));}};}();_0x468769[_0x2f63('0x174')]=[_0x2f63('0x18c'),_0x2f63('0x18d'),_0x2f63('0x18e'),_0x2f63('0x18f'),_0x2f63('0x190'),_0x2f63('0x191'),_0x2f63('0x192'),_0x2f63('0x193'),'#00CC00','#00CC33',_0x2f63('0x194'),_0x2f63('0x195'),_0x2f63('0x196'),_0x2f63('0x197'),'#3300CC','#3300FF',_0x2f63('0x198'),_0x2f63('0x199'),_0x2f63('0x19a'),_0x2f63('0x19b'),_0x2f63('0x19c'),_0x2f63('0x19d'),_0x2f63('0x19e'),'#33CC33','#33CC66','#33CC99',_0x2f63('0x19f'),_0x2f63('0x1a0'),'#6600CC',_0x2f63('0x1a1'),_0x2f63('0x1a2'),'#6633FF',_0x2f63('0x1a3'),_0x2f63('0x1a4'),_0x2f63('0x1a5'),_0x2f63('0x1a6'),_0x2f63('0x1a7'),_0x2f63('0x1a8'),_0x2f63('0x1a9'),'#99CC33',_0x2f63('0x1aa'),_0x2f63('0x1ab'),_0x2f63('0x1ac'),_0x2f63('0x1ad'),'#CC00CC',_0x2f63('0x1ae'),'#CC3300',_0x2f63('0x1af'),'#CC3366',_0x2f63('0x1b0'),_0x2f63('0x1b1'),'#CC33FF',_0x2f63('0x1b2'),_0x2f63('0x1b3'),'#CC9900',_0x2f63('0x1b4'),'#CCCC00',_0x2f63('0x1b5'),_0x2f63('0x1b6'),_0x2f63('0x1b7'),_0x2f63('0x1b8'),_0x2f63('0x1b9'),_0x2f63('0x1ba'),'#FF00FF',_0x2f63('0x1bb'),_0x2f63('0x1bc'),_0x2f63('0x1bd'),_0x2f63('0x1be'),'#FF33CC',_0x2f63('0x1bf'),_0x2f63('0x1c0'),_0x2f63('0x1c1'),_0x2f63('0x1c2'),'#FF9933',_0x2f63('0x1c3'),'#FFCC33'];function _0x5c191b(){if(typeof window!==_0x2f63('0x8')&&window['process']&&(window['process'][_0x2f63('0x28')]===_0x2f63('0x1c4')||window['process'][_0x2f63('0x1c5')])){return!![];}if(typeof navigator!==_0x2f63('0x8')&&navigator[_0x2f63('0x1c6')]&&navigator[_0x2f63('0x1c6')][_0x2f63('0x158')]()[_0x2f63('0x1c7')](/(edge|trident)\/(\d+)/)){return![];}return typeof document!=='undefined'&&document[_0x2f63('0x1c8')]&&document[_0x2f63('0x1c8')]['style']&&document[_0x2f63('0x1c8')][_0x2f63('0x1c9')][_0x2f63('0x1ca')]||typeof window!==_0x2f63('0x8')&&window[_0x2f63('0x1cb')]&&(window[_0x2f63('0x1cb')][_0x2f63('0x1cc')]||window[_0x2f63('0x1cb')][_0x2f63('0x1cd')]&&window['console'][_0x2f63('0x1ce')])||typeof navigator!==_0x2f63('0x8')&&navigator[_0x2f63('0x1c6')]&&navigator['userAgent'][_0x2f63('0x158')]()[_0x2f63('0x1c7')](/firefox\/(\d+)/)&&parseInt(RegExp['$1'],0xa)>=0x1f||typeof navigator!==_0x2f63('0x8')&&navigator[_0x2f63('0x1c6')]&&navigator[_0x2f63('0x1c6')][_0x2f63('0x158')]()[_0x2f63('0x1c7')](/applewebkit\/(\d+)/);}function _0x1530be(_0x2ebe23){_0x2ebe23[0x0]=(this[_0x2f63('0x17d')]?'%c':'')+this[_0x2f63('0x17c')]+(this[_0x2f63('0x17d')]?_0x2f63('0x1cf'):'\x20')+_0x2ebe23[0x0]+(this[_0x2f63('0x17d')]?_0x2f63('0x1d0'):'\x20')+'+'+_0x1098d5['exports'][_0x2f63('0x170')](this[_0x2f63('0x176')]);if(!this[_0x2f63('0x17d')]){return;}var _0x1bb6a4=_0x2f63('0x1d1')+this[_0x2f63('0x17e')];_0x2ebe23[_0x2f63('0x54')](0x1,0x0,_0x1bb6a4,'color:\x20inherit');var _0x1085e7=0x0;var _0x5db040=0x0;_0x2ebe23[0x0][_0x2f63('0x179')](/%[a-zA-Z%]/g,function(_0x57e1a3){if(_0x57e1a3==='%%'){return;}_0x1085e7++;if(_0x57e1a3==='%c'){_0x5db040=_0x1085e7;}});_0x2ebe23[_0x2f63('0x54')](_0x5db040,0x0,_0x1bb6a4);}_0x468769[_0x2f63('0x64')]=console[_0x2f63('0x16b')]||console[_0x2f63('0x64')]||function(){};function _0x20d501(_0x59d969){try{if(_0x59d969){_0x468769[_0x2f63('0x18b')]['setItem']('debug',_0x59d969);}else{_0x468769[_0x2f63('0x18b')][_0x2f63('0x1d2')](_0x2f63('0x16b'));}}catch(_0x555854){}}function _0x2bf7d0(){var _0xa9be82;try{_0xa9be82=_0x468769['storage'][_0x2f63('0x1d3')](_0x2f63('0x16b'));}catch(_0x2ea1de){}if(!_0xa9be82&&typeof process!==_0x2f63('0x8')&&_0x2f63('0x1d4')in process){_0xa9be82=process[_0x2f63('0x1d4')][_0x2f63('0x1d5')];}return _0xa9be82;}function _0x4bd137(){try{return localStorage;}catch(_0x1097d7){}}_0x1098d5['exports']=_0x3c5edf(_0x468769);var _0x5602b9=_0x1098d5[_0x2f63('0x5')][_0x2f63('0x17a')];_0x5602b9['j']=function(_0x17101f){try{return JSON['stringify'](_0x17101f);}catch(_0x114694){return _0x2f63('0x1d6')+_0x114694[_0x2f63('0x1d7')];}};});var _0x5de42c=_0x4d1767[_0x2f63('0x17b')];var _0x2dc860=_0x4d1767[_0x2f63('0x180')];var _0x19c676=_0x4d1767[_0x2f63('0x18a')];var _0x510e48=_0x4d1767[_0x2f63('0x17d')];var _0x342321=_0x4d1767[_0x2f63('0x18b')];var _0x5076db=_0x4d1767[_0x2f63('0x171')];var _0xe403be=_0x4d1767[_0x2f63('0x174')];var _0x5406e8=_0x4d1767['log'];var _0x5c16d5=_0x2f63('0x1d8');var _0x1a835f=_0x2f63('0x1d9');var _0x4b59bd={'fontSize':_0x2f63('0x1da'),'fontWeight':'weight','extrudeDepth':_0x2f63('0x1db'),'quadEllipse':_0x2f63('0x1dc'),'halfEllipse':_0x2f63('0x1dd'),'triangulateMethod':_0x2f63('0x1de'),'curveSegments':_0x2f63('0x1df')};function _0x5aa5e8(_0x20447c){var _0x12f8b6=arguments['length']>0x1&&arguments[0x1]!==undefined?arguments[0x1]:{};Object[_0x2f63('0x43')](_0x12f8b6)[_0x2f63('0x2c')](function(_0x171058){if(typeof _0x20447c[_0x171058]===_0x2f63('0x8')){_0x20447c[_0x171058]=_0x12f8b6[_0x171058];}});return _0x20447c;}function _0x463546(_0x51c985,_0x3997cb){return Object[_0x2f63('0x1e0')](_0x51c985)[_0x2f63('0x185')](function(_0x474c37){var _0x4995cb=_0x21a939(_0x474c37,0x2),_0x4c3705=_0x4995cb[0x0],_0x292cf5=_0x4995cb[0x1];return[_0x3997cb[_0x4c3705]||_0x4c3705,_0x3997cb[_0x292cf5]||_0x292cf5];})[_0x2f63('0x1e1')](function(_0xa01dd6,_0x168df4){return Object[_0x2f63('0xe2')](_0xa01dd6,_0x4b1376({},_0x168df4[0x0],_0x168df4[0x1]));},{});}var _0x3a2596={'rootName':_0x5c16d5,'_store':new Map(),'_createDebug':function _createDebug(){var _0x44f0a8=arguments[_0x2f63('0x38')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'';return _0x4d1767([this[_0x2f63('0x1e2')],_0x44f0a8][_0x2f63('0x186')](':'));},'_fire':function _fire(_0x3a2596){for(var _0x5e95f0=arguments[_0x2f63('0x38')],_0x127f86=new Array(_0x5e95f0>0x1?_0x5e95f0-0x1:0x0),_0xc99b17=0x1;_0xc99b17<_0x5e95f0;_0xc99b17++){_0x127f86[_0xc99b17-0x1]=arguments[_0xc99b17];}_0x3a2596[_0x2f63('0x10')](void 0x0,[_0x127f86[0x0]||'']['concat'](_0x9959f(_0x127f86[_0x2f63('0x48')](0x1))));},'log':function log(_0xda5acc){for(var _0x5efc92=arguments[_0x2f63('0x38')],_0x404306=new Array(_0x5efc92>0x1?_0x5efc92-0x1:0x0),_0x1d2e01=0x1;_0x1d2e01<_0x5efc92;_0x1d2e01++){_0x404306[_0x1d2e01-0x1]=arguments[_0x1d2e01];}this[_0x2f63('0x1e3')][_0x2f63('0x10')](this,[this['_createDebug'](_0xda5acc)][_0x2f63('0x184')](_0x404306));},'time':function time(_0x2ff919){var _0x3a2596=this['_createDebug'](_0x2ff919);if(this['_store'][_0x2f63('0x1e4')](_0x2ff919)){console[_0x2f63('0x77')](_0x2f63('0x1e5')[_0x2f63('0x184')](_0x2ff919,'\x20already\x20exists'));}this[_0x2f63('0x1e6')][_0x2f63('0x67')](_0x2ff919,_0x3a2596);for(var _0x4603f2=arguments['length'],_0x2203b5=new Array(_0x4603f2>0x1?_0x4603f2-0x1:0x0),_0x2d9e2c=0x1;_0x2d9e2c<_0x4603f2;_0x2d9e2c++){_0x2203b5[_0x2d9e2c-0x1]=arguments[_0x2d9e2c];}this['_fire'][_0x2f63('0x10')](this,[_0x3a2596][_0x2f63('0x184')](_0x2203b5));},'timeEnd':function timeEnd(_0x3b1a6f){var _0x3a2596=this['_store'][_0x2f63('0x1e4')](_0x3b1a6f);if(_0x3a2596){for(var _0x571d0a=arguments[_0x2f63('0x38')],_0x199eff=new Array(_0x571d0a>0x1?_0x571d0a-0x1:0x0),_0x20d0d2=0x1;_0x20d0d2<_0x571d0a;_0x20d0d2++){_0x199eff[_0x20d0d2-0x1]=arguments[_0x20d0d2];}this[_0x2f63('0x1e3')][_0x2f63('0x10')](this,[_0x3a2596]['concat'](_0x199eff));this['_store'][_0x2f63('0x67')](_0x3b1a6f,null);}else{console['warn'](_0x2f63('0x1e5')[_0x2f63('0x184')](_0x3b1a6f,_0x2f63('0x1e7')));}}};var _0x1f75fb=0x0;function _0x220e0c(){Object[_0x2f63('0x5a')](this,'id',{'value':_0x1f75fb+=0x2});this['uuid']=_0x252c11[_0x2f63('0x1e8')]();this[_0x2f63('0x3c')]='';this['type']=_0x2f63('0x1e9');this[_0x2f63('0xfb')]=[];this[_0x2f63('0x1ea')]=[];this[_0x2f63('0x1eb')]=[[]];this[_0x2f63('0x1ec')]=[];this[_0x2f63('0x1ed')]=[];this[_0x2f63('0x1ee')]=[];this[_0x2f63('0x1ef')]=[];this['lineDistances']=[];this[_0x2f63('0x1f0')]=null;this[_0x2f63('0x1f1')]=null;this[_0x2f63('0x1f2')]=![];this[_0x2f63('0x1f3')]=![];this['uvsNeedUpdate']=![];this[_0x2f63('0x1f4')]=![];this['lineDistancesNeedUpdate']=![];this[_0x2f63('0x1f5')]=![];}_0x220e0c[_0x2f63('0x9')]=Object[_0x2f63('0xe2')](Object[_0x2f63('0x19')](_0x4f981e[_0x2f63('0x9')]),{'constructor':_0x220e0c,'isGeometry':!![],'applyMatrix':function applyMatrix(_0x420933){var _0x9de05d=new _0x849ca1()[_0x2f63('0xea')](_0x420933);for(var _0x356fab=0x0,_0x14c1aa=this['vertices'][_0x2f63('0x38')];_0x356fab<_0x14c1aa;_0x356fab++){var _0x174008=this['vertices'][_0x356fab];_0x174008[_0x2f63('0xbf')](_0x420933);}for(var _0x356fab=0x0,_0x14c1aa=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x356fab<_0x14c1aa;_0x356fab++){var _0x24e9e8=this[_0x2f63('0x1ea')][_0x356fab];_0x24e9e8['normal'][_0x2f63('0xbe')](_0x9de05d)[_0x2f63('0x74')]();for(var _0x1673c9=0x0,_0x18fd5b=_0x24e9e8['vertexNormals']['length'];_0x1673c9<_0x18fd5b;_0x1673c9++){_0x24e9e8[_0x2f63('0xe4')][_0x1673c9][_0x2f63('0xbe')](_0x9de05d)[_0x2f63('0x74')]();}}if(this[_0x2f63('0x1f0')]!==null){this[_0x2f63('0x1f6')]();}if(this[_0x2f63('0x1f1')]!==null){this[_0x2f63('0x1f7')]();}this[_0x2f63('0x1f3')]=!![];this[_0x2f63('0x1f4')]=!![];return this;},'fromBufferGeometry':function fromBufferGeometry(_0x516af6){var _0x347a5b=this;var _0x36d6f7=_0x516af6[_0x2f63('0x1f8')]!==null?_0x516af6[_0x2f63('0x1f8')][_0x2f63('0x1f9')]:undefined;var _0x5e77ca=_0x516af6[_0x2f63('0xfe')];var _0x28bcce=_0x5e77ca[_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x2582cd=_0x5e77ca['normal']!==undefined?_0x5e77ca[_0x2f63('0x27')]['array']:undefined;var _0x22849f=_0x5e77ca['uv']!==undefined?_0x5e77ca['uv'][_0x2f63('0x1f9')]:undefined;var _0x1125bd=_0x5e77ca['uv2']!==undefined?_0x5e77ca['uv2'][_0x2f63('0x1f9')]:undefined;if(_0x1125bd!==undefined)this['faceVertexUvs'][0x1]=[];for(var _0x374444=0x0,_0x2fe384=0x0;_0x374444<_0x28bcce[_0x2f63('0x38')];_0x374444+=0x3,_0x2fe384+=0x2){_0x347a5b[_0x2f63('0xfb')][_0x2f63('0x34')](new _0x14b965()[_0x2f63('0x69')](_0x28bcce,_0x374444));}function _0x6c6cfa(_0x3e2315,_0x469e26,_0x5bab39,_0x342c38){var _0x25fbad=_0x2582cd===undefined?[]:[new _0x14b965()[_0x2f63('0x69')](_0x2582cd,_0x3e2315*0x3),new _0x14b965()[_0x2f63('0x69')](_0x2582cd,_0x469e26*0x3),new _0x14b965()[_0x2f63('0x69')](_0x2582cd,_0x5bab39*0x3)];var _0x80a3bb=new _0x130255(_0x3e2315,_0x469e26,_0x5bab39,_0x25fbad,_0x342c38);_0x347a5b['faces'][_0x2f63('0x34')](_0x80a3bb);if(_0x22849f!==undefined){_0x347a5b[_0x2f63('0x1eb')][0x0][_0x2f63('0x34')]([new _0x2b6548()['fromArray'](_0x22849f,_0x3e2315*0x2),new _0x2b6548()['fromArray'](_0x22849f,_0x469e26*0x2),new _0x2b6548()[_0x2f63('0x69')](_0x22849f,_0x5bab39*0x2)]);}if(_0x1125bd!==undefined){_0x347a5b[_0x2f63('0x1eb')][0x1][_0x2f63('0x34')]([new _0x2b6548()[_0x2f63('0x69')](_0x1125bd,_0x3e2315*0x2),new _0x2b6548()['fromArray'](_0x1125bd,_0x469e26*0x2),new _0x2b6548()[_0x2f63('0x69')](_0x1125bd,_0x5bab39*0x2)]);}}var _0x17ecee=_0x516af6[_0x2f63('0x1fa')];if(_0x17ecee['length']>0x0){for(var _0x374444=0x0;_0x374444<_0x17ecee['length'];_0x374444++){var _0x2babd1=_0x17ecee[_0x374444];var _0x3cdd8c=_0x2babd1[_0x2f63('0x1fb')];var _0x18e8a3=_0x2babd1[_0x2f63('0x1fc')];for(var _0x2fe384=_0x3cdd8c,_0x2ec536=_0x3cdd8c+_0x18e8a3;_0x2fe384<_0x2ec536;_0x2fe384+=0x3){if(_0x36d6f7!==undefined){_0x6c6cfa(_0x36d6f7[_0x2fe384],_0x36d6f7[_0x2fe384+0x1],_0x36d6f7[_0x2fe384+0x2],_0x2babd1[_0x2f63('0xe3')]);}else{_0x6c6cfa(_0x2fe384,_0x2fe384+0x1,_0x2fe384+0x2,_0x2babd1[_0x2f63('0xe3')]);}}}}else{if(_0x36d6f7!==undefined){for(var _0x374444=0x0;_0x374444<_0x36d6f7[_0x2f63('0x38')];_0x374444+=0x3){_0x6c6cfa(_0x36d6f7[_0x374444],_0x36d6f7[_0x374444+0x1],_0x36d6f7[_0x374444+0x2]);}}else{for(var _0x374444=0x0;_0x374444<_0x28bcce[_0x2f63('0x38')]/0x3;_0x374444+=0x3){_0x6c6cfa(_0x374444,_0x374444+0x1,_0x374444+0x2);}}}this[_0x2f63('0x1fd')]();if(_0x516af6[_0x2f63('0x1f0')]!==null){this[_0x2f63('0x1f0')]=_0x516af6[_0x2f63('0x1f0')][_0x2f63('0x68')]();}if(_0x516af6[_0x2f63('0x1f1')]!==null){this['boundingSphere']=_0x516af6[_0x2f63('0x1f1')][_0x2f63('0x68')]();}return this;},'center':function(){var _0xd45d8e=new _0x14b965();return function center(){this[_0x2f63('0x1f6')]();this[_0x2f63('0x1f0')]['getCenter'](_0xd45d8e)[_0x2f63('0xcc')]();this['translate'](_0xd45d8e['x'],_0xd45d8e['y'],_0xd45d8e['z']);return this;};}(),'normalize':function normalize(){this[_0x2f63('0x1f7')]();var _0x5db759=this[_0x2f63('0x1f1')]['center'];var _0x143969=this['boundingSphere'][_0x2f63('0xd9')];var _0x389309=_0x143969===0x0?0x1:0x1/_0x143969;var _0x379331=new _0x367199();_0x379331[_0x2f63('0x67')](_0x389309,0x0,0x0,-_0x389309*_0x5db759['x'],0x0,_0x389309,0x0,-_0x389309*_0x5db759['y'],0x0,0x0,_0x389309,-_0x389309*_0x5db759['z'],0x0,0x0,0x0,0x1);this[_0x2f63('0x1fe')](_0x379331);return this;},'computeFaceNormals':function computeFaceNormals(){var _0x549bc6=new _0x14b965();var _0x37db1a=new _0x14b965();for(var _0x1a7a8b=0x0,_0x4888ed=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x1a7a8b<_0x4888ed;_0x1a7a8b++){var _0x3fbb33=this['faces'][_0x1a7a8b];var _0x48b50e=this[_0x2f63('0xfb')][_0x3fbb33['a']];var _0x83d886=this[_0x2f63('0xfb')][_0x3fbb33['b']];var _0x8348d4=this['vertices'][_0x3fbb33['c']];_0x549bc6['subVectors'](_0x8348d4,_0x83d886);_0x37db1a[_0x2f63('0x72')](_0x48b50e,_0x83d886);_0x549bc6[_0x2f63('0xd0')](_0x37db1a);_0x549bc6[_0x2f63('0x74')]();_0x3fbb33[_0x2f63('0x27')][_0x2f63('0x6a')](_0x549bc6);}},'computeVertexNormals':function computeVertexNormals(_0x3202d8){if(_0x3202d8===undefined)_0x3202d8=!![];var _0x443516,_0x309686,_0x43364c,_0x266f95,_0x230cc3,_0x299854;_0x299854=new Array(this['vertices']['length']);for(_0x443516=0x0,_0x309686=this[_0x2f63('0xfb')][_0x2f63('0x38')];_0x443516<_0x309686;_0x443516++){_0x299854[_0x443516]=new _0x14b965();}if(_0x3202d8){var _0xcd14f8,_0x243f25,_0x4e4002;var _0x449e6e=new _0x14b965();var _0x16ed0e=new _0x14b965();for(_0x43364c=0x0,_0x266f95=this['faces'][_0x2f63('0x38')];_0x43364c<_0x266f95;_0x43364c++){_0x230cc3=this['faces'][_0x43364c];_0xcd14f8=this[_0x2f63('0xfb')][_0x230cc3['a']];_0x243f25=this[_0x2f63('0xfb')][_0x230cc3['b']];_0x4e4002=this[_0x2f63('0xfb')][_0x230cc3['c']];_0x449e6e[_0x2f63('0x72')](_0x4e4002,_0x243f25);_0x16ed0e['subVectors'](_0xcd14f8,_0x243f25);_0x449e6e[_0x2f63('0xd0')](_0x16ed0e);_0x299854[_0x230cc3['a']][_0x2f63('0xb0')](_0x449e6e);_0x299854[_0x230cc3['b']][_0x2f63('0xb0')](_0x449e6e);_0x299854[_0x230cc3['c']][_0x2f63('0xb0')](_0x449e6e);}}else{this[_0x2f63('0x1fd')]();for(_0x43364c=0x0,_0x266f95=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x43364c<_0x266f95;_0x43364c++){_0x230cc3=this[_0x2f63('0x1ea')][_0x43364c];_0x299854[_0x230cc3['a']]['add'](_0x230cc3[_0x2f63('0x27')]);_0x299854[_0x230cc3['b']][_0x2f63('0xb0')](_0x230cc3['normal']);_0x299854[_0x230cc3['c']][_0x2f63('0xb0')](_0x230cc3['normal']);}}for(_0x443516=0x0,_0x309686=this[_0x2f63('0xfb')]['length'];_0x443516<_0x309686;_0x443516++){_0x299854[_0x443516][_0x2f63('0x74')]();}for(_0x43364c=0x0,_0x266f95=this['faces']['length'];_0x43364c<_0x266f95;_0x43364c++){_0x230cc3=this[_0x2f63('0x1ea')][_0x43364c];var _0x22adb7=_0x230cc3[_0x2f63('0xe4')];if(_0x22adb7[_0x2f63('0x38')]===0x3){_0x22adb7[0x0][_0x2f63('0x6a')](_0x299854[_0x230cc3['a']]);_0x22adb7[0x1][_0x2f63('0x6a')](_0x299854[_0x230cc3['b']]);_0x22adb7[0x2][_0x2f63('0x6a')](_0x299854[_0x230cc3['c']]);}else{_0x22adb7[0x0]=_0x299854[_0x230cc3['a']]['clone']();_0x22adb7[0x1]=_0x299854[_0x230cc3['b']][_0x2f63('0x68')]();_0x22adb7[0x2]=_0x299854[_0x230cc3['c']]['clone']();}}if(this[_0x2f63('0x1ea')][_0x2f63('0x38')]>0x0){this[_0x2f63('0x1f4')]=!![];}},'computeFlatVertexNormals':function computeFlatVertexNormals(){var _0x52ce5b,_0x56e776,_0x48475c;this[_0x2f63('0x1fd')]();for(_0x52ce5b=0x0,_0x56e776=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x52ce5b<_0x56e776;_0x52ce5b++){_0x48475c=this[_0x2f63('0x1ea')][_0x52ce5b];var _0x79db7d=_0x48475c[_0x2f63('0xe4')];if(_0x79db7d[_0x2f63('0x38')]===0x3){_0x79db7d[0x0][_0x2f63('0x6a')](_0x48475c[_0x2f63('0x27')]);_0x79db7d[0x1][_0x2f63('0x6a')](_0x48475c[_0x2f63('0x27')]);_0x79db7d[0x2][_0x2f63('0x6a')](_0x48475c[_0x2f63('0x27')]);}else{_0x79db7d[0x0]=_0x48475c[_0x2f63('0x27')][_0x2f63('0x68')]();_0x79db7d[0x1]=_0x48475c['normal'][_0x2f63('0x68')]();_0x79db7d[0x2]=_0x48475c['normal'][_0x2f63('0x68')]();}}if(this['faces']['length']>0x0){this[_0x2f63('0x1f4')]=!![];}},'computeMorphNormals':function computeMorphNormals(){var _0x53ac61,_0x8aa71f,_0x484692,_0xf3b260,_0x511ab8;for(_0x484692=0x0,_0xf3b260=this['faces'][_0x2f63('0x38')];_0x484692<_0xf3b260;_0x484692++){_0x511ab8=this[_0x2f63('0x1ea')][_0x484692];if(!_0x511ab8[_0x2f63('0x1ff')]){_0x511ab8[_0x2f63('0x1ff')]=_0x511ab8[_0x2f63('0x27')][_0x2f63('0x68')]();}else{_0x511ab8[_0x2f63('0x1ff')][_0x2f63('0x6a')](_0x511ab8[_0x2f63('0x27')]);}if(!_0x511ab8[_0x2f63('0x200')])_0x511ab8[_0x2f63('0x200')]=[];for(_0x53ac61=0x0,_0x8aa71f=_0x511ab8[_0x2f63('0xe4')][_0x2f63('0x38')];_0x53ac61<_0x8aa71f;_0x53ac61++){if(!_0x511ab8[_0x2f63('0x200')][_0x53ac61]){_0x511ab8[_0x2f63('0x200')][_0x53ac61]=_0x511ab8[_0x2f63('0xe4')][_0x53ac61][_0x2f63('0x68')]();}else{_0x511ab8[_0x2f63('0x200')][_0x53ac61][_0x2f63('0x6a')](_0x511ab8[_0x2f63('0xe4')][_0x53ac61]);}}}var _0x49dd02=new _0x220e0c();_0x49dd02[_0x2f63('0x1ea')]=this[_0x2f63('0x1ea')];for(_0x53ac61=0x0,_0x8aa71f=this[_0x2f63('0x1ec')][_0x2f63('0x38')];_0x53ac61<_0x8aa71f;_0x53ac61++){if(!this['morphNormals'][_0x53ac61]){this[_0x2f63('0x1ed')][_0x53ac61]={};this['morphNormals'][_0x53ac61]['faceNormals']=[];this[_0x2f63('0x1ed')][_0x53ac61][_0x2f63('0xe4')]=[];var _0x5c2837=this[_0x2f63('0x1ed')][_0x53ac61][_0x2f63('0x201')];var _0x202aa4=this['morphNormals'][_0x53ac61][_0x2f63('0xe4')];var _0x2c2925,_0x30a881;for(_0x484692=0x0,_0xf3b260=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x484692<_0xf3b260;_0x484692++){_0x2c2925=new _0x14b965();_0x30a881={'a':new _0x14b965(),'b':new _0x14b965(),'c':new _0x14b965()};_0x5c2837['push'](_0x2c2925);_0x202aa4[_0x2f63('0x34')](_0x30a881);}}var _0x17fb31=this[_0x2f63('0x1ed')][_0x53ac61];_0x49dd02[_0x2f63('0xfb')]=this[_0x2f63('0x1ec')][_0x53ac61]['vertices'];_0x49dd02[_0x2f63('0x1fd')]();_0x49dd02[_0x2f63('0x202')]();var _0x2c2925,_0x30a881;for(_0x484692=0x0,_0xf3b260=this[_0x2f63('0x1ea')][_0x2f63('0x38')];_0x484692<_0xf3b260;_0x484692++){_0x511ab8=this['faces'][_0x484692];_0x2c2925=_0x17fb31[_0x2f63('0x201')][_0x484692];_0x30a881=_0x17fb31[_0x2f63('0xe4')][_0x484692];_0x2c2925[_0x2f63('0x6a')](_0x511ab8[_0x2f63('0x27')]);_0x30a881['a'][_0x2f63('0x6a')](_0x511ab8[_0x2f63('0xe4')][0x0]);_0x30a881['b'][_0x2f63('0x6a')](_0x511ab8['vertexNormals'][0x1]);_0x30a881['c'][_0x2f63('0x6a')](_0x511ab8['vertexNormals'][0x2]);}}for(_0x484692=0x0,_0xf3b260=this['faces'][_0x2f63('0x38')];_0x484692<_0xf3b260;_0x484692++){_0x511ab8=this['faces'][_0x484692];_0x511ab8[_0x2f63('0x27')]=_0x511ab8[_0x2f63('0x1ff')];_0x511ab8[_0x2f63('0xe4')]=_0x511ab8[_0x2f63('0x200')];}},'computeBoundingBox':function computeBoundingBox(){if(this[_0x2f63('0x1f0')]===null){this[_0x2f63('0x1f0')]=new _0x5f39d5();}this[_0x2f63('0x1f0')][_0x2f63('0xef')](this[_0x2f63('0xfb')]);},'computeBoundingSphere':function computeBoundingSphere(){if(this[_0x2f63('0x1f1')]===null){this[_0x2f63('0x1f1')]=new _0x482cf5();}this[_0x2f63('0x1f1')]['setFromPoints'](this[_0x2f63('0xfb')]);},'merge':function merge(_0x1c5546,_0x6b2b4,_0x2d2868){if(!(_0x1c5546&&_0x1c5546['isGeometry'])){console[_0x2f63('0xbb')](_0x2f63('0x203'),_0x1c5546);return;}var _0x4fd521;var _0x49abde=this[_0x2f63('0xfb')][_0x2f63('0x38')];var _0x20dbb5=this[_0x2f63('0xfb')];var _0x4b3449=_0x1c5546['vertices'];var _0x12cb2=this[_0x2f63('0x1ea')];var _0x12338c=_0x1c5546[_0x2f63('0x1ea')];var _0x30e34e=this[_0x2f63('0x1eb')][0x0];var _0x3348ac=_0x1c5546[_0x2f63('0x1eb')][0x0];if(_0x2d2868===undefined)_0x2d2868=0x0;if(_0x6b2b4!==undefined){_0x4fd521=new _0x849ca1()[_0x2f63('0xea')](_0x6b2b4);}for(var _0x2f8958=0x0,_0x3a19b7=_0x4b3449[_0x2f63('0x38')];_0x2f8958<_0x3a19b7;_0x2f8958++){var _0x2b672e=_0x4b3449[_0x2f8958];var _0x2baf21=_0x2b672e[_0x2f63('0x68')]();if(_0x6b2b4!==undefined)_0x2baf21[_0x2f63('0xbf')](_0x6b2b4);_0x20dbb5[_0x2f63('0x34')](_0x2baf21);}for(_0x2f8958=0x0,_0x3a19b7=_0x12338c['length'];_0x2f8958<_0x3a19b7;_0x2f8958++){var _0x30c4cc=_0x12338c[_0x2f8958];var _0x3d3dab;var _0xeade9c;var _0x9fe569=_0x30c4cc[_0x2f63('0xe4')];_0x3d3dab=new _0x130255(_0x30c4cc['a']+_0x49abde,_0x30c4cc['b']+_0x49abde,_0x30c4cc['c']+_0x49abde);_0x3d3dab[_0x2f63('0x27')][_0x2f63('0x6a')](_0x30c4cc[_0x2f63('0x27')]);if(_0x4fd521!==undefined){_0x3d3dab[_0x2f63('0x27')][_0x2f63('0xbe')](_0x4fd521)[_0x2f63('0x74')]();}for(var _0x30827a=0x0,_0x46bf6d=_0x9fe569[_0x2f63('0x38')];_0x30827a<_0x46bf6d;_0x30827a++){_0xeade9c=_0x9fe569[_0x30827a][_0x2f63('0x68')]();if(_0x4fd521!==undefined){_0xeade9c[_0x2f63('0xbe')](_0x4fd521)[_0x2f63('0x74')]();}_0x3d3dab['vertexNormals'][_0x2f63('0x34')](_0xeade9c);}_0x3d3dab['materialIndex']=_0x30c4cc[_0x2f63('0xe3')]+_0x2d2868;_0x12cb2[_0x2f63('0x34')](_0x3d3dab);}for(_0x2f8958=0x0,_0x3a19b7=_0x3348ac[_0x2f63('0x38')];_0x2f8958<_0x3a19b7;_0x2f8958++){var _0x557b36=_0x3348ac[_0x2f8958];var _0x32fdee=[];if(_0x557b36===undefined){continue;}for(var _0x30827a=0x0,_0x46bf6d=_0x557b36[_0x2f63('0x38')];_0x30827a<_0x46bf6d;_0x30827a++){_0x32fdee[_0x2f63('0x34')](_0x557b36[_0x30827a][_0x2f63('0x68')]());}_0x30e34e[_0x2f63('0x34')](_0x32fdee);}},'mergeMesh':function mergeMesh(_0x31648c){if(!(_0x31648c&&_0x31648c[_0x2f63('0x142')])){console[_0x2f63('0xbb')](_0x2f63('0x204'),_0x31648c);return;}if(_0x31648c[_0x2f63('0x123')])_0x31648c[_0x2f63('0x13b')]();this[_0x2f63('0x205')](_0x31648c[_0x2f63('0xf9')],_0x31648c[_0x2f63('0x122')]);},'mergeVertices':function mergeVertices(){var _0x40cd92={};var _0x5036c3=[];var _0x3f97df=[];var _0x169647,_0x190301;var _0x2ca163=0x4;var _0x37b7fd=Math[_0x2f63('0x61')](0xa,_0x2ca163);var _0x234060,_0x5a3b96,_0x45541c;var _0x54e169,_0x45c607,_0x4dd4e9;for(_0x234060=0x0,_0x5a3b96=this[_0x2f63('0xfb')]['length'];_0x234060<_0x5a3b96;_0x234060++){_0x169647=this[_0x2f63('0xfb')][_0x234060];_0x190301=Math[_0x2f63('0xca')](_0x169647['x']*_0x37b7fd)+'_'+Math['round'](_0x169647['y']*_0x37b7fd)+'_'+Math[_0x2f63('0xca')](_0x169647['z']*_0x37b7fd);if(_0x40cd92[_0x190301]===undefined){_0x40cd92[_0x190301]=_0x234060;_0x5036c3[_0x2f63('0x34')](this['vertices'][_0x234060]);_0x3f97df[_0x234060]=_0x5036c3[_0x2f63('0x38')]-0x1;}else{_0x3f97df[_0x234060]=_0x3f97df[_0x40cd92[_0x190301]];}}var _0x588368=[];for(_0x234060=0x0,_0x5a3b96=this[_0x2f63('0x1ea')]['length'];_0x234060<_0x5a3b96;_0x234060++){_0x45541c=this[_0x2f63('0x1ea')][_0x234060];_0x45541c['a']=_0x3f97df[_0x45541c['a']];_0x45541c['b']=_0x3f97df[_0x45541c['b']];_0x45541c['c']=_0x3f97df[_0x45541c['c']];_0x54e169=[_0x45541c['a'],_0x45541c['b'],_0x45541c['c']];for(var _0x545b30=0x0;_0x545b30<0x3;_0x545b30++){if(_0x54e169[_0x545b30]===_0x54e169[(_0x545b30+0x1)%0x3]){_0x588368[_0x2f63('0x34')](_0x234060);break;}}}for(_0x234060=_0x588368[_0x2f63('0x38')]-0x1;_0x234060>=0x0;_0x234060--){var _0xb00ad5=_0x588368[_0x234060];this[_0x2f63('0x1ea')][_0x2f63('0x54')](_0xb00ad5,0x1);for(_0x45c607=0x0,_0x4dd4e9=this[_0x2f63('0x1eb')][_0x2f63('0x38')];_0x45c607<_0x4dd4e9;_0x45c607++){this[_0x2f63('0x1eb')][_0x45c607]['splice'](_0xb00ad5,0x1);}}var _0x260078=this[_0x2f63('0xfb')][_0x2f63('0x38')]-_0x5036c3[_0x2f63('0x38')];this['vertices']=_0x5036c3;return _0x260078;},'setFromPoints':function setFromPoints(_0xb94975){this[_0x2f63('0xfb')]=[];for(var _0x287f0a=0x0,_0x2b2d97=_0xb94975[_0x2f63('0x38')];_0x287f0a<_0x2b2d97;_0x287f0a++){var _0x4afc24=_0xb94975[_0x287f0a];this['vertices'][_0x2f63('0x34')](new _0x14b965(_0x4afc24['x'],_0x4afc24['y'],_0x4afc24['z']||0x0));}return this;},'sortFacesByMaterialIndex':function sortFacesByMaterialIndex(){var _0x2d9b90=this['faces'];var _0x364278=_0x2d9b90[_0x2f63('0x38')];for(var _0x501c46=0x0;_0x501c46<_0x364278;_0x501c46++){_0x2d9b90[_0x501c46][_0x2f63('0x206')]=_0x501c46;}function _0x4c10af(_0x563b83,_0x399bdd){return _0x563b83[_0x2f63('0xe3')]-_0x399bdd['materialIndex'];}_0x2d9b90[_0x2f63('0x207')](_0x4c10af);var _0x267bc9=this[_0x2f63('0x1eb')][0x0];var _0x2f6303=this[_0x2f63('0x1eb')][0x1];var _0x244fc2,_0x2230e2;if(_0x267bc9&&_0x267bc9[_0x2f63('0x38')]===_0x364278)_0x244fc2=[];if(_0x2f6303&&_0x2f6303[_0x2f63('0x38')]===_0x364278)_0x2230e2=[];for(var _0x501c46=0x0;_0x501c46<_0x364278;_0x501c46++){var _0x870dc5=_0x2d9b90[_0x501c46][_0x2f63('0x206')];if(_0x244fc2)_0x244fc2['push'](_0x267bc9[_0x870dc5]);if(_0x2230e2)_0x2230e2[_0x2f63('0x34')](_0x2f6303[_0x870dc5]);}if(_0x244fc2)this[_0x2f63('0x1eb')][0x0]=_0x244fc2;if(_0x2230e2)this[_0x2f63('0x1eb')][0x1]=_0x2230e2;},'toJSON':function _0x483a4d(){var _0x422479={'metadata':{'version':4.5,'type':_0x2f63('0x1e9'),'generator':'Geometry.toJSON'}};_0x422479['uuid']=this['uuid'];_0x422479[_0x2f63('0x28')]=this[_0x2f63('0x28')];if(this[_0x2f63('0x3c')]!=='')_0x422479[_0x2f63('0x3c')]=this[_0x2f63('0x3c')];if(this['parameters']!==undefined){var _0x2a5961=this['parameters'];for(var _0x66274e in _0x2a5961){if(_0x2a5961[_0x66274e]!==undefined)_0x422479[_0x66274e]=_0x2a5961[_0x66274e];}return _0x422479;}var _0x20e3b0=[];for(var _0x1fad4b=0x0;_0x1fad4b<this[_0x2f63('0xfb')]['length'];_0x1fad4b++){var _0x3eee38=this[_0x2f63('0xfb')][_0x1fad4b];_0x20e3b0[_0x2f63('0x34')](_0x3eee38['x'],_0x3eee38['y'],_0x3eee38['z']);}var _0x2d1250=[];var _0x5601d3=[];var _0x5cf752={};var _0x322ff9=[];var _0x179bcd={};for(var _0x1fad4b=0x0;_0x1fad4b<this['faces']['length'];_0x1fad4b++){var _0x35d49e=this[_0x2f63('0x1ea')][_0x1fad4b];var _0xa09e2=!![];var _0x35d47b=![];var _0x2ca6fa=this[_0x2f63('0x1eb')][0x0][_0x1fad4b]!==undefined;var _0x3f961e=_0x35d49e['normal'][_0x2f63('0x38')]()>0x0;var _0x212604=_0x35d49e[_0x2f63('0xe4')][_0x2f63('0x38')]>0x0;var _0x536f03=0x0;_0x536f03=_0x5e6bae(_0x536f03,0x0,0x0);_0x536f03=_0x5e6bae(_0x536f03,0x1,_0xa09e2);_0x536f03=_0x5e6bae(_0x536f03,0x2,_0x35d47b);_0x536f03=_0x5e6bae(_0x536f03,0x3,_0x2ca6fa);_0x536f03=_0x5e6bae(_0x536f03,0x4,_0x3f961e);_0x536f03=_0x5e6bae(_0x536f03,0x5,_0x212604);_0x2d1250['push'](_0x536f03);_0x2d1250[_0x2f63('0x34')](_0x35d49e['a'],_0x35d49e['b'],_0x35d49e['c']);_0x2d1250[_0x2f63('0x34')](_0x35d49e[_0x2f63('0xe3')]);if(_0x2ca6fa){var _0x444293=this[_0x2f63('0x1eb')][0x0][_0x1fad4b];_0x2d1250[_0x2f63('0x34')](_0x3353bb(_0x444293[0x0]),_0x3353bb(_0x444293[0x1]),_0x3353bb(_0x444293[0x2]));}if(_0x3f961e){_0x2d1250[_0x2f63('0x34')](_0xdb058c(_0x35d49e[_0x2f63('0x27')]));}if(_0x212604){var _0x2605f5=_0x35d49e[_0x2f63('0xe4')];_0x2d1250[_0x2f63('0x34')](_0xdb058c(_0x2605f5[0x0]),_0xdb058c(_0x2605f5[0x1]),_0xdb058c(_0x2605f5[0x2]));}}function _0x5e6bae(_0x141166,_0x2d2559,_0x250cd7){return _0x250cd7?_0x141166|0x1<<_0x2d2559:_0x141166&~(0x1<<_0x2d2559);}function _0xdb058c(_0x5281da){var _0x185fee=_0x5281da['x'][_0x2f63('0x41')]()+_0x5281da['y'][_0x2f63('0x41')]()+_0x5281da['z'][_0x2f63('0x41')]();if(_0x5cf752[_0x185fee]!==undefined){return _0x5cf752[_0x185fee];}_0x5cf752[_0x185fee]=_0x5601d3[_0x2f63('0x38')]/0x3;_0x5601d3['push'](_0x5281da['x'],_0x5281da['y'],_0x5281da['z']);return _0x5cf752[_0x185fee];}function _0x3353bb(_0x40aeed){var _0x4a8a16=_0x40aeed['x'][_0x2f63('0x41')]()+_0x40aeed['y'][_0x2f63('0x41')]();if(_0x179bcd[_0x4a8a16]!==undefined){return _0x179bcd[_0x4a8a16];}_0x179bcd[_0x4a8a16]=_0x322ff9[_0x2f63('0x38')]/0x2;_0x322ff9[_0x2f63('0x34')](_0x40aeed['x'],_0x40aeed['y']);return _0x179bcd[_0x4a8a16];}_0x422479[_0x2f63('0x208')]={};_0x422479[_0x2f63('0x208')][_0x2f63('0xfb')]=_0x20e3b0;_0x422479[_0x2f63('0x208')]['normals']=_0x5601d3;if(_0x322ff9[_0x2f63('0x38')]>0x0)_0x422479['data'][_0x2f63('0x209')]=[_0x322ff9];_0x422479[_0x2f63('0x208')]['faces']=_0x2d1250;return _0x422479;},'clone':function clone(){return new _0x220e0c()['copy'](this);},'copy':function copy(_0x1295df){var _0x381541,_0x55f77f,_0x3d0386,_0x2ff068,_0x5f29da,_0x16bebc;this[_0x2f63('0xfb')]=[];this[_0x2f63('0x1ea')]=[];this[_0x2f63('0x1eb')]=[[]];this[_0x2f63('0x1ec')]=[];this[_0x2f63('0x1ed')]=[];this[_0x2f63('0x1ee')]=[];this['skinIndices']=[];this[_0x2f63('0x20a')]=[];this[_0x2f63('0x1f0')]=null;this[_0x2f63('0x1f1')]=null;this['name']=_0x1295df[_0x2f63('0x3c')];var _0x503e86=_0x1295df[_0x2f63('0xfb')];for(_0x381541=0x0,_0x55f77f=_0x503e86[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){this[_0x2f63('0xfb')][_0x2f63('0x34')](_0x503e86[_0x381541][_0x2f63('0x68')]());}var _0x27d8cd=_0x1295df[_0x2f63('0x1ea')];for(_0x381541=0x0,_0x55f77f=_0x27d8cd[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){this['faces']['push'](_0x27d8cd[_0x381541]['clone']());}for(_0x381541=0x0,_0x55f77f=_0x1295df['faceVertexUvs'][_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){var _0x1732fa=_0x1295df[_0x2f63('0x1eb')][_0x381541];if(this['faceVertexUvs'][_0x381541]===undefined){this['faceVertexUvs'][_0x381541]=[];}for(_0x3d0386=0x0,_0x2ff068=_0x1732fa['length'];_0x3d0386<_0x2ff068;_0x3d0386++){var _0x55a142=_0x1732fa[_0x3d0386];var _0x276803=[];for(_0x5f29da=0x0,_0x16bebc=_0x55a142[_0x2f63('0x38')];_0x5f29da<_0x16bebc;_0x5f29da++){var _0x58f540=_0x55a142[_0x5f29da];_0x276803[_0x2f63('0x34')](_0x58f540['clone']());}this[_0x2f63('0x1eb')][_0x381541][_0x2f63('0x34')](_0x276803);}}var _0x2f8be5=_0x1295df['morphTargets'];for(_0x381541=0x0,_0x55f77f=_0x2f8be5[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){var _0xe0bb58={};_0xe0bb58[_0x2f63('0x3c')]=_0x2f8be5[_0x381541][_0x2f63('0x3c')];if(_0x2f8be5[_0x381541][_0x2f63('0xfb')]!==undefined){_0xe0bb58['vertices']=[];for(_0x3d0386=0x0,_0x2ff068=_0x2f8be5[_0x381541]['vertices']['length'];_0x3d0386<_0x2ff068;_0x3d0386++){_0xe0bb58[_0x2f63('0xfb')][_0x2f63('0x34')](_0x2f8be5[_0x381541]['vertices'][_0x3d0386]['clone']());}}if(_0x2f8be5[_0x381541]['normals']!==undefined){_0xe0bb58[_0x2f63('0x20b')]=[];for(_0x3d0386=0x0,_0x2ff068=_0x2f8be5[_0x381541][_0x2f63('0x20b')][_0x2f63('0x38')];_0x3d0386<_0x2ff068;_0x3d0386++){_0xe0bb58[_0x2f63('0x20b')]['push'](_0x2f8be5[_0x381541][_0x2f63('0x20b')][_0x3d0386][_0x2f63('0x68')]());}}this['morphTargets'][_0x2f63('0x34')](_0xe0bb58);}var _0x126e4c=_0x1295df[_0x2f63('0x1ed')];for(_0x381541=0x0,_0x55f77f=_0x126e4c[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){var _0x133287={};if(_0x126e4c[_0x381541][_0x2f63('0xe4')]!==undefined){_0x133287[_0x2f63('0xe4')]=[];for(_0x3d0386=0x0,_0x2ff068=_0x126e4c[_0x381541][_0x2f63('0xe4')][_0x2f63('0x38')];_0x3d0386<_0x2ff068;_0x3d0386++){var _0x5895cf=_0x126e4c[_0x381541][_0x2f63('0xe4')][_0x3d0386];var _0xdb63e6={};_0xdb63e6['a']=_0x5895cf['a']['clone']();_0xdb63e6['b']=_0x5895cf['b']['clone']();_0xdb63e6['c']=_0x5895cf['c']['clone']();_0x133287[_0x2f63('0xe4')][_0x2f63('0x34')](_0xdb63e6);}}if(_0x126e4c[_0x381541]['faceNormals']!==undefined){_0x133287[_0x2f63('0x201')]=[];for(_0x3d0386=0x0,_0x2ff068=_0x126e4c[_0x381541]['faceNormals'][_0x2f63('0x38')];_0x3d0386<_0x2ff068;_0x3d0386++){_0x133287[_0x2f63('0x201')][_0x2f63('0x34')](_0x126e4c[_0x381541][_0x2f63('0x201')][_0x3d0386][_0x2f63('0x68')]());}}this[_0x2f63('0x1ed')][_0x2f63('0x34')](_0x133287);}var _0x2d627a=_0x1295df['skinWeights'];for(_0x381541=0x0,_0x55f77f=_0x2d627a[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){this[_0x2f63('0x1ee')][_0x2f63('0x34')](_0x2d627a[_0x381541][_0x2f63('0x68')]());}var _0x8d316=_0x1295df[_0x2f63('0x1ef')];for(_0x381541=0x0,_0x55f77f=_0x8d316['length'];_0x381541<_0x55f77f;_0x381541++){this[_0x2f63('0x1ef')][_0x2f63('0x34')](_0x8d316[_0x381541][_0x2f63('0x68')]());}var _0x4b50d6=_0x1295df['lineDistances'];for(_0x381541=0x0,_0x55f77f=_0x4b50d6[_0x2f63('0x38')];_0x381541<_0x55f77f;_0x381541++){this['lineDistances'][_0x2f63('0x34')](_0x4b50d6[_0x381541]);}var _0x5ec35b=_0x1295df['boundingBox'];if(_0x5ec35b!==null){this[_0x2f63('0x1f0')]=_0x5ec35b[_0x2f63('0x68')]();}var _0x31cc79=_0x1295df[_0x2f63('0x1f1')];if(_0x31cc79!==null){this[_0x2f63('0x1f1')]=_0x31cc79[_0x2f63('0x68')]();}this['elementsNeedUpdate']=_0x1295df[_0x2f63('0x1f2')];this['verticesNeedUpdate']=_0x1295df['verticesNeedUpdate'];this['uvsNeedUpdate']=_0x1295df['uvsNeedUpdate'];this['normalsNeedUpdate']=_0x1295df[_0x2f63('0x1f4')];this[_0x2f63('0x20c')]=_0x1295df['lineDistancesNeedUpdate'];this[_0x2f63('0x1f5')]=_0x1295df[_0x2f63('0x1f5')];return this;},'dispose':function dispose(){this[_0x2f63('0x131')]({'type':_0x2f63('0x20d')});}});var _0x354194=_0x5c64da(function(_0x4a1a84){function _0x23d558(_0x77afa){throw new TypeError('\x22'+_0x77afa+_0x2f63('0x20e'));}_0x4a1a84[_0x2f63('0x5')]=_0x23d558,_0x4a1a84[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x4a1a84[_0x2f63('0x5')][_0x2f63('0xc')]=_0x4a1a84['exports'];});var _0x379343=_0x16d737(_0x354194);function _0x43bf08(_0x46c4f7,_0x224512,_0x58472e,_0x58ae64){this['x']=_0x46c4f7||0x0;this['y']=_0x224512||0x0;this['z']=_0x58472e||0x0;this['w']=_0x58ae64!==undefined?_0x58ae64:0x1;}Object[_0x2f63('0xe2')](_0x43bf08[_0x2f63('0x9')],{'isVector4':!![],'set':function set(_0x28c5b4,_0x224512,_0x5e7d14,_0x58ae64){this['x']=_0x28c5b4;this['y']=_0x224512;this['z']=_0x5e7d14;this['w']=_0x58ae64;return this;},'setScalar':function setScalar(_0x3ab8b8){this['x']=_0x3ab8b8;this['y']=_0x3ab8b8;this['z']=_0x3ab8b8;this['w']=_0x3ab8b8;return this;},'setX':function setX(_0x2c5d73){this['x']=_0x2c5d73;return this;},'setY':function setY(_0x224512){this['y']=_0x224512;return this;},'setZ':function setZ(_0x1268ad){this['z']=_0x1268ad;return this;},'setW':function setW(_0x58ae64){this['w']=_0x58ae64;return this;},'setComponent':function setComponent(_0x2fab72,_0x5c0da4){switch(_0x2fab72){case 0x0:this['x']=_0x5c0da4;break;case 0x1:this['y']=_0x5c0da4;break;case 0x2:this['z']=_0x5c0da4;break;case 0x3:this['w']=_0x5c0da4;break;default:throw new Error('index\x20is\x20out\x20of\x20range:\x20'+_0x2fab72);}return this;},'getComponent':function getComponent(_0x3ea3e8){switch(_0x3ea3e8){case 0x0:return this['x'];case 0x1:return this['y'];case 0x2:return this['z'];case 0x3:return this['w'];default:throw new Error(_0x2f63('0xae')+_0x3ea3e8);}},'clone':function clone(){return new this['constructor'](this['x'],this['y'],this['z'],this['w']);},'copy':function copy(_0x203059){this['x']=_0x203059['x'];this['y']=_0x203059['y'];this['z']=_0x203059['z'];this['w']=_0x203059['w']!==undefined?_0x203059['w']:0x1;return this;},'add':function add(_0x382c5c,_0x58ae64){if(_0x58ae64!==undefined){console['warn'](_0x2f63('0x20f'));return this[_0x2f63('0xb2')](_0x382c5c,_0x58ae64);}this['x']+=_0x382c5c['x'];this['y']+=_0x382c5c['y'];this['z']+=_0x382c5c['z'];this['w']+=_0x382c5c['w'];return this;},'addScalar':function addScalar(_0x389309){this['x']+=_0x389309;this['y']+=_0x389309;this['z']+=_0x389309;this['w']+=_0x389309;return this;},'addVectors':function addVectors(_0x46b1f2,_0x2d3734){this['x']=_0x46b1f2['x']+_0x2d3734['x'];this['y']=_0x46b1f2['y']+_0x2d3734['y'];this['z']=_0x46b1f2['z']+_0x2d3734['z'];this['w']=_0x46b1f2['w']+_0x2d3734['w'];return this;},'addScaledVector':function addScaledVector(_0x4b9f93,_0x389309){this['x']+=_0x4b9f93['x']*_0x389309;this['y']+=_0x4b9f93['y']*_0x389309;this['z']+=_0x4b9f93['z']*_0x389309;this['w']+=_0x4b9f93['w']*_0x389309;return this;},'sub':function sub(_0x2f3ce3,_0x58ae64){if(_0x58ae64!==undefined){console[_0x2f63('0x77')](_0x2f63('0x210'));return this[_0x2f63('0x72')](_0x2f3ce3,_0x58ae64);}this['x']-=_0x2f3ce3['x'];this['y']-=_0x2f3ce3['y'];this['z']-=_0x2f3ce3['z'];this['w']-=_0x2f3ce3['w'];return this;},'subScalar':function subScalar(_0x389309){this['x']-=_0x389309;this['y']-=_0x389309;this['z']-=_0x389309;this['w']-=_0x389309;return this;},'subVectors':function subVectors(_0xd89744,_0x432662){this['x']=_0xd89744['x']-_0x432662['x'];this['y']=_0xd89744['y']-_0x432662['y'];this['z']=_0xd89744['z']-_0x432662['z'];this['w']=_0xd89744['w']-_0x432662['w'];return this;},'multiplyScalar':function multiplyScalar(_0x185c18){this['x']*=_0x185c18;this['y']*=_0x185c18;this['z']*=_0x185c18;this['w']*=_0x185c18;return this;},'applyMatrix4':function applyMatrix4(_0xf12a62){var _0x5263e7=this['x'];var _0x224512=this['y'];var _0x5ae84a=this['z'];var _0x58ae64=this['w'];var _0x2dd7a2=_0xf12a62[_0x2f63('0x65')];this['x']=_0x2dd7a2[0x0]*_0x5263e7+_0x2dd7a2[0x4]*_0x224512+_0x2dd7a2[0x8]*_0x5ae84a+_0x2dd7a2[0xc]*_0x58ae64;this['y']=_0x2dd7a2[0x1]*_0x5263e7+_0x2dd7a2[0x5]*_0x224512+_0x2dd7a2[0x9]*_0x5ae84a+_0x2dd7a2[0xd]*_0x58ae64;this['z']=_0x2dd7a2[0x2]*_0x5263e7+_0x2dd7a2[0x6]*_0x224512+_0x2dd7a2[0xa]*_0x5ae84a+_0x2dd7a2[0xe]*_0x58ae64;this['w']=_0x2dd7a2[0x3]*_0x5263e7+_0x2dd7a2[0x7]*_0x224512+_0x2dd7a2[0xb]*_0x5ae84a+_0x2dd7a2[0xf]*_0x58ae64;return this;},'divideScalar':function divideScalar(_0x3ed764){return this[_0x2f63('0x7b')](0x1/_0x3ed764);},'setAxisAngleFromQuaternion':function setAxisAngleFromQuaternion(_0x11ecae){this['w']=0x2*Math[_0x2f63('0xd4')](_0x11ecae['w']);var _0x389309=Math[_0x2f63('0x84')](0x1-_0x11ecae['w']*_0x11ecae['w']);if(_0x389309<0.0001){this['x']=0x1;this['y']=0x0;this['z']=0x0;}else{this['x']=_0x11ecae['x']/_0x389309;this['y']=_0x11ecae['y']/_0x389309;this['z']=_0x11ecae['z']/_0x389309;}return this;},'setAxisAngleFromRotationMatrix':function setAxisAngleFromRotationMatrix(_0xf12a62){var _0x382f43;var _0x215393;var _0x224512;var _0x52d0fe;var _0x299f17=0.01;var _0x224ef7=0.1;var _0x6f26c7=_0xf12a62[_0x2f63('0x65')];var _0x247086=_0x6f26c7[0x0];var _0x518bb8=_0x6f26c7[0x4];var _0x28fc3d=_0x6f26c7[0x8];var _0x4f35be=_0x6f26c7[0x1];var _0x33e698=_0x6f26c7[0x5];var _0x44bf2f=_0x6f26c7[0x9];var _0x47d5b1=_0x6f26c7[0x2];var _0x1bde3a=_0x6f26c7[0x6];var _0x40f1e0=_0x6f26c7[0xa];if(Math['abs'](_0x518bb8-_0x4f35be)<_0x299f17&&Math[_0x2f63('0x75')](_0x28fc3d-_0x47d5b1)<_0x299f17&&Math[_0x2f63('0x75')](_0x44bf2f-_0x1bde3a)<_0x299f17){if(Math[_0x2f63('0x75')](_0x518bb8+_0x4f35be)<_0x224ef7&&Math[_0x2f63('0x75')](_0x28fc3d+_0x47d5b1)<_0x224ef7&&Math[_0x2f63('0x75')](_0x44bf2f+_0x1bde3a)<_0x224ef7&&Math['abs'](_0x247086+_0x33e698+_0x40f1e0-0x3)<_0x224ef7){this[_0x2f63('0x67')](0x1,0x0,0x0,0x0);return this;}_0x382f43=Math['PI'];var _0x222409=(_0x247086+0x1)/0x2;var _0x314cdb=(_0x33e698+0x1)/0x2;var _0x45c75a=(_0x40f1e0+0x1)/0x2;var _0x4865de=(_0x518bb8+_0x4f35be)/0x4;var _0x56dedb=(_0x28fc3d+_0x47d5b1)/0x4;var _0x458640=(_0x44bf2f+_0x1bde3a)/0x4;if(_0x222409>_0x314cdb&&_0x222409>_0x45c75a){if(_0x222409<_0x299f17){_0x215393=0x0;_0x224512=0.707106781;_0x52d0fe=0.707106781;}else{_0x215393=Math[_0x2f63('0x84')](_0x222409);_0x224512=_0x4865de/_0x215393;_0x52d0fe=_0x56dedb/_0x215393;}}else if(_0x314cdb>_0x45c75a){if(_0x314cdb<_0x299f17){_0x215393=0.707106781;_0x224512=0x0;_0x52d0fe=0.707106781;}else{_0x224512=Math[_0x2f63('0x84')](_0x314cdb);_0x215393=_0x4865de/_0x224512;_0x52d0fe=_0x458640/_0x224512;}}else{if(_0x45c75a<_0x299f17){_0x215393=0.707106781;_0x224512=0.707106781;_0x52d0fe=0x0;}else{_0x52d0fe=Math[_0x2f63('0x84')](_0x45c75a);_0x215393=_0x56dedb/_0x52d0fe;_0x224512=_0x458640/_0x52d0fe;}}this[_0x2f63('0x67')](_0x215393,_0x224512,_0x52d0fe,_0x382f43);return this;}var _0x389309=Math['sqrt']((_0x1bde3a-_0x44bf2f)*(_0x1bde3a-_0x44bf2f)+(_0x28fc3d-_0x47d5b1)*(_0x28fc3d-_0x47d5b1)+(_0x4f35be-_0x518bb8)*(_0x4f35be-_0x518bb8));if(Math[_0x2f63('0x75')](_0x389309)<0.001)_0x389309=0x1;this['x']=(_0x1bde3a-_0x44bf2f)/_0x389309;this['y']=(_0x28fc3d-_0x47d5b1)/_0x389309;this['z']=(_0x4f35be-_0x518bb8)/_0x389309;this['w']=Math[_0x2f63('0xd4')]((_0x247086+_0x33e698+_0x40f1e0-0x1)/0x2);return this;},'min':function min(_0x47e6cb){this['x']=Math['min'](this['x'],_0x47e6cb['x']);this['y']=Math[_0x2f63('0x5e')](this['y'],_0x47e6cb['y']);this['z']=Math[_0x2f63('0x5e')](this['z'],_0x47e6cb['z']);this['w']=Math['min'](this['w'],_0x47e6cb['w']);return this;},'max':function max(_0x9f87bd){this['x']=Math['max'](this['x'],_0x9f87bd['x']);this['y']=Math[_0x2f63('0x5d')](this['y'],_0x9f87bd['y']);this['z']=Math[_0x2f63('0x5d')](this['z'],_0x9f87bd['z']);this['w']=Math[_0x2f63('0x5d')](this['w'],_0x9f87bd['w']);return this;},'clamp':function clamp(_0x4af9f4,_0x30f2ca){this['x']=Math[_0x2f63('0x5d')](_0x4af9f4['x'],Math['min'](_0x30f2ca['x'],this['x']));this['y']=Math[_0x2f63('0x5d')](_0x4af9f4['y'],Math[_0x2f63('0x5e')](_0x30f2ca['y'],this['y']));this['z']=Math[_0x2f63('0x5d')](_0x4af9f4['z'],Math[_0x2f63('0x5e')](_0x30f2ca['z'],this['z']));this['w']=Math['max'](_0x4af9f4['w'],Math['min'](_0x30f2ca['w'],this['w']));return this;},'clampScalar':function(){var _0x3eb984,_0x38617a;return function clampScalar(_0x591052,_0x49cf6d){if(_0x3eb984===undefined){_0x3eb984=new _0x43bf08();_0x38617a=new _0x43bf08();}_0x3eb984[_0x2f63('0x67')](_0x591052,_0x591052,_0x591052,_0x591052);_0x38617a['set'](_0x49cf6d,_0x49cf6d,_0x49cf6d,_0x49cf6d);return this['clamp'](_0x3eb984,_0x38617a);};}(),'clampLength':function clampLength(_0xb4bb1f,_0x5757d0){var _0x429e64=this['length']();return this['divideScalar'](_0x429e64||0x1)[_0x2f63('0x7b')](Math[_0x2f63('0x5d')](_0xb4bb1f,Math[_0x2f63('0x5e')](_0x5757d0,_0x429e64)));},'floor':function floor(){this['x']=Math['floor'](this['x']);this['y']=Math['floor'](this['y']);this['z']=Math[_0x2f63('0xc9')](this['z']);this['w']=Math[_0x2f63('0xc9')](this['w']);return this;},'ceil':function ceil(){this['x']=Math[_0x2f63('0x62')](this['x']);this['y']=Math[_0x2f63('0x62')](this['y']);this['z']=Math['ceil'](this['z']);this['w']=Math[_0x2f63('0x62')](this['w']);return this;},'round':function round(){this['x']=Math[_0x2f63('0xca')](this['x']);this['y']=Math[_0x2f63('0xca')](this['y']);this['z']=Math[_0x2f63('0xca')](this['z']);this['w']=Math[_0x2f63('0xca')](this['w']);return this;},'roundToZero':function roundToZero(){this['x']=this['x']<0x0?Math['ceil'](this['x']):Math[_0x2f63('0xc9')](this['x']);this['y']=this['y']<0x0?Math[_0x2f63('0x62')](this['y']):Math[_0x2f63('0xc9')](this['y']);this['z']=this['z']<0x0?Math[_0x2f63('0x62')](this['z']):Math['floor'](this['z']);this['w']=this['w']<0x0?Math['ceil'](this['w']):Math[_0x2f63('0xc9')](this['w']);return this;},'negate':function negate(){this['x']=-this['x'];this['y']=-this['y'];this['z']=-this['z'];this['w']=-this['w'];return this;},'dot':function dot(_0x33580a){return this['x']*_0x33580a['x']+this['y']*_0x33580a['y']+this['z']*_0x33580a['z']+this['w']*_0x33580a['w'];},'lengthSq':function lengthSq(){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];},'length':function length(){return Math[_0x2f63('0x84')](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);},'manhattanLength':function manhattanLength(){return Math[_0x2f63('0x75')](this['x'])+Math[_0x2f63('0x75')](this['y'])+Math[_0x2f63('0x75')](this['z'])+Math[_0x2f63('0x75')](this['w']);},'normalize':function normalize(){return this[_0x2f63('0xc8')](this[_0x2f63('0x38')]()||0x1);},'setLength':function setLength(_0x2b0c89){return this[_0x2f63('0x74')]()['multiplyScalar'](_0x2b0c89);},'lerp':function lerp(_0x2e7e93,_0x2b9ee1){this['x']+=(_0x2e7e93['x']-this['x'])*_0x2b9ee1;this['y']+=(_0x2e7e93['y']-this['y'])*_0x2b9ee1;this['z']+=(_0x2e7e93['z']-this['z'])*_0x2b9ee1;this['w']+=(_0x2e7e93['w']-this['w'])*_0x2b9ee1;return this;},'lerpVectors':function lerpVectors(_0x1d9fe2,_0x1c3872,_0x2052f1){return this['subVectors'](_0x1c3872,_0x1d9fe2)['multiplyScalar'](_0x2052f1)['add'](_0x1d9fe2);},'equals':function _0x49ccf3(_0x3265eb){return _0x3265eb['x']===this['x']&&_0x3265eb['y']===this['y']&&_0x3265eb['z']===this['z']&&_0x3265eb['w']===this['w'];},'fromArray':function fromArray(_0x294464,_0x51e23a){if(_0x51e23a===undefined)_0x51e23a=0x0;this['x']=_0x294464[_0x51e23a];this['y']=_0x294464[_0x51e23a+0x1];this['z']=_0x294464[_0x51e23a+0x2];this['w']=_0x294464[_0x51e23a+0x3];return this;},'toArray':function toArray(_0x5c9bef,_0x39e9e8){if(_0x5c9bef===undefined)_0x5c9bef=[];if(_0x39e9e8===undefined)_0x39e9e8=0x0;_0x5c9bef[_0x39e9e8]=this['x'];_0x5c9bef[_0x39e9e8+0x1]=this['y'];_0x5c9bef[_0x39e9e8+0x2]=this['z'];_0x5c9bef[_0x39e9e8+0x3]=this['w'];return _0x5c9bef;},'fromBufferAttribute':function fromBufferAttribute(_0xa609c9,_0x258e5f,_0x43b28d){if(_0x43b28d!==undefined){console[_0x2f63('0x77')](_0x2f63('0x211'));}this['x']=_0xa609c9['getX'](_0x258e5f);this['y']=_0xa609c9[_0x2f63('0x7e')](_0x258e5f);this['z']=_0xa609c9[_0x2f63('0xe1')](_0x258e5f);this['w']=_0xa609c9[_0x2f63('0x212')](_0x258e5f);return this;}});function _0x1d56f8(_0x53e288,_0x1cf0a8,_0x88d496){if(Array['isArray'](_0x53e288)){throw new TypeError(_0x2f63('0x213'));}this[_0x2f63('0x3c')]='';this[_0x2f63('0x1f9')]=_0x53e288;this[_0x2f63('0x214')]=_0x1cf0a8;this[_0x2f63('0x1fc')]=_0x53e288!==undefined?_0x53e288[_0x2f63('0x38')]/_0x1cf0a8:0x0;this[_0x2f63('0x215')]=_0x88d496===!![];this[_0x2f63('0x216')]=![];this[_0x2f63('0x217')]={'offset':0x0,'count':-0x1};this[_0x2f63('0x218')]=0x0;}Object[_0x2f63('0x5a')](_0x1d56f8[_0x2f63('0x9')],_0x2f63('0x219'),{'set':function set(_0x5ca255){if(_0x5ca255===!![])this[_0x2f63('0x218')]++;}});Object[_0x2f63('0xe2')](_0x1d56f8[_0x2f63('0x9')],{'isBufferAttribute':!![],'onUploadCallback':function onUploadCallback(){},'setArray':function setArray(_0x4d8283){if(Array[_0x2f63('0x147')](_0x4d8283)){throw new TypeError(_0x2f63('0x213'));}this[_0x2f63('0x1fc')]=_0x4d8283!==undefined?_0x4d8283[_0x2f63('0x38')]/this['itemSize']:0x0;this[_0x2f63('0x1f9')]=_0x4d8283;return this;},'setDynamic':function setDynamic(_0x33f97b){this['dynamic']=_0x33f97b;return this;},'copy':function copy(_0x40548a){this[_0x2f63('0x3c')]=_0x40548a[_0x2f63('0x3c')];this[_0x2f63('0x1f9')]=new _0x40548a[(_0x2f63('0x1f9'))][(_0x2f63('0x14'))](_0x40548a['array']);this[_0x2f63('0x214')]=_0x40548a[_0x2f63('0x214')];this[_0x2f63('0x1fc')]=_0x40548a[_0x2f63('0x1fc')];this[_0x2f63('0x215')]=_0x40548a[_0x2f63('0x215')];this[_0x2f63('0x216')]=_0x40548a[_0x2f63('0x216')];return this;},'copyAt':function copyAt(_0xdc0335,_0x262989,_0x281370){_0xdc0335*=this[_0x2f63('0x214')];_0x281370*=_0x262989[_0x2f63('0x214')];for(var _0x4564dc=0x0,_0x4c535d=this['itemSize'];_0x4564dc<_0x4c535d;_0x4564dc++){this['array'][_0xdc0335+_0x4564dc]=_0x262989[_0x2f63('0x1f9')][_0x281370+_0x4564dc];}return this;},'copyArray':function copyArray(_0x1be12a){this[_0x2f63('0x1f9')][_0x2f63('0x67')](_0x1be12a);return this;},'copyVector2sArray':function copyVector2sArray(_0xbc5cb0){var _0xba6dc4=this[_0x2f63('0x1f9')];var _0x3c195f=0x0;for(var _0x2cda25=0x0,_0x3818d3=_0xbc5cb0[_0x2f63('0x38')];_0x2cda25<_0x3818d3;_0x2cda25++){var _0x3ff57a=_0xbc5cb0[_0x2cda25];if(_0x3ff57a===undefined){console[_0x2f63('0x77')](_0x2f63('0x21a'),_0x2cda25);_0x3ff57a=new _0x2b6548();}_0xba6dc4[_0x3c195f++]=_0x3ff57a['x'];_0xba6dc4[_0x3c195f++]=_0x3ff57a['y'];}return this;},'copyVector3sArray':function copyVector3sArray(_0x2d63cb){var _0x37d0e4=this[_0x2f63('0x1f9')];var _0x17856d=0x0;for(var _0x5c14d7=0x0,_0x27d84b=_0x2d63cb[_0x2f63('0x38')];_0x5c14d7<_0x27d84b;_0x5c14d7++){var _0x1c321a=_0x2d63cb[_0x5c14d7];if(_0x1c321a===undefined){console[_0x2f63('0x77')](_0x2f63('0x21b'),_0x5c14d7);_0x1c321a=new _0x14b965();}_0x37d0e4[_0x17856d++]=_0x1c321a['x'];_0x37d0e4[_0x17856d++]=_0x1c321a['y'];_0x37d0e4[_0x17856d++]=_0x1c321a['z'];}return this;},'copyVector4sArray':function copyVector4sArray(_0x587cff){var _0xd273d8=this['array'];var _0xcf7a0d=0x0;for(var _0x5bda75=0x0,_0x11c181=_0x587cff['length'];_0x5bda75<_0x11c181;_0x5bda75++){var _0x36630e=_0x587cff[_0x5bda75];if(_0x36630e===undefined){console['warn'](_0x2f63('0x21c'),_0x5bda75);_0x36630e=new _0x43bf08();}_0xd273d8[_0xcf7a0d++]=_0x36630e['x'];_0xd273d8[_0xcf7a0d++]=_0x36630e['y'];_0xd273d8[_0xcf7a0d++]=_0x36630e['z'];_0xd273d8[_0xcf7a0d++]=_0x36630e['w'];}return this;},'set':function set(_0x35f7b3,_0x21c986){if(_0x21c986===undefined)_0x21c986=0x0;this[_0x2f63('0x1f9')]['set'](_0x35f7b3,_0x21c986);return this;},'getX':function getX(_0x23912f){return this[_0x2f63('0x1f9')][_0x23912f*this['itemSize']];},'setX':function setX(_0x5f5bec,_0x299396){this[_0x2f63('0x1f9')][_0x5f5bec*this[_0x2f63('0x214')]]=_0x299396;return this;},'getY':function getY(_0x1e2386){return this[_0x2f63('0x1f9')][_0x1e2386*this[_0x2f63('0x214')]+0x1];},'setY':function setY(_0x58cb45,_0x224512){this['array'][_0x58cb45*this[_0x2f63('0x214')]+0x1]=_0x224512;return this;},'getZ':function getZ(_0x132695){return this[_0x2f63('0x1f9')][_0x132695*this[_0x2f63('0x214')]+0x2];},'setZ':function setZ(_0x39b554,_0x2af145){this[_0x2f63('0x1f9')][_0x39b554*this['itemSize']+0x2]=_0x2af145;return this;},'getW':function getW(_0x195fee){return this[_0x2f63('0x1f9')][_0x195fee*this[_0x2f63('0x214')]+0x3];},'setW':function setW(_0x25d725,_0x58ae64){this[_0x2f63('0x1f9')][_0x25d725*this[_0x2f63('0x214')]+0x3]=_0x58ae64;return this;},'setXY':function setXY(_0x2bce9f,_0x25939e,_0x224512){_0x2bce9f*=this[_0x2f63('0x214')];this[_0x2f63('0x1f9')][_0x2bce9f+0x0]=_0x25939e;this[_0x2f63('0x1f9')][_0x2bce9f+0x1]=_0x224512;return this;},'setXYZ':function setXYZ(_0x18374b,_0x56ab07,_0x224512,_0x215ef8){_0x18374b*=this[_0x2f63('0x214')];this[_0x2f63('0x1f9')][_0x18374b+0x0]=_0x56ab07;this[_0x2f63('0x1f9')][_0x18374b+0x1]=_0x224512;this['array'][_0x18374b+0x2]=_0x215ef8;return this;},'setXYZW':function setXYZW(_0x1d0e44,_0x560cd9,_0x224512,_0x1c7811,_0x58ae64){_0x1d0e44*=this[_0x2f63('0x214')];this[_0x2f63('0x1f9')][_0x1d0e44+0x0]=_0x560cd9;this['array'][_0x1d0e44+0x1]=_0x224512;this[_0x2f63('0x1f9')][_0x1d0e44+0x2]=_0x1c7811;this[_0x2f63('0x1f9')][_0x1d0e44+0x3]=_0x58ae64;return this;},'onUpload':function onUpload(_0x2475a5){this[_0x2f63('0x21d')]=_0x2475a5;return this;},'clone':function clone(){return new this['constructor'](this[_0x2f63('0x1f9')],this[_0x2f63('0x214')])['copy'](this);}});function _0x12636d(_0x3ea5d0,_0x644443,_0x458e65){_0x1d56f8[_0x2f63('0xb')](this,new Int8Array(_0x3ea5d0),_0x644443,_0x458e65);}_0x12636d['prototype']=Object[_0x2f63('0x19')](_0x1d56f8['prototype']);_0x12636d[_0x2f63('0x9')][_0x2f63('0x14')]=_0x12636d;function _0x2f3280(_0x2eeee3,_0x4020df,_0x4661fa){_0x1d56f8[_0x2f63('0xb')](this,new Uint8Array(_0x2eeee3),_0x4020df,_0x4661fa);}_0x2f3280['prototype']=Object['create'](_0x1d56f8[_0x2f63('0x9')]);_0x2f3280[_0x2f63('0x9')][_0x2f63('0x14')]=_0x2f3280;function _0x580830(_0x14ed5a,_0x680200,_0x15033f){_0x1d56f8[_0x2f63('0xb')](this,new Uint8ClampedArray(_0x14ed5a),_0x680200,_0x15033f);}_0x580830[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x1d56f8[_0x2f63('0x9')]);_0x580830[_0x2f63('0x9')][_0x2f63('0x14')]=_0x580830;function _0x5a7955(_0x472666,_0xdabef3,_0x2befa4){_0x1d56f8[_0x2f63('0xb')](this,new Int16Array(_0x472666),_0xdabef3,_0x2befa4);}_0x5a7955[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x1d56f8[_0x2f63('0x9')]);_0x5a7955[_0x2f63('0x9')]['constructor']=_0x5a7955;function _0x17fb92(_0xaa06f5,_0x1a940c,_0x4d9a2a){_0x1d56f8['call'](this,new Uint16Array(_0xaa06f5),_0x1a940c,_0x4d9a2a);}_0x17fb92[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x1d56f8[_0x2f63('0x9')]);_0x17fb92[_0x2f63('0x9')][_0x2f63('0x14')]=_0x17fb92;function _0x705f1e(_0x1423bd,_0x164277,_0x4dd062){_0x1d56f8[_0x2f63('0xb')](this,new Int32Array(_0x1423bd),_0x164277,_0x4dd062);}_0x705f1e[_0x2f63('0x9')]=Object['create'](_0x1d56f8[_0x2f63('0x9')]);_0x705f1e['prototype'][_0x2f63('0x14')]=_0x705f1e;function _0x22cf30(_0x50e58b,_0xac7b73,_0x2c26b4){_0x1d56f8['call'](this,new Uint32Array(_0x50e58b),_0xac7b73,_0x2c26b4);}_0x22cf30[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x1d56f8[_0x2f63('0x9')]);_0x22cf30[_0x2f63('0x9')][_0x2f63('0x14')]=_0x22cf30;function _0x53159c(_0x57cded,_0x344b74,_0x1d76c8){_0x1d56f8[_0x2f63('0xb')](this,new Float32Array(_0x57cded),_0x344b74,_0x1d76c8);}_0x53159c['prototype']=Object['create'](_0x1d56f8['prototype']);_0x53159c['prototype'][_0x2f63('0x14')]=_0x53159c;function _0x3df74e(_0x22d912,_0x2f0b67,_0x337f07){_0x1d56f8[_0x2f63('0xb')](this,new Float64Array(_0x22d912),_0x2f0b67,_0x337f07);}_0x3df74e['prototype']=Object[_0x2f63('0x19')](_0x1d56f8['prototype']);_0x3df74e['prototype']['constructor']=_0x3df74e;function _0x11970a(){this[_0x2f63('0xfb')]=[];this['normals']=[];this[_0x2f63('0x209')]=[];this[_0x2f63('0x21e')]=[];this[_0x2f63('0x1fa')]=[];this[_0x2f63('0x1ec')]={};this[_0x2f63('0x1ee')]=[];this[_0x2f63('0x1ef')]=[];this['boundingBox']=null;this[_0x2f63('0x1f1')]=null;this[_0x2f63('0x1f3')]=![];this[_0x2f63('0x1f4')]=![];this[_0x2f63('0x21f')]=![];this[_0x2f63('0x1f5')]=![];}Object[_0x2f63('0xe2')](_0x11970a[_0x2f63('0x9')],{'computeGroups':function computeGroups(_0x40e2ad){var _0x5f1694;var _0x1ad245=[];var _0x381845=undefined;var _0x1ca2a1=_0x40e2ad[_0x2f63('0x1ea')];for(var _0x24aeb2=0x0;_0x24aeb2<_0x1ca2a1[_0x2f63('0x38')];_0x24aeb2++){var _0x284585=_0x1ca2a1[_0x24aeb2];if(_0x284585['materialIndex']!==_0x381845){_0x381845=_0x284585[_0x2f63('0xe3')];if(_0x5f1694!==undefined){_0x5f1694[_0x2f63('0x1fc')]=_0x24aeb2*0x3-_0x5f1694[_0x2f63('0x1fb')];_0x1ad245[_0x2f63('0x34')](_0x5f1694);}_0x5f1694={'start':_0x24aeb2*0x3,'materialIndex':_0x381845};}}if(_0x5f1694!==undefined){_0x5f1694[_0x2f63('0x1fc')]=_0x24aeb2*0x3-_0x5f1694['start'];_0x1ad245[_0x2f63('0x34')](_0x5f1694);}this[_0x2f63('0x1fa')]=_0x1ad245;},'fromGeometry':function fromGeometry(_0x1c5ab7){var _0x146167=_0x1c5ab7[_0x2f63('0x1ea')];var _0x1f65fb=_0x1c5ab7['vertices'];var _0x3f18b5=_0x1c5ab7[_0x2f63('0x1eb')];var _0xb332b=_0x3f18b5[0x0]&&_0x3f18b5[0x0][_0x2f63('0x38')]>0x0;var _0x1b0376=_0x3f18b5[0x1]&&_0x3f18b5[0x1][_0x2f63('0x38')]>0x0;var _0x3003a5=_0x1c5ab7[_0x2f63('0x1ec')];var _0xeffe1f=_0x3003a5[_0x2f63('0x38')];var _0x3e61dc;if(_0xeffe1f>0x0){_0x3e61dc=[];for(var _0x35d2f4=0x0;_0x35d2f4<_0xeffe1f;_0x35d2f4++){_0x3e61dc[_0x35d2f4]={'name':_0x3003a5[_0x35d2f4][_0x2f63('0x3c')],'data':[]};}this['morphTargets'][_0x2f63('0xff')]=_0x3e61dc;}var _0x54fa66=_0x1c5ab7[_0x2f63('0x1ed')];var _0x3d43d5=_0x54fa66[_0x2f63('0x38')];var _0x66fb2d;if(_0x3d43d5>0x0){_0x66fb2d=[];for(var _0x35d2f4=0x0;_0x35d2f4<_0x3d43d5;_0x35d2f4++){_0x66fb2d[_0x35d2f4]={'name':_0x54fa66[_0x35d2f4][_0x2f63('0x3c')],'data':[]};}this[_0x2f63('0x1ec')][_0x2f63('0x27')]=_0x66fb2d;}var _0x139476=_0x1c5ab7[_0x2f63('0x1ef')];var _0x1337d4=_0x1c5ab7[_0x2f63('0x1ee')];var _0x3f39e8=_0x139476[_0x2f63('0x38')]===_0x1f65fb[_0x2f63('0x38')];var _0x4b052f=_0x1337d4[_0x2f63('0x38')]===_0x1f65fb['length'];if(_0x1f65fb['length']>0x0&&_0x146167['length']===0x0){console[_0x2f63('0xbb')](_0x2f63('0x220'));}for(var _0x35d2f4=0x0;_0x35d2f4<_0x146167[_0x2f63('0x38')];_0x35d2f4++){var _0xee493a=_0x146167[_0x35d2f4];this[_0x2f63('0xfb')]['push'](_0x1f65fb[_0xee493a['a']],_0x1f65fb[_0xee493a['b']],_0x1f65fb[_0xee493a['c']]);var _0x1ac1f3=_0xee493a[_0x2f63('0xe4')];if(_0x1ac1f3[_0x2f63('0x38')]===0x3){this[_0x2f63('0x20b')][_0x2f63('0x34')](_0x1ac1f3[0x0],_0x1ac1f3[0x1],_0x1ac1f3[0x2]);}else{var _0x400470=_0xee493a[_0x2f63('0x27')];this[_0x2f63('0x20b')][_0x2f63('0x34')](_0x400470,_0x400470,_0x400470);}if(_0xb332b===!![]){var _0x1fbe93=_0x3f18b5[0x0][_0x35d2f4];if(_0x1fbe93!==undefined){this[_0x2f63('0x209')][_0x2f63('0x34')](_0x1fbe93[0x0],_0x1fbe93[0x1],_0x1fbe93[0x2]);}else{console[_0x2f63('0x77')](_0x2f63('0x221'),_0x35d2f4);this['uvs'][_0x2f63('0x34')](new _0x2b6548(),new _0x2b6548(),new _0x2b6548());}}if(_0x1b0376===!![]){var _0x1fbe93=_0x3f18b5[0x1][_0x35d2f4];if(_0x1fbe93!==undefined){this['uvs2'][_0x2f63('0x34')](_0x1fbe93[0x0],_0x1fbe93[0x1],_0x1fbe93[0x2]);}else{console[_0x2f63('0x77')](_0x2f63('0x222'),_0x35d2f4);this[_0x2f63('0x21e')]['push'](new _0x2b6548(),new _0x2b6548(),new _0x2b6548());}}for(var _0x3b9b96=0x0;_0x3b9b96<_0xeffe1f;_0x3b9b96++){var _0x10de8c=_0x3003a5[_0x3b9b96][_0x2f63('0xfb')];_0x3e61dc[_0x3b9b96][_0x2f63('0x208')][_0x2f63('0x34')](_0x10de8c[_0xee493a['a']],_0x10de8c[_0xee493a['b']],_0x10de8c[_0xee493a['c']]);}for(var _0x3b9b96=0x0;_0x3b9b96<_0x3d43d5;_0x3b9b96++){var _0x5acf25=_0x54fa66[_0x3b9b96]['vertexNormals'][_0x35d2f4];_0x66fb2d[_0x3b9b96][_0x2f63('0x208')][_0x2f63('0x34')](_0x5acf25['a'],_0x5acf25['b'],_0x5acf25['c']);}if(_0x3f39e8){this[_0x2f63('0x1ef')][_0x2f63('0x34')](_0x139476[_0xee493a['a']],_0x139476[_0xee493a['b']],_0x139476[_0xee493a['c']]);}if(_0x4b052f){this[_0x2f63('0x1ee')][_0x2f63('0x34')](_0x1337d4[_0xee493a['a']],_0x1337d4[_0xee493a['b']],_0x1337d4[_0xee493a['c']]);}}this[_0x2f63('0x223')](_0x1c5ab7);this[_0x2f63('0x1f3')]=_0x1c5ab7[_0x2f63('0x1f3')];this['normalsNeedUpdate']=_0x1c5ab7[_0x2f63('0x1f4')];this['uvsNeedUpdate']=_0x1c5ab7['uvsNeedUpdate'];this[_0x2f63('0x1f5')]=_0x1c5ab7[_0x2f63('0x1f5')];return this;}});function _0xfdfa14(_0xf42ca6){if(_0xf42ca6[_0x2f63('0x38')]===0x0)return-Infinity;var _0x1b6dbd=_0xf42ca6[0x0];for(var _0x1d1db1=0x1,_0x4cd11a=_0xf42ca6[_0x2f63('0x38')];_0x1d1db1<_0x4cd11a;++_0x1d1db1){if(_0xf42ca6[_0x1d1db1]>_0x1b6dbd)_0x1b6dbd=_0xf42ca6[_0x1d1db1];}return _0x1b6dbd;}var _0x8ec376=0x1;function _0x4b14f2(){Object[_0x2f63('0x5a')](this,'id',{'value':_0x8ec376+=0x2});this[_0x2f63('0x13e')]=_0x252c11['generateUUID']();this[_0x2f63('0x3c')]='';this[_0x2f63('0x28')]=_0x2f63('0x224');this[_0x2f63('0x1f8')]=null;this[_0x2f63('0xfe')]={};this[_0x2f63('0x225')]={};this['groups']=[];this[_0x2f63('0x1f0')]=null;this[_0x2f63('0x1f1')]=null;this[_0x2f63('0x226')]={'start':0x0,'count':Infinity};this['userData']={};this[_0x2f63('0x227')]=[];this['charCenterArray']=[];this[_0x2f63('0x228')]=[];this['charVertexCountArray']=[];this[_0x2f63('0x229')]=[];}_0x4b14f2['prototype']=Object['assign'](Object[_0x2f63('0x19')](_0x4f981e['prototype']),{'constructor':_0x4b14f2,'isBufferGeometry':!![],'getIndex':function getIndex(){return this[_0x2f63('0x1f8')];},'setIndex':function setIndex(_0x1253a5){if(Array['isArray'](_0x1253a5)){this['index']=new((_0xfdfa14(_0x1253a5))>0xffff?_0x22cf30:_0x17fb92)(_0x1253a5,0x1);}else{this[_0x2f63('0x1f8')]=_0x1253a5;}},'setIndexYunyang':function setIndexYunyang(_0x541bc3){if(Array['isArray'](_0x541bc3)){this['index']=new _0x22cf30(_0x541bc3,0x1);}else{this[_0x2f63('0x1f8')]=_0x541bc3;}},'addAttribute':function addAttribute(_0xf5376d,_0x355dcf){if(!(_0x355dcf&&_0x355dcf[_0x2f63('0x22a')])&&!(_0x355dcf&&_0x355dcf[_0x2f63('0x22b')])){console[_0x2f63('0x77')](_0x2f63('0x22c'));return this[_0x2f63('0x22d')](_0xf5376d,new _0x1d56f8(arguments[0x1],arguments[0x2]));}if(_0xf5376d===_0x2f63('0x1f8')){console[_0x2f63('0x77')](_0x2f63('0x22e'));this[_0x2f63('0x22f')](_0x355dcf);return this;}this['attributes'][_0xf5376d]=_0x355dcf;return this;},'getAttribute':function getAttribute(_0x1a1806){return this['attributes'][_0x1a1806];},'removeAttribute':function removeAttribute(_0x103d40){delete this['attributes'][_0x103d40];return this;},'addGroup':function addGroup(_0x47ccd5,_0x2aae6e,_0x48fb05){this[_0x2f63('0x1fa')]['push']({'start':_0x47ccd5,'count':_0x2aae6e,'materialIndex':_0x48fb05!==undefined?_0x48fb05:0x0});},'clearGroups':function clearGroups(){this[_0x2f63('0x1fa')]=[];},'setDrawRange':function setDrawRange(_0x476127,_0x4a7d15){this[_0x2f63('0x226')][_0x2f63('0x1fb')]=_0x476127;this[_0x2f63('0x226')][_0x2f63('0x1fc')]=_0x4a7d15;},'applyMatrix':function applyMatrix(_0x40dd94){var _0x54088d=this[_0x2f63('0xfe')][_0x2f63('0xff')];if(_0x54088d!==undefined){_0x40dd94['applyToBufferAttribute'](_0x54088d);_0x54088d['needsUpdate']=!![];}var _0x25ab69=this[_0x2f63('0xfe')][_0x2f63('0x27')];if(_0x25ab69!==undefined){var _0x368c41=new _0x849ca1()[_0x2f63('0xea')](_0x40dd94);_0x368c41[_0x2f63('0x7c')](_0x25ab69);_0x25ab69[_0x2f63('0x219')]=!![];}if(this['boundingBox']!==null){this[_0x2f63('0x1f6')]();}if(this[_0x2f63('0x1f1')]!==null){this[_0x2f63('0x1f7')]();}return this;},'translate':function(){var _0xb5b338=new _0x367199();return function translate(_0x65c4fa,_0x224512,_0x46dd83){_0xb5b338[_0x2f63('0x85')](_0x65c4fa,_0x224512,_0x46dd83);this[_0x2f63('0x1fe')](_0xb5b338);return this;};}(),'scale':function(){var _0x592fdf=new _0x367199();return function scale(_0x2399ae,_0x224512,_0x465cd2){_0x592fdf[_0x2f63('0x89')](_0x2399ae,_0x224512,_0x465cd2);this['applyMatrix'](_0x592fdf);return this;};}(),'center':function(){var _0x5a631b=new _0x14b965();return function center(){this[_0x2f63('0x1f6')]();this[_0x2f63('0x1f0')][_0x2f63('0xf6')](_0x5a631b)['negate']();this[_0x2f63('0xec')](_0x5a631b['x'],_0x5a631b['y'],_0x5a631b['z']);return this;};}(),'setFromObject':function setFromObject(_0x48214c){var _0x63e8a4=_0x48214c[_0x2f63('0xf9')];if(_0x48214c[_0x2f63('0x144')]||_0x48214c[_0x2f63('0x143')]){var _0x20690c=new _0x53159c(_0x63e8a4[_0x2f63('0xfb')][_0x2f63('0x38')]*0x3,0x3);this[_0x2f63('0x22d')](_0x2f63('0xff'),_0x20690c[_0x2f63('0x230')](_0x63e8a4['vertices']));if(_0x63e8a4['lineDistances']&&_0x63e8a4[_0x2f63('0x20a')][_0x2f63('0x38')]===_0x63e8a4[_0x2f63('0xfb')][_0x2f63('0x38')]){var _0xcbf356=new _0x53159c(_0x63e8a4['lineDistances']['length'],0x1);this[_0x2f63('0x22d')](_0x2f63('0x231'),_0xcbf356['copyArray'](_0x63e8a4[_0x2f63('0x20a')]));}if(_0x63e8a4[_0x2f63('0x1f1')]!==null){this[_0x2f63('0x1f1')]=_0x63e8a4[_0x2f63('0x1f1')][_0x2f63('0x68')]();}if(_0x63e8a4[_0x2f63('0x1f0')]!==null){this[_0x2f63('0x1f0')]=_0x63e8a4[_0x2f63('0x1f0')]['clone']();}}else if(_0x48214c['isMesh']){if(_0x63e8a4&&_0x63e8a4[_0x2f63('0xfa')]){this[_0x2f63('0x232')](_0x63e8a4);}}return this;},'setFromPoints':function setFromPoints(_0xfc72a2){var _0x68d95c=[];for(var _0x4fa415=0x0,_0x44011c=_0xfc72a2[_0x2f63('0x38')];_0x4fa415<_0x44011c;_0x4fa415++){var _0x3abaf9=_0xfc72a2[_0x4fa415];_0x68d95c['push'](_0x3abaf9['x'],_0x3abaf9['y'],_0x3abaf9['z']||0x0);}this[_0x2f63('0x22d')](_0x2f63('0xff'),new _0x53159c(_0x68d95c,0x3));return this;},'fromGeometry':function fromGeometry(_0x3f8b08){_0x3f8b08[_0x2f63('0x233')]=new _0x11970a()[_0x2f63('0x232')](_0x3f8b08);return this[_0x2f63('0x234')](_0x3f8b08[_0x2f63('0x233')]);},'computeBoundingBox':function computeBoundingBox(){if(!this[_0x2f63('0x1f0')]){this[_0x2f63('0x1f0')]=new _0x5f39d5();}var _0x54b69f=this[_0x2f63('0xfe')]['position'];if(_0x54b69f!==undefined){this[_0x2f63('0x1f0')][_0x2f63('0xee')](_0x54b69f);}else{this[_0x2f63('0x1f0')][_0x2f63('0xf0')]();}if(isNaN(this[_0x2f63('0x1f0')][_0x2f63('0x5e')]['x'])||isNaN(this['boundingBox'][_0x2f63('0x5e')]['y'])||isNaN(this[_0x2f63('0x1f0')][_0x2f63('0x5e')]['z'])){console[_0x2f63('0xbb')](_0x2f63('0x235'),this);}},'computeFaceNormals':function computeFaceNormals(){},'computeVertexNormals':function computeVertexNormals(){var _0x42dafe=this[_0x2f63('0x1f8')];var _0x3f95e4=this[_0x2f63('0xfe')];if(_0x3f95e4[_0x2f63('0xff')]){var _0x424e06=_0x3f95e4['position'][_0x2f63('0x1f9')];if(_0x3f95e4[_0x2f63('0x27')]===undefined){this[_0x2f63('0x22d')]('normal',new _0x1d56f8(new Float32Array(_0x424e06[_0x2f63('0x38')]),0x3));}else{var _0x2fb99e=_0x3f95e4['normal'][_0x2f63('0x1f9')];for(var _0x21897b=0x0,_0x189462=_0x2fb99e[_0x2f63('0x38')];_0x21897b<_0x189462;_0x21897b++){_0x2fb99e[_0x21897b]=0x0;}}var _0x1ef730=_0x3f95e4[_0x2f63('0x27')][_0x2f63('0x1f9')];var _0x5936d3,_0x10ecf4,_0x260e54;var _0x2b9442=new _0x14b965();var _0x3f7ec8=new _0x14b965();var _0x5a3340=new _0x14b965();var _0x4a4b79=new _0x14b965();var _0x74aa30=new _0x14b965();if(_0x42dafe){var _0x24bcb5=_0x42dafe[_0x2f63('0x1f9')];for(var _0x3f4c6a=0x0,_0x2e5d2b=_0x42dafe['count'];_0x3f4c6a<_0x2e5d2b;_0x3f4c6a+=0x3){_0x5936d3=_0x24bcb5[_0x3f4c6a+0x0]*0x3;_0x10ecf4=_0x24bcb5[_0x3f4c6a+0x1]*0x3;_0x260e54=_0x24bcb5[_0x3f4c6a+0x2]*0x3;_0x2b9442[_0x2f63('0x69')](_0x424e06,_0x5936d3);_0x3f7ec8[_0x2f63('0x69')](_0x424e06,_0x10ecf4);_0x5a3340[_0x2f63('0x69')](_0x424e06,_0x260e54);_0x4a4b79['subVectors'](_0x5a3340,_0x3f7ec8);_0x74aa30[_0x2f63('0x72')](_0x2b9442,_0x3f7ec8);_0x4a4b79[_0x2f63('0xd0')](_0x74aa30);_0x1ef730[_0x5936d3]+=_0x4a4b79['x'];_0x1ef730[_0x5936d3+0x1]+=_0x4a4b79['y'];_0x1ef730[_0x5936d3+0x2]+=_0x4a4b79['z'];_0x1ef730[_0x10ecf4]+=_0x4a4b79['x'];_0x1ef730[_0x10ecf4+0x1]+=_0x4a4b79['y'];_0x1ef730[_0x10ecf4+0x2]+=_0x4a4b79['z'];_0x1ef730[_0x260e54]+=_0x4a4b79['x'];_0x1ef730[_0x260e54+0x1]+=_0x4a4b79['y'];_0x1ef730[_0x260e54+0x2]+=_0x4a4b79['z'];}}else{for(var _0x8afbb0=0x0,_0x2b7f66=_0x424e06['length'];_0x8afbb0<_0x2b7f66;_0x8afbb0+=0x9){_0x2b9442[_0x2f63('0x69')](_0x424e06,_0x8afbb0);_0x3f7ec8[_0x2f63('0x69')](_0x424e06,_0x8afbb0+0x3);_0x5a3340[_0x2f63('0x69')](_0x424e06,_0x8afbb0+0x6);_0x4a4b79[_0x2f63('0x72')](_0x5a3340,_0x3f7ec8);_0x74aa30['subVectors'](_0x2b9442,_0x3f7ec8);_0x4a4b79['cross'](_0x74aa30);_0x1ef730[_0x8afbb0]=_0x4a4b79['x'];_0x1ef730[_0x8afbb0+0x1]=_0x4a4b79['y'];_0x1ef730[_0x8afbb0+0x2]=_0x4a4b79['z'];_0x1ef730[_0x8afbb0+0x3]=_0x4a4b79['x'];_0x1ef730[_0x8afbb0+0x4]=_0x4a4b79['y'];_0x1ef730[_0x8afbb0+0x5]=_0x4a4b79['z'];_0x1ef730[_0x8afbb0+0x6]=_0x4a4b79['x'];_0x1ef730[_0x8afbb0+0x7]=_0x4a4b79['y'];_0x1ef730[_0x8afbb0+0x8]=_0x4a4b79['z'];}}this[_0x2f63('0x236')]();_0x3f95e4['normal']['needsUpdate']=!![];}},'computeVertexNormals4TextgeometryYunyang':function computeVertexNormals4TextgeometryYunyang(_0x180572){var _0xd9428f=this['attributes'];if(_0xd9428f[_0x2f63('0xff')]){var _0x3b7ddf=_0xd9428f[_0x2f63('0xff')][_0x2f63('0x1f9')];if(_0xd9428f[_0x2f63('0x27')]===undefined){this['addAttribute'](_0x2f63('0x27'),new _0x1d56f8(new Float32Array(_0x3b7ddf[_0x2f63('0x38')]),0x3));}else{var _0x598f22=_0xd9428f['normal'][_0x2f63('0x1f9')];for(var _0x55e2c3=0x0,_0xbf28dc=_0x598f22['length'];_0x55e2c3<_0xbf28dc;_0x55e2c3++){_0x598f22[_0x55e2c3]=0x0;}}var _0x256fc3=_0xd9428f[_0x2f63('0x27')][_0x2f63('0x1f9')];var _0x397f90={};var _0x170a64={};var _0x12c59a={};var _0x5b37de=new _0x14b965();var _0x33af58=[];for(var _0x2aca7d=0x0,_0x48703f=_0x3b7ddf['length'];_0x2aca7d<_0x48703f;_0x2aca7d+=0x3){_0x5b37de['fromArray'](_0x3b7ddf,_0x2aca7d);var _0x87c73c=_0x2aca7d/0x3;var _0x251f15=-0x1;for(var _0x35e23f=0x0;_0x35e23f<this['groups'][_0x2f63('0x38')];_0x35e23f++){if(_0x87c73c>=this[_0x2f63('0x1fa')][_0x35e23f][_0x2f63('0x1fb')]&&_0x87c73c<=this[_0x2f63('0x1fa')][_0x35e23f]['start']+this['groups'][_0x35e23f][_0x2f63('0x1fc')]-0x1){_0x251f15=this[_0x2f63('0x1fa')][_0x35e23f][_0x2f63('0xe3')];break;}}if(_0x251f15===-0x1){console[_0x2f63('0x64')](_0x2f63('0x237'));}if(_0x251f15===0x2)_0x251f15=0x1;_0x33af58['push'](_0x251f15);var _0x24ce02=''+Math['floor'](_0x5b37de['x']*0x2710)+Math['floor'](_0x5b37de['y']*0x2710)+Math['floor'](_0x5b37de['z']*0x2710)+_0x251f15;_0x170a64[_0x87c73c]=_0x24ce02;if(!_0x12c59a[_0x24ce02]){_0x12c59a[_0x24ce02]=[];}_0x12c59a[_0x24ce02]['push'](_0x87c73c);}var _0x186235=new _0x14b965();var _0x4662e1=new _0x14b965();for(var _0x37682b=0x0,_0x42e4d9=_0x3b7ddf['length'];_0x37682b<_0x42e4d9;_0x37682b+=0x9){var _0x4fb50e=new _0x14b965();var _0x1ddc3d=new _0x14b965();_0x5b37de[_0x2f63('0x69')](_0x3b7ddf,_0x37682b);_0x186235['fromArray'](_0x3b7ddf,_0x37682b+0x3);_0x4662e1[_0x2f63('0x69')](_0x3b7ddf,_0x37682b+0x6);_0x4fb50e[_0x2f63('0x72')](_0x4662e1,_0x186235);_0x1ddc3d[_0x2f63('0x72')](_0x5b37de,_0x186235);_0x4fb50e['cross'](_0x1ddc3d);_0x4fb50e[_0x2f63('0x74')]();var _0x21387f=~~(_0x37682b/0x9);_0x397f90[_0x21387f]=_0x4fb50e;}var _0x244291=0xb4/Math['PI'];for(var _0x3bdeff=0x0,_0x30371c=_0x3b7ddf['length'];_0x3bdeff<_0x30371c;_0x3bdeff+=0x3){var _0x1c135c=_0x3bdeff/0x3;var _0x24eacc=_0x170a64[_0x1c135c];var _0x40b185=parseInt(_0x1c135c/0x3);var _0xf9625c=_0x397f90[_0x40b185];var _0x30bac9=new _0x14b965(0x0,0x0,0x0);var _0x42b833=_0x12c59a[_0x24eacc];for(var _0xf12a62=0x0;_0xf12a62<_0x42b833[_0x2f63('0x38')];_0xf12a62++){var _0x42c531=parseInt(_0x42b833[_0xf12a62]/0x3);var _0x1e56b8=_0x397f90[_0x42c531];var _0x2c5c7f=_0xf9625c[_0x2f63('0x9f')](_0x1e56b8)*_0x244291;if(_0x2c5c7f<_0x180572){_0x30bac9['add'](_0x1e56b8);}}_0x30bac9[_0x2f63('0x74')]();_0x256fc3[_0x3bdeff]=_0x30bac9['x'];_0x256fc3[_0x3bdeff+0x1]=_0x30bac9['y'];_0x256fc3[_0x3bdeff+0x2]=_0x30bac9['z'];}_0xd9428f[_0x2f63('0x27')][_0x2f63('0x219')]=!![];}},'perCharCalculation':function perCharCalculation(){var _0x2a09bb=this[_0x2f63('0xfe')];var _0x4c9800=_0x2a09bb['position']['array'];var _0x28d115=parseInt(_0x4c9800[_0x2f63('0x38')]/0x3);if(this[_0x2f63('0x1f0')]===null){this['computeBoundingBox']();}var _0x5b6825=new _0x14b965();this[_0x2f63('0x1f0')][_0x2f63('0xf6')](_0x5b6825);var _0x434477=this[_0x2f63('0x1f0')][_0x2f63('0x5e')]['x'];var _0xbcf111=this[_0x2f63('0x1f0')]['max']['x'];for(var _0x22c5da=0x0;_0x22c5da<_0x28d115;_0x22c5da++){var _0x1c128b=this['charVertexFlagArray'][_0x22c5da];if(this[_0x2f63('0x229')][_0x1c128b]===undefined){this[_0x2f63('0x229')][_0x1c128b]=new _0x5f39d5();}if(this[_0x2f63('0x238')][_0x1c128b]===undefined){this[_0x2f63('0x238')][_0x1c128b]=new _0x14b965();}var _0x2dc811=new _0x14b965();_0x2dc811[_0x2f63('0x69')](_0x4c9800,_0x22c5da*0x3);this[_0x2f63('0x229')][_0x1c128b]['expandByPoint'](_0x2dc811);if(this[_0x2f63('0x239')][_0x1c128b]===undefined){this[_0x2f63('0x239')][_0x1c128b]=0x0;}this[_0x2f63('0x239')][_0x1c128b]=this[_0x2f63('0x239')][_0x1c128b]+0x1;}for(var _0x6748b0=0x0;_0x6748b0<this[_0x2f63('0x239')][_0x2f63('0x38')];_0x6748b0++){var _0x2e9c47=_0x6748b0;this[_0x2f63('0x229')][_0x2e9c47][_0x2f63('0xf6')](this[_0x2f63('0x238')][_0x2e9c47]);this[_0x2f63('0x228')][_0x2f63('0x34')]((this[_0x2f63('0x238')][_0x2e9c47]['x']-_0x434477)/(_0xbcf111-_0x434477));}},'mergeSameVertex':function mergeSameVertex(){_0x3a2596[_0x2f63('0x23a')](_0x2f63('0x23b'));var _0x38772e=this[_0x2f63('0xfe')];var _0x11089a=_0x38772e['position'][_0x2f63('0x1f9')];var _0x3d01bb=_0x38772e[_0x2f63('0x27')][_0x2f63('0x1f9')];var _0x15bc84=_0x38772e['uv'][_0x2f63('0x1f9')];_0x3a2596[_0x2f63('0x64')]('before\x20merge\x20the\x20vertex\x20number\x20is\x20'+_0x11089a[_0x2f63('0x38')]);var _0x2e2813=parseInt(_0x11089a[_0x2f63('0x38')]/0x3);var _0x5912a1={};var _0x4d2412=[];var _0x31baed=[];var _0x4e0986=[];var _0x2b1980=[];var _0x53f6c9=[];var _0x259b45=0x0;for(var _0x12ae0a=0x0;_0x12ae0a<_0x2e2813;_0x12ae0a++){var _0xd745b5=new _0x14b965();var _0x5aa599=new _0x14b965();var _0x531145=new _0x2b6548();var _0x1f08e5=this[_0x2f63('0x227')][_0x12ae0a];_0xd745b5[_0x2f63('0x69')](_0x11089a,_0x12ae0a*0x3);_0x5aa599['fromArray'](_0x3d01bb,_0x12ae0a*0x3);_0x531145[_0x2f63('0x69')](_0x15bc84,_0x12ae0a*0x2);var _0x507dc8=0x1;for(var _0x2faa93=0x0;_0x2faa93<this[_0x2f63('0x1fa')][_0x2f63('0x38')];_0x2faa93=_0x2faa93+0x2){if(_0x12ae0a>=this['groups'][_0x2faa93]['start']&&_0x12ae0a<=this[_0x2f63('0x1fa')][_0x2faa93][_0x2f63('0x1fb')]+this[_0x2f63('0x1fa')][_0x2faa93]['count']-0x1){_0x507dc8=0x0;break;}}var _0x2a96a8=''+Math['floor'](_0xd745b5['x']*0x2710)+Math['floor'](_0xd745b5['y']*0x2710)+Math[_0x2f63('0xc9')](_0xd745b5['z']*0x2710)+Math[_0x2f63('0xc9')](_0x5aa599['x']*0x2710)+Math[_0x2f63('0xc9')](_0x5aa599['y']*0x2710)+Math[_0x2f63('0xc9')](_0x5aa599['z']*0x2710)+Math[_0x2f63('0xc9')](_0x531145['x']*0x2710)+Math[_0x2f63('0xc9')](_0x531145['y']*0x2710)+_0x507dc8;if(!_0x5912a1[_0x2a96a8]){_0x5912a1[_0x2a96a8]=_0x259b45;_0x31baed[_0x2f63('0x34')](_0xd745b5);_0x4e0986['push'](_0x5aa599);_0x2b1980[_0x2f63('0x34')](_0x531145);_0x4d2412['push'](_0x259b45);_0x259b45++;_0x53f6c9[_0x2f63('0x34')](_0x1f08e5);}else{_0x4d2412[_0x2f63('0x34')](_0x5912a1[_0x2a96a8]);}}var _0x74e712=new _0x53159c(new Float32Array(_0x31baed[_0x2f63('0x38')]*0x3),0x3);_0x74e712[_0x2f63('0x230')](_0x31baed);var _0x49853f=new _0x53159c(new Float32Array(_0x31baed['length']*0x3),0x3);_0x49853f[_0x2f63('0x230')](_0x4e0986);var _0xf2ead6=new _0x53159c(new Float32Array(_0x2b1980[_0x2f63('0x38')]*0x2),0x2);_0xf2ead6['copyVector2sArray'](_0x2b1980);this[_0x2f63('0x23c')](_0x4d2412);_0x38772e[_0x2f63('0xff')][_0x2f63('0x6a')](_0x74e712);_0x38772e[_0x2f63('0x27')]['copy'](_0x49853f);_0x38772e['uv'][_0x2f63('0x6a')](_0xf2ead6);_0x38772e[_0x2f63('0xff')][_0x2f63('0x219')]=!![];_0x38772e[_0x2f63('0x27')][_0x2f63('0x219')]=!![];_0x38772e['uv'][_0x2f63('0x219')]=!![];this['charVertexFlagArray']=_0x53f6c9;_0x3a2596[_0x2f63('0x64')](_0x2f63('0x23d')+_0x31baed['length']);_0x3a2596['timeEnd'](_0x2f63('0x23b'));},'merge':function merge(_0xaac447,_0x44d178){if(!(_0xaac447&&_0xaac447[_0x2f63('0xfd')])){console[_0x2f63('0xbb')]('THREE.BufferGeometry.merge():\x20geometry\x20not\x20an\x20instance\x20of\x20THREE.BufferGeometry.',_0xaac447);return;}if(_0x44d178===undefined){_0x44d178=0x0;console[_0x2f63('0x77')]('THREE.BufferGeometry.merge():\x20Overwriting\x20original\x20geometry,\x20starting\x20at\x20offset=0.\x20'+_0x2f63('0x23e'));}var _0xe12519=this['attributes'];for(var _0x32c8a3 in _0xe12519){if(_0xaac447[_0x2f63('0xfe')][_0x32c8a3]===undefined)continue;var _0x18ffb6=_0xe12519[_0x32c8a3];var _0x1ca8e6=_0x18ffb6[_0x2f63('0x1f9')];var _0x51651f=_0xaac447[_0x2f63('0xfe')][_0x32c8a3];var _0x508d75=_0x51651f[_0x2f63('0x1f9')];var _0x24136c=_0x51651f[_0x2f63('0x214')];for(var _0x5d8334=0x0,_0x53f30f=_0x24136c*_0x44d178;_0x5d8334<_0x508d75[_0x2f63('0x38')];_0x5d8334++,_0x53f30f++){_0x1ca8e6[_0x53f30f]=_0x508d75[_0x5d8334];}}return this;},'normalizeNormals':function(){var _0x5b1f7c=new _0x14b965();return function normalizeNormals(){var _0x18ccc6=this['attributes'][_0x2f63('0x27')];for(var _0x5f691e=0x0,_0xf67412=_0x18ccc6[_0x2f63('0x1fc')];_0x5f691e<_0xf67412;_0x5f691e++){_0x5b1f7c['x']=_0x18ccc6[_0x2f63('0x7d')](_0x5f691e);_0x5b1f7c['y']=_0x18ccc6[_0x2f63('0x7e')](_0x5f691e);_0x5b1f7c['z']=_0x18ccc6[_0x2f63('0xe1')](_0x5f691e);_0x5b1f7c[_0x2f63('0x74')]();_0x18ccc6[_0x2f63('0x7f')](_0x5f691e,_0x5b1f7c['x'],_0x5b1f7c['y'],_0x5b1f7c['z']);}};}(),'toNonIndexed':function toNonIndexed(){if(this[_0x2f63('0x1f8')]===null){console[_0x2f63('0x77')](_0x2f63('0x23f'));return this;}var _0x3a93a2=new _0x4b14f2();var _0x1191f1=this[_0x2f63('0x1f8')][_0x2f63('0x1f9')];var _0x4fcc95=this[_0x2f63('0xfe')];for(var _0x380b5d in _0x4fcc95){var _0x111601=_0x4fcc95[_0x380b5d];var _0x3dca32=_0x111601[_0x2f63('0x1f9')];var _0x8c2042=_0x111601[_0x2f63('0x214')];var _0x2bee07=new _0x3dca32[(_0x2f63('0x14'))](_0x1191f1['length']*_0x8c2042);var _0xdc3760=0x0;var _0x2e31cc=0x0;for(var _0x4c186b=0x0,_0x5102f1=_0x1191f1['length'];_0x4c186b<_0x5102f1;_0x4c186b++){_0xdc3760=_0x1191f1[_0x4c186b]*_0x8c2042;for(var _0x50413d=0x0;_0x50413d<_0x8c2042;_0x50413d++){_0x2bee07[_0x2e31cc++]=_0x3dca32[_0xdc3760++];}}_0x3a93a2[_0x2f63('0x22d')](_0x380b5d,new _0x1d56f8(_0x2bee07,_0x8c2042));}var _0x38d567=this['groups'];for(var _0x5acbf1=0x0,_0xf90927=_0x38d567[_0x2f63('0x38')];_0x5acbf1<_0xf90927;_0x5acbf1++){var _0x9b7090=_0x38d567[_0x5acbf1];_0x3a93a2[_0x2f63('0x240')](_0x9b7090[_0x2f63('0x1fb')],_0x9b7090[_0x2f63('0x1fc')],_0x9b7090[_0x2f63('0xe3')]);}return _0x3a93a2;},'toJSON':function _0x483a4d(){var _0x11b8b7={'metadata':{'version':4.5,'type':_0x2f63('0x224'),'generator':_0x2f63('0x241')}};_0x11b8b7[_0x2f63('0x13e')]=this[_0x2f63('0x13e')];_0x11b8b7['type']=this[_0x2f63('0x28')];if(this[_0x2f63('0x3c')]!=='')_0x11b8b7[_0x2f63('0x3c')]=this[_0x2f63('0x3c')];if(Object[_0x2f63('0x43')](this[_0x2f63('0x140')])[_0x2f63('0x38')]>0x0)_0x11b8b7[_0x2f63('0x140')]=this[_0x2f63('0x140')];if(this[_0x2f63('0x242')]!==undefined){var _0x2d35ff=this[_0x2f63('0x242')];for(var _0x1d22ae in _0x2d35ff){if(_0x2d35ff[_0x1d22ae]!==undefined)_0x11b8b7[_0x1d22ae]=_0x2d35ff[_0x1d22ae];}return _0x11b8b7;}_0x11b8b7['data']={'attributes':{}};var _0x2e265a=this[_0x2f63('0x1f8')];if(_0x2e265a!==null){var _0x31dbd5=Array[_0x2f63('0x9')][_0x2f63('0x48')][_0x2f63('0xb')](_0x2e265a[_0x2f63('0x1f9')]);_0x11b8b7[_0x2f63('0x208')][_0x2f63('0x1f8')]={'type':_0x2e265a['array'][_0x2f63('0x14')]['name'],'array':_0x31dbd5};}var _0x33dc2b=this[_0x2f63('0xfe')];for(var _0x145a21 in _0x33dc2b){var _0x30b6c8=_0x33dc2b[_0x145a21];var _0x3884e1=Array[_0x2f63('0x9')][_0x2f63('0x48')][_0x2f63('0xb')](_0x30b6c8[_0x2f63('0x1f9')]);_0x11b8b7['data'][_0x2f63('0xfe')][_0x145a21]={'itemSize':_0x30b6c8['itemSize'],'type':_0x30b6c8['array']['constructor'][_0x2f63('0x3c')],'array':_0x3884e1,'normalized':_0x30b6c8[_0x2f63('0x215')]};}var _0xdbe3a3=this[_0x2f63('0x1fa')];if(_0xdbe3a3['length']>0x0){_0x11b8b7[_0x2f63('0x208')][_0x2f63('0x1fa')]=JSON['parse'](JSON['stringify'](_0xdbe3a3));}var _0x5042d1=this[_0x2f63('0x1f1')];if(_0x5042d1!==null){_0x11b8b7[_0x2f63('0x208')]['boundingSphere']={'center':_0x5042d1[_0x2f63('0x10b')]['toArray'](),'radius':_0x5042d1[_0x2f63('0xd9')]};}return _0x11b8b7;},'clone':function clone(){return new _0x4b14f2()['copy'](this);},'copy':function copy(_0x1933e4){var _0x182e77,_0x22137e,_0x262b5a;this['index']=null;this['attributes']={};this[_0x2f63('0x225')]={};this[_0x2f63('0x1fa')]=[];this[_0x2f63('0x1f0')]=null;this[_0x2f63('0x1f1')]=null;this['name']=_0x1933e4['name'];var _0x267ad1=_0x1933e4['index'];if(_0x267ad1!==null){this[_0x2f63('0x22f')](_0x267ad1['clone']());}var _0x2f44eb=_0x1933e4[_0x2f63('0xfe')];for(_0x182e77 in _0x2f44eb){var _0x5783c8=_0x2f44eb[_0x182e77];this[_0x2f63('0x22d')](_0x182e77,_0x5783c8[_0x2f63('0x68')]());}var _0x55dae0=_0x1933e4['morphAttributes'];for(_0x182e77 in _0x55dae0){var _0x5d0c97=[];var _0x44b941=_0x55dae0[_0x182e77];for(_0x22137e=0x0,_0x262b5a=_0x44b941[_0x2f63('0x38')];_0x22137e<_0x262b5a;_0x22137e++){_0x5d0c97['push'](_0x44b941[_0x22137e][_0x2f63('0x68')]());}this[_0x2f63('0x225')][_0x182e77]=_0x5d0c97;}var _0x416997=_0x1933e4['groups'];for(_0x22137e=0x0,_0x262b5a=_0x416997[_0x2f63('0x38')];_0x22137e<_0x262b5a;_0x22137e++){var _0x24bd30=_0x416997[_0x22137e];this['addGroup'](_0x24bd30[_0x2f63('0x1fb')],_0x24bd30[_0x2f63('0x1fc')],_0x24bd30['materialIndex']);}var _0x2be541=_0x1933e4['boundingBox'];if(_0x2be541!==null){this[_0x2f63('0x1f0')]=_0x2be541[_0x2f63('0x68')]();}var _0x44774d=_0x1933e4['boundingSphere'];if(_0x44774d!==null){this[_0x2f63('0x1f1')]=_0x44774d[_0x2f63('0x68')]();}this['drawRange'][_0x2f63('0x1fb')]=_0x1933e4[_0x2f63('0x226')][_0x2f63('0x1fb')];this[_0x2f63('0x226')][_0x2f63('0x1fc')]=_0x1933e4['drawRange'][_0x2f63('0x1fc')];this['userData']=_0x1933e4[_0x2f63('0x140')];return this;},'dispose':function dispose(){this['dispatchEvent']({'type':_0x2f63('0x20d')});}});var _0x1d19c1=function(){function _0x1d19c1(_0x2218b2,_0x3305ce){_0x47c705(this,_0x1d19c1);this[_0x2f63('0x5e')]=_0x2218b2!==undefined?_0x2218b2:new _0x2b6548(+Infinity,+Infinity);this[_0x2f63('0x5d')]=_0x3305ce!==undefined?_0x3305ce:new _0x2b6548(-Infinity,-Infinity);}_0x38642a(_0x1d19c1,[{'key':_0x2f63('0x67'),'value':function set(_0x4cdc7,_0x3fe24b){this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x4cdc7);this['max'][_0x2f63('0x6a')](_0x3fe24b);return this;}},{'key':_0x2f63('0xef'),'value':function setFromPoints(_0x1a97ac){this[_0x2f63('0xf0')]();for(var _0x4080ac=0x0,_0x5e49f2=_0x1a97ac[_0x2f63('0x38')];_0x4080ac<_0x5e49f2;_0x4080ac++){this[_0x2f63('0xf1')](_0x1a97ac[_0x4080ac]);}return this;}},{'key':_0x2f63('0xf2'),'value':function setFromCenterAndSize(_0x1a5e3c,_0x3071b1){var _0x4bc0d1=_0x3071b1[_0x2f63('0x68')]()[_0x2f63('0x7b')](0.5);this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x1a5e3c)[_0x2f63('0xb5')](_0x4bc0d1);this[_0x2f63('0x5d')]['copy'](_0x1a5e3c)[_0x2f63('0xb0')](_0x4bc0d1);return this;}},{'key':'clone','value':function clone(){return new this[(_0x2f63('0x14'))]()[_0x2f63('0x6a')](this);}},{'key':'copy','value':function copy(_0x20ff9d){this[_0x2f63('0x5e')][_0x2f63('0x6a')](_0x20ff9d[_0x2f63('0x5e')]);this['max'][_0x2f63('0x6a')](_0x20ff9d['max']);return this;}},{'key':'makeEmpty','value':function makeEmpty(){this[_0x2f63('0x5e')]['x']=this[_0x2f63('0x5e')]['y']=+Infinity;this[_0x2f63('0x5d')]['x']=this[_0x2f63('0x5d')]['y']=-Infinity;return this;}},{'key':_0x2f63('0xf5'),'value':function isEmpty(){return this[_0x2f63('0x5d')]['x']<this[_0x2f63('0x5e')]['x']||this['max']['y']<this['min']['y'];}},{'key':_0x2f63('0xf6'),'value':function getCenter(_0x1fe2eb){if(_0x1fe2eb===undefined){console[_0x2f63('0x77')](_0x2f63('0x243'));_0x1fe2eb=new _0x2b6548();}return this['isEmpty']()?_0x1fe2eb[_0x2f63('0x67')](0x0,0x0):_0x1fe2eb[_0x2f63('0xb2')](this[_0x2f63('0x5e')],this[_0x2f63('0x5d')])['multiplyScalar'](0.5);}},{'key':_0x2f63('0x108'),'value':function getSize(_0x2a7b84){if(_0x2a7b84===undefined){console[_0x2f63('0x77')](_0x2f63('0x244'));_0x2a7b84=new _0x2b6548();}return this['isEmpty']()?_0x2a7b84['set'](0x0,0x0):_0x2a7b84[_0x2f63('0x72')](this[_0x2f63('0x5d')],this[_0x2f63('0x5e')]);}},{'key':_0x2f63('0xf1'),'value':function expandByPoint(_0xa219ab){this[_0x2f63('0x5e')]['min'](_0xa219ab);this[_0x2f63('0x5d')][_0x2f63('0x5d')](_0xa219ab);return this;}},{'key':_0x2f63('0x245'),'value':function expandByVector(_0x5cc650){this[_0x2f63('0x5e')][_0x2f63('0xb5')](_0x5cc650);this[_0x2f63('0x5d')][_0x2f63('0xb0')](_0x5cc650);return this;}},{'key':_0x2f63('0xf8'),'value':function expandByScalar(_0x24b020){this['min'][_0x2f63('0xb3')](-_0x24b020);this['max'][_0x2f63('0xb3')](_0x24b020);return this;}},{'key':_0x2f63('0x100'),'value':function containsPoint(_0x532422){return!(_0x532422['x']<this[_0x2f63('0x5e')]['x']||_0x532422['x']>this['max']['x']||_0x532422['y']<this[_0x2f63('0x5e')]['y']||_0x532422['y']>this[_0x2f63('0x5d')]['y']);}},{'key':'containsBox','value':function containsBox(_0x486050){return this[_0x2f63('0x5e')]['x']<=_0x486050[_0x2f63('0x5e')]['x']&&_0x486050['max']['x']<=this[_0x2f63('0x5d')]['x']&&this[_0x2f63('0x5e')]['y']<=_0x486050[_0x2f63('0x5e')]['y']&&_0x486050[_0x2f63('0x5d')]['y']<=this[_0x2f63('0x5d')]['y'];}},{'key':_0x2f63('0x102'),'value':function getParameter(_0x2b2c01,_0x812cef){if(_0x812cef===undefined){console[_0x2f63('0x77')](_0x2f63('0x246'));_0x812cef=new _0x2b6548();}return _0x812cef[_0x2f63('0x67')]((_0x2b2c01['x']-this[_0x2f63('0x5e')]['x'])/(this['max']['x']-this['min']['x']),(_0x2b2c01['y']-this[_0x2f63('0x5e')]['y'])/(this[_0x2f63('0x5d')]['y']-this['min']['y']));}},{'key':_0x2f63('0x104'),'value':function intersectsBox(_0xf63e78){return!(_0xf63e78['max']['x']<this[_0x2f63('0x5e')]['x']||_0xf63e78[_0x2f63('0x5e')]['x']>this[_0x2f63('0x5d')]['x']||_0xf63e78['max']['y']<this[_0x2f63('0x5e')]['y']||_0xf63e78['min']['y']>this[_0x2f63('0x5d')]['y']);}},{'key':_0x2f63('0x105'),'value':function clampPoint(_0x4327d6,_0x47996b){if(_0x47996b===undefined){console[_0x2f63('0x77')](_0x2f63('0x247'));_0x47996b=new _0x2b6548();}return _0x47996b[_0x2f63('0x6a')](_0x4327d6)[_0x2f63('0xa0')](this['min'],this[_0x2f63('0x5d')]);}},{'key':_0x2f63('0x10d'),'value':function distanceToPoint(_0x2c6f5e){var _0x55e6d5=_0x2c6f5e['clone']()['clamp'](this[_0x2f63('0x5e')],this[_0x2f63('0x5d')]);return _0x55e6d5[_0x2f63('0xb5')](_0x2c6f5e)['length']();}},{'key':_0x2f63('0x109'),'value':function intersect(_0xdb3da5){this[_0x2f63('0x5e')][_0x2f63('0x5d')](_0xdb3da5[_0x2f63('0x5e')]);this['max'][_0x2f63('0x5e')](_0xdb3da5['max']);return this;}},{'key':_0x2f63('0x10a'),'value':function union(_0x4ee5fc){this[_0x2f63('0x5e')][_0x2f63('0x5e')](_0x4ee5fc[_0x2f63('0x5e')]);this['max'][_0x2f63('0x5d')](_0x4ee5fc[_0x2f63('0x5d')]);return this;}},{'key':_0x2f63('0xec'),'value':function translate(_0x5b85fc){this[_0x2f63('0x5e')][_0x2f63('0xb0')](_0x5b85fc);this[_0x2f63('0x5d')][_0x2f63('0xb0')](_0x5b85fc);return this;}},{'key':_0x2f63('0xa7'),'value':function _0x49ccf3(_0x401d3f){return _0x401d3f[_0x2f63('0x5e')][_0x2f63('0xa7')](this['min'])&&_0x401d3f[_0x2f63('0x5d')][_0x2f63('0xa7')](this['max']);}}]);return _0x1d19c1;}();var _0x439b2c=_0x3b3de1;var _0x235cd7=_0x3b3de1;function _0x3b3de1(_0x5d19c7,_0x15acb3,_0x243dee){_0x243dee=_0x243dee||0x2;var _0xfa82db=_0x15acb3&&_0x15acb3[_0x2f63('0x38')],_0x299897=_0xfa82db?_0x15acb3[0x0]*_0x243dee:_0x5d19c7[_0x2f63('0x38')],_0x59c8f1=_0x5154c7(_0x5d19c7,0x0,_0x299897,_0x243dee,!![]),_0x4c78dd=[];if(!_0x59c8f1||_0x59c8f1['next']===_0x59c8f1[_0x2f63('0x46')])return _0x4c78dd;var _0x4c1735,_0x569a55,_0x3c87b7,_0xdb29a,_0x19f490,_0x224512,_0x1cab1d;if(_0xfa82db)_0x59c8f1=_0x4221f1(_0x5d19c7,_0x15acb3,_0x59c8f1,_0x243dee);if(_0x5d19c7[_0x2f63('0x38')]>0x50*_0x243dee){_0x4c1735=_0x3c87b7=_0x5d19c7[0x0];_0x569a55=_0xdb29a=_0x5d19c7[0x1];for(var _0x26076e=_0x243dee;_0x26076e<_0x299897;_0x26076e+=_0x243dee){_0x19f490=_0x5d19c7[_0x26076e];_0x224512=_0x5d19c7[_0x26076e+0x1];if(_0x19f490<_0x4c1735)_0x4c1735=_0x19f490;if(_0x224512<_0x569a55)_0x569a55=_0x224512;if(_0x19f490>_0x3c87b7)_0x3c87b7=_0x19f490;if(_0x224512>_0xdb29a)_0xdb29a=_0x224512;}_0x1cab1d=Math[_0x2f63('0x5d')](_0x3c87b7-_0x4c1735,_0xdb29a-_0x569a55);_0x1cab1d=_0x1cab1d!==0x0?0x1/_0x1cab1d:0x0;}_0x5d0f02(_0x59c8f1,_0x4c78dd,_0x243dee,_0x4c1735,_0x569a55,_0x1cab1d);return _0x4c78dd;}function _0x5154c7(_0x303dcc,_0x83688a,_0xde1375,_0x4f3eec,_0x35be88){var _0x823848,_0x4f64f2;if(_0x35be88===_0x3fb3a7(_0x303dcc,_0x83688a,_0xde1375,_0x4f3eec)>0x0){for(_0x823848=_0x83688a;_0x823848<_0xde1375;_0x823848+=_0x4f3eec){_0x4f64f2=_0x7867e9(_0x823848,_0x303dcc[_0x823848],_0x303dcc[_0x823848+0x1],_0x4f64f2);}}else{for(_0x823848=_0xde1375-_0x4f3eec;_0x823848>=_0x83688a;_0x823848-=_0x4f3eec){_0x4f64f2=_0x7867e9(_0x823848,_0x303dcc[_0x823848],_0x303dcc[_0x823848+0x1],_0x4f64f2);}}if(_0x4f64f2&&_0x49ccf3(_0x4f64f2,_0x4f64f2['next'])){_0x325e82(_0x4f64f2);_0x4f64f2=_0x4f64f2['next'];}return _0x4f64f2;}function _0x512042(_0xb4c1d4,_0x53d586){if(!_0xb4c1d4)return _0xb4c1d4;if(!_0x53d586)_0x53d586=_0xb4c1d4;var _0x244f82=_0xb4c1d4,_0x30d684;do{_0x30d684=![];if(!_0x244f82[_0x2f63('0x248')]&&(_0x49ccf3(_0x244f82,_0x244f82[_0x2f63('0x21')])||_0x4c8b5d(_0x244f82[_0x2f63('0x46')],_0x244f82,_0x244f82[_0x2f63('0x21')])===0x0)){_0x325e82(_0x244f82);_0x244f82=_0x53d586=_0x244f82['prev'];if(_0x244f82===_0x244f82['next'])break;_0x30d684=!![];}else{_0x244f82=_0x244f82['next'];}}while(_0x30d684||_0x244f82!==_0x53d586);return _0x53d586;}function _0x5d0f02(_0x40c20e,_0x5cac9c,_0x3d6e4a,_0x2c832e,_0x23bdfd,_0x3be06a,_0x53f442){if(!_0x40c20e)return;if(!_0x53f442&&_0x3be06a)_0x3905ed(_0x40c20e,_0x2c832e,_0x23bdfd,_0x3be06a);var _0x1f54d6=_0x40c20e,_0x4794f1,_0xb3ff36;while(_0x40c20e[_0x2f63('0x46')]!==_0x40c20e[_0x2f63('0x21')]){_0x4794f1=_0x40c20e[_0x2f63('0x46')];_0xb3ff36=_0x40c20e[_0x2f63('0x21')];if(_0x3be06a?_0x50dd64(_0x40c20e,_0x2c832e,_0x23bdfd,_0x3be06a):_0x52bfad(_0x40c20e)){_0x5cac9c[_0x2f63('0x34')](_0x4794f1['i']/_0x3d6e4a);_0x5cac9c[_0x2f63('0x34')](_0x40c20e['i']/_0x3d6e4a);_0x5cac9c[_0x2f63('0x34')](_0xb3ff36['i']/_0x3d6e4a);_0x325e82(_0x40c20e);_0x40c20e=_0xb3ff36['next'];_0x1f54d6=_0xb3ff36[_0x2f63('0x21')];continue;}_0x40c20e=_0xb3ff36;if(_0x40c20e===_0x1f54d6){if(!_0x53f442){_0x5d0f02(_0x512042(_0x40c20e),_0x5cac9c,_0x3d6e4a,_0x2c832e,_0x23bdfd,_0x3be06a,0x1);}else if(_0x53f442===0x1){_0x40c20e=_0x5d3747(_0x512042(_0x40c20e),_0x5cac9c,_0x3d6e4a);_0x5d0f02(_0x40c20e,_0x5cac9c,_0x3d6e4a,_0x2c832e,_0x23bdfd,_0x3be06a,0x2);}else if(_0x53f442===0x2){_0x5e738a(_0x40c20e,_0x5cac9c,_0x3d6e4a,_0x2c832e,_0x23bdfd,_0x3be06a);}break;}}}function _0x52bfad(_0x35788d){var _0xdf5a69=_0x35788d[_0x2f63('0x46')],_0x4ceaff=_0x35788d,_0x34195d=_0x35788d[_0x2f63('0x21')];if(_0x4c8b5d(_0xdf5a69,_0x4ceaff,_0x34195d)>=0x0)return![];var _0x321557=_0x35788d['next'][_0x2f63('0x21')];while(_0x321557!==_0x35788d['prev']){if(_0x2984be(_0xdf5a69['x'],_0xdf5a69['y'],_0x4ceaff['x'],_0x4ceaff['y'],_0x34195d['x'],_0x34195d['y'],_0x321557['x'],_0x321557['y'])&&_0x4c8b5d(_0x321557[_0x2f63('0x46')],_0x321557,_0x321557[_0x2f63('0x21')])>=0x0)return![];_0x321557=_0x321557[_0x2f63('0x21')];}return!![];}function _0x50dd64(_0x4e72c9,_0x467d7a,_0x524f98,_0x4b66ce){var _0x36677d=_0x4e72c9[_0x2f63('0x46')],_0x34b554=_0x4e72c9,_0x3fe963=_0x4e72c9['next'];if(_0x4c8b5d(_0x36677d,_0x34b554,_0x3fe963)>=0x0)return![];var _0x55926f=_0x36677d['x']<_0x34b554['x']?_0x36677d['x']<_0x3fe963['x']?_0x36677d['x']:_0x3fe963['x']:_0x34b554['x']<_0x3fe963['x']?_0x34b554['x']:_0x3fe963['x'],_0x2b561e=_0x36677d['y']<_0x34b554['y']?_0x36677d['y']<_0x3fe963['y']?_0x36677d['y']:_0x3fe963['y']:_0x34b554['y']<_0x3fe963['y']?_0x34b554['y']:_0x3fe963['y'],_0x1f1abb=_0x36677d['x']>_0x34b554['x']?_0x36677d['x']>_0x3fe963['x']?_0x36677d['x']:_0x3fe963['x']:_0x34b554['x']>_0x3fe963['x']?_0x34b554['x']:_0x3fe963['x'],_0x196a0a=_0x36677d['y']>_0x34b554['y']?_0x36677d['y']>_0x3fe963['y']?_0x36677d['y']:_0x3fe963['y']:_0x34b554['y']>_0x3fe963['y']?_0x34b554['y']:_0x3fe963['y'];var _0x52e3de=_0x5c1bd5(_0x55926f,_0x2b561e,_0x467d7a,_0x524f98,_0x4b66ce),_0x1dc61f=_0x5c1bd5(_0x1f1abb,_0x196a0a,_0x467d7a,_0x524f98,_0x4b66ce);var _0x445ca3=_0x4e72c9[_0x2f63('0x249')],_0x4a75aa=_0x4e72c9[_0x2f63('0x24a')];while(_0x445ca3&&_0x445ca3['z']>=_0x52e3de&&_0x4a75aa&&_0x4a75aa['z']<=_0x1dc61f){if(_0x445ca3!==_0x4e72c9[_0x2f63('0x46')]&&_0x445ca3!==_0x4e72c9[_0x2f63('0x21')]&&_0x2984be(_0x36677d['x'],_0x36677d['y'],_0x34b554['x'],_0x34b554['y'],_0x3fe963['x'],_0x3fe963['y'],_0x445ca3['x'],_0x445ca3['y'])&&_0x4c8b5d(_0x445ca3[_0x2f63('0x46')],_0x445ca3,_0x445ca3['next'])>=0x0)return![];_0x445ca3=_0x445ca3['prevZ'];if(_0x4a75aa!==_0x4e72c9['prev']&&_0x4a75aa!==_0x4e72c9['next']&&_0x2984be(_0x36677d['x'],_0x36677d['y'],_0x34b554['x'],_0x34b554['y'],_0x3fe963['x'],_0x3fe963['y'],_0x4a75aa['x'],_0x4a75aa['y'])&&_0x4c8b5d(_0x4a75aa[_0x2f63('0x46')],_0x4a75aa,_0x4a75aa[_0x2f63('0x21')])>=0x0)return![];_0x4a75aa=_0x4a75aa[_0x2f63('0x24a')];}while(_0x445ca3&&_0x445ca3['z']>=_0x52e3de){if(_0x445ca3!==_0x4e72c9['prev']&&_0x445ca3!==_0x4e72c9['next']&&_0x2984be(_0x36677d['x'],_0x36677d['y'],_0x34b554['x'],_0x34b554['y'],_0x3fe963['x'],_0x3fe963['y'],_0x445ca3['x'],_0x445ca3['y'])&&_0x4c8b5d(_0x445ca3[_0x2f63('0x46')],_0x445ca3,_0x445ca3['next'])>=0x0)return![];_0x445ca3=_0x445ca3['prevZ'];}while(_0x4a75aa&&_0x4a75aa['z']<=_0x1dc61f){if(_0x4a75aa!==_0x4e72c9[_0x2f63('0x46')]&&_0x4a75aa!==_0x4e72c9[_0x2f63('0x21')]&&_0x2984be(_0x36677d['x'],_0x36677d['y'],_0x34b554['x'],_0x34b554['y'],_0x3fe963['x'],_0x3fe963['y'],_0x4a75aa['x'],_0x4a75aa['y'])&&_0x4c8b5d(_0x4a75aa['prev'],_0x4a75aa,_0x4a75aa[_0x2f63('0x21')])>=0x0)return![];_0x4a75aa=_0x4a75aa[_0x2f63('0x24a')];}return!![];}function _0x5d3747(_0x52ccfa,_0x3d1606,_0x10b15d){var _0x3afd85=_0x52ccfa;do{var _0x254d13=_0x3afd85[_0x2f63('0x46')],_0x1ded0d=_0x3afd85[_0x2f63('0x21')][_0x2f63('0x21')];if(!_0x49ccf3(_0x254d13,_0x1ded0d)&&_0x1a6b6b(_0x254d13,_0x3afd85,_0x3afd85[_0x2f63('0x21')],_0x1ded0d)&&_0x429249(_0x254d13,_0x1ded0d)&&_0x429249(_0x1ded0d,_0x254d13)){_0x3d1606['push'](_0x254d13['i']/_0x10b15d);_0x3d1606['push'](_0x3afd85['i']/_0x10b15d);_0x3d1606[_0x2f63('0x34')](_0x1ded0d['i']/_0x10b15d);_0x325e82(_0x3afd85);_0x325e82(_0x3afd85[_0x2f63('0x21')]);_0x3afd85=_0x52ccfa=_0x1ded0d;}_0x3afd85=_0x3afd85['next'];}while(_0x3afd85!==_0x52ccfa);return _0x512042(_0x3afd85);}function _0x5e738a(_0x5b2330,_0x2f3ba8,_0x5e5301,_0xe4324,_0xa8a189,_0x6c5f43){var _0xdbd13d=_0x5b2330;do{var _0x1b500c=_0xdbd13d[_0x2f63('0x21')]['next'];while(_0x1b500c!==_0xdbd13d[_0x2f63('0x46')]){if(_0xdbd13d['i']!==_0x1b500c['i']&&_0x9844e2(_0xdbd13d,_0x1b500c)){var _0xc5ef6b=_0x3a6c18(_0xdbd13d,_0x1b500c);_0xdbd13d=_0x512042(_0xdbd13d,_0xdbd13d[_0x2f63('0x21')]);_0xc5ef6b=_0x512042(_0xc5ef6b,_0xc5ef6b['next']);_0x5d0f02(_0xdbd13d,_0x2f3ba8,_0x5e5301,_0xe4324,_0xa8a189,_0x6c5f43);_0x5d0f02(_0xc5ef6b,_0x2f3ba8,_0x5e5301,_0xe4324,_0xa8a189,_0x6c5f43);return;}_0x1b500c=_0x1b500c[_0x2f63('0x21')];}_0xdbd13d=_0xdbd13d[_0x2f63('0x21')];}while(_0xdbd13d!==_0x5b2330);}function _0x4221f1(_0x54d923,_0x50b484,_0x4918b0,_0xe713f8){var _0x3dc19a=[],_0x3fa55c,_0x4b88b3,_0x3a8a62,_0xf7462d,_0x3c805e;for(_0x3fa55c=0x0,_0x4b88b3=_0x50b484[_0x2f63('0x38')];_0x3fa55c<_0x4b88b3;_0x3fa55c++){_0x3a8a62=_0x50b484[_0x3fa55c]*_0xe713f8;_0xf7462d=_0x3fa55c<_0x4b88b3-0x1?_0x50b484[_0x3fa55c+0x1]*_0xe713f8:_0x54d923['length'];_0x3c805e=_0x5154c7(_0x54d923,_0x3a8a62,_0xf7462d,_0xe713f8,![]);if(_0x3c805e===_0x3c805e['next'])_0x3c805e['steiner']=!![];_0x3dc19a[_0x2f63('0x34')](_0x5921b6(_0x3c805e));}_0x3dc19a[_0x2f63('0x207')](_0x737627);for(_0x3fa55c=0x0;_0x3fa55c<_0x3dc19a[_0x2f63('0x38')];_0x3fa55c++){_0x5ed7de(_0x3dc19a[_0x3fa55c],_0x4918b0);_0x4918b0=_0x512042(_0x4918b0,_0x4918b0[_0x2f63('0x21')]);}return _0x4918b0;}function _0x737627(_0x2c46bc,_0x41486e){return _0x2c46bc['x']-_0x41486e['x'];}function _0x5ed7de(_0xdb925e,_0x5b0909){_0x5b0909=_0x47a30c(_0xdb925e,_0x5b0909);if(_0x5b0909){var _0x3f1d93=_0x3a6c18(_0x5b0909,_0xdb925e);_0x512042(_0x5b0909,_0x5b0909['next']);_0x512042(_0x3f1d93,_0x3f1d93[_0x2f63('0x21')]);}}function _0x47a30c(_0x3c635c,_0x5433b7){var _0x57a03b=_0x5433b7,_0x3488f3=_0x3c635c['x'],_0x562142=_0x3c635c['y'],_0x18b039=-Infinity,_0xf12a62;do{if(_0x562142<=_0x57a03b['y']&&_0x562142>=_0x57a03b[_0x2f63('0x21')]['y']&&_0x57a03b[_0x2f63('0x21')]['y']!==_0x57a03b['y']){var _0x42a4bb=_0x57a03b['x']+(_0x562142-_0x57a03b['y'])*(_0x57a03b[_0x2f63('0x21')]['x']-_0x57a03b['x'])/(_0x57a03b[_0x2f63('0x21')]['y']-_0x57a03b['y']);if(_0x42a4bb<=_0x3488f3&&_0x42a4bb>_0x18b039){_0x18b039=_0x42a4bb;if(_0x42a4bb===_0x3488f3){if(_0x562142===_0x57a03b['y'])return _0x57a03b;if(_0x562142===_0x57a03b[_0x2f63('0x21')]['y'])return _0x57a03b[_0x2f63('0x21')];}_0xf12a62=_0x57a03b['x']<_0x57a03b[_0x2f63('0x21')]['x']?_0x57a03b:_0x57a03b[_0x2f63('0x21')];}}_0x57a03b=_0x57a03b[_0x2f63('0x21')];}while(_0x57a03b!==_0x5433b7);if(!_0xf12a62)return null;if(_0x3488f3===_0x18b039)return _0xf12a62;var _0x22449e=_0xf12a62,_0x2ce6a1=_0xf12a62['x'],_0x1cfe6d=_0xf12a62['y'],_0x5efa15=Infinity,_0x33794c;_0x57a03b=_0xf12a62;do{if(_0x3488f3>=_0x57a03b['x']&&_0x57a03b['x']>=_0x2ce6a1&&_0x3488f3!==_0x57a03b['x']&&_0x2984be(_0x562142<_0x1cfe6d?_0x3488f3:_0x18b039,_0x562142,_0x2ce6a1,_0x1cfe6d,_0x562142<_0x1cfe6d?_0x18b039:_0x3488f3,_0x562142,_0x57a03b['x'],_0x57a03b['y'])){_0x33794c=Math[_0x2f63('0x75')](_0x562142-_0x57a03b['y'])/(_0x3488f3-_0x57a03b['x']);if(_0x429249(_0x57a03b,_0x3c635c)&&(_0x33794c<_0x5efa15||_0x33794c===_0x5efa15&&(_0x57a03b['x']>_0xf12a62['x']||_0x57a03b['x']===_0xf12a62['x']&&_0x5df0a6(_0xf12a62,_0x57a03b)))){_0xf12a62=_0x57a03b;_0x5efa15=_0x33794c;}}_0x57a03b=_0x57a03b[_0x2f63('0x21')];}while(_0x57a03b!==_0x22449e);return _0xf12a62;}function _0x5df0a6(_0xf12a62,_0x580b31){return _0x4c8b5d(_0xf12a62[_0x2f63('0x46')],_0xf12a62,_0x580b31[_0x2f63('0x46')])<0x0&&_0x4c8b5d(_0x580b31[_0x2f63('0x21')],_0xf12a62,_0xf12a62['next'])<0x0;}function _0x3905ed(_0x202e76,_0x2deb3a,_0x486222,_0x5d3e8c){var _0x552420=_0x202e76;do{if(_0x552420['z']===null)_0x552420['z']=_0x5c1bd5(_0x552420['x'],_0x552420['y'],_0x2deb3a,_0x486222,_0x5d3e8c);_0x552420[_0x2f63('0x249')]=_0x552420[_0x2f63('0x46')];_0x552420[_0x2f63('0x24a')]=_0x552420[_0x2f63('0x21')];_0x552420=_0x552420[_0x2f63('0x21')];}while(_0x552420!==_0x202e76);_0x552420['prevZ'][_0x2f63('0x24a')]=null;_0x552420[_0x2f63('0x249')]=null;_0xdea42e(_0x552420);}function _0xdea42e(_0x1b8a6d){var _0x2ba5db,_0x559cfd,_0x470a10,_0xcdacd5,_0x242698,_0xff6869,_0x1fc156,_0x50d8db,_0x284dbd=0x1;do{_0x559cfd=_0x1b8a6d;_0x1b8a6d=null;_0x242698=null;_0xff6869=0x0;while(_0x559cfd){_0xff6869++;_0x470a10=_0x559cfd;_0x1fc156=0x0;for(_0x2ba5db=0x0;_0x2ba5db<_0x284dbd;_0x2ba5db++){_0x1fc156++;_0x470a10=_0x470a10[_0x2f63('0x24a')];if(!_0x470a10)break;}_0x50d8db=_0x284dbd;while(_0x1fc156>0x0||_0x50d8db>0x0&&_0x470a10){if(_0x1fc156!==0x0&&(_0x50d8db===0x0||!_0x470a10||_0x559cfd['z']<=_0x470a10['z'])){_0xcdacd5=_0x559cfd;_0x559cfd=_0x559cfd[_0x2f63('0x24a')];_0x1fc156--;}else{_0xcdacd5=_0x470a10;_0x470a10=_0x470a10[_0x2f63('0x24a')];_0x50d8db--;}if(_0x242698)_0x242698['nextZ']=_0xcdacd5;else _0x1b8a6d=_0xcdacd5;_0xcdacd5['prevZ']=_0x242698;_0x242698=_0xcdacd5;}_0x559cfd=_0x470a10;}_0x242698[_0x2f63('0x24a')]=null;_0x284dbd*=0x2;}while(_0xff6869>0x1);return _0x1b8a6d;}function _0x5c1bd5(_0x451094,_0x224512,_0x3bc54c,_0x19a719,_0x144aed){_0x451094=0x7fff*(_0x451094-_0x3bc54c)*_0x144aed;_0x224512=0x7fff*(_0x224512-_0x19a719)*_0x144aed;_0x451094=(_0x451094|_0x451094<<0x8)&0xff00ff;_0x451094=(_0x451094|_0x451094<<0x4)&0xf0f0f0f;_0x451094=(_0x451094|_0x451094<<0x2)&0x33333333;_0x451094=(_0x451094|_0x451094<<0x1)&0x55555555;_0x224512=(_0x224512|_0x224512<<0x8)&0xff00ff;_0x224512=(_0x224512|_0x224512<<0x4)&0xf0f0f0f;_0x224512=(_0x224512|_0x224512<<0x2)&0x33333333;_0x224512=(_0x224512|_0x224512<<0x1)&0x55555555;return _0x451094|_0x224512<<0x1;}function _0x5921b6(_0x3dcd26){var _0x4860fd=_0x3dcd26,_0x410537=_0x3dcd26;do{if(_0x4860fd['x']<_0x410537['x']||_0x4860fd['x']===_0x410537['x']&&_0x4860fd['y']<_0x410537['y'])_0x410537=_0x4860fd;_0x4860fd=_0x4860fd['next'];}while(_0x4860fd!==_0x3dcd26);return _0x410537;}function _0x2984be(_0x4950fc,_0x25fe13,_0x4b33b8,_0x249f8a,_0x360cf1,_0x358f49,_0x1a05c5,_0x4480a0){return(_0x360cf1-_0x1a05c5)*(_0x25fe13-_0x4480a0)-(_0x4950fc-_0x1a05c5)*(_0x358f49-_0x4480a0)>=0x0&&(_0x4950fc-_0x1a05c5)*(_0x249f8a-_0x4480a0)-(_0x4b33b8-_0x1a05c5)*(_0x25fe13-_0x4480a0)>=0x0&&(_0x4b33b8-_0x1a05c5)*(_0x358f49-_0x4480a0)-(_0x360cf1-_0x1a05c5)*(_0x249f8a-_0x4480a0)>=0x0;}function _0x9844e2(_0x1f9dd,_0x56714a){return _0x1f9dd[_0x2f63('0x21')]['i']!==_0x56714a['i']&&_0x1f9dd[_0x2f63('0x46')]['i']!==_0x56714a['i']&&!_0x1e002b(_0x1f9dd,_0x56714a)&&(_0x429249(_0x1f9dd,_0x56714a)&&_0x429249(_0x56714a,_0x1f9dd)&&_0xee9f33(_0x1f9dd,_0x56714a)&&(_0x4c8b5d(_0x1f9dd[_0x2f63('0x46')],_0x1f9dd,_0x56714a[_0x2f63('0x46')])||_0x4c8b5d(_0x1f9dd,_0x56714a[_0x2f63('0x46')],_0x56714a))||_0x49ccf3(_0x1f9dd,_0x56714a)&&_0x4c8b5d(_0x1f9dd['prev'],_0x1f9dd,_0x1f9dd[_0x2f63('0x21')])>0x0&&_0x4c8b5d(_0x56714a[_0x2f63('0x46')],_0x56714a,_0x56714a['next'])>0x0);}function _0x4c8b5d(_0x2a8cb8,_0x8c7b5,_0x2bd5d7){return(_0x8c7b5['y']-_0x2a8cb8['y'])*(_0x2bd5d7['x']-_0x8c7b5['x'])-(_0x8c7b5['x']-_0x2a8cb8['x'])*(_0x2bd5d7['y']-_0x8c7b5['y']);}function _0x49ccf3(_0x3bbb9b,_0x476bd7){return _0x3bbb9b['x']===_0x476bd7['x']&&_0x3bbb9b['y']===_0x476bd7['y'];}function _0x1a6b6b(_0x40a6a7,_0x8cb308,_0x82ce64,_0x4fd622){var _0x393640=_0x56b3d0(_0x4c8b5d(_0x40a6a7,_0x8cb308,_0x82ce64));var _0x307a2e=_0x56b3d0(_0x4c8b5d(_0x40a6a7,_0x8cb308,_0x4fd622));var _0x2e79b8=_0x56b3d0(_0x4c8b5d(_0x82ce64,_0x4fd622,_0x40a6a7));var _0x3d410e=_0x56b3d0(_0x4c8b5d(_0x82ce64,_0x4fd622,_0x8cb308));if(_0x393640!==_0x307a2e&&_0x2e79b8!==_0x3d410e)return!![];if(_0x393640===0x0&&_0x587568(_0x40a6a7,_0x82ce64,_0x8cb308))return!![];if(_0x307a2e===0x0&&_0x587568(_0x40a6a7,_0x4fd622,_0x8cb308))return!![];if(_0x2e79b8===0x0&&_0x587568(_0x82ce64,_0x40a6a7,_0x4fd622))return!![];if(_0x3d410e===0x0&&_0x587568(_0x82ce64,_0x8cb308,_0x4fd622))return!![];return![];}function _0x587568(_0x4bb410,_0x43dbad,_0x399b8d){return _0x43dbad['x']<=Math[_0x2f63('0x5d')](_0x4bb410['x'],_0x399b8d['x'])&&_0x43dbad['x']>=Math[_0x2f63('0x5e')](_0x4bb410['x'],_0x399b8d['x'])&&_0x43dbad['y']<=Math[_0x2f63('0x5d')](_0x4bb410['y'],_0x399b8d['y'])&&_0x43dbad['y']>=Math[_0x2f63('0x5e')](_0x4bb410['y'],_0x399b8d['y']);}function _0x56b3d0(_0x4b2bc3){return _0x4b2bc3>0x0?0x1:_0x4b2bc3<0x0?-0x1:0x0;}function _0x1e002b(_0x316434,_0x187905){var _0x2d0c23=_0x316434;do{if(_0x2d0c23['i']!==_0x316434['i']&&_0x2d0c23['next']['i']!==_0x316434['i']&&_0x2d0c23['i']!==_0x187905['i']&&_0x2d0c23[_0x2f63('0x21')]['i']!==_0x187905['i']&&_0x1a6b6b(_0x2d0c23,_0x2d0c23[_0x2f63('0x21')],_0x316434,_0x187905))return!![];_0x2d0c23=_0x2d0c23[_0x2f63('0x21')];}while(_0x2d0c23!==_0x316434);return![];}function _0x429249(_0x1c4ba5,_0x4d2546){return _0x4c8b5d(_0x1c4ba5[_0x2f63('0x46')],_0x1c4ba5,_0x1c4ba5[_0x2f63('0x21')])<0x0?_0x4c8b5d(_0x1c4ba5,_0x4d2546,_0x1c4ba5[_0x2f63('0x21')])>=0x0&&_0x4c8b5d(_0x1c4ba5,_0x1c4ba5[_0x2f63('0x46')],_0x4d2546)>=0x0:_0x4c8b5d(_0x1c4ba5,_0x4d2546,_0x1c4ba5['prev'])<0x0||_0x4c8b5d(_0x1c4ba5,_0x1c4ba5[_0x2f63('0x21')],_0x4d2546)<0x0;}function _0xee9f33(_0x2050a3,_0x55f744){var _0x5a637c=_0x2050a3,_0x6d4510=![],_0x494f25=(_0x2050a3['x']+_0x55f744['x'])/0x2,_0x12020c=(_0x2050a3['y']+_0x55f744['y'])/0x2;do{if(_0x5a637c['y']>_0x12020c!==_0x5a637c[_0x2f63('0x21')]['y']>_0x12020c&&_0x5a637c[_0x2f63('0x21')]['y']!==_0x5a637c['y']&&_0x494f25<(_0x5a637c['next']['x']-_0x5a637c['x'])*(_0x12020c-_0x5a637c['y'])/(_0x5a637c[_0x2f63('0x21')]['y']-_0x5a637c['y'])+_0x5a637c['x'])_0x6d4510=!_0x6d4510;_0x5a637c=_0x5a637c['next'];}while(_0x5a637c!==_0x2050a3);return _0x6d4510;}function _0x3a6c18(_0x3d93fa,_0x4c4886){var _0x4ebe12=new _0x454521(_0x3d93fa['i'],_0x3d93fa['x'],_0x3d93fa['y']),_0x2ec33e=new _0x454521(_0x4c4886['i'],_0x4c4886['x'],_0x4c4886['y']),_0x22b90d=_0x3d93fa[_0x2f63('0x21')],_0x46ca61=_0x4c4886[_0x2f63('0x46')];_0x3d93fa['next']=_0x4c4886;_0x4c4886[_0x2f63('0x46')]=_0x3d93fa;_0x4ebe12[_0x2f63('0x21')]=_0x22b90d;_0x22b90d[_0x2f63('0x46')]=_0x4ebe12;_0x2ec33e['next']=_0x4ebe12;_0x4ebe12[_0x2f63('0x46')]=_0x2ec33e;_0x46ca61['next']=_0x2ec33e;_0x2ec33e['prev']=_0x46ca61;return _0x2ec33e;}function _0x7867e9(_0x5133e7,_0x3ddd1c,_0x224512,_0x19fc61){var _0x4f636b=new _0x454521(_0x5133e7,_0x3ddd1c,_0x224512);if(!_0x19fc61){_0x4f636b['prev']=_0x4f636b;_0x4f636b[_0x2f63('0x21')]=_0x4f636b;}else{_0x4f636b['next']=_0x19fc61[_0x2f63('0x21')];_0x4f636b['prev']=_0x19fc61;_0x19fc61[_0x2f63('0x21')][_0x2f63('0x46')]=_0x4f636b;_0x19fc61['next']=_0x4f636b;}return _0x4f636b;}function _0x325e82(_0x41b4e5){_0x41b4e5[_0x2f63('0x21')][_0x2f63('0x46')]=_0x41b4e5['prev'];_0x41b4e5[_0x2f63('0x46')][_0x2f63('0x21')]=_0x41b4e5[_0x2f63('0x21')];if(_0x41b4e5[_0x2f63('0x249')])_0x41b4e5[_0x2f63('0x249')][_0x2f63('0x24a')]=_0x41b4e5['nextZ'];if(_0x41b4e5['nextZ'])_0x41b4e5['nextZ'][_0x2f63('0x249')]=_0x41b4e5[_0x2f63('0x249')];}function _0x454521(_0x13fbb6,_0x39183e,_0x224512){this['i']=_0x13fbb6;this['x']=_0x39183e;this['y']=_0x224512;this['prev']=null;this[_0x2f63('0x21')]=null;this['z']=null;this[_0x2f63('0x249')]=null;this[_0x2f63('0x24a')]=null;this[_0x2f63('0x248')]=![];}_0x3b3de1[_0x2f63('0x24b')]=function(_0x59e131,_0x4ce009,_0x503e2c,_0x48d5e2){var _0x2e89bd=_0x4ce009&&_0x4ce009[_0x2f63('0x38')];var _0x257fa2=_0x2e89bd?_0x4ce009[0x0]*_0x503e2c:_0x59e131['length'];var _0x197a35=Math['abs'](_0x3fb3a7(_0x59e131,0x0,_0x257fa2,_0x503e2c));if(_0x2e89bd){for(var _0x243146=0x0,_0x1ea5f1=_0x4ce009[_0x2f63('0x38')];_0x243146<_0x1ea5f1;_0x243146++){var _0x5b12b9=_0x4ce009[_0x243146]*_0x503e2c;var _0x5389de=_0x243146<_0x1ea5f1-0x1?_0x4ce009[_0x243146+0x1]*_0x503e2c:_0x59e131['length'];_0x197a35-=Math[_0x2f63('0x75')](_0x3fb3a7(_0x59e131,_0x5b12b9,_0x5389de,_0x503e2c));}}var _0x562900=0x0;for(_0x243146=0x0;_0x243146<_0x48d5e2[_0x2f63('0x38')];_0x243146+=0x3){var _0x5d7914=_0x48d5e2[_0x243146]*_0x503e2c;var _0x539173=_0x48d5e2[_0x243146+0x1]*_0x503e2c;var _0x1f48f6=_0x48d5e2[_0x243146+0x2]*_0x503e2c;_0x562900+=Math['abs']((_0x59e131[_0x5d7914]-_0x59e131[_0x1f48f6])*(_0x59e131[_0x539173+0x1]-_0x59e131[_0x5d7914+0x1])-(_0x59e131[_0x5d7914]-_0x59e131[_0x539173])*(_0x59e131[_0x1f48f6+0x1]-_0x59e131[_0x5d7914+0x1]));}return _0x197a35===0x0&&_0x562900===0x0?0x0:Math[_0x2f63('0x75')]((_0x562900-_0x197a35)/_0x197a35);};function _0x3fb3a7(_0x1e6385,_0x2179d3,_0x4ee1d6,_0x31336b){var _0x2785c6=0x0;for(var _0x56c936=_0x2179d3,_0xc0aa60=_0x4ee1d6-_0x31336b;_0x56c936<_0x4ee1d6;_0x56c936+=_0x31336b){_0x2785c6+=(_0x1e6385[_0xc0aa60]-_0x1e6385[_0x56c936])*(_0x1e6385[_0x56c936+0x1]+_0x1e6385[_0xc0aa60+0x1]);_0xc0aa60=_0x56c936;}return _0x2785c6;}_0x3b3de1[_0x2f63('0x24c')]=function(_0x29fe5a){var _0x3c65cf=_0x29fe5a[0x0][0x0]['length'],_0x5edece={'vertices':[],'holes':[],'dimensions':_0x3c65cf},_0x31a76d=0x0;for(var _0x5ec79c=0x0;_0x5ec79c<_0x29fe5a['length'];_0x5ec79c++){for(var _0x172622=0x0;_0x172622<_0x29fe5a[_0x5ec79c][_0x2f63('0x38')];_0x172622++){for(var _0x39691d=0x0;_0x39691d<_0x3c65cf;_0x39691d++){_0x5edece['vertices']['push'](_0x29fe5a[_0x5ec79c][_0x172622][_0x39691d]);}}if(_0x5ec79c>0x0){_0x31a76d+=_0x29fe5a[_0x5ec79c-0x1][_0x2f63('0x38')];_0x5edece['holes'][_0x2f63('0x34')](_0x31a76d);}}return _0x5edece;};_0x439b2c[_0x2f63('0xc')]=_0x235cd7;var _0x59657c=_0x2f63('0x24d');var _0x55ff6d={'version':_0x59657c};var _0x115c59=Object[_0x2f63('0x24e')]({'__proto__':null,'version':_0x59657c,'default':_0x55ff6d});function _0xe03ef7(_0x14ac0e){return'('+_0x14ac0e['x']+';'+_0x14ac0e['y']+')';}function _0x3c4024(_0x471da2){var _0x389309=_0x471da2[_0x2f63('0x41')]();return _0x389309===_0x2f63('0x24f')?_0xe03ef7(_0x471da2):_0x389309;}function _0x19a779(_0x1a9dbd,_0x7c60c){if(_0x1a9dbd['y']===_0x7c60c['y']){return _0x1a9dbd['x']-_0x7c60c['x'];}else{return _0x1a9dbd['y']-_0x7c60c['y'];}}function _0x533c72(_0x265681,_0x39589d){return _0x265681['x']===_0x39589d['x']&&_0x265681['y']===_0x39589d['y'];}var _0x295421={'toString':_0x3c4024,'toStringBase':_0xe03ef7,'compare':_0x19a779,'equals':_0x533c72};var _0x2083aa=function _0x2083aa(_0x810873,_0x5e8bf3){this[_0x2f63('0x3c')]='PointError';this['points']=_0x5e8bf3=_0x5e8bf3||[];this[_0x2f63('0x1d7')]=_0x810873||_0x2f63('0x250');for(var _0x133c29=0x0;_0x133c29<_0x5e8bf3[_0x2f63('0x38')];_0x133c29++){this[_0x2f63('0x1d7')]+='\x20'+_0x295421[_0x2f63('0x41')](_0x5e8bf3[_0x133c29]);}};_0x2083aa[_0x2f63('0x9')]=new Error();_0x2083aa[_0x2f63('0x9')][_0x2f63('0x14')]=_0x2083aa;var _0x177640=_0x2083aa;var _0x184c45=function _0x184c45(_0x5d529f,_0x224512){this['x']=+_0x5d529f||0x0;this['y']=+_0x224512||0x0;this[_0x2f63('0x251')]=null;};_0x184c45[_0x2f63('0x9')]['toString']=function(){return _0x295421[_0x2f63('0x252')](this);};_0x184c45[_0x2f63('0x9')][_0x2f63('0x141')]=function(){return{'x':this['x'],'y':this['y']};};_0x184c45[_0x2f63('0x9')][_0x2f63('0x68')]=function(){return new _0x184c45(this['x'],this['y']);};_0x184c45[_0x2f63('0x9')][_0x2f63('0x253')]=function(){this['x']=0x0;this['y']=0x0;return this;};_0x184c45['prototype'][_0x2f63('0x67')]=function(_0x54635d,_0x224512){this['x']=+_0x54635d||0x0;this['y']=+_0x224512||0x0;return this;};_0x184c45[_0x2f63('0x9')][_0x2f63('0xcc')]=function(){this['x']=-this['x'];this['y']=-this['y'];return this;};_0x184c45[_0x2f63('0x9')]['add']=function(_0x52ce1b){this['x']+=_0x52ce1b['x'];this['y']+=_0x52ce1b['y'];return this;};_0x184c45[_0x2f63('0x9')][_0x2f63('0xb5')]=function(_0x5acdfd){this['x']-=_0x5acdfd['x'];this['y']-=_0x5acdfd['y'];return this;};_0x184c45[_0x2f63('0x9')]['mul']=function(_0x389309){this['x']*=_0x389309;this['y']*=_0x389309;return this;};_0x184c45['prototype']['length']=function(){return Math[_0x2f63('0x84')](this['x']*this['x']+this['y']*this['y']);};_0x184c45['prototype'][_0x2f63('0x74')]=function(){var _0x35e62b=this[_0x2f63('0x38')]();this['x']/=_0x35e62b;this['y']/=_0x35e62b;return _0x35e62b;};_0x184c45[_0x2f63('0x9')]['equals']=function(_0x5727f5){return this['x']===_0x5727f5['x']&&this['y']===_0x5727f5['y'];};_0x184c45[_0x2f63('0xcc')]=function(_0x577e22){return new _0x184c45(-_0x577e22['x'],-_0x577e22['y']);};_0x184c45[_0x2f63('0xb0')]=function(_0x5a5de2,_0x28de1b){return new _0x184c45(_0x5a5de2['x']+_0x28de1b['x'],_0x5a5de2['y']+_0x28de1b['y']);};_0x184c45[_0x2f63('0xb5')]=function(_0x420cc2,_0x4c27b8){return new _0x184c45(_0x420cc2['x']-_0x4c27b8['x'],_0x420cc2['y']-_0x4c27b8['y']);};_0x184c45[_0x2f63('0x254')]=function(_0x389309,_0x56278b){return new _0x184c45(_0x389309*_0x56278b['x'],_0x389309*_0x56278b['y']);};_0x184c45['cross']=function(_0x54cfee,_0xa4892b){if(typeof _0x54cfee===_0x2f63('0x154')){if(typeof _0xa4892b===_0x2f63('0x154')){return _0x54cfee*_0xa4892b;}else{return new _0x184c45(-_0x54cfee*_0xa4892b['y'],_0x54cfee*_0xa4892b['x']);}}else{if(typeof _0xa4892b==='number'){return new _0x184c45(_0xa4892b*_0x54cfee['y'],-_0xa4892b*_0x54cfee['x']);}else{return _0x54cfee['x']*_0xa4892b['y']-_0x54cfee['y']*_0xa4892b['x'];}}};_0x184c45[_0x2f63('0x41')]=_0x295421[_0x2f63('0x41')];_0x184c45['compare']=_0x295421[_0x2f63('0x255')];_0x184c45['cmp']=_0x295421[_0x2f63('0x255')];_0x184c45[_0x2f63('0xa7')]=_0x295421['equals'];_0x184c45['dot']=function(_0x8b683a,_0x2d315a){return _0x8b683a['x']*_0x2d315a['x']+_0x8b683a['y']*_0x2d315a['y'];};var _0x47e1b5=_0x184c45;var _0x424064=function _0x424064(_0x120b62,_0x1c9b8b,_0x2b8952){this[_0x2f63('0x256')]=[_0x120b62,_0x1c9b8b,_0x2b8952];this[_0x2f63('0x257')]=[null,null,null];this[_0x2f63('0x258')]=![];this['constrained_edge']=[![],![],![]];this[_0x2f63('0x259')]=[![],![],![]];};var _0x57a2ce=_0x295421[_0x2f63('0x41')];_0x424064['prototype'][_0x2f63('0x41')]=function(){return'['+_0x57a2ce(this[_0x2f63('0x256')][0x0])+_0x57a2ce(this[_0x2f63('0x256')][0x1])+_0x57a2ce(this[_0x2f63('0x256')][0x2])+']';};_0x424064[_0x2f63('0x9')]['getPoint']=function(_0x4f25c6){return this[_0x2f63('0x256')][_0x4f25c6];};_0x424064[_0x2f63('0x9')][_0x2f63('0x25a')]=_0x424064['prototype'][_0x2f63('0x25b')];_0x424064[_0x2f63('0x9')][_0x2f63('0x25c')]=function(){return this[_0x2f63('0x256')];};_0x424064['prototype']['getNeighbor']=function(_0xaf9ce0){return this[_0x2f63('0x257')][_0xaf9ce0];};_0x424064[_0x2f63('0x9')][_0x2f63('0x100')]=function(_0x47e1b5){var _0x49856c=this['points_'];return _0x47e1b5===_0x49856c[0x0]||_0x47e1b5===_0x49856c[0x1]||_0x47e1b5===_0x49856c[0x2];};_0x424064[_0x2f63('0x9')]['containsEdge']=function(_0x127d34){return this['containsPoint'](_0x127d34['p'])&&this['containsPoint'](_0x127d34['q']);};_0x424064[_0x2f63('0x9')]['containsPoints']=function(_0x50ca41,_0x551c62){return this['containsPoint'](_0x50ca41)&&this[_0x2f63('0x100')](_0x551c62);};_0x424064[_0x2f63('0x9')][_0x2f63('0x25d')]=function(){return this['interior_'];};_0x424064['prototype'][_0x2f63('0x25e')]=function(_0x1ce3eb){this[_0x2f63('0x258')]=_0x1ce3eb;return this;};_0x424064[_0x2f63('0x9')][_0x2f63('0x25f')]=function(_0x74c27e,_0x4c9c30,_0x35de26){var _0x130e88=this[_0x2f63('0x256')];if(_0x74c27e===_0x130e88[0x2]&&_0x4c9c30===_0x130e88[0x1]||_0x74c27e===_0x130e88[0x1]&&_0x4c9c30===_0x130e88[0x2]){this[_0x2f63('0x257')][0x0]=_0x35de26;}else if(_0x74c27e===_0x130e88[0x0]&&_0x4c9c30===_0x130e88[0x2]||_0x74c27e===_0x130e88[0x2]&&_0x4c9c30===_0x130e88[0x0]){this['neighbors_'][0x1]=_0x35de26;}else if(_0x74c27e===_0x130e88[0x0]&&_0x4c9c30===_0x130e88[0x1]||_0x74c27e===_0x130e88[0x1]&&_0x4c9c30===_0x130e88[0x0]){this[_0x2f63('0x257')][0x2]=_0x35de26;}else{throw new Error(_0x2f63('0x260'));}};_0x424064[_0x2f63('0x9')][_0x2f63('0x261')]=function(_0x51db19){var _0x12dc13=this[_0x2f63('0x256')];if(_0x51db19[_0x2f63('0x262')](_0x12dc13[0x1],_0x12dc13[0x2])){this['neighbors_'][0x0]=_0x51db19;_0x51db19[_0x2f63('0x25f')](_0x12dc13[0x1],_0x12dc13[0x2],this);}else if(_0x51db19[_0x2f63('0x262')](_0x12dc13[0x0],_0x12dc13[0x2])){this[_0x2f63('0x257')][0x1]=_0x51db19;_0x51db19['markNeighborPointers'](_0x12dc13[0x0],_0x12dc13[0x2],this);}else if(_0x51db19[_0x2f63('0x262')](_0x12dc13[0x0],_0x12dc13[0x1])){this[_0x2f63('0x257')][0x2]=_0x51db19;_0x51db19['markNeighborPointers'](_0x12dc13[0x0],_0x12dc13[0x1],this);}};_0x424064[_0x2f63('0x9')]['clearNeighbors']=function(){this['neighbors_'][0x0]=null;this[_0x2f63('0x257')][0x1]=null;this[_0x2f63('0x257')][0x2]=null;};_0x424064['prototype']['clearDelaunayEdges']=function(){this[_0x2f63('0x259')][0x0]=![];this[_0x2f63('0x259')][0x1]=![];this[_0x2f63('0x259')][0x2]=![];};_0x424064[_0x2f63('0x9')]['pointCW']=function(_0x5bad2b){var _0x349445=this[_0x2f63('0x256')];if(_0x5bad2b===_0x349445[0x0]){return _0x349445[0x2];}else if(_0x5bad2b===_0x349445[0x1]){return _0x349445[0x0];}else if(_0x5bad2b===_0x349445[0x2]){return _0x349445[0x1];}else{return null;}};_0x424064[_0x2f63('0x9')][_0x2f63('0x263')]=function(_0x2b4e84){var _0x162f68=this['points_'];if(_0x2b4e84===_0x162f68[0x0]){return _0x162f68[0x1];}else if(_0x2b4e84===_0x162f68[0x1]){return _0x162f68[0x2];}else if(_0x2b4e84===_0x162f68[0x2]){return _0x162f68[0x0];}else{return null;}};_0x424064[_0x2f63('0x9')]['neighborCW']=function(_0x4e87bf){if(_0x4e87bf===this[_0x2f63('0x256')][0x0]){return this['neighbors_'][0x1];}else if(_0x4e87bf===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x257')][0x2];}else{return this[_0x2f63('0x257')][0x0];}};_0x424064['prototype'][_0x2f63('0x264')]=function(_0xccef2d){if(_0xccef2d===this[_0x2f63('0x256')][0x0]){return this['neighbors_'][0x2];}else if(_0xccef2d===this['points_'][0x1]){return this[_0x2f63('0x257')][0x0];}else{return this[_0x2f63('0x257')][0x1];}};_0x424064[_0x2f63('0x9')][_0x2f63('0x265')]=function(_0x5c1746){if(_0x5c1746===this[_0x2f63('0x256')][0x0]){return this[_0x2f63('0x266')][0x1];}else if(_0x5c1746===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x266')][0x2];}else{return this[_0x2f63('0x266')][0x0];}};_0x424064[_0x2f63('0x9')][_0x2f63('0x267')]=function(_0x5dd065){if(_0x5dd065===this[_0x2f63('0x256')][0x0]){return this[_0x2f63('0x266')][0x2];}else if(_0x5dd065===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x266')][0x0];}else{return this[_0x2f63('0x266')][0x1];}};_0x424064[_0x2f63('0x9')][_0x2f63('0x268')]=function(_0x45e9ff){if(_0x45e9ff===this['points_'][0x0]){return this[_0x2f63('0x266')][0x0];}else if(_0x45e9ff===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x266')][0x1];}else{return this[_0x2f63('0x266')][0x2];}};_0x424064[_0x2f63('0x9')][_0x2f63('0x269')]=function(_0x240e05,_0x49bb53){if(_0x240e05===this['points_'][0x0]){this[_0x2f63('0x266')][0x1]=_0x49bb53;}else if(_0x240e05===this[_0x2f63('0x256')][0x1]){this[_0x2f63('0x266')][0x2]=_0x49bb53;}else{this['constrained_edge'][0x0]=_0x49bb53;}};_0x424064[_0x2f63('0x9')][_0x2f63('0x26a')]=function(_0x5e5268,_0x2a0ee7){if(_0x5e5268===this['points_'][0x0]){this[_0x2f63('0x266')][0x2]=_0x2a0ee7;}else if(_0x5e5268===this[_0x2f63('0x256')][0x1]){this[_0x2f63('0x266')][0x0]=_0x2a0ee7;}else{this[_0x2f63('0x266')][0x1]=_0x2a0ee7;}};_0x424064['prototype'][_0x2f63('0x26b')]=function(_0x152d51){if(_0x152d51===this[_0x2f63('0x256')][0x0]){return this[_0x2f63('0x259')][0x1];}else if(_0x152d51===this[_0x2f63('0x256')][0x1]){return this['delaunay_edge'][0x2];}else{return this[_0x2f63('0x259')][0x0];}};_0x424064[_0x2f63('0x9')][_0x2f63('0x26c')]=function(_0xbe9173){if(_0xbe9173===this[_0x2f63('0x256')][0x0]){return this[_0x2f63('0x259')][0x2];}else if(_0xbe9173===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x259')][0x0];}else{return this[_0x2f63('0x259')][0x1];}};_0x424064['prototype'][_0x2f63('0x26d')]=function(_0x5db231,_0x43e391){if(_0x5db231===this[_0x2f63('0x256')][0x0]){this[_0x2f63('0x259')][0x1]=_0x43e391;}else if(_0x5db231===this[_0x2f63('0x256')][0x1]){this[_0x2f63('0x259')][0x2]=_0x43e391;}else{this[_0x2f63('0x259')][0x0]=_0x43e391;}};_0x424064[_0x2f63('0x9')][_0x2f63('0x26e')]=function(_0x7f265e,_0x13d178){if(_0x7f265e===this[_0x2f63('0x256')][0x0]){this[_0x2f63('0x259')][0x2]=_0x13d178;}else if(_0x7f265e===this[_0x2f63('0x256')][0x1]){this[_0x2f63('0x259')][0x0]=_0x13d178;}else{this[_0x2f63('0x259')][0x1]=_0x13d178;}};_0x424064[_0x2f63('0x9')]['neighborAcross']=function(_0x1e9168){if(_0x1e9168===this[_0x2f63('0x256')][0x0]){return this[_0x2f63('0x257')][0x0];}else if(_0x1e9168===this[_0x2f63('0x256')][0x1]){return this[_0x2f63('0x257')][0x1];}else{return this['neighbors_'][0x2];}};_0x424064['prototype'][_0x2f63('0x26f')]=function(_0xb91a8,_0x3e33f0){var _0x1b75b5=_0xb91a8[_0x2f63('0x270')](_0x3e33f0);return this[_0x2f63('0x270')](_0x1b75b5);};_0x424064[_0x2f63('0x9')][_0x2f63('0x271')]=function(_0x3ec466,_0x16db6b){var _0x3ddc1e=this[_0x2f63('0x256')];if(_0x3ec466===_0x3ddc1e[0x0]){_0x3ddc1e[0x1]=_0x3ddc1e[0x0];_0x3ddc1e[0x0]=_0x3ddc1e[0x2];_0x3ddc1e[0x2]=_0x16db6b;}else if(_0x3ec466===_0x3ddc1e[0x1]){_0x3ddc1e[0x2]=_0x3ddc1e[0x1];_0x3ddc1e[0x1]=_0x3ddc1e[0x0];_0x3ddc1e[0x0]=_0x16db6b;}else if(_0x3ec466===_0x3ddc1e[0x2]){_0x3ddc1e[0x0]=_0x3ddc1e[0x2];_0x3ddc1e[0x2]=_0x3ddc1e[0x1];_0x3ddc1e[0x1]=_0x16db6b;}else{throw new Error('poly2tri\x20Invalid\x20Triangle.legalize()\x20call');}};_0x424064[_0x2f63('0x9')][_0x2f63('0x1f8')]=function(_0x3089ee){var _0x103d72=this[_0x2f63('0x256')];if(_0x3089ee===_0x103d72[0x0]){return 0x0;}else if(_0x3089ee===_0x103d72[0x1]){return 0x1;}else if(_0x3089ee===_0x103d72[0x2]){return 0x2;}else{throw new Error('poly2tri\x20Invalid\x20Triangle.index()\x20call');}};_0x424064['prototype']['edgeIndex']=function(_0x3468c0,_0x53e127){var _0x45d143=this['points_'];if(_0x3468c0===_0x45d143[0x0]){if(_0x53e127===_0x45d143[0x1]){return 0x2;}else if(_0x53e127===_0x45d143[0x2]){return 0x1;}}else if(_0x3468c0===_0x45d143[0x1]){if(_0x53e127===_0x45d143[0x2]){return 0x0;}else if(_0x53e127===_0x45d143[0x0]){return 0x2;}}else if(_0x3468c0===_0x45d143[0x2]){if(_0x53e127===_0x45d143[0x0]){return 0x1;}else if(_0x53e127===_0x45d143[0x1]){return 0x0;}}return-0x1;};_0x424064[_0x2f63('0x9')][_0x2f63('0x272')]=function(_0x6fc854){this['constrained_edge'][_0x6fc854]=!![];};_0x424064[_0x2f63('0x9')][_0x2f63('0x273')]=function(_0x2d5bb4){this[_0x2f63('0x274')](_0x2d5bb4['p'],_0x2d5bb4['q']);};_0x424064[_0x2f63('0x9')][_0x2f63('0x274')]=function(_0x29d306,_0x45e2c5){var _0x1dc43b=this[_0x2f63('0x256')];if(_0x45e2c5===_0x1dc43b[0x0]&&_0x29d306===_0x1dc43b[0x1]||_0x45e2c5===_0x1dc43b[0x1]&&_0x29d306===_0x1dc43b[0x0]){this['constrained_edge'][0x2]=!![];}else if(_0x45e2c5===_0x1dc43b[0x0]&&_0x29d306===_0x1dc43b[0x2]||_0x45e2c5===_0x1dc43b[0x2]&&_0x29d306===_0x1dc43b[0x0]){this['constrained_edge'][0x1]=!![];}else if(_0x45e2c5===_0x1dc43b[0x1]&&_0x29d306===_0x1dc43b[0x2]||_0x45e2c5===_0x1dc43b[0x2]&&_0x29d306===_0x1dc43b[0x1]){this['constrained_edge'][0x0]=!![];}};var _0x35036b=_0x424064;function _0x16b258(_0x200b46,_0x2e0b10){if(!_0x200b46){throw new Error(_0x2e0b10||'Assert\x20Failed');}}var _0x33aaa5=_0x16b258;var _0x57b4f4=function _0x454521(_0x291191,_0x3b8164){this[_0x2f63('0x275')]=_0x291191;this[_0x2f63('0x276')]=_0x3b8164||null;this['next']=null;this['prev']=null;this[_0x2f63('0xd')]=_0x291191['x'];};var _0x499694=function _0x499694(_0x27ca89,_0x2280d1){this['head_']=_0x27ca89;this[_0x2f63('0x277')]=_0x2280d1;this[_0x2f63('0x278')]=_0x27ca89;};_0x499694[_0x2f63('0x9')][_0x2f63('0x279')]=function(){return this[_0x2f63('0x27a')];};_0x499694[_0x2f63('0x9')][_0x2f63('0x27b')]=function(_0xb7c575){this['head_']=_0xb7c575;};_0x499694[_0x2f63('0x9')][_0x2f63('0x27c')]=function(){return this['tail_'];};_0x499694['prototype'][_0x2f63('0x27d')]=function(_0x3a200c){this[_0x2f63('0x277')]=_0x3a200c;};_0x499694[_0x2f63('0x9')][_0x2f63('0x27e')]=function(){return this['search_node_'];};_0x499694[_0x2f63('0x9')][_0x2f63('0x27f')]=function(_0x17119e){this[_0x2f63('0x278')]=_0x17119e;};_0x499694[_0x2f63('0x9')][_0x2f63('0x280')]=function(){return this[_0x2f63('0x278')];};_0x499694['prototype'][_0x2f63('0x281')]=function(_0x2321f2){var _0x263fc8=this[_0x2f63('0x278')];if(_0x2321f2<_0x263fc8['value']){while(_0x263fc8=_0x263fc8[_0x2f63('0x46')]){if(_0x2321f2>=_0x263fc8[_0x2f63('0xd')]){this[_0x2f63('0x278')]=_0x263fc8;return _0x263fc8;}}}else{while(_0x263fc8=_0x263fc8[_0x2f63('0x21')]){if(_0x2321f2<_0x263fc8[_0x2f63('0xd')]){this[_0x2f63('0x278')]=_0x263fc8[_0x2f63('0x46')];return _0x263fc8['prev'];}}}return null;};_0x499694['prototype'][_0x2f63('0x282')]=function(_0x47e1b5){var _0xdf1247=_0x47e1b5['x'];var _0x20b3a0=this[_0x2f63('0x280')](_0xdf1247);var _0x49a59f=_0x20b3a0[_0x2f63('0x275')]['x'];if(_0xdf1247===_0x49a59f){if(_0x47e1b5!==_0x20b3a0[_0x2f63('0x275')]){if(_0x47e1b5===_0x20b3a0['prev'][_0x2f63('0x275')]){_0x20b3a0=_0x20b3a0[_0x2f63('0x46')];}else if(_0x47e1b5===_0x20b3a0[_0x2f63('0x21')][_0x2f63('0x275')]){_0x20b3a0=_0x20b3a0[_0x2f63('0x21')];}else{throw new Error(_0x2f63('0x283'));}}}else if(_0xdf1247<_0x49a59f){while(_0x20b3a0=_0x20b3a0[_0x2f63('0x46')]){if(_0x47e1b5===_0x20b3a0[_0x2f63('0x275')]){break;}}}else{while(_0x20b3a0=_0x20b3a0[_0x2f63('0x21')]){if(_0x47e1b5===_0x20b3a0[_0x2f63('0x275')]){break;}}}if(_0x20b3a0){this['search_node_']=_0x20b3a0;}return _0x20b3a0;};var _0x3db711=_0x499694;var _0x3efdf9=_0x57b4f4;_0x3db711['Node']=_0x3efdf9;var _0x1b2f17=1e-12;var _0x5c8f76=_0x1b2f17;var _0x4a21f4={'CW':0x1,'CCW':-0x1,'COLLINEAR':0x0};var _0x2642e6=_0x4a21f4;function _0x4acef5(_0x4abfe6,_0x2568ef,_0x5461a5){var _0xbc12fb=(_0x4abfe6['x']-_0x5461a5['x'])*(_0x2568ef['y']-_0x5461a5['y']);var _0x17e072=(_0x4abfe6['y']-_0x5461a5['y'])*(_0x2568ef['x']-_0x5461a5['x']);var _0x3ed973=_0xbc12fb-_0x17e072;if(_0x3ed973>-_0x1b2f17&&_0x3ed973<_0x1b2f17){return _0x4a21f4[_0x2f63('0x284')];}else if(_0x3ed973>0x0){return _0x4a21f4[_0x2f63('0x285')];}else{return _0x4a21f4['CW'];}}var _0x2a9832=_0x4acef5;function _0x542bb4(_0x1c90cc,_0x4cb4fb,_0x16da69,_0x118688){var _0x2421cb=(_0x1c90cc['x']-_0x4cb4fb['x'])*(_0x118688['y']-_0x4cb4fb['y'])-(_0x118688['x']-_0x4cb4fb['x'])*(_0x1c90cc['y']-_0x4cb4fb['y']);if(_0x2421cb>=-_0x1b2f17){return![];}var _0x12ef04=(_0x1c90cc['x']-_0x16da69['x'])*(_0x118688['y']-_0x16da69['y'])-(_0x118688['x']-_0x16da69['x'])*(_0x1c90cc['y']-_0x16da69['y']);if(_0x12ef04<=_0x1b2f17){return![];}return!![];}var _0x2bc075=_0x542bb4;function _0x276856(_0x4c3165,_0x192ada,_0x5c27f5){var _0x3357a6=_0x192ada['x']-_0x4c3165['x'];var _0x17b012=_0x192ada['y']-_0x4c3165['y'];var _0x4d6188=_0x5c27f5['x']-_0x4c3165['x'];var _0x4fd2f3=_0x5c27f5['y']-_0x4c3165['y'];return _0x3357a6*_0x4d6188+_0x17b012*_0x4fd2f3<0x0;}var _0x4899de=_0x276856;var _0x10a884={'EPSILON':_0x5c8f76,'Orientation':_0x2642e6,'orient2d':_0x2a9832,'inScanArea':_0x2bc075,'isAngleObtuse':_0x4899de};var _0x169801=_0x3db711[_0x2f63('0x286')];var _0x10726b=_0x10a884[_0x2f63('0x92')];var _0x459cb8=_0x10a884[_0x2f63('0x287')];var _0x32923e=_0x10a884[_0x2f63('0x288')];var _0xd1c61a=_0x10a884[_0x2f63('0x289')];var _0x4bbae1=_0x10a884[_0x2f63('0x28a')];function _0x5b02b6(_0x5e485b){_0x5e485b[_0x2f63('0x28b')]();_0x5e485b[_0x2f63('0x28c')]();_0x336bf7(_0x5e485b);_0x5cfc7a(_0x5e485b);}function _0x336bf7(_0xbb67b7){var _0x197cd6,_0x10dd8e=_0xbb67b7[_0x2f63('0x28d')]();for(_0x197cd6=0x1;_0x197cd6<_0x10dd8e;++_0x197cd6){var _0x47e1b5=_0xbb67b7['getPoint'](_0x197cd6);var _0x763f77=_0x13f732(_0xbb67b7,_0x47e1b5);var _0x37a855=_0x47e1b5[_0x2f63('0x251')];for(var _0x1cbf0f=0x0;_0x37a855&&_0x1cbf0f<_0x37a855[_0x2f63('0x38')];++_0x1cbf0f){_0x3b8c54(_0xbb67b7,_0x37a855[_0x1cbf0f],_0x763f77);}}}function _0x5cfc7a(_0x4e391f){var _0x1dd711=_0x4e391f[_0x2f63('0x28e')]()[_0x2f63('0x279')]()[_0x2f63('0x21')][_0x2f63('0x276')];var _0x4ee489=_0x4e391f[_0x2f63('0x28e')]()[_0x2f63('0x279')]()['next']['point'];while(!_0x1dd711[_0x2f63('0x265')](_0x4ee489)){_0x1dd711=_0x1dd711[_0x2f63('0x264')](_0x4ee489);}_0x4e391f[_0x2f63('0x28f')](_0x1dd711);}function _0x13f732(_0x16f6af,_0x47e1b5){var _0x339cea=_0x16f6af[_0x2f63('0x281')](_0x47e1b5);var _0x1cd826=_0xbd20fa(_0x16f6af,_0x47e1b5,_0x339cea);if(_0x47e1b5['x']<=_0x339cea[_0x2f63('0x275')]['x']+_0x10726b){_0x547bc1(_0x16f6af,_0x339cea);}_0xc5024b(_0x16f6af,_0x1cd826);return _0x1cd826;}function _0x3b8c54(_0x36dcef,_0x527547,_0x5790a9){_0x36dcef[_0x2f63('0x290')]['constrained_edge']=_0x527547;_0x36dcef[_0x2f63('0x290')]['right']=_0x527547['p']['x']>_0x527547['q']['x'];if(_0x3dbefd(_0x5790a9['triangle'],_0x527547['p'],_0x527547['q'])){return;}_0x580f38(_0x36dcef,_0x527547,_0x5790a9);_0x299c57(_0x36dcef,_0x527547['p'],_0x527547['q'],_0x5790a9[_0x2f63('0x276')],_0x527547['q']);}function _0x299c57(_0x32b7f9,_0x5c755e,_0x5af94f,_0x35036b,_0x47e1b5){if(_0x3dbefd(_0x35036b,_0x5c755e,_0x5af94f)){return;}var _0x5678c0=_0x35036b[_0x2f63('0x263')](_0x47e1b5);var _0x55184a=_0x32923e(_0x5af94f,_0x5678c0,_0x5c755e);if(_0x55184a===_0x459cb8[_0x2f63('0x284')]){throw new _0x177640('poly2tri\x20EdgeEvent:\x20Collinear\x20not\x20supported!',[_0x5af94f,_0x5678c0,_0x5c755e]);}var _0xdad63e=_0x35036b['pointCW'](_0x47e1b5);var _0x4fd63c=_0x32923e(_0x5af94f,_0xdad63e,_0x5c755e);if(_0x4fd63c===_0x459cb8[_0x2f63('0x284')]){throw new _0x177640(_0x2f63('0x291'),[_0x5af94f,_0xdad63e,_0x5c755e]);}if(_0x55184a===_0x4fd63c){if(_0x55184a===_0x459cb8['CW']){_0x35036b=_0x35036b[_0x2f63('0x264')](_0x47e1b5);}else{_0x35036b=_0x35036b['neighborCW'](_0x47e1b5);}_0x299c57(_0x32b7f9,_0x5c755e,_0x5af94f,_0x35036b,_0x47e1b5);}else{_0x10cb7c(_0x32b7f9,_0x5c755e,_0x5af94f,_0x35036b,_0x47e1b5);}}function _0x3dbefd(_0x35036b,_0x57557c,_0x2b736a){var _0x452a15=_0x35036b[_0x2f63('0x292')](_0x57557c,_0x2b736a);if(_0x452a15!==-0x1){_0x35036b[_0x2f63('0x272')](_0x452a15);var _0x8e370e=_0x35036b[_0x2f63('0x293')](_0x452a15);if(_0x8e370e){_0x8e370e[_0x2f63('0x274')](_0x57557c,_0x2b736a);}return!![];}return![];}function _0xbd20fa(_0x54ee84,_0x47e1b5,_0x3e46a5){var _0x317dc4=new _0x35036b(_0x47e1b5,_0x3e46a5[_0x2f63('0x275')],_0x3e46a5[_0x2f63('0x21')]['point']);_0x317dc4['markNeighbor'](_0x3e46a5[_0x2f63('0x276')]);_0x54ee84[_0x2f63('0x294')](_0x317dc4);var _0x564472=new _0x169801(_0x47e1b5);_0x564472[_0x2f63('0x21')]=_0x3e46a5['next'];_0x564472[_0x2f63('0x46')]=_0x3e46a5;_0x3e46a5[_0x2f63('0x21')][_0x2f63('0x46')]=_0x564472;_0x3e46a5['next']=_0x564472;if(!_0x19a835(_0x54ee84,_0x317dc4)){_0x54ee84['mapTriangleToNodes'](_0x317dc4);}return _0x564472;}function _0x547bc1(_0x580666,_0x42938e){var _0x4917ac=new _0x35036b(_0x42938e[_0x2f63('0x46')]['point'],_0x42938e[_0x2f63('0x275')],_0x42938e[_0x2f63('0x21')][_0x2f63('0x275')]);_0x4917ac[_0x2f63('0x261')](_0x42938e[_0x2f63('0x46')][_0x2f63('0x276')]);_0x4917ac['markNeighbor'](_0x42938e[_0x2f63('0x276')]);_0x580666[_0x2f63('0x294')](_0x4917ac);_0x42938e[_0x2f63('0x46')][_0x2f63('0x21')]=_0x42938e['next'];_0x42938e['next'][_0x2f63('0x46')]=_0x42938e[_0x2f63('0x46')];if(!_0x19a835(_0x580666,_0x4917ac)){_0x580666[_0x2f63('0x295')](_0x4917ac);}}function _0xc5024b(_0x35c9d3,_0x3962bd){var _0x55fd05=_0x3962bd[_0x2f63('0x21')];while(_0x55fd05[_0x2f63('0x21')]){if(_0x4bbae1(_0x55fd05['point'],_0x55fd05[_0x2f63('0x21')][_0x2f63('0x275')],_0x55fd05[_0x2f63('0x46')]['point'])){break;}_0x547bc1(_0x35c9d3,_0x55fd05);_0x55fd05=_0x55fd05[_0x2f63('0x21')];}_0x55fd05=_0x3962bd[_0x2f63('0x46')];while(_0x55fd05['prev']){if(_0x4bbae1(_0x55fd05[_0x2f63('0x275')],_0x55fd05[_0x2f63('0x21')][_0x2f63('0x275')],_0x55fd05['prev']['point'])){break;}_0x547bc1(_0x35c9d3,_0x55fd05);_0x55fd05=_0x55fd05['prev'];}if(_0x3962bd[_0x2f63('0x21')]&&_0x3962bd[_0x2f63('0x21')][_0x2f63('0x21')]){if(_0xfb72c3(_0x3962bd)){_0xd61f36(_0x35c9d3,_0x3962bd);}}}function _0xfb72c3(_0x5acb68){var _0x22a090=_0x5acb68[_0x2f63('0x275')]['x']-_0x5acb68[_0x2f63('0x21')][_0x2f63('0x21')][_0x2f63('0x275')]['x'];var _0x13898e=_0x5acb68['point']['y']-_0x5acb68[_0x2f63('0x21')][_0x2f63('0x21')]['point']['y'];_0x33aaa5(_0x13898e>=0x0,_0x2f63('0x296'));return _0x22a090>=0x0||Math[_0x2f63('0x75')](_0x22a090)<_0x13898e;}function _0x19a835(_0x3d1c2a,_0x27abbe){for(var _0x204987=0x0;_0x204987<0x3;++_0x204987){if(_0x27abbe[_0x2f63('0x259')][_0x204987]){continue;}var _0x5397fc=_0x27abbe[_0x2f63('0x293')](_0x204987);if(_0x5397fc){var _0x3f2813=_0x27abbe[_0x2f63('0x25b')](_0x204987);var _0x31b086=_0x5397fc[_0x2f63('0x26f')](_0x27abbe,_0x3f2813);var _0x20a82c=_0x5397fc[_0x2f63('0x1f8')](_0x31b086);if(_0x5397fc[_0x2f63('0x266')][_0x20a82c]||_0x5397fc[_0x2f63('0x259')][_0x20a82c]){_0x27abbe[_0x2f63('0x266')][_0x204987]=_0x5397fc['constrained_edge'][_0x20a82c];continue;}var _0x41baa3=_0x28a5c7(_0x3f2813,_0x27abbe[_0x2f63('0x263')](_0x3f2813),_0x27abbe['pointCW'](_0x3f2813),_0x31b086);if(_0x41baa3){_0x27abbe['delaunay_edge'][_0x204987]=!![];_0x5397fc[_0x2f63('0x259')][_0x20a82c]=!![];_0x2f5daa(_0x27abbe,_0x3f2813,_0x5397fc,_0x31b086);var _0x389e35=!_0x19a835(_0x3d1c2a,_0x27abbe);if(_0x389e35){_0x3d1c2a[_0x2f63('0x295')](_0x27abbe);}_0x389e35=!_0x19a835(_0x3d1c2a,_0x5397fc);if(_0x389e35){_0x3d1c2a[_0x2f63('0x295')](_0x5397fc);}_0x27abbe['delaunay_edge'][_0x204987]=![];_0x5397fc[_0x2f63('0x259')][_0x20a82c]=![];return!![];}}}return![];}function _0x28a5c7(_0x2bf56f,_0x36cf2b,_0x6ef2e1,_0x3c7c02){var _0x4f9a03=_0x2bf56f['x']-_0x3c7c02['x'];var _0x129670=_0x2bf56f['y']-_0x3c7c02['y'];var _0x2e5c51=_0x36cf2b['x']-_0x3c7c02['x'];var _0x1305e8=_0x36cf2b['y']-_0x3c7c02['y'];var _0x2c003e=_0x4f9a03*_0x1305e8;var _0x541519=_0x2e5c51*_0x129670;var _0x2fb78a=_0x2c003e-_0x541519;if(_0x2fb78a<=0x0){return![];}var _0x3a4766=_0x6ef2e1['x']-_0x3c7c02['x'];var _0x124a35=_0x6ef2e1['y']-_0x3c7c02['y'];var _0x19f2ce=_0x3a4766*_0x129670;var _0x1cca6f=_0x4f9a03*_0x124a35;var _0x57d15f=_0x19f2ce-_0x1cca6f;if(_0x57d15f<=0x0){return![];}var _0x2e6ed1=_0x2e5c51*_0x124a35;var _0x414e42=_0x3a4766*_0x1305e8;var _0x259f95=_0x4f9a03*_0x4f9a03+_0x129670*_0x129670;var _0x5ec1a0=_0x2e5c51*_0x2e5c51+_0x1305e8*_0x1305e8;var _0x39459a=_0x3a4766*_0x3a4766+_0x124a35*_0x124a35;var _0x4f2196=_0x259f95*(_0x2e6ed1-_0x414e42)+_0x5ec1a0*_0x57d15f+_0x39459a*_0x2fb78a;return _0x4f2196>0x0;}function _0x2f5daa(_0x23f70c,_0x5a6b6d,_0x7a94b6,_0x7565aa){var _0x526cea,_0x5d1a75,_0x21f804,_0x437555;_0x526cea=_0x23f70c[_0x2f63('0x264')](_0x5a6b6d);_0x5d1a75=_0x23f70c['neighborCW'](_0x5a6b6d);_0x21f804=_0x7a94b6[_0x2f63('0x264')](_0x7565aa);_0x437555=_0x7a94b6[_0x2f63('0x297')](_0x7565aa);var _0x41d4b9,_0x283032,_0x1c33c1,_0x48e258;_0x41d4b9=_0x23f70c[_0x2f63('0x267')](_0x5a6b6d);_0x283032=_0x23f70c[_0x2f63('0x265')](_0x5a6b6d);_0x1c33c1=_0x7a94b6[_0x2f63('0x267')](_0x7565aa);_0x48e258=_0x7a94b6[_0x2f63('0x265')](_0x7565aa);var _0x39dfd2,_0x4ff615,_0x26f255,_0x4603a4;_0x39dfd2=_0x23f70c[_0x2f63('0x26c')](_0x5a6b6d);_0x4ff615=_0x23f70c[_0x2f63('0x26b')](_0x5a6b6d);_0x26f255=_0x7a94b6[_0x2f63('0x26c')](_0x7565aa);_0x4603a4=_0x7a94b6[_0x2f63('0x26b')](_0x7565aa);_0x23f70c[_0x2f63('0x271')](_0x5a6b6d,_0x7565aa);_0x7a94b6['legalize'](_0x7565aa,_0x5a6b6d);_0x7a94b6[_0x2f63('0x26e')](_0x5a6b6d,_0x39dfd2);_0x23f70c['setDelaunayEdgeCW'](_0x5a6b6d,_0x4ff615);_0x23f70c[_0x2f63('0x26e')](_0x7565aa,_0x26f255);_0x7a94b6[_0x2f63('0x26d')](_0x7565aa,_0x4603a4);_0x7a94b6[_0x2f63('0x26a')](_0x5a6b6d,_0x41d4b9);_0x23f70c['setConstrainedEdgeCW'](_0x5a6b6d,_0x283032);_0x23f70c[_0x2f63('0x26a')](_0x7565aa,_0x1c33c1);_0x7a94b6[_0x2f63('0x269')](_0x7565aa,_0x48e258);_0x23f70c[_0x2f63('0x298')]();_0x7a94b6['clearNeighbors']();if(_0x526cea){_0x7a94b6['markNeighbor'](_0x526cea);}if(_0x5d1a75){_0x23f70c[_0x2f63('0x261')](_0x5d1a75);}if(_0x21f804){_0x23f70c[_0x2f63('0x261')](_0x21f804);}if(_0x437555){_0x7a94b6[_0x2f63('0x261')](_0x437555);}_0x23f70c[_0x2f63('0x261')](_0x7a94b6);}function _0xd61f36(_0x2953c3,_0xeba2e){if(_0x32923e(_0xeba2e[_0x2f63('0x275')],_0xeba2e[_0x2f63('0x21')][_0x2f63('0x275')],_0xeba2e['next'][_0x2f63('0x21')][_0x2f63('0x275')])===_0x459cb8[_0x2f63('0x285')]){_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29a')]=_0xeba2e['next'][_0x2f63('0x21')];}else{_0x2953c3[_0x2f63('0x299')]['left_node']=_0xeba2e['next'];}_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')]=_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29a')];while(_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')][_0x2f63('0x21')]&&_0x2953c3[_0x2f63('0x299')]['bottom_node'][_0x2f63('0x275')]['y']>=_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')][_0x2f63('0x21')][_0x2f63('0x275')]['y']){_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')]=_0x2953c3['basin'][_0x2f63('0x29b')][_0x2f63('0x21')];}if(_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')]===_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29a')]){return;}_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29c')]=_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')];while(_0x2953c3[_0x2f63('0x299')]['right_node'][_0x2f63('0x21')]&&_0x2953c3['basin']['right_node']['point']['y']<_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29c')][_0x2f63('0x21')][_0x2f63('0x275')]['y']){_0x2953c3['basin'][_0x2f63('0x29c')]=_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29c')][_0x2f63('0x21')];}if(_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29c')]===_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29b')]){return;}_0x2953c3['basin'][_0x2f63('0x29d')]=_0x2953c3['basin'][_0x2f63('0x29c')][_0x2f63('0x275')]['x']-_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29a')][_0x2f63('0x275')]['x'];_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29e')]=_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29a')][_0x2f63('0x275')]['y']>_0x2953c3[_0x2f63('0x299')][_0x2f63('0x29c')][_0x2f63('0x275')]['y'];_0x1fc859(_0x2953c3,_0x2953c3['basin'][_0x2f63('0x29b')]);}function _0x1fc859(_0x4f3ff6,_0x2b0042){if(_0x30444e(_0x4f3ff6,_0x2b0042)){return;}_0x547bc1(_0x4f3ff6,_0x2b0042);var _0x37f849;if(_0x2b0042['prev']===_0x4f3ff6[_0x2f63('0x299')][_0x2f63('0x29a')]&&_0x2b0042[_0x2f63('0x21')]===_0x4f3ff6[_0x2f63('0x299')]['right_node']){return;}else if(_0x2b0042[_0x2f63('0x46')]===_0x4f3ff6['basin'][_0x2f63('0x29a')]){_0x37f849=_0x32923e(_0x2b0042['point'],_0x2b0042['next']['point'],_0x2b0042['next']['next'][_0x2f63('0x275')]);if(_0x37f849===_0x459cb8['CW']){return;}_0x2b0042=_0x2b0042[_0x2f63('0x21')];}else if(_0x2b0042[_0x2f63('0x21')]===_0x4f3ff6[_0x2f63('0x299')][_0x2f63('0x29c')]){_0x37f849=_0x32923e(_0x2b0042['point'],_0x2b0042[_0x2f63('0x46')][_0x2f63('0x275')],_0x2b0042[_0x2f63('0x46')]['prev'][_0x2f63('0x275')]);if(_0x37f849===_0x459cb8[_0x2f63('0x285')]){return;}_0x2b0042=_0x2b0042['prev'];}else{if(_0x2b0042[_0x2f63('0x46')][_0x2f63('0x275')]['y']<_0x2b0042[_0x2f63('0x21')][_0x2f63('0x275')]['y']){_0x2b0042=_0x2b0042[_0x2f63('0x46')];}else{_0x2b0042=_0x2b0042[_0x2f63('0x21')];}}_0x1fc859(_0x4f3ff6,_0x2b0042);}function _0x30444e(_0x5b11b1,_0x1b502c){var _0x248f7c;if(_0x5b11b1[_0x2f63('0x299')]['left_highest']){_0x248f7c=_0x5b11b1[_0x2f63('0x299')][_0x2f63('0x29a')][_0x2f63('0x275')]['y']-_0x1b502c['point']['y'];}else{_0x248f7c=_0x5b11b1['basin'][_0x2f63('0x29c')][_0x2f63('0x275')]['y']-_0x1b502c[_0x2f63('0x275')]['y'];}if(_0x5b11b1[_0x2f63('0x299')][_0x2f63('0x29d')]>_0x248f7c){return!![];}return![];}function _0x580f38(_0x5177a1,_0x4b9f9c,_0x33a8af){if(_0x5177a1['edge_event']['right']){_0x3d9fe9(_0x5177a1,_0x4b9f9c,_0x33a8af);}else{_0x510185(_0x5177a1,_0x4b9f9c,_0x33a8af);}}function _0x3d9fe9(_0x2525a2,_0x5a4c0d,_0xaaac9){while(_0xaaac9['next'][_0x2f63('0x275')]['x']<_0x5a4c0d['p']['x']){if(_0x32923e(_0x5a4c0d['q'],_0xaaac9[_0x2f63('0x21')]['point'],_0x5a4c0d['p'])===_0x459cb8[_0x2f63('0x285')]){_0x25e71c(_0x2525a2,_0x5a4c0d,_0xaaac9);}else{_0xaaac9=_0xaaac9[_0x2f63('0x21')];}}}function _0x25e71c(_0x126942,_0x567bf1,_0x22d455){if(_0x22d455[_0x2f63('0x275')]['x']<_0x567bf1['p']['x']){if(_0x32923e(_0x22d455['point'],_0x22d455[_0x2f63('0x21')][_0x2f63('0x275')],_0x22d455[_0x2f63('0x21')][_0x2f63('0x21')]['point'])===_0x459cb8['CCW']){_0x5d6d0a(_0x126942,_0x567bf1,_0x22d455);}else{_0x3d0d66(_0x126942,_0x567bf1,_0x22d455);_0x25e71c(_0x126942,_0x567bf1,_0x22d455);}}}function _0x5d6d0a(_0x2c59e8,_0x4f406b,_0x4d3bea){_0x547bc1(_0x2c59e8,_0x4d3bea[_0x2f63('0x21')]);if(_0x4d3bea[_0x2f63('0x21')][_0x2f63('0x275')]!==_0x4f406b['p']){if(_0x32923e(_0x4f406b['q'],_0x4d3bea[_0x2f63('0x21')][_0x2f63('0x275')],_0x4f406b['p'])===_0x459cb8[_0x2f63('0x285')]){if(_0x32923e(_0x4d3bea[_0x2f63('0x275')],_0x4d3bea[_0x2f63('0x21')][_0x2f63('0x275')],_0x4d3bea['next'][_0x2f63('0x21')][_0x2f63('0x275')])===_0x459cb8[_0x2f63('0x285')]){_0x5d6d0a(_0x2c59e8,_0x4f406b,_0x4d3bea);}}}}function _0x3d0d66(_0x57a774,_0x4aff94,_0x2f7914){if(_0x32923e(_0x2f7914['next'][_0x2f63('0x275')],_0x2f7914[_0x2f63('0x21')][_0x2f63('0x21')]['point'],_0x2f7914[_0x2f63('0x21')]['next'][_0x2f63('0x21')][_0x2f63('0x275')])===_0x459cb8[_0x2f63('0x285')]){_0x5d6d0a(_0x57a774,_0x4aff94,_0x2f7914[_0x2f63('0x21')]);}else{if(_0x32923e(_0x4aff94['q'],_0x2f7914['next'][_0x2f63('0x21')][_0x2f63('0x275')],_0x4aff94['p'])===_0x459cb8['CCW']){_0x3d0d66(_0x57a774,_0x4aff94,_0x2f7914[_0x2f63('0x21')]);}}}function _0x510185(_0x2fafd2,_0x298929,_0x4df98f){while(_0x4df98f[_0x2f63('0x46')][_0x2f63('0x275')]['x']>_0x298929['p']['x']){if(_0x32923e(_0x298929['q'],_0x4df98f[_0x2f63('0x46')][_0x2f63('0x275')],_0x298929['p'])===_0x459cb8['CW']){_0x342d63(_0x2fafd2,_0x298929,_0x4df98f);}else{_0x4df98f=_0x4df98f[_0x2f63('0x46')];}}}function _0x342d63(_0x1da6ba,_0x1198a1,_0x37f17c){if(_0x37f17c['point']['x']>_0x1198a1['p']['x']){if(_0x32923e(_0x37f17c[_0x2f63('0x275')],_0x37f17c['prev'][_0x2f63('0x275')],_0x37f17c['prev']['prev']['point'])===_0x459cb8['CW']){_0x31fa0c(_0x1da6ba,_0x1198a1,_0x37f17c);}else{_0x2e3917(_0x1da6ba,_0x1198a1,_0x37f17c);_0x342d63(_0x1da6ba,_0x1198a1,_0x37f17c);}}}function _0x2e3917(_0x3232d9,_0x326a86,_0x2090d7){if(_0x32923e(_0x2090d7['prev']['point'],_0x2090d7[_0x2f63('0x46')][_0x2f63('0x46')][_0x2f63('0x275')],_0x2090d7[_0x2f63('0x46')][_0x2f63('0x46')][_0x2f63('0x46')][_0x2f63('0x275')])===_0x459cb8['CW']){_0x31fa0c(_0x3232d9,_0x326a86,_0x2090d7[_0x2f63('0x46')]);}else{if(_0x32923e(_0x326a86['q'],_0x2090d7[_0x2f63('0x46')]['prev'][_0x2f63('0x275')],_0x326a86['p'])===_0x459cb8['CW']){_0x2e3917(_0x3232d9,_0x326a86,_0x2090d7['prev']);}}}function _0x31fa0c(_0x5b056b,_0x178f78,_0x30ad3e){_0x547bc1(_0x5b056b,_0x30ad3e['prev']);if(_0x30ad3e[_0x2f63('0x46')][_0x2f63('0x275')]!==_0x178f78['p']){if(_0x32923e(_0x178f78['q'],_0x30ad3e['prev']['point'],_0x178f78['p'])===_0x459cb8['CW']){if(_0x32923e(_0x30ad3e[_0x2f63('0x275')],_0x30ad3e[_0x2f63('0x46')][_0x2f63('0x275')],_0x30ad3e[_0x2f63('0x46')]['prev'][_0x2f63('0x275')])===_0x459cb8['CW']){_0x31fa0c(_0x5b056b,_0x178f78,_0x30ad3e);}}}}function _0x10cb7c(_0x13fbcd,_0x29bdb5,_0x3925c9,_0x2576e9,_0x17ec82){var _0x39be16=_0x2576e9[_0x2f63('0x29f')](_0x17ec82);_0x33aaa5(_0x39be16,_0x2f63('0x2a0'));var _0x3154f9=_0x39be16[_0x2f63('0x26f')](_0x2576e9,_0x17ec82);if(_0x2576e9[_0x2f63('0x268')](_0x17ec82)){var _0x1285b4=_0x2576e9[_0x2f63('0x1f8')](_0x17ec82);throw new _0x177640(_0x2f63('0x2a1'),[_0x17ec82,_0x3154f9,_0x2576e9[_0x2f63('0x25b')]((_0x1285b4+0x1)%0x3),_0x2576e9['getPoint']((_0x1285b4+0x2)%0x3)]);}if(_0xd1c61a(_0x17ec82,_0x2576e9[_0x2f63('0x263')](_0x17ec82),_0x2576e9[_0x2f63('0x270')](_0x17ec82),_0x3154f9)){_0x2f5daa(_0x2576e9,_0x17ec82,_0x39be16,_0x3154f9);_0x13fbcd[_0x2f63('0x295')](_0x2576e9);_0x13fbcd[_0x2f63('0x295')](_0x39be16);if(_0x17ec82===_0x3925c9&&_0x3154f9===_0x29bdb5){if(_0x3925c9===_0x13fbcd[_0x2f63('0x290')][_0x2f63('0x266')]['q']&&_0x29bdb5===_0x13fbcd[_0x2f63('0x290')][_0x2f63('0x266')]['p']){_0x2576e9[_0x2f63('0x274')](_0x29bdb5,_0x3925c9);_0x39be16[_0x2f63('0x274')](_0x29bdb5,_0x3925c9);_0x19a835(_0x13fbcd,_0x2576e9);_0x19a835(_0x13fbcd,_0x39be16);}}else{var _0x56d756=_0x32923e(_0x3925c9,_0x3154f9,_0x29bdb5);_0x2576e9=_0x11018e(_0x13fbcd,_0x56d756,_0x2576e9,_0x39be16,_0x17ec82,_0x3154f9);_0x10cb7c(_0x13fbcd,_0x29bdb5,_0x3925c9,_0x2576e9,_0x17ec82);}}else{var _0x5ac867=_0x18ecda(_0x29bdb5,_0x3925c9,_0x39be16,_0x3154f9);_0x4ab75b(_0x13fbcd,_0x29bdb5,_0x3925c9,_0x2576e9,_0x39be16,_0x5ac867);_0x299c57(_0x13fbcd,_0x29bdb5,_0x3925c9,_0x2576e9,_0x17ec82);}}function _0x11018e(_0x300514,_0x398c42,_0x1ce888,_0x4f41bb,_0x5d3e65,_0x5ea029){var _0x3c495a;if(_0x398c42===_0x459cb8['CCW']){_0x3c495a=_0x4f41bb['edgeIndex'](_0x5d3e65,_0x5ea029);_0x4f41bb['delaunay_edge'][_0x3c495a]=!![];_0x19a835(_0x300514,_0x4f41bb);_0x4f41bb['clearDelaunayEdges']();return _0x1ce888;}_0x3c495a=_0x1ce888[_0x2f63('0x292')](_0x5d3e65,_0x5ea029);_0x1ce888['delaunay_edge'][_0x3c495a]=!![];_0x19a835(_0x300514,_0x1ce888);_0x1ce888[_0x2f63('0x2a2')]();return _0x4f41bb;}function _0x18ecda(_0x1701f5,_0x483450,_0x56d147,_0x5a95c3){var _0x50d279=_0x32923e(_0x483450,_0x5a95c3,_0x1701f5);if(_0x50d279===_0x459cb8['CW']){return _0x56d147['pointCCW'](_0x5a95c3);}else if(_0x50d279===_0x459cb8[_0x2f63('0x285')]){return _0x56d147[_0x2f63('0x270')](_0x5a95c3);}else{throw new _0x177640(_0x2f63('0x2a3'),[_0x483450,_0x5a95c3,_0x1701f5]);}}function _0x4ab75b(_0x1243f5,_0x5ac78b,_0x4daaf1,_0x3ca9bb,_0x17c85f,_0x5d4c81){var _0x32fff6=_0x17c85f[_0x2f63('0x29f')](_0x5d4c81);_0x33aaa5(_0x32fff6,'FLIP\x20failed\x20due\x20to\x20missing\x20triangle');var _0x333438=_0x32fff6[_0x2f63('0x26f')](_0x17c85f,_0x5d4c81);if(_0xd1c61a(_0x4daaf1,_0x3ca9bb[_0x2f63('0x263')](_0x4daaf1),_0x3ca9bb[_0x2f63('0x270')](_0x4daaf1),_0x333438)){_0x10cb7c(_0x1243f5,_0x4daaf1,_0x333438,_0x32fff6,_0x333438);}else{var _0xc9cfee=_0x18ecda(_0x5ac78b,_0x4daaf1,_0x32fff6,_0x333438);_0x4ab75b(_0x1243f5,_0x5ac78b,_0x4daaf1,_0x3ca9bb,_0x32fff6,_0xc9cfee);}}var _0x4e2a56=_0x5b02b6;var _0x9550b3={'triangulate':_0x4e2a56};var _0x18d5ca=_0x3db711[_0x2f63('0x286')];var _0x22fafc=0.3;var _0x19c3cb=function _0x19c3cb(_0x4586e5,_0x243e91){this['p']=_0x4586e5;this['q']=_0x243e91;if(_0x4586e5['y']>_0x243e91['y']){this['q']=_0x4586e5;this['p']=_0x243e91;}else if(_0x4586e5['y']===_0x243e91['y']){if(_0x4586e5['x']>_0x243e91['x']){this['q']=_0x4586e5;this['p']=_0x243e91;}else if(_0x4586e5['x']===_0x243e91['x']){throw new _0x177640('poly2tri\x20Invalid\x20Edge\x20constructor:\x20repeated\x20points!',[_0x4586e5]);}}if(!this['q'][_0x2f63('0x251')]){this['q'][_0x2f63('0x251')]=[];}this['q'][_0x2f63('0x251')][_0x2f63('0x34')](this);};var _0xeb5f40=function _0xeb5f40(){this[_0x2f63('0x29a')]=null;this['bottom_node']=null;this[_0x2f63('0x29c')]=null;this['width']=0x0;this[_0x2f63('0x29e')]=![];};_0xeb5f40['prototype']['clear']=function(){this[_0x2f63('0x29a')]=null;this['bottom_node']=null;this[_0x2f63('0x29c')]=null;this['width']=0x0;this[_0x2f63('0x29e')]=![];};var _0x3fdec3=function _0x3fdec3(){this[_0x2f63('0x266')]=null;this['right']=![];};var _0x903ed7=function _0x903ed7(_0x5a67ff,_0x281175){_0x281175=_0x281175||{};this[_0x2f63('0x2a4')]=[];this[_0x2f63('0x2a5')]=[];this[_0x2f63('0x256')]=_0x281175[_0x2f63('0x2a6')]?_0x5a67ff['slice'](0x0):_0x5a67ff;this['edge_list']=[];this[_0x2f63('0x2a7')]=this[_0x2f63('0x2a8')]=null;this[_0x2f63('0x2a9')]=null;this[_0x2f63('0x27a')]=null;this['tail_']=null;this[_0x2f63('0x2aa')]=null;this[_0x2f63('0x2ab')]=null;this[_0x2f63('0x2ac')]=null;this['basin']=new _0xeb5f40();this[_0x2f63('0x290')]=new _0x3fdec3();this[_0x2f63('0x2ad')](this['points_']);};_0x903ed7['prototype'][_0x2f63('0x2ae')]=function(_0x10609a){this[_0x2f63('0x2ad')](_0x10609a);var _0x5545de,_0x305be6=_0x10609a[_0x2f63('0x38')];for(_0x5545de=0x0;_0x5545de<_0x305be6;_0x5545de++){this['points_']['push'](_0x10609a[_0x5545de]);}return this;};_0x903ed7[_0x2f63('0x9')]['AddHole']=_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2ae')];_0x903ed7[_0x2f63('0x9')]['addHoles']=function(_0x3d3914){var _0x24b432,_0x1b73b9=_0x3d3914[_0x2f63('0x38')];for(_0x24b432=0x0;_0x24b432<_0x1b73b9;_0x24b432++){this['initEdges'](_0x3d3914[_0x24b432]);}this[_0x2f63('0x256')]=this[_0x2f63('0x256')][_0x2f63('0x184')][_0x2f63('0x10')](this[_0x2f63('0x256')],_0x3d3914);return this;};_0x903ed7[_0x2f63('0x9')]['addPoint']=function(_0x47e1b5){this['points_']['push'](_0x47e1b5);return this;};_0x903ed7['prototype']['AddPoint']=_0x903ed7[_0x2f63('0x9')]['addPoint'];_0x903ed7[_0x2f63('0x9')]['addPoints']=function(_0x508775){this[_0x2f63('0x256')]=this[_0x2f63('0x256')][_0x2f63('0x184')](_0x508775);return this;};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2af')]=function(){_0x9550b3[_0x2f63('0x2af')](this);return this;};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2b0')]=function(){return{'min':this['pmin_'],'max':this[_0x2f63('0x2a8')]};};_0x903ed7['prototype'][_0x2f63('0x2b1')]=function(){return this[_0x2f63('0x2a4')];};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2b2')]=_0x903ed7['prototype']['getTriangles'];_0x903ed7['prototype'][_0x2f63('0x28e')]=function(){return this['front_'];};_0x903ed7[_0x2f63('0x9')]['pointCount']=function(){return this[_0x2f63('0x256')][_0x2f63('0x38')];};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x279')]=function(){return this[_0x2f63('0x27a')];};_0x903ed7['prototype'][_0x2f63('0x27b')]=function(_0x118e55){this['head_']=_0x118e55;};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x27c')]=function(){return this['tail_'];};_0x903ed7['prototype'][_0x2f63('0x27d')]=function(_0x33eea9){this[_0x2f63('0x277')]=_0x33eea9;};_0x903ed7['prototype']['getMap']=function(){return this[_0x2f63('0x2a5')];};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x28b')]=function(){var _0x2cf4e3=this[_0x2f63('0x256')][0x0]['x'];var _0x2ab5d0=this[_0x2f63('0x256')][0x0]['x'];var _0x4c785b=this['points_'][0x0]['y'];var _0x469412=this[_0x2f63('0x256')][0x0]['y'];var _0x3cdea7,_0x42d8eb=this['points_']['length'];for(_0x3cdea7=0x1;_0x3cdea7<_0x42d8eb;_0x3cdea7++){var _0x36a2bd=this[_0x2f63('0x256')][_0x3cdea7];_0x36a2bd['x']>_0x2cf4e3&&(_0x2cf4e3=_0x36a2bd['x']);_0x36a2bd['x']<_0x2ab5d0&&(_0x2ab5d0=_0x36a2bd['x']);_0x36a2bd['y']>_0x4c785b&&(_0x4c785b=_0x36a2bd['y']);_0x36a2bd['y']<_0x469412&&(_0x469412=_0x36a2bd['y']);}this[_0x2f63('0x2a7')]=new _0x47e1b5(_0x2ab5d0,_0x469412);this['pmax_']=new _0x47e1b5(_0x2cf4e3,_0x4c785b);var _0x22bcaa=_0x22fafc*(_0x2cf4e3-_0x2ab5d0);var _0x1fc916=_0x22fafc*(_0x4c785b-_0x469412);this[_0x2f63('0x27a')]=new _0x47e1b5(_0x2cf4e3+_0x22bcaa,_0x469412-_0x1fc916);this[_0x2f63('0x277')]=new _0x47e1b5(_0x2ab5d0-_0x22bcaa,_0x469412-_0x1fc916);this[_0x2f63('0x256')][_0x2f63('0x207')](_0x47e1b5[_0x2f63('0x255')]);};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2ad')]=function(_0x47a5c){var _0x1b75a7,_0x4cc711=_0x47a5c[_0x2f63('0x38')];for(_0x1b75a7=0x0;_0x1b75a7<_0x4cc711;++_0x1b75a7){this[_0x2f63('0x2b3')][_0x2f63('0x34')](new _0x19c3cb(_0x47a5c[_0x1b75a7],_0x47a5c[(_0x1b75a7+0x1)%_0x4cc711]));}};_0x903ed7['prototype'][_0x2f63('0x25b')]=function(_0x497e95){return this[_0x2f63('0x256')][_0x497e95];};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x294')]=function(_0x35036b){this[_0x2f63('0x2a5')]['push'](_0x35036b);};_0x903ed7[_0x2f63('0x9')]['locateNode']=function(_0x47e1b5){return this[_0x2f63('0x2a9')][_0x2f63('0x281')](_0x47e1b5['x']);};_0x903ed7['prototype']['createAdvancingFront']=function(){var _0x5e5106;var _0x1719fc;var _0x1e0976;var _0x76240d=new _0x35036b(this[_0x2f63('0x256')][0x0],this[_0x2f63('0x277')],this[_0x2f63('0x27a')]);this[_0x2f63('0x2a5')][_0x2f63('0x34')](_0x76240d);_0x5e5106=new _0x18d5ca(_0x76240d['getPoint'](0x1),_0x76240d);_0x1719fc=new _0x18d5ca(_0x76240d[_0x2f63('0x25b')](0x0),_0x76240d);_0x1e0976=new _0x18d5ca(_0x76240d[_0x2f63('0x25b')](0x2));this['front_']=new _0x3db711(_0x5e5106,_0x1e0976);_0x5e5106['next']=_0x1719fc;_0x1719fc[_0x2f63('0x21')]=_0x1e0976;_0x1719fc[_0x2f63('0x46')]=_0x5e5106;_0x1e0976[_0x2f63('0x46')]=_0x1719fc;};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2b4')]=function(_0x380136){};_0x903ed7[_0x2f63('0x9')]['mapTriangleToNodes']=function(_0x594d4d){for(var _0x56782c=0x0;_0x56782c<0x3;++_0x56782c){if(!_0x594d4d[_0x2f63('0x293')](_0x56782c)){var _0x551b24=this['front_'][_0x2f63('0x282')](_0x594d4d['pointCW'](_0x594d4d[_0x2f63('0x25b')](_0x56782c)));if(_0x551b24){_0x551b24['triangle']=_0x594d4d;}}}};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x2b5')]=function(_0x35036b){var _0x1e35f6,_0x7417ea=this['map_'],_0x309e86=_0x7417ea[_0x2f63('0x38')];for(_0x1e35f6=0x0;_0x1e35f6<_0x309e86;_0x1e35f6++){if(_0x7417ea[_0x1e35f6]===_0x35036b){_0x7417ea[_0x2f63('0x54')](_0x1e35f6,0x1);break;}}};_0x903ed7[_0x2f63('0x9')][_0x2f63('0x28f')]=function(_0x35036b){var _0x275dd5=[_0x35036b],_0x261063,_0x19c367;while(_0x261063=_0x275dd5[_0x2f63('0x2b6')]()){if(!_0x261063[_0x2f63('0x25d')]()){_0x261063[_0x2f63('0x25e')](!![]);this[_0x2f63('0x2a4')][_0x2f63('0x34')](_0x261063);for(_0x19c367=0x0;_0x19c367<0x3;_0x19c367++){if(!_0x261063[_0x2f63('0x266')][_0x19c367]){_0x275dd5['push'](_0x261063[_0x2f63('0x293')](_0x19c367));}}}}};var _0x5c5d42=_0x903ed7;var _0x53c978=_0xc42990(_0x115c59);var _0x36420b=_0x5c64da(function(_0x45e6b3,_0x468769){var _0x7be7c5=_0x26092f[_0x2f63('0x2b7')];_0x468769[_0x2f63('0x2b8')]=function(){_0x26092f[_0x2f63('0x2b7')]=_0x7be7c5;return _0x468769;};_0x468769[_0x2f63('0x2b9')]=_0x53c978['version'];_0x468769[_0x2f63('0x2ba')]=_0x177640;_0x468769[_0x2f63('0x2bb')]=_0x47e1b5;_0x468769[_0x2f63('0x2bc')]=_0x35036b;_0x468769[_0x2f63('0x2bd')]=_0x5c5d42;_0x468769[_0x2f63('0x2af')]=_0x9550b3[_0x2f63('0x2af')];_0x468769[_0x2f63('0x2be')]={'Triangulate':_0x9550b3[_0x2f63('0x2af')]};});var _0x1fad5d=_0x36420b['noConflict'];var _0x104fdf=_0x36420b['VERSION'];var _0x10604e=_0x36420b[_0x2f63('0x2ba')];var _0x843a8c=_0x36420b[_0x2f63('0x2bb')];var _0x1f7293=_0x36420b[_0x2f63('0x2bc')];var _0x58fa8c=_0x36420b[_0x2f63('0x2bd')];var _0x2f02dc=_0x36420b[_0x2f63('0x2af')];var _0x5ced0d=_0x36420b['sweep'];var _0x571085={'area':function _0x4c8b5d(_0x303fa3){var _0x103976=_0x303fa3[_0x2f63('0x38')];var _0x546164=0x0;for(var _0x44ab81=_0x103976-0x1,_0x21469b=0x0;_0x21469b<_0x103976;_0x44ab81=_0x21469b++){_0x546164+=_0x303fa3[_0x44ab81]['x']*_0x303fa3[_0x21469b]['y']-_0x303fa3[_0x21469b]['x']*_0x303fa3[_0x44ab81]['y'];}return _0x546164*0.5;},'isClockWise':function isClockWise(_0x2af143){return _0x571085['area'](_0x2af143)<0x0;},'triangulateShape':function triangulateShape(_0x408d69,_0x163909){var _0x152511=[];var _0x2cc81a=[];var _0x15a796=[];_0x23e5fa(_0x408d69);_0x3dc5b7(_0x152511,_0x408d69);var _0x3c6e3c=_0x408d69[_0x2f63('0x38')];_0x163909[_0x2f63('0x2c')](_0x23e5fa);for(var _0x1ba80d=0x0;_0x1ba80d<_0x163909[_0x2f63('0x38')];_0x1ba80d++){_0x2cc81a[_0x2f63('0x34')](_0x3c6e3c);_0x3c6e3c+=_0x163909[_0x1ba80d]['length'];_0x3dc5b7(_0x152511,_0x163909[_0x1ba80d]);}var _0x3093ce=_0x439b2c(_0x152511,_0x2cc81a);for(var _0xb6ed2f=0x0;_0xb6ed2f<_0x3093ce[_0x2f63('0x38')];_0xb6ed2f+=0x3){_0x15a796[_0x2f63('0x34')](_0x3093ce[_0x2f63('0x48')](_0xb6ed2f,_0xb6ed2f+0x3));}return _0x15a796;},'triangulateShapePoly2tri':function triangulateShapePoly2tri(_0x29c2d8,_0x5a804e){_0x23e5fa(_0x29c2d8);_0x5a804e[_0x2f63('0x2c')](_0x23e5fa);var _0x100de8={};var _0x440c4d=0x0;var _0x41afca=_0x595389(_0x29c2d8);var _0x28dc46=new _0x58fa8c(_0x41afca);for(var _0x19dcdb=0x0,_0x3e721c=_0x5a804e[_0x2f63('0x38')];_0x19dcdb<_0x3e721c;_0x19dcdb++){_0x41afca=_0x595389(_0x5a804e[_0x19dcdb]);_0x28dc46[_0x2f63('0x2ae')](_0x41afca);_0x41afca=_0x41afca[_0x2f63('0x184')](_0x41afca);}var _0x50aca1=_0x28dc46['triangulate']();var _0x2473cb=_0x50aca1[_0x2f63('0x2a4')];var _0x3f4407;var _0x58800b;var _0x1f5db0;var _0x3a462b=[];for(var _0x4b25c=0x0,_0x1f948a=_0x2473cb['length'];_0x4b25c<_0x1f948a;_0x4b25c++){_0x41afca=_0x2473cb[_0x4b25c][_0x2f63('0x256')];_0x3f4407=_0x100de8[_0x41afca[0x0]['x']+','+_0x41afca[0x0]['y']];_0x58800b=_0x100de8[_0x41afca[0x1]['x']+','+_0x41afca[0x1]['y']];_0x1f5db0=_0x100de8[_0x41afca[0x2]['x']+','+_0x41afca[0x2]['y']];_0x3a462b[_0x2f63('0x34')]([_0x3f4407,_0x58800b,_0x1f5db0]);}return _0x3a462b;function _0x595389(_0x3f4407){var _0x3e721c=_0x3f4407[_0x2f63('0x38')];var _0x41afca=[];for(var _0x28b191=0x0;_0x28b191<_0x3e721c;_0x28b191++){_0x41afca['push'](new _0x843a8c(_0x3f4407[_0x28b191]['x'],_0x3f4407[_0x28b191]['y']));_0x100de8[_0x3f4407[_0x28b191]['x']+','+_0x3f4407[_0x28b191]['y']]=_0x440c4d;_0x440c4d++;}return _0x41afca;}},'triangulateShapeTessy':function triangulateShapeTessy(_0x339b25,_0x2dd4e7,_0x26fc4f){_0x23e5fa(_0x339b25);_0x2dd4e7['forEach'](_0x23e5fa);var _0x534463=[];var _0x3f0bc6={};var _0x1f4be7=0x0;_0x26fc4f[_0x2f63('0x2bf')](0x0,0x0,0x1);_0x26fc4f[_0x2f63('0x2c0')](_0x534463);var _0x2ef56b=_0x306372(_0x339b25);for(var _0x547f7b=0x0,_0x1f6bbd=_0x2dd4e7['length'];_0x547f7b<_0x1f6bbd;_0x547f7b++){_0x2ef56b=_0x306372(_0x2dd4e7[_0x547f7b]);}_0x26fc4f[_0x2f63('0x2c1')]();_0x3a2596['log']('tessy\x20tesselation');var _0x57a796;var _0x532e00;var _0x16eabf;var _0x178767=[];for(var _0x46950d=0x0,_0x13b513=_0x534463[_0x2f63('0x38')];_0x46950d<_0x13b513;_0x46950d+=0x6){_0x57a796=_0x3f0bc6[_0x534463[_0x46950d]+','+_0x534463[_0x46950d+0x1]];_0x532e00=_0x3f0bc6[_0x534463[_0x46950d+0x2]+','+_0x534463[_0x46950d+0x3]];_0x16eabf=_0x3f0bc6[_0x534463[_0x46950d+0x4]+','+_0x534463[_0x46950d+0x5]];_0x178767[_0x2f63('0x34')]([_0x57a796,_0x532e00,_0x16eabf]);}return _0x178767;function _0x306372(_0x57a796){var _0x1f6bbd=_0x57a796[_0x2f63('0x38')];_0x26fc4f[_0x2f63('0x2c2')]();for(var _0x157889=0x0;_0x157889<_0x1f6bbd;_0x157889++){var _0x61681b=[_0x57a796[_0x157889]['x'],_0x57a796[_0x157889]['y'],0x0];_0x26fc4f[_0x2f63('0x2c3')](_0x61681b,_0x61681b);_0x3f0bc6[_0x57a796[_0x157889]['x']+','+_0x57a796[_0x157889]['y']]=_0x1f4be7;_0x1f4be7++;}_0x26fc4f['gluTessEndContour']();return _0x2ef56b;}}};function _0x23e5fa(_0x323dd5){var _0x57809c=_0x323dd5[_0x2f63('0x38')];if(_0x57809c>0x2&&_0x323dd5[_0x57809c-0x1][_0x2f63('0xa7')](_0x323dd5[0x0])){_0x323dd5[_0x2f63('0x2b6')]();}}function _0x3dc5b7(_0x4dd03b,_0x24e07a){for(var _0xe1c0e=0x0;_0xe1c0e<_0x24e07a['length'];_0xe1c0e++){_0x4dd03b['push'](_0x24e07a[_0xe1c0e]['x']);_0x4dd03b['push'](_0x24e07a[_0xe1c0e]['y']);}}function _0x35d4ed(_0x2bcaeb,_0x1288b5){_0x4b14f2[_0x2f63('0xb')](this);this[_0x2f63('0x28')]='ExtrudeBufferGeometry';this[_0x2f63('0x242')]={'shapes':_0x2bcaeb,'options':_0x1288b5};_0x1288b5['extrudeScale']=0x1;_0x2bcaeb=Array[_0x2f63('0x147')](_0x2bcaeb)?_0x2bcaeb:[_0x2bcaeb];var _0x69db57=this;var _0x4fe682=[];var _0x669a8=[];var _0x42eb45=_0x1288b5[_0x2f63('0x1df')]!==undefined?_0x1288b5[_0x2f63('0x1df')]:0.1;var _0x431c47=new Array(_0x2bcaeb[_0x2f63('0x38')]);for(var _0x4413e1=0x0,_0x5cda8a=_0x2bcaeb['length'];_0x4413e1<_0x5cda8a;_0x4413e1++){var _0xec5575=_0x2bcaeb[_0x4413e1];_0xec5575[_0x2f63('0x2c4')]=_0x1288b5['isDeformationON'];_0x431c47[_0x4413e1]=_0xec5575[_0x2f63('0x2c5')](_0x42eb45);}var _0x46335b=new _0x2b6548(0x0,0x0);var _0x4ff0c0=new _0x1d19c1();for(var _0x4b2696=0x0,_0x3c2725=_0x2bcaeb[_0x2f63('0x38')];_0x4b2696<_0x3c2725;_0x4b2696++){var _0x47a313=_0x2bcaeb[_0x4b2696];var _0xe9c372=_0x36f588(_0x47a313,_0x431c47[_0x4b2696]);var _0x2c0730=_0xe9c372[0x0];var _0x4cabec=_0xe9c372[0x1];_0x46335b['x']=_0x46335b['x']+_0x2c0730['x'];_0x46335b['y']=_0x46335b['y']+_0x2c0730['y'];_0x4ff0c0[_0x2f63('0x10a')](_0x4cabec);}if(_0x1288b5[_0x2f63('0x2c6')]!=undefined){var _0x343bd2=_0x1288b5[_0x2f63('0x2c6')][_0x2f63('0x2c7')][_0x2f63('0x38')];for(var _0x542ccd=0x0;_0x542ccd<_0x343bd2;_0x542ccd++){var _0x2f9a93=_0x1288b5[_0x2f63('0x2c6')][_0x2f63('0x2c7')][_0x542ccd];_0x1288b5[_0x2f63('0x2c6')][_0x2f63('0x2c7')][_0x542ccd][_0x2f63('0x67')](_0x2f9a93['x']+_0x46335b['x'],_0x2f9a93['y']+_0x46335b['y'],_0x2f9a93['z']);}}var _0x4ef8c3=[];var _0x6ac1c1=0x0;for(var _0x412b04=0x0,_0x43cf60=_0x2bcaeb['length'];_0x412b04<_0x43cf60;_0x412b04++){if(_0x1288b5['charFlag'][_0x6ac1c1]==_0x412b04){_0x6ac1c1=_0x6ac1c1+0x1;_0x4ef8c3['push'](_0x4fe682[_0x2f63('0x38')]/0x3);}var _0x1f956c=_0x2bcaeb[_0x412b04];_0x1d174a(_0x1f956c,_0x46335b,_0x4ff0c0,_0x431c47[_0x412b04]);}_0x4ef8c3[_0x2f63('0x34')](_0x4fe682[_0x2f63('0x38')]/0x3);for(var _0x15418e=0x0;_0x15418e<_0x4fe682[_0x2f63('0x38')]/0x3;_0x15418e++){for(var _0x43baeb=0x0;_0x43baeb<_0x4ef8c3[_0x2f63('0x38')]-0x1;_0x43baeb++){if(_0x15418e>=_0x4ef8c3[_0x43baeb]&&_0x15418e<_0x4ef8c3[_0x43baeb+0x1]){this[_0x2f63('0x227')][_0x2f63('0x34')](_0x43baeb);break;}}}this[_0x2f63('0x22d')]('position',new _0x53159c(_0x4fe682,0x3));this[_0x2f63('0x22d')]('uv',new _0x53159c(_0x669a8,0x2));if(_0x1288b5[_0x2f63('0x2c8')]==0x0){this[_0x2f63('0x202')]();}else{this[_0x2f63('0x2c9')](_0x1288b5[_0x2f63('0x2c8')]);}this[_0x2f63('0x23b')]();this[_0x2f63('0x10b')]();this[_0x2f63('0x2ca')]();function _0x36f588(_0xec5575,_0x3cb7d6){var _0x169585=_0x3cb7d6['shape'];var _0x4cabec=new _0x1d19c1();_0x4cabec[_0x2f63('0xef')](_0x169585);var _0x343bd2=_0x169585['length'];var _0x2ee7f6=new _0x2b6548();var _0x584ea4=0x1/_0x343bd2;for(var _0x3e9460=0x0;_0x3e9460<_0x343bd2;_0x3e9460++){_0x2ee7f6['x']+=_0x169585[_0x3e9460]['x']*_0x584ea4;_0x2ee7f6['y']+=_0x169585[_0x3e9460]['y']*_0x584ea4;}return[_0x2ee7f6,_0x4cabec];}function _0xd20ce4(_0x1a675d,_0x1776ed){if(_0x1776ed==0x0)return;for(var _0x10ef64=0x0;_0x10ef64<_0x1776ed;_0x10ef64++){var _0x25ee10=[];for(var _0x3332e1=0x0;_0x3332e1<_0x1a675d[_0x2f63('0x38')];_0x3332e1++){var _0x2f3638=new _0x2b6548();_0x2f3638['copy'](_0x1a675d[_0x3332e1]);_0x25ee10[_0x2f63('0x34')](_0x2f3638);}for(var _0x3f88f9=0x0,_0x362a1d=_0x25ee10[_0x2f63('0x38')],_0x4d055d=_0x362a1d-0x1,_0x1adb24=_0x3f88f9+0x1;_0x3f88f9<_0x362a1d;_0x3f88f9++,_0x4d055d++,_0x1adb24++){if(_0x4d055d===_0x362a1d)_0x4d055d=0x0;if(_0x1adb24===_0x362a1d)_0x1adb24=0x0;_0x1a675d[_0x3f88f9]['x']=0.5*(_0x25ee10[_0x4d055d]['x']+_0x25ee10[_0x1adb24]['x']);_0x1a675d[_0x3f88f9]['y']=0.5*(_0x25ee10[_0x4d055d]['y']+_0x25ee10[_0x1adb24]['y']);}}}function _0x1d174a(_0xec5575,_0x46335b,_0x4ff0c0,_0x2522f3){var _0x3d5b74=[];var _0x2ecdc8=_0x1288b5[_0x2f63('0x2cb')]!==undefined?_0x1288b5[_0x2f63('0x2cb')]:0x1;var _0x55324e=_0x1288b5[_0x2f63('0x2cc')]!==undefined?_0x1288b5[_0x2f63('0x2cc')]:0x64;var _0xa1c802=_0x1288b5[_0x2f63('0x82')]!==undefined?_0x1288b5[_0x2f63('0x82')]:0x0;var _0x440f3b=_0x1288b5[_0x2f63('0x2cd')]!==undefined?_0x1288b5[_0x2f63('0x2cd')]:_0x2f63('0x2ce');var _0x43f88c=_0x1288b5[_0x2f63('0x2cf')]!==undefined?_0x1288b5[_0x2f63('0x2cf')]:!![];var _0x1699bf=_0x1288b5['bevelThickness']!==undefined?_0x1288b5[_0x2f63('0x2d0')]:0x6;var _0x1dfdaf=_0x1288b5[_0x2f63('0x2d1')]!==undefined?_0x1288b5[_0x2f63('0x2d1')]:_0x1699bf-0x2;var _0x293bcb=_0x1288b5[_0x2f63('0x2d2')]!==undefined?_0x1288b5[_0x2f63('0x2d2')]:0x3;var _0x773f1e=_0x1288b5[_0x2f63('0x2d3')]!==undefined?_0x1288b5[_0x2f63('0x2d3')]:'quad_ellipse';var _0x5b1760=![];var _0x28ccfe=_0x1288b5['extrudePath'];var _0x12c7fb=_0x1288b5[_0x2f63('0x2d4')];var _0x5b6320=_0x1288b5[_0x2f63('0x2d5')]!==undefined?_0x1288b5['UVGenerator']:_0x263364;var _0x3471e8=_0x1288b5[_0x2f63('0x2d6')],_0x4141a1=_0x3471e8===void 0x0?0x0:_0x3471e8;var _0x49d960=_0x1288b5[_0x2f63('0x2d7')],_0x273728=_0x49d960===void 0x0?0x0:_0x49d960;var _0x486dd4=_0x1288b5[_0x2f63('0x2d8')];var _0x2cf154=0x0;if(_0x1288b5['amount']!==undefined){console[_0x2f63('0x77')](_0x2f63('0x2d9'));_0x1288b5['amount'],_0x379343('depth');}var _0x515df4;var _0x374263=![];var _0xe2ff44;var _0x4cabec=new _0x1d19c1();if(_0x28ccfe){_0x515df4=_0x28ccfe[_0x2f63('0x2da')](_0x2ecdc8);_0x374263=!![];_0x379343(_0x2f63('0x2cf'));_0xe2ff44=_0x28ccfe[_0x2f63('0x2db')](_0x2ecdc8,![]);}if(!_0x43f88c){_0x293bcb=0x0;_0x1699bf=0x0;_0x1dfdaf=0x0;}var _0x566694;var _0x4ce913=_0x2522f3[_0x2f63('0x2dc')];var _0x44d17f=_0x2522f3[_0x2f63('0x2dd')];var _0x540cf6=!_0x571085[_0x2f63('0x2de')](_0x4ce913);if(_0x540cf6){_0x4ce913=_0x4ce913['reverse']();for(var _0x15f583=0x0,_0x3f1c61=_0x44d17f[_0x2f63('0x38')];_0x15f583<_0x3f1c61;_0x15f583++){_0x566694=_0x44d17f[_0x15f583];if(_0x571085[_0x2f63('0x2de')](_0x566694)){_0x44d17f[_0x15f583]=_0x566694[_0x2f63('0x44')]();}}}_0xd20ce4(_0x4ce913,_0x486dd4);for(var _0x513a8f=0x0,_0x322d22=_0x44d17f[_0x2f63('0x38')];_0x513a8f<_0x322d22;_0x513a8f++){var _0x1b460e=_0x44d17f[_0x513a8f];_0xd20ce4(_0x1b460e,_0x486dd4);}_0x4cabec[_0x2f63('0x6a')](_0x4ff0c0);var _0x237784;if(_0x440f3b===_0x2f63('0x2ce')){_0x237784=_0x571085[_0x2f63('0x2df')](_0x4ce913,_0x44d17f);}else if(_0x440f3b===_0x2f63('0x2b7')){try{_0x237784=_0x571085['triangulateShapePoly2tri'](_0x4ce913,_0x44d17f);}catch(_0x1a38e7){_0x237784=_0x571085['triangulateShape'](_0x4ce913,_0x44d17f);console['error'](_0x1a38e7);}}var _0x462ab1=_0x4ce913;for(var _0x50c75a=0x0,_0x3dd768=_0x44d17f[_0x2f63('0x38')];_0x50c75a<_0x3dd768;_0x50c75a++){var _0x479a68=_0x44d17f[_0x50c75a];_0x4ce913=_0x4ce913[_0x2f63('0x184')](_0x479a68);}function _0x4d672c(_0x699b68,_0x5378fa,_0x5771b4){if(!_0x5378fa)console[_0x2f63('0xbb')](_0x2f63('0x2e0'));return _0x5378fa['clone']()[_0x2f63('0x7b')](_0x5771b4)[_0x2f63('0xb0')](_0x699b68);}var _0xf838a2;var _0x2f93ff;var _0x27dca4;var _0x343bd2=_0x4ce913['length'];function _0x5b1c22(_0x1dd308,_0x572b97,_0x1158c1){var _0x20d677,_0x5f4158,_0x1c22f1;var _0xb97cea=_0x1dd308['x']-_0x572b97['x'];var _0x13866c=_0x1dd308['y']-_0x572b97['y'];var _0x4343c1=_0x1158c1['x']-_0x1dd308['x'];var _0x125893=_0x1158c1['y']-_0x1dd308['y'];var _0x1dbe34=_0xb97cea*_0xb97cea+_0x13866c*_0x13866c;if(_0x1dbe34<Number[_0x2f63('0x92')])console[_0x2f63('0xbb')]('inPt\x20and\x20inPrev\x20are\x20the\x20same\x20point');var _0xbfc616=_0x4343c1*_0x4343c1+_0x125893*_0x125893;if(_0xbfc616<Number[_0x2f63('0x92')])console['error'](_0x2f63('0x2e1'));var _0x12f5de=_0xb97cea*_0x125893-_0x13866c*_0x4343c1;var _0x2166a8=0.01;if(Math['abs'](_0x12f5de)>_0x2166a8){var _0x2d37c9=Math['sqrt'](_0x1dbe34);var _0x9afbdd=Math['sqrt'](_0x4343c1*_0x4343c1+_0x125893*_0x125893);var _0x25e059=_0x572b97['x']-_0x13866c/_0x2d37c9;var _0x59361c=_0x572b97['y']+_0xb97cea/_0x2d37c9;var _0x267041=_0x1158c1['x']-_0x125893/_0x9afbdd;var _0x8edf99=_0x1158c1['y']+_0x4343c1/_0x9afbdd;var _0x28952c=((_0x267041-_0x25e059)*_0x125893-(_0x8edf99-_0x59361c)*_0x4343c1)/(_0xb97cea*_0x125893-_0x13866c*_0x4343c1);_0x20d677=_0x25e059+_0xb97cea*_0x28952c-_0x1dd308['x'];_0x5f4158=_0x59361c+_0x13866c*_0x28952c-_0x1dd308['y'];var _0x9758f=_0x20d677*_0x20d677+_0x5f4158*_0x5f4158;if(_0x9758f<=0x2){return new _0x2b6548(_0x20d677,_0x5f4158);}else{_0x1c22f1=Math[_0x2f63('0x84')](_0x9758f/0x2);return new _0x2b6548(_0x20d677/_0x1c22f1,_0x5f4158/_0x1c22f1);}}else{var _0x458468=Math[_0x2f63('0x84')](_0x1dbe34);var _0x19f4b3=-_0x13866c/_0x458468;var _0xcefb07=_0xb97cea/_0x458468;return new _0x2b6548(_0x19f4b3,_0xcefb07);}}function _0x18e898(_0x462ab1,_0x44d17f,_0x1dfdaf){var _0x34e3d1=[];for(var _0x466372=0x0,_0x2ceb9d=_0x462ab1[_0x2f63('0x38')],_0x3535f0=_0x2ceb9d-0x1,_0x5a3250=_0x466372+0x1;_0x466372<_0x2ceb9d;_0x466372++,_0x3535f0++,_0x5a3250++){if(_0x3535f0===_0x2ceb9d)_0x3535f0=0x0;if(_0x5a3250===_0x2ceb9d)_0x5a3250=0x0;_0x34e3d1[_0x466372]=_0x5b1c22(_0x462ab1[_0x466372],_0x462ab1[_0x3535f0],_0x462ab1[_0x5a3250])[_0x2f63('0x7b')](Math[_0x2f63('0x75')](_0x1dfdaf));}var _0x12f4bc=[];var _0x47dd55;var _0x4f87e4=_0x34e3d1['concat']();for(var _0x298c40=0x0,_0x411059=_0x44d17f[_0x2f63('0x38')];_0x298c40<_0x411059;_0x298c40++){var _0x23b5fe=_0x44d17f[_0x298c40];_0x47dd55=[];for(var _0x2aaa30=0x0,_0x134c16=_0x23b5fe[_0x2f63('0x38')],_0x3513cf=_0x134c16-0x1,_0x17c299=_0x2aaa30+0x1;_0x2aaa30<_0x134c16;_0x2aaa30++,_0x3513cf++,_0x17c299++){if(_0x3513cf===_0x134c16)_0x3513cf=0x0;if(_0x17c299===_0x134c16)_0x17c299=0x0;_0x47dd55[_0x2aaa30]=_0x5b1c22(_0x23b5fe[_0x2aaa30],_0x23b5fe[_0x3513cf],_0x23b5fe[_0x17c299])['multiplyScalar'](Math[_0x2f63('0x75')](_0x1dfdaf));}_0x12f4bc[_0x2f63('0x34')](_0x47dd55);_0x4f87e4=_0x4f87e4['concat'](_0x47dd55);}var _0x5520d6=new Array();_0x5520d6[_0x2f63('0x34')](_0x34e3d1);_0x5520d6[_0x2f63('0x34')](_0x12f4bc);_0x5520d6[_0x2f63('0x34')](_0x4f87e4);return _0x5520d6;}var _0x3faffd=_0x18e898(_0x462ab1,_0x44d17f,_0x1dfdaf*0.06);var _0x4cc40f=_0x3faffd[0x0];var _0x538211=_0x3faffd[0x1];var _0x31290a=_0x18e898(_0x462ab1,_0x44d17f,0.5);var _0x3a4a1f=_0x31290a[0x0];var _0x29613a=_0x31290a[0x1];if(_0xa1c802>0x0){var _0x260f86=_0x18e898(_0x462ab1,_0x44d17f,_0xa1c802);var _0x3b735d=_0x260f86[0x0];var _0x5e07d8=_0x260f86[0x1];for(var _0x4f506b=0x0;_0x4f506b<_0x462ab1[_0x2f63('0x38')];_0x4f506b++){_0x462ab1[_0x4f506b]=_0x4d672c(_0x462ab1[_0x4f506b],_0x3b735d[_0x4f506b],0x1);}for(var _0x498756=0x0;_0x498756<_0x44d17f[_0x2f63('0x38')];_0x498756++){var _0x3e4646=_0x44d17f[_0x498756];var _0xe674a1=_0x5e07d8[_0x498756];for(var _0x11fbf1=0x0;_0x11fbf1<_0x3e4646['length'];_0x11fbf1++){_0x3e4646[_0x11fbf1]=_0x4d672c(_0x3e4646[_0x11fbf1],_0xe674a1[_0x11fbf1],0x1);}_0x44d17f[_0x498756]=_0x3e4646;}}if(_0x43f88c){for(var _0x49db78=0x0;_0x49db78<_0x462ab1[_0x2f63('0x38')];_0x49db78++){if(Math[_0x2f63('0x2e2')](_0x1dfdaf)==-0x1){_0x462ab1[_0x49db78]=_0x462ab1[_0x49db78];}else{_0x462ab1[_0x49db78]=_0x462ab1[_0x49db78];}}for(var _0x36e57f=0x0;_0x36e57f<_0x44d17f[_0x2f63('0x38')];_0x36e57f++){var _0x232bcd=_0x44d17f[_0x36e57f];var _0x56f850=_0x538211[_0x36e57f];for(var _0x21f42d=0x0;_0x21f42d<_0x232bcd['length'];_0x21f42d++){if(Math[_0x2f63('0x2e2')](_0x1dfdaf)==-0x1){_0x232bcd[_0x21f42d]=_0x232bcd[_0x21f42d];}else{_0x232bcd[_0x21f42d]=_0x232bcd[_0x21f42d];}}_0x44d17f[_0x36e57f]=_0x232bcd;}}var _0x481863=_0x237784[_0x2f63('0x38')];for(var _0x2f2e66=0x0;_0x2f2e66<_0x293bcb;_0x2f2e66++){var _0x56f5d4=_0x2f2e66/_0x293bcb;if(_0x773f1e=='quad_ellipse'){_0x56f5d4=_0x56f5d4*_0x56f5d4;_0x2f93ff=_0x1699bf*Math[_0x2f63('0x86')](_0x56f5d4*Math['PI']/0x2);_0xf838a2=Math[_0x2f63('0x87')](_0x56f5d4*Math['PI']/0x2);}else if(_0x773f1e==_0x2f63('0x2e3')){_0x2f93ff=_0x1699bf*(0x1-_0x56f5d4);_0xf838a2=_0x56f5d4;}else if(_0x773f1e==_0x2f63('0x1dd')){_0x2f93ff=_0x1699bf*Math['cos'](_0x56f5d4*Math['PI']-Math['PI']/0x2);_0xf838a2=_0x56f5d4;}for(var _0x116a6d=0x0,_0x450b1a=_0x462ab1[_0x2f63('0x38')];_0x116a6d<_0x450b1a;_0x116a6d++){var _0xb6a857=_0x4d672c(_0x462ab1[_0x116a6d],_0x4cc40f[_0x116a6d],_0xf838a2);_0x3d5b74[_0x2f63('0x34')](_0xb6a857['x'],_0xb6a857['y'],_0x2f93ff);}for(var _0x3734ab=0x0,_0x3721df=_0x44d17f['length'];_0x3734ab<_0x3721df;_0x3734ab++){var _0x168974=_0x44d17f[_0x3734ab];var _0x39d19a=_0x538211[_0x3734ab];for(var _0x251d97=0x0,_0xadd98a=_0x168974[_0x2f63('0x38')];_0x251d97<_0xadd98a;_0x251d97++){_0x27dca4=_0x4d672c(_0x168974[_0x251d97],_0x39d19a[_0x251d97],_0xf838a2);_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x'],_0x27dca4['y'],_0x2f93ff);}}}_0xf838a2=_0x1dfdaf;for(var _0x389309=0x0;_0x389309<=_0x2ecdc8;_0x389309++){var _0x2ff3f2=_0x4141a1;var _0x46beb3=_0x273728;if(_0x43f88c){for(var _0x4357c3=0x0;_0x4357c3<_0x462ab1[_0x2f63('0x38')];_0x4357c3++){_0x27dca4=_0x462ab1[_0x4357c3]['clone']()[_0x2f63('0xb0')](_0x4cc40f[_0x4357c3])[_0x2f63('0xb0')](_0x3a4a1f[_0x4357c3][_0x2f63('0x68')]()['multiplyScalar'](_0x12c7fb/_0x2ecdc8*_0x389309));_0x3d5b74['push'](_0x27dca4['x']+_0x2ff3f2/_0x2ecdc8*_0x389309,_0x27dca4['y']+_0x46beb3/_0x2ecdc8*_0x389309,-_0x55324e/_0x2ecdc8*_0x389309);}for(var _0xaa2740=0x0;_0xaa2740<_0x44d17f['length'];_0xaa2740++){var _0x133e70=_0x44d17f[_0xaa2740];var _0x1bf3e6=_0x538211[_0xaa2740];var _0x49bca0=_0x29613a[_0xaa2740];for(var _0x2b6866=0x0;_0x2b6866<_0x133e70[_0x2f63('0x38')];_0x2b6866++){_0x27dca4=_0x133e70[_0x2b6866][_0x2f63('0x68')]()[_0x2f63('0xb0')](_0x1bf3e6[_0x2b6866])['add'](_0x49bca0[_0x2b6866][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x12c7fb/_0x2ecdc8*_0x389309));_0x3d5b74['push'](_0x27dca4['x']+_0x2ff3f2/_0x2ecdc8*_0x389309,_0x27dca4['y']+_0x46beb3/_0x2ecdc8*_0x389309,-_0x55324e/_0x2ecdc8*_0x389309);}}}else{for(var _0x4924e2=0x0;_0x4924e2<_0x462ab1[_0x2f63('0x38')];_0x4924e2++){_0x27dca4=_0x462ab1[_0x4924e2][_0x2f63('0x68')]()[_0x2f63('0xb0')](_0x3a4a1f[_0x4924e2][_0x2f63('0x68')]()['multiplyScalar'](_0x12c7fb/_0x2ecdc8*_0x389309));_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x']+_0x2ff3f2/_0x2ecdc8*_0x389309,_0x27dca4['y']+_0x46beb3/_0x2ecdc8*_0x389309,-_0x55324e/_0x2ecdc8*_0x389309);}for(var _0x34ec72=0x0;_0x34ec72<_0x44d17f[_0x2f63('0x38')];_0x34ec72++){var _0x577b56=_0x44d17f[_0x34ec72];var _0x52c7e1=_0x29613a[_0x34ec72];for(var _0x579f91=0x0;_0x579f91<_0x577b56[_0x2f63('0x38')];_0x579f91++){_0x27dca4=_0x577b56[_0x579f91][_0x2f63('0x68')]()['add'](_0x52c7e1[_0x579f91]['clone']()['multiplyScalar'](_0x12c7fb/_0x2ecdc8*_0x389309));_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x']+_0x2ff3f2/_0x2ecdc8*_0x389309,_0x27dca4['y']+_0x46beb3/_0x2ecdc8*_0x389309,-_0x55324e/_0x2ecdc8*_0x389309);}}}}if(_0x43f88c&&_0x5b1760){var _0x43f796=_0x4141a1;var _0x42250e=_0x273728;for(var _0x4132c1=_0x293bcb-0x1;_0x4132c1>=0x0;_0x4132c1--){var _0x22673f=_0x4132c1/_0x293bcb;if(_0x773f1e=='quad_ellipse'){_0x2f93ff=_0x1699bf*Math[_0x2f63('0x86')](_0x22673f*Math['PI']/0x2);_0xf838a2=Math['sin'](_0x22673f*Math['PI']/0x2);}else if(_0x773f1e=='line'){_0x2f93ff=_0x1699bf*(0x1-_0x22673f);_0xf838a2=_0x22673f;}else if(_0x773f1e==_0x2f63('0x1dd')){_0x2f93ff=_0x1699bf*Math[_0x2f63('0x86')](_0x22673f*Math['PI']-Math['PI']/0x2);_0xf838a2=_0x22673f;}for(var _0x2219f3=0x0;_0x2219f3<_0x462ab1[_0x2f63('0x38')];_0x2219f3++){var _0x273c11=_0x4d672c(_0x462ab1[_0x2219f3],_0x4cc40f[_0x2219f3],_0xf838a2);_0x273c11[_0x2f63('0xb0')](_0x3a4a1f[_0x2219f3][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x12c7fb));_0x3d5b74[_0x2f63('0x34')](_0x273c11['x']+_0x43f796,_0x273c11['y']+_0x42250e,-_0x55324e-_0x2f93ff);}for(var _0x34e8b7=0x0;_0x34e8b7<_0x44d17f['length'];_0x34e8b7++){var _0x2a8ed6=_0x44d17f[_0x34e8b7];var _0x5713df=_0x538211[_0x34e8b7];var _0x464d12=_0x29613a[_0x34e8b7];for(var _0x15a2bb=0x0,_0x497bab=_0x2a8ed6[_0x2f63('0x38')];_0x15a2bb<_0x497bab;_0x15a2bb++){_0x27dca4=_0x4d672c(_0x2a8ed6[_0x15a2bb],_0x5713df[_0x15a2bb],_0xf838a2);_0x27dca4[_0x2f63('0xb0')](_0x464d12[_0x15a2bb][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x12c7fb));if(!_0x374263){_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x']+_0x43f796,_0x27dca4['y']+_0x42250e,-_0x55324e-_0x2f93ff);}else{_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x'],_0x27dca4['y']+_0x515df4[_0x2ecdc8-0x1]['y'],_0x515df4[_0x2ecdc8-0x1]['x']+_0x2f93ff);}}}}}else if(_0x43f88c&&!_0x5b1760){var _0x31ce13=_0x4141a1;var _0x3cda35=_0x273728;var _0x53e22c=_0x2ecdc8;for(var _0x180adf=0x0;_0x180adf<_0x462ab1[_0x2f63('0x38')];_0x180adf++){var _0x5471e0=_0x462ab1[_0x180adf]['clone']()[_0x2f63('0xb0')](_0x3a4a1f[_0x180adf][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x12c7fb/_0x2ecdc8*_0x53e22c));_0x3d5b74[_0x2f63('0x34')](_0x5471e0['x']+_0x31ce13/_0x2ecdc8*_0x53e22c,_0x5471e0['y']+_0x3cda35/_0x2ecdc8*_0x53e22c,-_0x55324e/_0x2ecdc8*_0x53e22c);}for(var _0xf66848=0x0;_0xf66848<_0x44d17f['length'];_0xf66848++){var _0x1a96e9=_0x44d17f[_0xf66848];var _0x3a0ed2=_0x29613a[_0xf66848];for(var _0x25e5f6=0x0;_0x25e5f6<_0x1a96e9[_0x2f63('0x38')];_0x25e5f6++){_0x27dca4=_0x1a96e9[_0x25e5f6][_0x2f63('0x68')]()[_0x2f63('0xb0')](_0x3a0ed2[_0x25e5f6][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x12c7fb/_0x2ecdc8*_0x53e22c));_0x3d5b74[_0x2f63('0x34')](_0x27dca4['x']+_0x31ce13/_0x2ecdc8*_0x53e22c,_0x27dca4['y']+_0x3cda35/_0x2ecdc8*_0x53e22c,-_0x55324e/_0x2ecdc8*_0x53e22c);}}}_0x26df4f();_0x453084();_0x599b26();function _0x26df4f(){var _0x2c3658=_0x4fe682['length']/0x3;if(_0x43f88c){var _0x5a1faf=0x0;var _0x204b24=_0x343bd2*_0x5a1faf;for(var _0x490342=0x0;_0x490342<_0x481863;_0x490342++){var _0xe294f7=_0x237784[_0x490342];_0x178111(_0xe294f7[0x0]+_0x204b24,_0xe294f7[0x1]+_0x204b24,_0xe294f7[0x2]+_0x204b24);}_0x5a1faf=_0x2ecdc8+_0x293bcb*0x1;_0x204b24=_0x343bd2*_0x5a1faf;for(var _0xe5e6df=0x0;_0xe5e6df<_0x481863;_0xe5e6df++){var _0x443e83=_0x237784[_0xe5e6df];_0x178111(_0x443e83[0x2]+_0x204b24,_0x443e83[0x1]+_0x204b24,_0x443e83[0x0]+_0x204b24);}}else{for(var _0x53c0a3=0x0;_0x53c0a3<_0x481863;_0x53c0a3++){var _0x31c517=_0x237784[_0x53c0a3];_0x178111(_0x31c517[0x0],_0x31c517[0x1],_0x31c517[0x2]);}for(var _0x5c3a4f=0x0;_0x5c3a4f<_0x481863;_0x5c3a4f++){var _0x43f3cd=_0x237784[_0x5c3a4f];_0x178111(_0x43f3cd[0x2]+_0x343bd2*_0x2ecdc8,_0x43f3cd[0x1]+_0x343bd2*_0x2ecdc8,_0x43f3cd[0x0]+_0x343bd2*_0x2ecdc8);}}_0x69db57[_0x2f63('0x240')](_0x2c3658,_0x4fe682['length']/0x3-_0x2c3658,0x0);}function _0x453084(){if(_0x293bcb==0x0||!_0x43f88c)return 0x0;var _0x28483b=_0x4fe682[_0x2f63('0x38')]/0x3;var _0x35dfa0=0x0;_0x18b0bd(_0x462ab1,_0x35dfa0);_0x35dfa0+=_0x462ab1[_0x2f63('0x38')];for(var _0x2cb289=0x0,_0x26536b=_0x44d17f[_0x2f63('0x38')];_0x2cb289<_0x26536b;_0x2cb289++){_0x566694=_0x44d17f[_0x2cb289];_0x18b0bd(_0x566694,_0x35dfa0);_0x35dfa0+=_0x566694['length'];}_0x69db57[_0x2f63('0x240')](_0x28483b,_0x4fe682['length']/0x3-_0x28483b,0x1);}function _0x18b0bd(_0x462ab1,_0xbee719){var _0x3a4641=[];var _0x250672=[];for(var _0x2475d3=0x0;_0x2475d3<_0x462ab1[_0x2f63('0x38')];_0x2475d3++){_0x250672[_0x2f63('0x34')](_0x462ab1[_0x2475d3]);}_0x250672[_0x2f63('0x34')](_0x462ab1[0x0]);_0x3a4641[0x0]=0x0;for(var _0x8b9c2a=0x1;_0x8b9c2a<_0x250672[_0x2f63('0x38')];_0x8b9c2a++){var _0x441932=_0x3a4641[_0x8b9c2a-0x1]+_0x250672[_0x8b9c2a][_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x250672[_0x8b9c2a-0x1])[_0x2f63('0x38')]();_0x3a4641[_0x8b9c2a]=_0x441932;}var _0x4025d1=_0x293bcb;var _0x5c01e1=[];_0x5c01e1[0x0]=0x0;var _0x43baeb=0x1;for(var _0x14f609=0x0;_0x14f609<_0x4025d1;_0x14f609++){var _0x3807d4=_0x343bd2*_0x14f609;var _0x51481d=_0x343bd2*(_0x14f609+0x1);var _0x1ec988=_0xbee719+_0x43baeb+_0x3807d4;var _0x39691d=_0xbee719+_0x43baeb+_0x51481d;var _0x1bfe50=new _0x14b965(_0x3d5b74[_0x1ec988*0x3+0x0],_0x3d5b74[_0x1ec988*0x3+0x1],_0x3d5b74[_0x1ec988*0x3+0x2]);var _0x5ed162=new _0x14b965(_0x3d5b74[_0x39691d*0x3+0x0],_0x3d5b74[_0x39691d*0x3+0x1],_0x3d5b74[_0x39691d*0x3+0x2]);var _0x143ecd=_0x5ed162[_0x2f63('0xb5')](_0x1bfe50)['length']();_0x5c01e1[_0x2f63('0x34')](_0x5c01e1[_0x5c01e1[_0x2f63('0x38')]-0x1]+_0x143ecd);}_0x2cf154=_0x5c01e1[_0x5c01e1[_0x2f63('0x38')]-0x1];var _0x4413e1=_0x462ab1[_0x2f63('0x38')];while(--_0x4413e1>=0x0){var _0x5e8dbe=_0x4413e1;var _0x2f4ee6=_0x4413e1-0x1;if(_0x2f4ee6<0x0)_0x2f4ee6=_0x462ab1['length']-0x1;for(var _0x543740=0x0;_0x543740<_0x4025d1;_0x543740++){var _0x2ccaa5=_0x343bd2*_0x543740;var _0x479503=_0x343bd2*(_0x543740+0x1);var _0x181f4f=_0xbee719+_0x5e8dbe+_0x2ccaa5;var _0xd36ec2=_0xbee719+_0x2f4ee6+_0x2ccaa5;var _0x3bcc44=_0xbee719+_0x2f4ee6+_0x479503;var _0x154547=_0xbee719+_0x5e8dbe+_0x479503;_0x19b96e(_0x3a4641,_0x5c01e1,_0x4413e1,_0x543740,_0xd36ec2,_0x181f4f,_0x154547,_0x3bcc44);}}}function _0x599b26(){var _0x5318c2=_0x4fe682['length']/0x3;var _0x358e13=_0x343bd2*_0x293bcb;_0xaa3000(_0x462ab1,_0x358e13);_0x358e13+=_0x462ab1[_0x2f63('0x38')];for(var _0x1a2d39=0x0,_0x44ee08=_0x44d17f[_0x2f63('0x38')];_0x1a2d39<_0x44ee08;_0x1a2d39++){_0x566694=_0x44d17f[_0x1a2d39];_0xaa3000(_0x566694,_0x358e13);_0x358e13+=_0x566694[_0x2f63('0x38')];}_0x69db57[_0x2f63('0x240')](_0x5318c2,_0x4fe682[_0x2f63('0x38')]/0x3-_0x5318c2,0x1);}function _0xaa3000(_0x462ab1,_0x4b9873){var _0x54b738=[];var _0x3180c7=[];for(var _0x31a419=0x0;_0x31a419<_0x462ab1[_0x2f63('0x38')];_0x31a419++){_0x3180c7['push'](_0x462ab1[_0x31a419]);}_0x3180c7[_0x2f63('0x34')](_0x462ab1[0x0]);_0x54b738[0x0]=0x0;for(var _0x623f48=0x1;_0x623f48<_0x3180c7[_0x2f63('0x38')];_0x623f48++){var _0x43fb69=_0x54b738[_0x623f48-0x1]+_0x3180c7[_0x623f48]['clone']()[_0x2f63('0xb5')](_0x3180c7[_0x623f48-0x1])[_0x2f63('0x38')]();_0x54b738[_0x623f48]=_0x43fb69;}var _0x8c5b69=_0x2ecdc8;var _0x1e50e1=[];_0x1e50e1[0x0]=_0x2cf154;var _0x43baeb=0x1;for(var _0xcb50f3=0x0;_0xcb50f3<_0x8c5b69;_0xcb50f3++){var _0x220fbc=_0x343bd2*_0xcb50f3;var _0x4b8e12=_0x343bd2*(_0xcb50f3+0x1);var _0x5894ce=_0x4b9873+_0x43baeb+_0x220fbc;var _0x39691d=_0x4b9873+_0x43baeb+_0x4b8e12;var _0x37f663=new _0x14b965(_0x3d5b74[_0x5894ce*0x3+0x0],_0x3d5b74[_0x5894ce*0x3+0x1],_0x3d5b74[_0x5894ce*0x3+0x2]);var _0x316dba=new _0x14b965(_0x3d5b74[_0x39691d*0x3+0x0],_0x3d5b74[_0x39691d*0x3+0x1],_0x3d5b74[_0x39691d*0x3+0x2]);var _0x3f8cab=_0x316dba['sub'](_0x37f663)[_0x2f63('0x38')]();_0x1e50e1[_0x2f63('0x34')](_0x1e50e1[_0x1e50e1[_0x2f63('0x38')]-0x1]+_0x3f8cab);}var _0x4413e1=_0x462ab1[_0x2f63('0x38')];while(--_0x4413e1>=0x0){var _0x431d68=_0x4413e1;var _0x4152e8=_0x4413e1-0x1;if(_0x4152e8<0x0)_0x4152e8=_0x462ab1[_0x2f63('0x38')]-0x1;for(var _0x34c33f=0x0;_0x34c33f<_0x8c5b69;_0x34c33f++){var _0xc729ec=_0x343bd2*_0x34c33f;var _0x4f221d=_0x343bd2*(_0x34c33f+0x1);var _0x24ab6d=_0x4b9873+_0x431d68+_0xc729ec;var _0x3db7a8=_0x4b9873+_0x4152e8+_0xc729ec;var _0xe93b42=_0x4b9873+_0x4152e8+_0x4f221d;var _0x24b386=_0x4b9873+_0x431d68+_0x4f221d;_0x19b96e(_0x54b738,_0x1e50e1,_0x4413e1,_0x34c33f,_0x3db7a8,_0x24ab6d,_0x24b386,_0xe93b42);}}}function _0x178111(_0x22a9b7,_0x30ef97,_0x3c4d9b){_0x3b937b(_0x22a9b7);_0x3b937b(_0x30ef97);_0x3b937b(_0x3c4d9b);var _0xefa96e=_0x4fe682[_0x2f63('0x38')]/0x3;var _0x4cee7c=_0x5b6320[_0x2f63('0x2e4')](_0x69db57,_0x4fe682,_0x4cabec,_0xefa96e-0x3,_0xefa96e-0x2,_0xefa96e-0x1);_0x851f98(_0x4cee7c[0x0]);_0x851f98(_0x4cee7c[0x1]);_0x851f98(_0x4cee7c[0x2]);}function _0x19b96e(_0xcc540c,_0x44fde5,_0x175433,_0x369412,_0x53b59a,_0x3c0f50,_0x3e3a05,_0x39691d){_0x3b937b(_0x53b59a);_0x3b937b(_0x3c0f50);_0x3b937b(_0x39691d);_0x3b937b(_0x3c0f50);_0x3b937b(_0x3e3a05);_0x3b937b(_0x39691d);var _0x2d2263=_0x4fe682['length']/0x3;var _0x2d5676=_0x5b6320[_0x2f63('0x2e5')](_0x69db57,_0x4fe682,_0x4cabec,_0x55324e,_0xcc540c,_0x44fde5,_0x175433,_0x369412,_0x2d2263-0x6,_0x2d2263-0x3,_0x2d2263-0x2,_0x2d2263-0x1);_0x851f98(_0x2d5676[0x0]);_0x851f98(_0x2d5676[0x1]);_0x851f98(_0x2d5676[0x3]);_0x851f98(_0x2d5676[0x1]);_0x851f98(_0x2d5676[0x2]);_0x851f98(_0x2d5676[0x3]);}function _0x3b937b(_0x229485){_0x4fe682['push'](_0x3d5b74[_0x229485*0x3+0x0],_0x3d5b74[_0x229485*0x3+0x1],_0x3d5b74[_0x229485*0x3+0x2]);}function _0x851f98(_0x582ab2){_0x669a8[_0x2f63('0x34')](_0x582ab2['x']);_0x669a8[_0x2f63('0x34')](_0x582ab2['y']);}}}_0x35d4ed[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x4b14f2[_0x2f63('0x9')]);_0x35d4ed['prototype'][_0x2f63('0x14')]=_0x35d4ed;_0x35d4ed['prototype']['toJSON']=function(){var _0x445bb1=_0x4b14f2[_0x2f63('0x9')][_0x2f63('0x141')][_0x2f63('0xb')](this);var _0x5b9eec=this[_0x2f63('0x242')][_0x2f63('0x146')];var _0xf7d9c9=this[_0x2f63('0x242')][_0x2f63('0x2e6')];return _0x483a4d(_0x5b9eec,_0xf7d9c9,_0x445bb1);};function _0x458ccd(_0x20472b,_0x224512,_0x22f2a5,_0x38fa16){_0x22f2a5=Math[_0x2f63('0x2e7')]*_0x20472b-Math[_0x2f63('0x2e7')]*_0x224512;_0x38fa16=Math[_0x2f63('0x2e7')]*_0x20472b+Math[_0x2f63('0x2e7')]*_0x224512;return[_0x22f2a5,_0x38fa16];}var _0x263364={'generateTopUV':function generateTopUV(_0x305312,_0xfb7336,_0x3b1f5c,_0x2fcc13,_0xd1fc3e,_0x30892f){var _0x4c6ae0=_0xfb7336[_0x2fcc13*0x3];var _0x486953=_0xfb7336[_0x2fcc13*0x3+0x1];var _0x31f864=_0xfb7336[_0xd1fc3e*0x3];var _0x240ce4=_0xfb7336[_0xd1fc3e*0x3+0x1];var _0x328867=_0xfb7336[_0x30892f*0x3];var _0x2b4ed2=_0xfb7336[_0x30892f*0x3+0x1];var _0x22d9b0=_0x3b1f5c;var _0x317e4b=_0x22d9b0['max']['y']-_0x22d9b0[_0x2f63('0x5e')]['y'];var _0x4686d1=_0x317e4b;return[new _0x2b6548((_0x4c6ae0-_0x22d9b0['min']['x'])/_0x4686d1,0x1-(_0x486953-_0x22d9b0[_0x2f63('0x5e')]['y'])/_0x4686d1),new _0x2b6548((_0x31f864-_0x22d9b0['min']['x'])/_0x4686d1,0x1-(_0x240ce4-_0x22d9b0['min']['y'])/_0x4686d1),new _0x2b6548((_0x328867-_0x22d9b0[_0x2f63('0x5e')]['x'])/_0x4686d1,0x1-(_0x2b4ed2-_0x22d9b0[_0x2f63('0x5e')]['y'])/_0x4686d1)];},'generateBottomUV':function generateBottomUV(_0x3fe9b4,_0x4bef38,_0x1b75cc,_0x409f7c,_0x365032,_0x26c684){return this['generateTopUV'](_0x3fe9b4,_0x1b75cc,_0x409f7c,_0x365032,_0x26c684);},'generateSideWallUV':function generateSideWallUV(_0x2b37d8,_0x40130a,_0x41e211,_0x1f6e1a,_0x9e9ce1,_0x190d87,_0xf594d7,_0x1e1dfe){var _0x5bbcf3=_0x40130a[_0x9e9ce1*0x3];var _0x422dd4=_0x40130a[_0x9e9ce1*0x3+0x1];var _0x5e1d54=_0x40130a[_0x9e9ce1*0x3+0x2];var _0x2bac8b=_0x40130a[_0x190d87*0x3];var _0xd6f043=_0x40130a[_0x190d87*0x3+0x1];var _0x56141d=_0x40130a[_0x190d87*0x3+0x2];var _0x5b9571=_0x40130a[_0xf594d7*0x3];var _0x504022=_0x40130a[_0xf594d7*0x3+0x1];var _0x1c018b=_0x40130a[_0xf594d7*0x3+0x2];var _0x40056=_0x40130a[_0x1e1dfe*0x3];var _0x46bcc1=_0x40130a[_0x1e1dfe*0x3+0x1];var _0x531e2b=_0x40130a[_0x1e1dfe*0x3+0x2];var _0x4e45b7=_0x41e211;var _0x35ab49=_0x4e45b7['max']['x']-_0x4e45b7[_0x2f63('0x5e')]['x'];var _0x36b4f2=_0x4e45b7[_0x2f63('0x5d')]['y']-_0x4e45b7[_0x2f63('0x5e')]['y'];var _0xe4b05=_0x4e45b7[_0x2f63('0x5d')]['z']-_0x4e45b7['min']['z'];var _0x4c6e23=_0x36b4f2;var _0x1d7778=new _0x14b965(_0x2bac8b-_0x5bbcf3,_0xd6f043-_0x422dd4,0x0);var _0x10c6e1=new _0x14b965(0x1,0x0,0x0);var _0x226e79=_0x1d7778['angleTo'](_0x10c6e1)*0xb4/Math['PI'];if(_0x226e79<0x0||_0x226e79>0xb4)console[_0x2f63('0xbb')](_0x2f63('0x2e8'),_0x226e79);var _0x3f6d25=0x1e;if(_0x226e79<_0x3f6d25||_0x226e79>0xb4-_0x3f6d25){return[new _0x2b6548(_0x5bbcf3/_0x4c6e23,_0x5e1d54/_0x4c6e23),new _0x2b6548(_0x2bac8b/_0x4c6e23,_0x56141d/_0x4c6e23),new _0x2b6548(_0x5b9571/_0x4c6e23,_0x1c018b/_0x4c6e23),new _0x2b6548(_0x40056/_0x4c6e23,_0x531e2b/_0x4c6e23)];}else if(_0x226e79>0x5a-_0x3f6d25&&_0x226e79<0x5a+_0x3f6d25){return[new _0x2b6548(_0x422dd4/_0x4c6e23,_0x5e1d54/_0x4c6e23),new _0x2b6548(_0xd6f043/_0x4c6e23,_0x56141d/_0x4c6e23),new _0x2b6548(_0x504022/_0x4c6e23,_0x1c018b/_0x4c6e23),new _0x2b6548(_0x46bcc1/_0x4c6e23,_0x531e2b/_0x4c6e23)];}else{var _0x41c847=_0x458ccd(_0x5bbcf3,_0x422dd4),_0x37041a=_0x21a939(_0x41c847,0x2),_0x38d6a1=_0x37041a[0x0],_0x393781=_0x37041a[0x1];var _0x2222b5=_0x458ccd(_0x2bac8b,_0xd6f043),_0x5e16a1=_0x21a939(_0x2222b5,0x2),_0x30e366=_0x5e16a1[0x0],_0x158750=_0x5e16a1[0x1];var _0x485bae=new _0x14b965(_0x30e366-_0x38d6a1,_0x158750-_0x393781,0x0);var _0x2d2ce8=_0x485bae['angleTo'](_0x10c6e1)*0xb4/Math['PI'];var _0x55739f=_0x4c6e23/1.41421;var _0x3304f5=0x2d-_0x3f6d25;if(_0x2d2ce8<_0x3304f5||_0x2d2ce8>0xb4-_0x3304f5){return[new _0x2b6548(_0x5bbcf3/_0x55739f,_0x5e1d54/_0x4c6e23),new _0x2b6548(_0x2bac8b/_0x55739f,_0x56141d/_0x4c6e23),new _0x2b6548(_0x5b9571/_0x55739f,_0x1c018b/_0x4c6e23),new _0x2b6548(_0x40056/_0x55739f,_0x531e2b/_0x4c6e23)];}{return[new _0x2b6548(_0x422dd4/_0x55739f,_0x5e1d54/_0x4c6e23),new _0x2b6548(_0xd6f043/_0x55739f,_0x56141d/_0x4c6e23),new _0x2b6548(_0x504022/_0x55739f,_0x1c018b/_0x4c6e23),new _0x2b6548(_0x46bcc1/_0x55739f,_0x531e2b/_0x4c6e23)];}}},'generateSideWallUVExtend':function generateSideWallUVExtend(_0x3905e5,_0x55f487,_0xa3af19,_0x4c819d,_0x85075b,_0x218fec,_0x3a9b0b,_0x595a71,_0x431e3e,_0x19591a,_0x603094,_0x551ae0){var _0xfa99ae=_0xa3af19;var _0x38f92d=_0xfa99ae['max']['y']-_0xfa99ae[_0x2f63('0x5e')]['y'];var _0x13f65c=_0x38f92d;if(_0x3a9b0b-0x1<0x0){_0x3a9b0b=_0x85075b['length']-0x1;}var _0x362d10=_0x85075b[_0x3a9b0b-0x1]/_0x13f65c;var _0x4e0659=_0x85075b[_0x3a9b0b]/_0x13f65c;return[new _0x2b6548(_0x362d10,_0x218fec[_0x595a71]/_0x13f65c),new _0x2b6548(_0x4e0659,_0x218fec[_0x595a71]/_0x13f65c),new _0x2b6548(_0x4e0659,_0x218fec[_0x595a71+0x1]/_0x13f65c),new _0x2b6548(_0x362d10,_0x218fec[_0x595a71+0x1]/_0x13f65c)];}};function _0x483a4d(_0x1079fe,_0x5ee394,_0x3ecbcf){_0x3ecbcf[_0x2f63('0x146')]=[];if(Array[_0x2f63('0x147')](_0x1079fe)){for(var _0x2bbc35=0x0,_0x3df8a6=_0x1079fe[_0x2f63('0x38')];_0x2bbc35<_0x3df8a6;_0x2bbc35++){var _0x426447=_0x1079fe[_0x2bbc35];_0x3ecbcf[_0x2f63('0x146')]['push'](_0x426447[_0x2f63('0x13e')]);}}else{_0x3ecbcf[_0x2f63('0x146')][_0x2f63('0x34')](_0x1079fe['uuid']);}if(_0x5ee394[_0x2f63('0x2c6')]!==undefined)_0x3ecbcf['options'][_0x2f63('0x2c6')]=_0x5ee394[_0x2f63('0x2c6')][_0x2f63('0x141')]();return _0x3ecbcf;}var _0x45f685=Object[_0x2f63('0x9')][_0x2f63('0x41')][_0x2f63('0xb')](typeof process!==_0x2f63('0x8')?process:0x0)===_0x2f63('0x2e9');var _0x478f18=_0x45f685?module[_0x2f63('0x2ea')]:null;function _0x192d1b(_0x277666){var _0x41d3d5=arguments['length']>0x1&&arguments[0x1]!==undefined?arguments[0x1]:null;var _0x460957=_0x45f685?Buffer[_0x2f63('0x14d')](_0x277666,'base64')['toString'](_0x2f63('0x2eb')):atob(_0x277666);var _0x2610e5=_0x460957[_0x2f63('0x53')]('\x0a',0xa)+0x1;var _0x527aa8=_0x460957['substring'](_0x2610e5)+(_0x41d3d5?_0x2f63('0x2ec')[_0x2f63('0x184')](_0x41d3d5):'');if(_0x45f685){var _0xc60997=_0x478f18(_0x2f63('0x2ed'))['Worker'];return function _0xacb876(_0x2131c2){return new _0xc60997(_0x527aa8,Object[_0x2f63('0xe2')]({},_0x2131c2,{'eval':!![]}));};}var _0x70bc7e=new Blob([_0x527aa8],{'type':_0x2f63('0x2ee')});var _0x107f14=URL[_0x2f63('0x2ef')](_0x70bc7e);return function _0xacb876(_0x213034){return new Worker(_0x107f14,_0x213034);};}var _0xacb876=_0x192d1b(_0x2f63('0x2f0'),null);var _0x458c43=_0x5c64da(function(_0x57f4bf){function _0x525139(_0x1ae34a){_0x57f4bf[_0x2f63('0x5')]=_0x525139=Object[_0x2f63('0x3e')]?Object[_0x2f63('0x2b')][_0x2f63('0x2f1')]():function _0x525139(_0x1ae34a){return _0x1ae34a[_0x2f63('0x2f2')]||Object[_0x2f63('0x2b')](_0x1ae34a);},_0x57f4bf[_0x2f63('0x5')]['__esModule']=!![],_0x57f4bf[_0x2f63('0x5')][_0x2f63('0xc')]=_0x57f4bf[_0x2f63('0x5')];return _0x525139(_0x1ae34a);}_0x57f4bf[_0x2f63('0x5')]=_0x525139,_0x57f4bf[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x57f4bf[_0x2f63('0x5')]['default']=_0x57f4bf[_0x2f63('0x5')];});var _0x7200f8=_0x16d737(_0x458c43);var _0x5db02e=_0x5c64da(function(_0x4b5ffe){function _0x584c0e(_0x468f66,_0x4b0f8e){while(!Object[_0x2f63('0x9')][_0x2f63('0xa')][_0x2f63('0xb')](_0x468f66,_0x4b0f8e)){_0x468f66=_0x458c43(_0x468f66);if(_0x468f66===null)break;}return _0x468f66;}_0x4b5ffe[_0x2f63('0x5')]=_0x584c0e,_0x4b5ffe['exports'][_0x2f63('0x11')]=!![],_0x4b5ffe[_0x2f63('0x5')]['default']=_0x4b5ffe['exports'];});_0x16d737(_0x5db02e);var _0x4ff83e=_0x5c64da(function(_0xfea3b8){function _0x3511e9(){if(typeof Reflect!==_0x2f63('0x8')&&Reflect[_0x2f63('0x1e4')]){_0xfea3b8[_0x2f63('0x5')]=_0x3511e9=Reflect[_0x2f63('0x1e4')][_0x2f63('0x2f1')](),_0xfea3b8[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0xfea3b8[_0x2f63('0x5')][_0x2f63('0xc')]=_0xfea3b8[_0x2f63('0x5')];}else{_0xfea3b8[_0x2f63('0x5')]=_0x3511e9=function _0x3511e9(_0x5b8f6e,_0xcb4b31,_0x343fb9){var _0x53706a=_0x5db02e(_0x5b8f6e,_0xcb4b31);if(!_0x53706a)return;var _0x217238=Object[_0x2f63('0x2f3')](_0x53706a,_0xcb4b31);if(_0x217238[_0x2f63('0x1e4')]){return _0x217238[_0x2f63('0x1e4')][_0x2f63('0xb')](arguments[_0x2f63('0x38')]<0x3?_0x5b8f6e:_0x343fb9);}return _0x217238[_0x2f63('0xd')];},_0xfea3b8[_0x2f63('0x5')]['__esModule']=!![],_0xfea3b8[_0x2f63('0x5')][_0x2f63('0xc')]=_0xfea3b8[_0x2f63('0x5')];}return _0x3511e9['apply'](this,arguments);}_0xfea3b8[_0x2f63('0x5')]=_0x3511e9,_0xfea3b8['exports']['__esModule']=!![],_0xfea3b8[_0x2f63('0x5')]['default']=_0xfea3b8['exports'];});var _0x260cbe=_0x16d737(_0x4ff83e);var _0xa2bfa=_0x5c64da(function(_0x249119){function _0x251f2b(_0x5a60ec,_0x3cfe2e){_0x249119[_0x2f63('0x5')]=_0x251f2b=Object[_0x2f63('0x3e')]?Object[_0x2f63('0x3e')][_0x2f63('0x2f1')]():function _0x251f2b(_0x5a60ec,_0x3cfe2e){_0x5a60ec[_0x2f63('0x2f2')]=_0x3cfe2e;return _0x5a60ec;},_0x249119[_0x2f63('0x5')]['__esModule']=!![],_0x249119[_0x2f63('0x5')][_0x2f63('0xc')]=_0x249119['exports'];return _0x251f2b(_0x5a60ec,_0x3cfe2e);}_0x249119['exports']=_0x251f2b,_0x249119[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x249119[_0x2f63('0x5')]['default']=_0x249119[_0x2f63('0x5')];});_0x16d737(_0xa2bfa);var _0x452d12=_0x5c64da(function(_0x387e86){function _0x45da0b(_0x39f73f,_0x35e221){if(typeof _0x35e221!==_0x2f63('0x3')&&_0x35e221!==null){throw new TypeError(_0x2f63('0x2f4'));}_0x39f73f[_0x2f63('0x9')]=Object[_0x2f63('0x19')](_0x35e221&&_0x35e221['prototype'],{'constructor':{'value':_0x39f73f,'writable':!![],'configurable':!![]}});Object[_0x2f63('0x5a')](_0x39f73f,_0x2f63('0x9'),{'writable':![]});if(_0x35e221)_0xa2bfa(_0x39f73f,_0x35e221);}_0x387e86['exports']=_0x45da0b,_0x387e86['exports'][_0x2f63('0x11')]=!![],_0x387e86[_0x2f63('0x5')][_0x2f63('0xc')]=_0x387e86[_0x2f63('0x5')];});var _0x2a2d9e=_0x16d737(_0x452d12);var _0x13afe3=_0x5c64da(function(_0x1a94a7){function _0x4412ff(_0x104f48){if(_0x104f48===void 0x0){throw new ReferenceError(_0x2f63('0x2f5'));}return _0x104f48;}_0x1a94a7[_0x2f63('0x5')]=_0x4412ff,_0x1a94a7[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x1a94a7[_0x2f63('0x5')][_0x2f63('0xc')]=_0x1a94a7['exports'];});_0x16d737(_0x13afe3);var _0x12c8f6=_0x5c64da(function(_0x4b9062){var _0x3f2d4d=_0x5b2848[_0x2f63('0xc')];function _0x3ef585(_0x7c25e1,_0x5eee71){if(_0x5eee71&&(_0x3f2d4d(_0x5eee71)===_0x2f63('0x0')||typeof _0x5eee71===_0x2f63('0x3'))){return _0x5eee71;}else if(_0x5eee71!==void 0x0){throw new TypeError(_0x2f63('0x2f6'));}return _0x13afe3(_0x7c25e1);}_0x4b9062[_0x2f63('0x5')]=_0x3ef585,_0x4b9062[_0x2f63('0x5')][_0x2f63('0x11')]=!![],_0x4b9062[_0x2f63('0x5')][_0x2f63('0xc')]=_0x4b9062['exports'];});var _0x207b42=_0x16d737(_0x12c8f6);var _0x57c1bd=function(){function _0x57c1bd(){_0x47c705(this,_0x57c1bd);this['type']=_0x2f63('0x2f7');this[_0x2f63('0x2f8')]=0xc8;this[_0x2f63('0x2f9')]=0x0;}_0x38642a(_0x57c1bd,[{'key':_0x2f63('0x2fa'),'value':function getPointAt(_0x1f2312){var _0x41650e=this[_0x2f63('0x2fb')](_0x1f2312);return this[_0x2f63('0x25b')](_0x41650e);}},{'key':_0x2f63('0x25c'),'value':function getPoints(_0x3f75ba){if(_0x3f75ba===undefined)_0x3f75ba=0x5;var _0x542122=[];for(var _0x39691d=0x0;_0x39691d<=_0x3f75ba;_0x39691d++){_0x542122['push'](this[_0x2f63('0x25b')](_0x39691d/_0x3f75ba));}return _0x542122;}},{'key':_0x2f63('0x2fc'),'value':function getPointsByStepsize(_0x1f9558){if(_0x1f9558===undefined)_0x1f9558=0x5;var _0x512698=this['getLength']();var _0xe5ec6d;if(_0x1f9558>_0x512698){_0xe5ec6d=0x1;}else{_0xe5ec6d=Math[_0x2f63('0xca')](_0x512698/_0x1f9558);}return this['getPoints'](_0xe5ec6d);}},{'key':_0x2f63('0x2fd'),'value':function triangleArea(_0x35c9cb,_0x58e45c,_0x318d53){return Math[_0x2f63('0x75')]((_0x58e45c['x']-_0x35c9cb['x'])*(_0x318d53['y']-_0x35c9cb['y'])-(_0x58e45c['y']-_0x35c9cb['y'])*(_0x318d53['x']-_0x35c9cb['x']));}},{'key':_0x2f63('0x2fe'),'value':function checkFlat(_0x47cff2,_0x346432,_0x11de0c,_0x5681d3){return this['triangleArea'](_0x47cff2,_0x346432,_0x11de0c)<_0x5681d3;}},{'key':'sample','value':function sample(_0x3f04b7,_0x32b91c,_0x39aae5,_0x25bb9c){if(this[_0x2f63('0x2f9')]>0x64){return;}this[_0x2f63('0x2f9')]++;var _0x3870a7=this['getPointAt'](_0x3f04b7);var _0x3f8011=this[_0x2f63('0x2fa')](_0x32b91c);var _0x305d0f=0.45;var _0x4bf1fe=_0x3f04b7+(_0x32b91c-_0x3f04b7)*_0x305d0f;var _0x4cf70d=this[_0x2f63('0x2fa')](_0x4bf1fe);if(this['checkFlat'](_0x3870a7,_0x3f8011,_0x4cf70d,_0x39aae5)){_0x25bb9c['add'](_0x3f8011);}else{this[_0x2f63('0x2ff')](_0x3f04b7,_0x4bf1fe,_0x39aae5,_0x25bb9c);this[_0x2f63('0x2ff')](_0x4bf1fe,_0x32b91c,_0x39aae5,_0x25bb9c);}}},{'key':_0x2f63('0x300'),'value':function getPointsAdaptively4Curve(){var _0x36fa3f=arguments[_0x2f63('0x38')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:0.01;this[_0x2f63('0x2f9')]=0x0;var _0x3fd729=new Set();var _0x82d819=0x0;var _0x58fb8d=0x1;_0x3fd729[_0x2f63('0xb0')](this[_0x2f63('0x2fa')](0x0));this['sample'](_0x82d819,_0x58fb8d,_0x36fa3f,_0x3fd729);return Array['from'](_0x3fd729);}},{'key':_0x2f63('0x2da'),'value':function getSpacedPoints(_0x2ae9ab){if(_0x2ae9ab===undefined)_0x2ae9ab=0x5;var _0x345b36=[];for(var _0x39691d=0x0;_0x39691d<=_0x2ae9ab;_0x39691d++){_0x345b36[_0x2f63('0x34')](this[_0x2f63('0x2fa')](_0x39691d/_0x2ae9ab));}return _0x345b36;}},{'key':_0x2f63('0x301'),'value':function getLength(){var _0x12bb4d=this[_0x2f63('0x302')]();return _0x12bb4d[_0x12bb4d[_0x2f63('0x38')]-0x1];}},{'key':_0x2f63('0x302'),'value':function getLengths(_0x4d63f9){if(_0x4d63f9===undefined)_0x4d63f9=this[_0x2f63('0x2f8')];if(this['cacheArcLengths']&&this['cacheArcLengths']['length']===_0x4d63f9+0x1&&!this[_0x2f63('0x219')]){return this['cacheArcLengths'];}this[_0x2f63('0x219')]=![];var _0x3d5da5=[];var _0x33398e;var _0x2641f4=this[_0x2f63('0x25b')](0x0);var _0x3656b0;var _0x4d3bc0=0x0;_0x3d5da5['push'](0x0);for(_0x3656b0=0x1;_0x3656b0<=_0x4d63f9;_0x3656b0++){_0x33398e=this[_0x2f63('0x25b')](_0x3656b0/_0x4d63f9);_0x4d3bc0+=_0x33398e['distanceTo'](_0x2641f4);_0x3d5da5[_0x2f63('0x34')](_0x4d3bc0);_0x2641f4=_0x33398e;}this[_0x2f63('0x303')]=_0x3d5da5;return _0x3d5da5;}},{'key':_0x2f63('0x304'),'value':function updateArcLengths(){this['needsUpdate']=!![];this[_0x2f63('0x302')]();}},{'key':_0x2f63('0x2fb'),'value':function getUtoTmapping(_0x22e84b,_0x8141c7){var _0x2a270b=this['getLengths']();var _0x322e68=0x0;var _0x10f488=_0x2a270b[_0x2f63('0x38')];var _0x2873d4;if(_0x8141c7){_0x2873d4=_0x8141c7;}else{_0x2873d4=_0x22e84b*_0x2a270b[_0x10f488-0x1];}var _0x2b8ee4=0x0;var _0x47c244=_0x10f488-0x1;var _0x10c754;while(_0x2b8ee4<=_0x47c244){_0x322e68=Math[_0x2f63('0xc9')](_0x2b8ee4+(_0x47c244-_0x2b8ee4)/0x2);_0x10c754=_0x2a270b[_0x322e68]-_0x2873d4;if(_0x10c754<0x0){_0x2b8ee4=_0x322e68+0x1;}else if(_0x10c754>0x0){_0x47c244=_0x322e68-0x1;}else{_0x47c244=_0x322e68;break;}}_0x322e68=_0x47c244;if(_0x2a270b[_0x322e68]===_0x2873d4){return _0x322e68/(_0x10f488-0x1);}var _0x5cbdbb=_0x2a270b[_0x322e68];var _0x1b74e3=_0x2a270b[_0x322e68+0x1];var _0x1084f0=_0x1b74e3-_0x5cbdbb;var _0x160e1b=(_0x2873d4-_0x5cbdbb)/_0x1084f0;var _0x5d0848=(_0x322e68+_0x160e1b)/(_0x10f488-0x1);return _0x5d0848;}},{'key':_0x2f63('0x305'),'value':function getNormal(_0x45db47){var _0x5f5288=this[_0x2f63('0x306')](_0x45db47),_0x2b07ff=_0x5f5288['x'],_0x224512=_0x5f5288['y'];var _0x7f4c25=new _0x2b6548(_0x224512,-_0x2b07ff);return _0x7f4c25[_0x2f63('0x74')]();}},{'key':_0x2f63('0x306'),'value':function getTangent(_0x4b2f19){var _0x3a8f29=0.0001;var _0x12c842=_0x4b2f19-_0x3a8f29;var _0x4ac6a3=_0x4b2f19+_0x3a8f29;if(_0x12c842<0x0)_0x12c842=0x0;if(_0x4ac6a3>0x1)_0x4ac6a3=0x1;var _0x3374b5=this['getPoint'](_0x12c842);var _0x6e705a=this[_0x2f63('0x25b')](_0x4ac6a3);var _0x27919f=_0x6e705a['clone']()[_0x2f63('0xb5')](_0x3374b5);return _0x27919f[_0x2f63('0x74')]();}},{'key':_0x2f63('0x307'),'value':function getTangentAt(_0x468feb){var _0x5ec6d3=this[_0x2f63('0x2fb')](_0x468feb);return this[_0x2f63('0x306')](_0x5ec6d3);}},{'key':_0x2f63('0x2db'),'value':function computeFrenetFrames(_0x3de6f9,_0x5d6e8a){var _0x133ddf=new _0x14b965();var _0x11f898=[];var _0x1adcf7=[];var _0x29de78=[];var _0x22f2d1=new _0x14b965();var _0x4ff355=new _0x367199();var _0x3359ad,_0x4f0211,_0x49497e;for(_0x3359ad=0x0;_0x3359ad<=_0x3de6f9;_0x3359ad++){_0x4f0211=_0x3359ad/_0x3de6f9;_0x11f898[_0x3359ad]=this[_0x2f63('0x307')](_0x4f0211);_0x11f898[_0x3359ad][_0x2f63('0x74')]();}_0x1adcf7[0x0]=new _0x14b965();_0x29de78[0x0]=new _0x14b965();var _0x3c5273=Number[_0x2f63('0x308')];var _0x3d45e8=Math[_0x2f63('0x75')](_0x11f898[0x0]['x']);var _0x1b2605=Math['abs'](_0x11f898[0x0]['y']);var _0x5b4a9d=Math[_0x2f63('0x75')](_0x11f898[0x0]['z']);if(_0x3d45e8<=_0x3c5273){_0x3c5273=_0x3d45e8;_0x133ddf[_0x2f63('0x67')](0x1,0x0,0x0);}if(_0x1b2605<=_0x3c5273){_0x3c5273=_0x1b2605;_0x133ddf[_0x2f63('0x67')](0x0,0x1,0x0);}if(_0x5b4a9d<=_0x3c5273){_0x133ddf[_0x2f63('0x67')](0x0,0x0,0x1);}_0x22f2d1['crossVectors'](_0x11f898[0x0],_0x133ddf)[_0x2f63('0x74')]();_0x1adcf7[0x0][_0x2f63('0x76')](_0x11f898[0x0],_0x22f2d1);_0x29de78[0x0][_0x2f63('0x76')](_0x11f898[0x0],_0x1adcf7[0x0]);for(_0x3359ad=0x1;_0x3359ad<=_0x3de6f9;_0x3359ad++){_0x1adcf7[_0x3359ad]=_0x1adcf7[_0x3359ad-0x1][_0x2f63('0x68')]();_0x29de78[_0x3359ad]=_0x29de78[_0x3359ad-0x1][_0x2f63('0x68')]();_0x22f2d1[_0x2f63('0x76')](_0x11f898[_0x3359ad-0x1],_0x11f898[_0x3359ad]);if(_0x22f2d1[_0x2f63('0x38')]()>Number[_0x2f63('0x92')]){_0x22f2d1['normalize']();_0x49497e=Math[_0x2f63('0xd4')](_0x252c11[_0x2f63('0xa0')](_0x11f898[_0x3359ad-0x1]['dot'](_0x11f898[_0x3359ad]),-0x1,0x1));_0x1adcf7[_0x3359ad][_0x2f63('0xbf')](_0x4ff355['makeRotationAxis'](_0x22f2d1,_0x49497e));}_0x29de78[_0x3359ad]['crossVectors'](_0x11f898[_0x3359ad],_0x1adcf7[_0x3359ad]);}if(_0x5d6e8a===!![]){_0x49497e=Math[_0x2f63('0xd4')](_0x252c11[_0x2f63('0xa0')](_0x1adcf7[0x0][_0x2f63('0xa1')](_0x1adcf7[_0x3de6f9]),-0x1,0x1));_0x49497e/=_0x3de6f9;if(_0x11f898[0x0][_0x2f63('0xa1')](_0x22f2d1[_0x2f63('0x76')](_0x1adcf7[0x0],_0x1adcf7[_0x3de6f9]))>0x0){_0x49497e=-_0x49497e;}for(_0x3359ad=0x1;_0x3359ad<=_0x3de6f9;_0x3359ad++){_0x1adcf7[_0x3359ad]['applyMatrix4'](_0x4ff355[_0x2f63('0x309')](_0x11f898[_0x3359ad],_0x49497e*_0x3359ad));_0x29de78[_0x3359ad][_0x2f63('0x76')](_0x11f898[_0x3359ad],_0x1adcf7[_0x3359ad]);}}return{'tangents':_0x11f898,'normals':_0x1adcf7,'binormals':_0x29de78};}},{'key':_0x2f63('0x68'),'value':function clone(){return Object[_0x2f63('0xe2')]({},this);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x11a6ab){this[_0x2f63('0x2f8')]=_0x11a6ab[_0x2f63('0x2f8')];return this;}}]);return _0x57c1bd;}();function _0xf63fe0(_0xd215bd){var _0x119f7d=_0x1e9f87();return function _createSuperInternal(){var _0xf8d7c7=_0x7200f8(_0xd215bd),_0x2ab182;if(_0x119f7d){var _0x374e07=_0x7200f8(this)[_0x2f63('0x14')];_0x2ab182=Reflect[_0x2f63('0x30a')](_0xf8d7c7,arguments,_0x374e07);}else{_0x2ab182=_0xf8d7c7['apply'](this,arguments);}return _0x207b42(this,_0x2ab182);};}function _0x1e9f87(){if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect['construct'][_0x2f63('0x30b')])return![];if(typeof Proxy==='function')return!![];try{Boolean['prototype'][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x401086){return![];}}var _0x2cb418=function(_0x47f79){_0x2a2d9e(_0x2cb418,_0x47f79);var _0x935948=_0xf63fe0(_0x2cb418);function _0x2cb418(_0x687136,_0x461526){var _0x1816c;_0x47c705(this,_0x2cb418);_0x1816c=_0x935948[_0x2f63('0xb')](this);_0x1816c[_0x2f63('0x28')]=_0x2f63('0x30d');_0x1816c['v1']=_0x687136||new _0x2b6548();_0x1816c['v2']=_0x461526||new _0x2b6548();_0x1816c[_0x2f63('0x30e')]=!![];return _0x1816c;}_0x38642a(_0x2cb418,[{'key':'getPole','value':function getPole(_0x2867ad,_0x22763b){var _0x4772cd=this['v1'],_0x3b95a5=this['v2'];_0x2867ad['x']=Math[_0x2f63('0x5e')](_0x2867ad['x'],_0x4772cd['x'],_0x3b95a5['x']);_0x2867ad['y']=Math[_0x2f63('0x5e')](_0x2867ad['y'],_0x4772cd['y'],_0x3b95a5['y']);_0x22763b['x']=Math[_0x2f63('0x5d')](_0x22763b['x'],_0x4772cd['x'],_0x3b95a5['x']);_0x22763b['y']=Math[_0x2f63('0x5d')](_0x22763b['y'],_0x4772cd['y'],_0x3b95a5['y']);}},{'key':_0x2f63('0x30f'),'value':function pointApplyFunc(_0x5a857f){_0x5a857f(this['v1']);_0x5a857f(this['v2']);}},{'key':_0x2f63('0x182'),'value':function split(_0xbcf703){var _0x5e0d5b=_0xbcf703['x'],_0x224512=_0xbcf703['y'];var _0x2e4532=this['v1'],_0x5e44e0=this['v2'];var _0x5342de=_0x5e0d5b!==undefined&&(_0x2e4532['x']-_0x5e0d5b)*(_0x5e44e0['x']-_0x5e0d5b)<0x0;var _0x439a5f=_0x224512!==undefined&&(_0x2e4532['y']-_0x224512)*(_0x5e44e0['y']-_0x224512)<0x0;if(_0x5342de){_0x224512=_0x2e4532['y']+(_0x5e44e0['y']-_0x2e4532['y'])/(_0x5e44e0['x']-_0x2e4532['x'])*(_0x5e0d5b-_0x2e4532['x']);}if(_0x439a5f){_0x5e0d5b=_0x2e4532['x']+(_0x5e44e0['x']-_0x2e4532['x'])/(_0x5e44e0['y']-_0x2e4532['y'])*(_0x224512-_0x2e4532['y']);}if(_0x5342de||_0x439a5f){var _0x3f20f2=new _0x2cb418(_0x2e4532,new _0x2b6548(_0x5e0d5b,_0x224512));var _0x4ae167=new _0x2cb418(new _0x2b6548(_0x5e0d5b,_0x224512),_0x5e44e0);return[_0x3f20f2,_0x4ae167];}else{return[this];}}},{'key':_0x2f63('0x301'),'value':function getLength(){var _0x209209=this['v1'],_0x221092=this['v2'];return Math[_0x2f63('0x113')](_0x209209['x']-_0x221092['x'],_0x209209['y']-_0x221092['y']);}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x249c95){var _0x47e1b5=new _0x2b6548();if(_0x249c95===0x1){_0x47e1b5[_0x2f63('0x6a')](this['v2']);}else{_0x47e1b5[_0x2f63('0x6a')](this['v2'])[_0x2f63('0xb5')](this['v1']);_0x47e1b5[_0x2f63('0x7b')](_0x249c95)[_0x2f63('0xb0')](this['v1']);}return _0x47e1b5;}},{'key':'getNormal','value':function getNormal(){var _0x382c40=this['v2']['x']-this['v1']['x'];var _0x224512=this['v2']['y']-this['v1']['y'];var _0x587f66=new _0x2b6548(_0x224512,-_0x382c40);return _0x587f66[_0x2f63('0x74')]();}},{'key':_0x2f63('0x306'),'value':function getTangent(){var _0x2dbf6b=this['v2']['clone']()[_0x2f63('0xb5')](this['v1']);return _0x2dbf6b[_0x2f63('0x74')]();}},{'key':'copy','value':function copy(_0xd5cd1){_0x260cbe(_0x7200f8(_0x2cb418[_0x2f63('0x9')]),_0x2f63('0x6a'),this)[_0x2f63('0xb')](this,_0xd5cd1);this['v1']['copy'](_0xd5cd1['v1']);this['v2'][_0x2f63('0x6a')](_0xd5cd1['v2']);return this;}}]);return _0x2cb418;}(_0x57c1bd);function _0x31927c(_0x4d73c4){var _0x588337=_0x2903ae();return function _createSuperInternal(){var _0xf5cabc=_0x7200f8(_0x4d73c4),_0x5790e5;if(_0x588337){var _0x14a19c=_0x7200f8(this)[_0x2f63('0x14')];_0x5790e5=Reflect['construct'](_0xf5cabc,arguments,_0x14a19c);}else{_0x5790e5=_0xf5cabc['apply'](this,arguments);}return _0x207b42(this,_0x5790e5);};}function _0x2903ae(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x395192){return![];}}var _0x1c87fc=function(_0x1a99d6){_0x2a2d9e(_0x1c87fc,_0x1a99d6);var _0x395070=_0x31927c(_0x1c87fc);function _0x1c87fc(){var _0x1e1abe;_0x47c705(this,_0x1c87fc);_0x1e1abe=_0x395070[_0x2f63('0xb')](this);_0x1e1abe[_0x2f63('0x28')]=_0x2f63('0x310');_0x1e1abe[_0x2f63('0x311')]=[];_0x1e1abe[_0x2f63('0x312')]=![];_0x1e1abe['isDeformationON']=![];return _0x1e1abe;}_0x38642a(_0x1c87fc,[{'key':_0x2f63('0xb0'),'value':function add(_0x55a83f){this[_0x2f63('0x311')]['push'](_0x55a83f);}},{'key':_0x2f63('0x313'),'value':function closePath(){var _0x2705e2=this[_0x2f63('0x311')][0x0][_0x2f63('0x25b')](0x0);var _0x561f4f=this[_0x2f63('0x311')][this[_0x2f63('0x311')][_0x2f63('0x38')]-0x1][_0x2f63('0x25b')](0x1);if(!_0x2705e2[_0x2f63('0xa7')](_0x561f4f)){this['curves'][_0x2f63('0x34')](new _0x2cb418(_0x561f4f,_0x2705e2));}}},{'key':'getPoint','value':function getPoint(_0x513d37){var _0x39691d=_0x513d37*this[_0x2f63('0x301')]();var _0x1eb7ed=this['getCurveLengths']();var _0x2d6f88=0x0;while(_0x2d6f88<_0x1eb7ed[_0x2f63('0x38')]){if(_0x1eb7ed[_0x2d6f88]>=_0x39691d){var _0x3c9919=_0x1eb7ed[_0x2d6f88]-_0x39691d;var _0x5e0aac=this[_0x2f63('0x311')][_0x2d6f88];var _0x4e58f7=_0x5e0aac[_0x2f63('0x301')]();var _0x342be9=_0x4e58f7===0x0?0x0:0x1-_0x3c9919/_0x4e58f7;return _0x5e0aac[_0x2f63('0x2fa')](_0x342be9);}_0x2d6f88++;}return null;}},{'key':'getLength','value':function getLength(){var _0xbf1dc=this['getCurveLengths']();return _0xbf1dc[_0xbf1dc['length']-0x1];}},{'key':_0x2f63('0x304'),'value':function updateArcLengths(){this[_0x2f63('0x219')]=!![];this['cacheLengths']=null;this[_0x2f63('0x314')]();}},{'key':_0x2f63('0x314'),'value':function getCurveLengths(){if(this[_0x2f63('0x315')]&&this[_0x2f63('0x315')]['length']===this['curves'][_0x2f63('0x38')]){return this[_0x2f63('0x315')];}var _0x4071d0=[];var _0x520f97=0x0;for(var _0x7783ee=0x0,_0x3d868e=this[_0x2f63('0x311')][_0x2f63('0x38')];_0x7783ee<_0x3d868e;_0x7783ee++){_0x520f97+=this[_0x2f63('0x311')][_0x7783ee][_0x2f63('0x301')]();_0x4071d0[_0x2f63('0x34')](_0x520f97);}this[_0x2f63('0x315')]=_0x4071d0;return _0x4071d0;}},{'key':'getSpacedPoints','value':function getSpacedPoints(_0x53de33){if(_0x53de33===undefined)_0x53de33=0x28;var _0x423786=[];for(var _0x1a87c4=0x0;_0x1a87c4<=_0x53de33;_0x1a87c4++){_0x423786[_0x2f63('0x34')](this[_0x2f63('0x25b')](_0x1a87c4/_0x53de33));}if(this['autoClose']){_0x423786[_0x2f63('0x34')](_0x423786[0x0]);}return _0x423786;}},{'key':_0x2f63('0x25c'),'value':function getPoints(_0x160fa6){_0x160fa6=_0x160fa6||0xc;var _0x4ecef0=[];var _0x178fff;for(var _0x4f1919=0x0;_0x4f1919<this[_0x2f63('0x311')]['length'];_0x4f1919++){var _0x516c21=this['curves'][_0x4f1919];var _0x38abbb=_0x516c21&&_0x516c21[_0x2f63('0x316')]?_0x160fa6*0x2:_0x516c21&&(_0x516c21[_0x2f63('0x30e')]||_0x516c21['isLineCurve3'])?0x1:_0x516c21&&_0x516c21[_0x2f63('0x317')]?_0x160fa6*_0x516c21['points'][_0x2f63('0x38')]:_0x160fa6;if(_0x516c21&&_0x516c21['isLineCurve']){_0x38abbb=_0x160fa6;}var _0x340f32=_0x516c21['getPoints'](_0x38abbb);for(var _0x209062=0x0;_0x209062<_0x340f32[_0x2f63('0x38')];_0x209062++){var _0x47e1b5=_0x340f32[_0x209062];if(_0x178fff&&_0x178fff[_0x2f63('0xa7')](_0x47e1b5))continue;_0x4ecef0[_0x2f63('0x34')](_0x47e1b5);_0x178fff=_0x47e1b5;}}if(this['autoClose']&&_0x4ecef0[_0x2f63('0x38')]>0x1&&!_0x4ecef0[_0x4ecef0[_0x2f63('0x38')]-0x1][_0x2f63('0xa7')](_0x4ecef0[0x0])){_0x4ecef0['push'](_0x4ecef0[0x0]);}return _0x4ecef0;}},{'key':_0x2f63('0x318'),'value':function getPointsByStepSize(_0x24430c){_0x24430c=_0x24430c||0x1;var _0x59c7dc=[];var _0x340351;for(var _0x59abb3=0x0,_0x118200=this[_0x2f63('0x311')];_0x59abb3<_0x118200[_0x2f63('0x38')];_0x59abb3++){var _0x2e935d=_0x118200[_0x59abb3];var _0x394297=_0x2e935d[_0x2f63('0x301')](0x14);var _0x4994bf=parseInt(Math['max'](0x1,_0x394297/_0x24430c));_0x3a2596['log'](_0x2f63('0x319'),_0x4994bf);var _0x248962=_0x2e935d[_0x2f63('0x25c')](_0x4994bf);for(var _0x58c36c=0x0;_0x58c36c<_0x248962[_0x2f63('0x38')];_0x58c36c++){var _0x47e1b5=_0x248962[_0x58c36c];if(_0x340351&&_0x340351['equals'](_0x47e1b5))continue;_0x59c7dc['push'](_0x47e1b5);_0x340351=_0x47e1b5;}}if(this['autoClose']&&_0x59c7dc[_0x2f63('0x38')]>0x1&&!_0x59c7dc[_0x59c7dc['length']-0x1][_0x2f63('0xa7')](_0x59c7dc[0x0])){_0x59c7dc[_0x2f63('0x34')](_0x59c7dc[0x0]);}return _0x59c7dc;}},{'key':_0x2f63('0x31a'),'value':function getPointsAdaptively(_0x30b4c2){_0x30b4c2=_0x30b4c2||0.01;var _0x122e06=[];var _0x818d42;for(var _0xa2938=0x0,_0x5425a6=this[_0x2f63('0x311')];_0xa2938<_0x5425a6[_0x2f63('0x38')];_0xa2938++){var _0xef824b=_0x5425a6[_0xa2938];var _0x5a128c=void 0x0;if(_0xef824b['isLineCurve']&&this['isDeformationON']){var _0x5e916c=_0xef824b[_0x2f63('0x301')](0x14);var _0x4cef7c=Math['max'](0x1,_0x30b4c2*1.5);var _0x2d6d2e=parseInt(Math[_0x2f63('0x5d')](0x1,_0x5e916c/_0x4cef7c));_0x2d6d2e=Math[_0x2f63('0x5e')](0x14,_0x2d6d2e);_0x5a128c=_0xef824b[_0x2f63('0x25c')](_0x2d6d2e);}else{_0x5a128c=_0xef824b[_0x2f63('0x300')](_0x30b4c2);}for(var _0x13df0c=0x0;_0x13df0c<_0x5a128c['length'];_0x13df0c++){var _0x47e1b5=_0x5a128c[_0x13df0c];if(_0x818d42&&_0x818d42['equals'](_0x47e1b5))continue;_0x122e06[_0x2f63('0x34')](_0x47e1b5);_0x818d42=_0x47e1b5;}}if(this['autoClose']&&_0x122e06[_0x2f63('0x38')]>0x1&&!_0x122e06[_0x122e06[_0x2f63('0x38')]-0x1]['equals'](_0x122e06[0x0])){_0x122e06[_0x2f63('0x34')](_0x122e06[0x0]);}return _0x122e06;}},{'key':'copy','value':function copy(_0x24f120){Object[_0x2f63('0xe2')](this,_0x24f120);this[_0x2f63('0x311')]=[];for(var _0x4ea1a9=0x0,_0x45bb6e=_0x24f120['curves'][_0x2f63('0x38')];_0x4ea1a9<_0x45bb6e;_0x4ea1a9++){var _0xd2321c=_0x24f120[_0x2f63('0x311')][_0x4ea1a9];this[_0x2f63('0x311')][_0x2f63('0x34')](_0xd2321c['clone']());}return this;}}]);return _0x1c87fc;}(_0x57c1bd);function _0x37a8c3(_0x1af2cd){var _0x21286d=_0x2bba94();return function _createSuperInternal(){var _0x5db280=_0x7200f8(_0x1af2cd),_0x16977c;if(_0x21286d){var _0x1effb2=_0x7200f8(this)['constructor'];_0x16977c=Reflect[_0x2f63('0x30a')](_0x5db280,arguments,_0x1effb2);}else{_0x16977c=_0x5db280['apply'](this,arguments);}return _0x207b42(this,_0x16977c);};}function _0x2bba94(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect['construct'][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')]['valueOf']['call'](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x4681fc){return![];}}var _0x2f7b3d=function(_0x5badc1){_0x2a2d9e(_0x2f7b3d,_0x5badc1);var _0x5b8857=_0x37a8c3(_0x2f7b3d);function _0x2f7b3d(_0x2b55de,_0x175b26,_0x164229,_0x54851d,_0x4c0441,_0x43fc12,_0x20493d,_0x81183d){var _0x3370b1;_0x47c705(this,_0x2f7b3d);_0x3370b1=_0x5b8857[_0x2f63('0xb')](this);_0x3370b1[_0x2f63('0x28')]='EllipseCurve';_0x3370b1['aX']=_0x2b55de||0x0;_0x3370b1['aY']=_0x175b26||0x0;_0x3370b1['xRadius']=_0x164229||0x1;_0x3370b1['yRadius']=_0x54851d||0x1;_0x3370b1[_0x2f63('0x31b')]=_0x4c0441||0x0;_0x3370b1['endAngle']=_0x43fc12||0x2*Math['PI'];_0x3370b1[_0x2f63('0x31c')]=_0x20493d||![];_0x3370b1['rotation']=_0x81183d||0x0;_0x3370b1[_0x2f63('0x316')]=!![];return _0x3370b1;}_0x38642a(_0x2f7b3d,[{'key':_0x2f63('0x25b'),'value':function getPoint(_0xb1e7d4){var _0x3f4edf=Math['PI']*0x2;var _0x68a3ae=this['aX'],_0x4d2602=this['aY'],_0x3f9869=this[_0x2f63('0x31d')],_0x2d27d9=this[_0x2f63('0x31e')],_0x3cd038=this[_0x2f63('0x31f')],_0x4c213f=this['startAngle'],_0x42941c=this['endAngle'];var _0x40bd16=_0x4c213f+_0xb1e7d4*(_0x42941c-_0x4c213f);_0x40bd16%=_0x3f4edf;if(_0x40bd16<0x0){_0x40bd16+=_0x3f4edf;}var _0x55a23d=_0x68a3ae+_0x2d27d9*Math[_0x2f63('0x86')](_0x40bd16);var _0x224512=_0x4d2602+_0x3cd038*Math[_0x2f63('0x87')](_0x40bd16);if(_0x3f9869){var _0x2489f9=Math[_0x2f63('0x86')](this[_0x2f63('0x31d')]);var _0x3f9974=Math[_0x2f63('0x87')](this[_0x2f63('0x31d')]);var _0x418a6c=_0x55a23d-_0x68a3ae;var _0x4dbfad=_0x224512-_0x4d2602;_0x55a23d=_0x418a6c*_0x2489f9-_0x4dbfad*_0x3f9974+_0x68a3ae;_0x224512=_0x418a6c*_0x3f9974+_0x4dbfad*_0x2489f9+_0x4d2602;}return new _0x2b6548(_0x55a23d,_0x224512);}},{'key':'copy','value':function copy(_0x4ffced){_0x260cbe(_0x7200f8(_0x2f7b3d['prototype']),_0x2f63('0x6a'),this)[_0x2f63('0xb')](this,_0x4ffced);this['aX']=_0x4ffced['aX'];this['aY']=_0x4ffced['aY'];this['xRadius']=_0x4ffced[_0x2f63('0x31e')];this['yRadius']=_0x4ffced[_0x2f63('0x31f')];this[_0x2f63('0x31b')]=_0x4ffced[_0x2f63('0x320')];this['endAngle']=_0x4ffced[_0x2f63('0x321')];this[_0x2f63('0x31c')]=_0x4ffced['aClockwise'];this['rotation']=_0x4ffced[_0x2f63('0x322')];return this;}}]);return _0x2f7b3d;}(_0x57c1bd);function _0x42364e(_0x10f20e,_0x43d41f,_0x2cb562,_0x2a06e,_0x1689a2){var _0x4d8812=(_0x2a06e-_0x43d41f)*0.5;var _0x444255=(_0x1689a2-_0x2cb562)*0.5;var _0x5378b3=_0x10f20e*_0x10f20e;var _0x197c4e=_0x10f20e*_0x5378b3;return(0x2*_0x2cb562-0x2*_0x2a06e+_0x4d8812+_0x444255)*_0x197c4e+(-0x3*_0x2cb562+0x3*_0x2a06e-0x2*_0x4d8812-_0x444255)*_0x5378b3+_0x4d8812*_0x10f20e+_0x2cb562;}function _0x25c7aa(_0x4aa85f,_0xee7450){var _0x319758=0x1-_0x4aa85f;return _0x319758*_0x319758*_0xee7450;}function _0x5a4ce5(_0x2df97b,_0xdd6b1c){return 0x2*(0x1-_0x2df97b)*_0x2df97b*_0xdd6b1c;}function _0x351919(_0x17efeb,_0x4a744e){return _0x17efeb*_0x17efeb*_0x4a744e;}function _0x46ea92(_0x2c0b41,_0x42d641,_0x59b73b,_0x45aa81){return _0x25c7aa(_0x2c0b41,_0x42d641)+_0x5a4ce5(_0x2c0b41,_0x59b73b)+_0x351919(_0x2c0b41,_0x45aa81);}function _0x4923f9(_0x14b232,_0x2af9f1){var _0x1128e0=0x1-_0x14b232;return _0x1128e0*_0x1128e0*_0x1128e0*_0x2af9f1;}function _0x1835fd(_0x2b6cba,_0x3e5a42){var _0x5cc7e3=0x1-_0x2b6cba;return 0x3*_0x5cc7e3*_0x5cc7e3*_0x2b6cba*_0x3e5a42;}function _0x945ebe(_0x150dc9,_0x57b46c){return 0x3*(0x1-_0x150dc9)*_0x150dc9*_0x150dc9*_0x57b46c;}function _0x30aa38(_0x4b1b15,_0x364ab9){return _0x4b1b15*_0x4b1b15*_0x4b1b15*_0x364ab9;}function _0x21f7fe(_0x123702,_0x5ca62a,_0x4a5a51,_0x3518c6,_0x403857){return _0x4923f9(_0x123702,_0x5ca62a)+_0x1835fd(_0x123702,_0x4a5a51)+_0x945ebe(_0x123702,_0x3518c6)+_0x30aa38(_0x123702,_0x403857);}function _0x1c5988(_0x47ee62){var _0x5681f8=_0x4803de();return function _createSuperInternal(){var _0x52a073=_0x7200f8(_0x47ee62),_0x463028;if(_0x5681f8){var _0x4ece4a=_0x7200f8(this)[_0x2f63('0x14')];_0x463028=Reflect[_0x2f63('0x30a')](_0x52a073,arguments,_0x4ece4a);}else{_0x463028=_0x52a073['apply'](this,arguments);}return _0x207b42(this,_0x463028);};}function _0x4803de(){if(typeof Reflect==='undefined'||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')]['sham'])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean['prototype'][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x4ef7d4){return![];}}var _0x218738=function(_0x39e2d4){_0x2a2d9e(_0x218738,_0x39e2d4);var _0x4f268e=_0x1c5988(_0x218738);function _0x218738(_0x305c97){var _0x22918a;_0x47c705(this,_0x218738);_0x22918a=_0x4f268e[_0x2f63('0xb')](this);_0x22918a[_0x2f63('0x28')]=_0x2f63('0x323');_0x22918a[_0x2f63('0x2c7')]=_0x305c97||[];_0x22918a['isSplineCurve']=!![];return _0x22918a;}_0x38642a(_0x218738,[{'key':'getPoint','value':function getPoint(_0x4c7ce8){var _0x47e1b5=new _0x2b6548();var _0x2df15a=this[_0x2f63('0x2c7')];var _0x27c685=(_0x2df15a['length']-0x1)*_0x4c7ce8;var _0x3998e4=Math[_0x2f63('0xc9')](_0x27c685);var _0x42cce8=_0x27c685-_0x3998e4;var _0x1fc75d=_0x2df15a[_0x3998e4===0x0?_0x3998e4:_0x3998e4-0x1];var _0x17375b=_0x2df15a[_0x3998e4];var _0x8f9fee=_0x2df15a[_0x3998e4>_0x2df15a[_0x2f63('0x38')]-0x2?_0x2df15a[_0x2f63('0x38')]-0x1:_0x3998e4+0x1];var _0x2289f1=_0x2df15a[_0x3998e4>_0x2df15a[_0x2f63('0x38')]-0x3?_0x2df15a['length']-0x1:_0x3998e4+0x2];_0x47e1b5[_0x2f63('0x67')](_0x42364e(_0x42cce8,_0x1fc75d['x'],_0x17375b['x'],_0x8f9fee['x'],_0x2289f1['x']),_0x42364e(_0x42cce8,_0x1fc75d['y'],_0x17375b['y'],_0x8f9fee['y'],_0x2289f1['y']));return _0x47e1b5;}},{'key':'copy','value':function copy(_0x147419){_0x260cbe(_0x7200f8(_0x218738['prototype']),_0x2f63('0x6a'),this)[_0x2f63('0xb')](this,_0x147419);this[_0x2f63('0x2c7')]=[];for(var _0x3cee5f=0x0,_0x2eb0de=_0x147419['points'][_0x2f63('0x38')];_0x3cee5f<_0x2eb0de;_0x3cee5f++){var _0x47e1b5=_0x147419[_0x2f63('0x2c7')][_0x3cee5f];this[_0x2f63('0x2c7')][_0x2f63('0x34')](_0x47e1b5['clone']());}return this;}}]);return _0x218738;}(_0x57c1bd);function _0x39acdc(_0x5840b2){var _0xaad361=_0x3e2791();return function _createSuperInternal(){var _0x431bc4=_0x7200f8(_0x5840b2),_0x24d8f4;if(_0xaad361){var _0x5e4e0e=_0x7200f8(this)['constructor'];_0x24d8f4=Reflect[_0x2f63('0x30a')](_0x431bc4,arguments,_0x5e4e0e);}else{_0x24d8f4=_0x431bc4[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x24d8f4);};}function _0x3e2791(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')]['sham'])return![];if(typeof Proxy==='function')return!![];try{Boolean['prototype'][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x422b24){return![];}}var _0x337d0a=function(_0x38de6f){_0x2a2d9e(_0x337d0a,_0x38de6f);var _0x3c2c10=_0x39acdc(_0x337d0a);function _0x337d0a(_0x517ccd,_0x288cca,_0x331236,_0x10847c){var _0x214b7a;_0x47c705(this,_0x337d0a);_0x214b7a=_0x3c2c10['call'](this);_0x214b7a[_0x2f63('0x28')]=_0x2f63('0x324');_0x214b7a['v0']=_0x517ccd||new _0x2b6548();_0x214b7a['v1']=_0x288cca||new _0x2b6548();_0x214b7a['v2']=_0x331236||new _0x2b6548();_0x214b7a['v3']=_0x10847c||new _0x2b6548();_0x214b7a[_0x2f63('0x325')]=!![];return _0x214b7a;}_0x38642a(_0x337d0a,[{'key':_0x2f63('0x326'),'value':function getPole(_0x53f8c7,_0x477210){var _0x1102a0=this['v0'],_0x9873db=this['v1'],_0x2408c9=this['v2'],_0x1e4e43=this['v3'];_0x53f8c7['x']=Math[_0x2f63('0x5e')](_0x53f8c7['x'],_0x1102a0['x'],_0x9873db['x'],_0x2408c9['x'],_0x1e4e43['x']);_0x53f8c7['y']=Math[_0x2f63('0x5e')](_0x53f8c7['y'],_0x1102a0['y'],_0x9873db['y'],_0x2408c9['y'],_0x1e4e43['y']);_0x477210['x']=Math[_0x2f63('0x5d')](_0x477210['x'],_0x1102a0['x'],_0x9873db['x'],_0x2408c9['x'],_0x1e4e43['x']);_0x477210['y']=Math[_0x2f63('0x5d')](_0x477210['y'],_0x1102a0['y'],_0x9873db['y'],_0x2408c9['y'],_0x1e4e43['y']);}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x120e3a,_0x9e46ee){var _0x47e1b5=_0x9e46ee||new _0x2b6548();var _0x3c36e1=this['v0'],_0x18d393=this['v1'],_0x326856=this['v2'],_0x42c584=this['v3'];_0x47e1b5[_0x2f63('0x67')](_0x21f7fe(_0x120e3a,_0x3c36e1['x'],_0x18d393['x'],_0x326856['x'],_0x42c584['x']),_0x21f7fe(_0x120e3a,_0x3c36e1['y'],_0x18d393['y'],_0x326856['y'],_0x42c584['y']));return _0x47e1b5;}},{'key':_0x2f63('0x30f'),'value':function pointApplyFunc(_0x47c500){_0x47c500(this['v0']);_0x47c500(this['v1']);_0x47c500(this['v2']);_0x47c500(this['v3']);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x4ced1f){_0x260cbe(_0x7200f8(_0x337d0a[_0x2f63('0x9')]),'copy',this)[_0x2f63('0xb')](this,_0x4ced1f);this['v0'][_0x2f63('0x6a')](_0x4ced1f['v0']);this['v1'][_0x2f63('0x6a')](_0x4ced1f['v1']);this['v2']['copy'](_0x4ced1f['v2']);this['v3']['copy'](_0x4ced1f['v3']);return this;}},{'key':_0x2f63('0x182'),'value':function split(_0x8a3b14){var _0x2483c9=_0x8a3b14['x'],_0x224512=_0x8a3b14['y'];var _0x11589b=this['v0'],_0x5b3f68=this['v1'],_0x2ca9a2=this['v2'],_0x5136cb=this['v3'];var _0xd32261=new _0x2b6548(Infinity,Infinity);var _0x1f5674=new _0x2b6548(-Infinity,-Infinity);this[_0x2f63('0x326')](_0xd32261,_0x1f5674);var _0x4dfd54=_0x2483c9!==undefined&&(_0xd32261['x']-_0x2483c9)*(_0x1f5674['x']-_0x2483c9)<0x0;var _0x1b3569=_0x224512!==undefined&&(_0xd32261['y']-_0x224512)*(_0x1f5674['y']-_0x224512)<0x0;if(_0x4dfd54||_0x1b3569){_0x2483c9=0.5*_0x11589b['x']+0.5*_0x5b3f68['x'];_0x224512=0.5*_0x11589b['y']+0.5*_0x5b3f68['y'];var _0x4475d3=new _0x2b6548(_0x2483c9,_0x224512);_0x2483c9=0.25*_0x11589b['x']+0.5*_0x5b3f68['x']+0.25*_0x2ca9a2['x'];_0x224512=0.25*_0x11589b['y']+0.5*_0x5b3f68['y']+0.25*_0x2ca9a2['y'];var _0x46de55=new _0x2b6548(_0x2483c9,_0x224512);_0x2483c9=0.125*_0x11589b['x']+0.375*_0x5b3f68['x']+0.375*_0x2ca9a2['x']+0.125*_0x5136cb['x'];_0x224512=0.125*_0x11589b['y']+0.375*_0x5b3f68['y']+0.375*_0x2ca9a2['y']+0.125*_0x5136cb['y'];var _0x469c3f=new _0x2b6548(_0x2483c9,_0x224512);_0x2483c9=0.25*_0x5b3f68['x']+0.5*_0x2ca9a2['x']+0.25*_0x5136cb['x'];_0x224512=0.25*_0x5b3f68['y']+0.5*_0x2ca9a2['y']+0.25*_0x5136cb['y'];var _0x353e27=new _0x2b6548(_0x2483c9,_0x224512);_0x2483c9=0.5*_0x2ca9a2['x']+0.5*_0x5136cb['x'];_0x224512=0.5*_0x2ca9a2['y']+0.5*_0x5136cb['y'];var _0xb15c5=new _0x2b6548(_0x2483c9,_0x224512);var _0x1d9ebd=new _0x337d0a(_0x11589b,_0x4475d3,_0x46de55,_0x469c3f);var _0x2939a8=new _0x337d0a(_0x469c3f[_0x2f63('0x68')](),_0x353e27,_0xb15c5,_0x5136cb);return[_0x1d9ebd,_0x2939a8];}return[this];}}]);return _0x337d0a;}(_0x57c1bd);function _0x2b1b81(_0x32b08a){var _0x4aeeb3=_0x1789b5();return function _createSuperInternal(){var _0x52fadb=_0x7200f8(_0x32b08a),_0x19afbe;if(_0x4aeeb3){var _0x22864c=_0x7200f8(this)[_0x2f63('0x14')];_0x19afbe=Reflect[_0x2f63('0x30a')](_0x52fadb,arguments,_0x22864c);}else{_0x19afbe=_0x52fadb['apply'](this,arguments);}return _0x207b42(this,_0x19afbe);};}function _0x1789b5(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean['prototype'][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect['construct'](Boolean,[],function(){}));return!![];}catch(_0x2b3302){return![];}}var _0x4a104b=function(_0x1a4f90){_0x2a2d9e(_0x4a104b,_0x1a4f90);var _0x59e821=_0x2b1b81(_0x4a104b);function _0x4a104b(_0x486615,_0x102553,_0x45d3ce){var _0xf37332;_0x47c705(this,_0x4a104b);_0xf37332=_0x59e821['call'](this);_0xf37332[_0x2f63('0x28')]=_0x2f63('0x327');_0xf37332['v0']=_0x486615||new _0x2b6548();_0xf37332['v1']=_0x102553||new _0x2b6548();_0xf37332['v2']=_0x45d3ce||new _0x2b6548();_0xf37332['isQuadraticBezierCurve']=!![];return _0xf37332;}_0x38642a(_0x4a104b,[{'key':'getPole','value':function getPole(_0x1b819b,_0x486b19){var _0x5160ef=this['v0'],_0x3390cd=this['v1'],_0x470004=this['v2'];var _0x350007=0.5*(_0x5160ef['x']+_0x3390cd['x']);var _0x79f455=0.5*(_0x5160ef['y']+_0x3390cd['y']);var _0x37cd16=0.5*(_0x5160ef['x']+_0x470004['x']);var _0xb2f27d=0.5*(_0x5160ef['y']+_0x470004['y']);_0x1b819b['x']=Math['min'](_0x1b819b['x'],_0x5160ef['x'],_0x470004['x'],_0x350007,_0x37cd16);_0x1b819b['y']=Math[_0x2f63('0x5e')](_0x1b819b['y'],_0x5160ef['y'],_0x470004['y'],_0x79f455,_0xb2f27d);_0x486b19['x']=Math['max'](_0x486b19['x'],_0x5160ef['x'],_0x470004['x'],_0x350007,_0x37cd16);_0x486b19['y']=Math[_0x2f63('0x5d')](_0x486b19['y'],_0x5160ef['y'],_0x470004['y'],_0x79f455,_0xb2f27d);}},{'key':'pointApplyFunc','value':function pointApplyFunc(_0x12eb28){_0x12eb28(this['v0']);_0x12eb28(this['v1']);_0x12eb28(this['v2']);}},{'key':_0x2f63('0x182'),'value':function split(_0x325e2){var _0x27b7a6=_0x325e2['x'],_0x224512=_0x325e2['y'];var _0x23a4e1=this['v0'],_0x4044c4=this['v1'],_0x50d7ba=this['v2'];var _0x105ff8=_0x27b7a6!==undefined&&Math[_0x2f63('0x75')](Math[_0x2f63('0x2e2')](_0x23a4e1['x']-_0x27b7a6)+Math[_0x2f63('0x2e2')](_0x4044c4['x']-_0x27b7a6)+Math[_0x2f63('0x2e2')](_0x50d7ba['x']-_0x27b7a6))===0x1;var _0xc255ce=_0x224512!==undefined&&Math[_0x2f63('0x75')](Math[_0x2f63('0x2e2')](_0x23a4e1['y']-_0x27b7a6)+Math['sign'](_0x4044c4['y']-_0x27b7a6)+Math['sign'](_0x50d7ba['y']-_0x27b7a6))===0x1;var _0xd7f9fc,_0x6c4e62,_0x4a7cea,_0x39691d;if(_0x105ff8){_0xd7f9fc=_0x23a4e1['x']-0x2*_0x4044c4['x']+_0x50d7ba['x'];_0x6c4e62=0x2*(-_0x23a4e1['x']+_0x4044c4['x']);_0x4a7cea=_0x23a4e1['x']-_0x27b7a6;}if(_0xc255ce){_0xd7f9fc=_0x23a4e1['y']-0x2*_0x4044c4['y']+_0x50d7ba['y'];_0x6c4e62=0x2*(-_0x23a4e1['y']+_0x4044c4['y']);_0x4a7cea=_0x23a4e1['y']-_0x224512;}if(_0x105ff8||_0xc255ce){_0x39691d=_0x6c4e62*_0x6c4e62-0x4*_0xd7f9fc*_0x4a7cea;if(_0x39691d>0x0){var _0x18aa4a=Math[_0x2f63('0x84')](_0x39691d);var _0x946ed8=(-_0x6c4e62+_0x18aa4a)/0x2/_0xd7f9fc;var _0xeb0e9e=(-_0x6c4e62-_0x18aa4a)/0x2/_0xd7f9fc;var _0x44e2af=[_0x946ed8,_0xeb0e9e][_0x2f63('0x328')](function(_0x27b7a6){return _0x27b7a6>0x0&&_0x27b7a6<0x1;});if(_0x44e2af){var _0x12307a=new _0x2b6548()[_0x2f63('0xcf')](_0x23a4e1,_0x4044c4,_0x44e2af);var _0x1b4bde=new _0x2b6548()[_0x2f63('0xcf')](_0x4044c4,_0x50d7ba,_0x44e2af);var _0x36b6bb=new _0x2b6548()[_0x2f63('0xcf')](_0x12307a,_0x1b4bde,_0x44e2af);var _0x3fefcd=new _0x4a104b(_0x23a4e1,_0x12307a,_0x36b6bb);var _0x34db36=new _0x4a104b(_0x36b6bb[_0x2f63('0x68')](),_0x1b4bde,_0x50d7ba);return[_0x3fefcd,_0x34db36];}}}return[this];}},{'key':'getPoint','value':function getPoint(_0x55cc51){var _0x47e1b5=new _0x2b6548();var _0x11496a=this['v0'],_0x53d14d=this['v1'],_0x325b11=this['v2'];_0x47e1b5[_0x2f63('0x67')](_0x46ea92(_0x55cc51,_0x11496a['x'],_0x53d14d['x'],_0x325b11['x']),_0x46ea92(_0x55cc51,_0x11496a['y'],_0x53d14d['y'],_0x325b11['y']));return _0x47e1b5;}},{'key':_0x2f63('0x6a'),'value':function copy(_0xa9bca4){_0x260cbe(_0x7200f8(_0x4a104b[_0x2f63('0x9')]),_0x2f63('0x6a'),this)[_0x2f63('0xb')](this,_0xa9bca4);this['v0']['copy'](_0xa9bca4['v0']);this['v1'][_0x2f63('0x6a')](_0xa9bca4['v1']);this['v2'][_0x2f63('0x6a')](_0xa9bca4['v2']);return this;}}]);return _0x4a104b;}(_0x57c1bd);function _0x539e53(_0xee1eac){var _0x3f7237=_0x53b51b();return function _createSuperInternal(){var _0x4d903a=_0x7200f8(_0xee1eac),_0x510d9f;if(_0x3f7237){var _0x40f39b=_0x7200f8(this)[_0x2f63('0x14')];_0x510d9f=Reflect[_0x2f63('0x30a')](_0x4d903a,arguments,_0x40f39b);}else{_0x510d9f=_0x4d903a[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x510d9f);};}function _0x53b51b(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x10aff3){return![];}}var _0x13137d=function(_0xb33fde){_0x2a2d9e(_0x13137d,_0xb33fde);var _0x11bf06=_0x539e53(_0x13137d);function _0x13137d(_0x464947){var _0x1ed546;_0x47c705(this,_0x13137d);_0x1ed546=_0x11bf06['call'](this,_0x464947);_0x1ed546[_0x2f63('0x28')]=_0x2f63('0x329');_0x1ed546[_0x2f63('0x32a')]=new _0x2b6548();if(_0x464947){_0x1ed546[_0x2f63('0xef')](_0x464947);}return _0x1ed546;}_0x38642a(_0x13137d,[{'key':_0x2f63('0xef'),'value':function setFromPoints(_0xc928c0){this[_0x2f63('0x32b')](_0xc928c0[0x0]['x'],_0xc928c0[0x0]['y']);for(var _0x199fc0=0x1,_0x1d80ca=_0xc928c0[_0x2f63('0x38')];_0x199fc0<_0x1d80ca;_0x199fc0++){this[_0x2f63('0x32c')](_0xc928c0[_0x199fc0]['x'],_0xc928c0[_0x199fc0]['y']);}}},{'key':'moveTo','value':function moveTo(_0x33954f,_0x224512){this[_0x2f63('0x32a')][_0x2f63('0x67')](_0x33954f,_0x224512);}},{'key':_0x2f63('0x32c'),'value':function lineTo(_0x4ea9eb,_0x224512){var _0x229da6=new _0x2cb418(this[_0x2f63('0x32a')][_0x2f63('0x68')](),new _0x2b6548(_0x4ea9eb,_0x224512));this[_0x2f63('0x311')]['push'](_0x229da6);this[_0x2f63('0x32a')][_0x2f63('0x67')](_0x4ea9eb,_0x224512);}},{'key':'quadraticCurveTo','value':function quadraticCurveTo(_0x5c758b,_0x1e2fac,_0x541c6a,_0x18b302){var _0x3b5968=new _0x4a104b(this[_0x2f63('0x32a')][_0x2f63('0x68')](),new _0x2b6548(_0x5c758b,_0x1e2fac),new _0x2b6548(_0x541c6a,_0x18b302));this[_0x2f63('0x311')]['push'](_0x3b5968);this['currentPoint'][_0x2f63('0x67')](_0x541c6a,_0x18b302);}},{'key':_0x2f63('0x32d'),'value':function bezierCurveTo(_0x495eca,_0x352353,_0x2c6e30,_0x316224,_0xb3998,_0x483ad1){var _0x15b97b=new _0x337d0a(this[_0x2f63('0x32a')][_0x2f63('0x68')](),new _0x2b6548(_0x495eca,_0x352353),new _0x2b6548(_0x2c6e30,_0x316224),new _0x2b6548(_0xb3998,_0x483ad1));this[_0x2f63('0x311')][_0x2f63('0x34')](_0x15b97b);this['currentPoint'][_0x2f63('0x67')](_0xb3998,_0x483ad1);}},{'key':'splineThru','value':function splineThru(_0x1a72e5){var _0x5d7ca1=[this[_0x2f63('0x32a')][_0x2f63('0x68')]()][_0x2f63('0x184')](_0x1a72e5);var _0xec9156=new _0x218738(_0x5d7ca1);this[_0x2f63('0x311')]['push'](_0xec9156);this[_0x2f63('0x32a')][_0x2f63('0x6a')](_0x1a72e5[_0x1a72e5[_0x2f63('0x38')]-0x1]);}},{'key':_0x2f63('0x32e'),'value':function arc(_0x3f9a2a,_0x30e250,_0x2d148a,_0x105d63,_0xb3d23f,_0x4289d3){var _0x1cc84f=this[_0x2f63('0x32a')]['x'];var _0x52c51b=this[_0x2f63('0x32a')]['y'];this[_0x2f63('0x32f')](_0x3f9a2a+_0x1cc84f,_0x30e250+_0x52c51b,_0x2d148a,_0x105d63,_0xb3d23f,_0x4289d3);}},{'key':_0x2f63('0x32f'),'value':function absarc(_0xca659b,_0x102208,_0x127029,_0x1ede51,_0x3f2974,_0x511ef0){this[_0x2f63('0x330')](_0xca659b,_0x102208,_0x127029,_0x127029,_0x1ede51,_0x3f2974,_0x511ef0);}},{'key':'ellipse','value':function ellipse(_0x4fd7da,_0x53496f,_0x19d23b,_0x2369e8,_0x293db7,_0xe820fc,_0xb3d2a8,_0x1ccc7e){var _0x5782f3=this[_0x2f63('0x32a')]['x'];var _0x1696dc=this[_0x2f63('0x32a')]['y'];this['absellipse'](_0x4fd7da+_0x5782f3,_0x53496f+_0x1696dc,_0x19d23b,_0x2369e8,_0x293db7,_0xe820fc,_0xb3d2a8,_0x1ccc7e);}},{'key':_0x2f63('0x330'),'value':function absellipse(_0x14feb5,_0x1dd84b,_0x54c714,_0x113ac3,_0x2df1fb,_0x3825c6,_0x2f9de4,_0x1d2acb){var _0xa8252e=new _0x2f7b3d(_0x14feb5,_0x1dd84b,_0x54c714,_0x113ac3,_0x2df1fb,_0x3825c6,_0x2f9de4,_0x1d2acb);if(this[_0x2f63('0x311')][_0x2f63('0x38')]>0x0){var _0xdcbf4d=_0xa8252e[_0x2f63('0x25b')](0x0);if(!_0xdcbf4d[_0x2f63('0xa7')](this[_0x2f63('0x32a')])){this[_0x2f63('0x32c')](_0xdcbf4d['x'],_0xdcbf4d['y']);}}this['curves']['push'](_0xa8252e);var _0x36c929=_0xa8252e['getPoint'](0x1);this[_0x2f63('0x32a')]['copy'](_0x36c929);}},{'key':_0x2f63('0x6a'),'value':function copy(_0x5d8428){_0x260cbe(_0x7200f8(_0x13137d[_0x2f63('0x9')]),'copy',this)[_0x2f63('0xb')](this,_0x5d8428);this[_0x2f63('0x32a')][_0x2f63('0x6a')](_0x5d8428['currentPoint']);return this;}}]);return _0x13137d;}(_0x1c87fc);function _0x3686c2(_0x52d3a2){var _0x5df1b2=_0x26fa25();return function _createSuperInternal(){var _0x287bb6=_0x7200f8(_0x52d3a2),_0x3d6401;if(_0x5df1b2){var _0x828ff4=_0x7200f8(this)[_0x2f63('0x14')];_0x3d6401=Reflect[_0x2f63('0x30a')](_0x287bb6,arguments,_0x828ff4);}else{_0x3d6401=_0x287bb6['apply'](this,arguments);}return _0x207b42(this,_0x3d6401);};}function _0x26fa25(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')]['call'](Reflect['construct'](Boolean,[],function(){}));return!![];}catch(_0x14537b){return![];}}var _0x4c44b5=function(_0x2fad2f){_0x2a2d9e(_0x4c44b5,_0x2fad2f);var _0x2667f8=_0x3686c2(_0x4c44b5);function _0x4c44b5(_0x260ef7){var _0x37d483;_0x47c705(this,_0x4c44b5);_0x37d483=_0x2667f8[_0x2f63('0xb')](this,_0x260ef7);_0x37d483['uuid']=_0x252c11[_0x2f63('0x1e8')]();_0x37d483[_0x2f63('0x28')]='Shape';_0x37d483[_0x2f63('0x2dd')]=[];return _0x37d483;}_0x38642a(_0x4c44b5,[{'key':_0x2f63('0x331'),'value':function getPointsHoles(_0x4de1e8){var _0x4c4f78=[];for(var _0xf7082=0x0,_0x19797b=this[_0x2f63('0x2dd')][_0x2f63('0x38')];_0xf7082<_0x19797b;_0xf7082++){_0x4c4f78[_0xf7082]=this['holes'][_0xf7082][_0x2f63('0x25c')](_0x4de1e8);}return _0x4c4f78;}},{'key':_0x2f63('0x332'),'value':function getPointsHolesByStepSize(_0x424145){var _0x188bbf=[];for(var _0x2c6263=0x0,_0x5153c7=this['holes']['length'];_0x2c6263<_0x5153c7;_0x2c6263++){_0x188bbf[_0x2c6263]=this['holes'][_0x2c6263][_0x2f63('0x318')](_0x424145);}return _0x188bbf;}},{'key':_0x2f63('0x333'),'value':function getPointsHolesAdaptively(_0x2d0281){var _0x577ac7=[];for(var _0x32360d=0x0,_0x3a501b=this['holes'][_0x2f63('0x38')];_0x32360d<_0x3a501b;_0x32360d++){_0x577ac7[_0x32360d]=this[_0x2f63('0x2dd')][_0x32360d]['getPointsAdaptively'](_0x2d0281);}return _0x577ac7;}},{'key':_0x2f63('0x334'),'value':function extractPoints(_0x2b88a9){return{'shape':this['getPoints'](_0x2b88a9),'holes':this[_0x2f63('0x331')](_0x2b88a9)};}},{'key':_0x2f63('0x335'),'value':function extractPointsByStepSize(_0x337bad){return{'shape':this[_0x2f63('0x318')](_0x337bad),'holes':this[_0x2f63('0x332')](_0x337bad)};}},{'key':_0x2f63('0x2c5'),'value':function extractPointsAdaptively(_0x37524d){return{'shape':this['getPointsAdaptively'](_0x37524d),'holes':this['getPointsHolesAdaptively'](_0x37524d)};}},{'key':_0x2f63('0x6a'),'value':function copy(_0x3cb8f3){_0x260cbe(_0x7200f8(_0x4c44b5[_0x2f63('0x9')]),_0x2f63('0x6a'),this)['call'](this,_0x3cb8f3);this[_0x2f63('0x2dd')]=[];for(var _0x24e928=0x0,_0x113040=_0x3cb8f3['holes']['length'];_0x24e928<_0x113040;_0x24e928++){var _0x5d61c7=_0x3cb8f3[_0x2f63('0x2dd')][_0x24e928];this[_0x2f63('0x2dd')][_0x2f63('0x34')](_0x5d61c7[_0x2f63('0x68')]());}return this;}}]);return _0x4c44b5;}(_0x13137d);var _0xc8ceb5=function(){function _0xc8ceb5(){_0x47c705(this,_0xc8ceb5);this[_0x2f63('0x28')]=_0x2f63('0x336');this[_0x2f63('0x337')]=[];this[_0x2f63('0x338')]=null;}_0x38642a(_0xc8ceb5,[{'key':_0x2f63('0x32b'),'value':function moveTo(_0x448fd4,_0x224512){this['currentPath']=new _0x13137d();this[_0x2f63('0x337')]['push'](this[_0x2f63('0x338')]);this[_0x2f63('0x338')][_0x2f63('0x32b')](_0x448fd4,_0x224512);}},{'key':_0x2f63('0x32c'),'value':function lineTo(_0x53a893,_0x224512){this['currentPath'][_0x2f63('0x32c')](_0x53a893,_0x224512);}},{'key':_0x2f63('0x339'),'value':function quadraticCurveTo(_0x2db01f,_0x27b476,_0x15efd7,_0x32a66f){this[_0x2f63('0x338')]['quadraticCurveTo'](_0x2db01f,_0x27b476,_0x15efd7,_0x32a66f);}},{'key':_0x2f63('0x32d'),'value':function bezierCurveTo(_0x31b2d9,_0x103d7d,_0x14d550,_0x44bc3f,_0x57e69e,_0x1f2cb0){this[_0x2f63('0x338')]['bezierCurveTo'](_0x31b2d9,_0x103d7d,_0x14d550,_0x44bc3f,_0x57e69e,_0x1f2cb0);}},{'key':_0x2f63('0x33a'),'value':function splineThru(_0x5572c2){this[_0x2f63('0x338')]['splineThru'](_0x5572c2);}},{'key':_0x2f63('0x33b'),'value':function toShapes(_0x553e26,_0x1cf6c7){function _0x44d2e9(_0xb66a51){var _0x35ca00=[];for(var _0x13ac8d=0x0,_0x13f1e9=_0xb66a51[_0x2f63('0x38')];_0x13ac8d<_0x13f1e9;_0x13ac8d++){var _0x2f5d17=_0xb66a51[_0x13ac8d];var _0x1e7fbb=new _0x4c44b5();_0x1e7fbb['curves']=_0x2f5d17[_0x2f63('0x311')];_0x35ca00[_0x2f63('0x34')](_0x1e7fbb);}return _0x35ca00;}function _0x531515(_0x276074,_0x1a6f57){var _0x41b39a=_0x1a6f57[_0x2f63('0x38')];var _0x4abd87=![];for(var _0x153e48=_0x41b39a-0x1,_0x17d539=0x0;_0x17d539<_0x41b39a;_0x153e48=_0x17d539++){var _0x1dc5dc=_0x1a6f57[_0x153e48];var _0x4401db=_0x1a6f57[_0x17d539];var _0x59a113=_0x4401db['x']-_0x1dc5dc['x'];var _0x33d006=_0x4401db['y']-_0x1dc5dc['y'];if(Math['abs'](_0x33d006)>Number['EPSILON']){if(_0x33d006<0x0){_0x1dc5dc=_0x1a6f57[_0x17d539];_0x59a113=-_0x59a113;_0x4401db=_0x1a6f57[_0x153e48];_0x33d006=-_0x33d006;}if(_0x276074['y']<_0x1dc5dc['y']||_0x276074['y']>_0x4401db['y'])continue;if(_0x276074['y']===_0x1dc5dc['y']){if(_0x276074['x']===_0x1dc5dc['x'])return!![];}else{var _0x4656f2=_0x33d006*(_0x276074['x']-_0x1dc5dc['x'])-_0x59a113*(_0x276074['y']-_0x1dc5dc['y']);if(_0x4656f2===0x0)return!![];if(_0x4656f2<0x0)continue;_0x4abd87=!_0x4abd87;}}else{if(_0x276074['y']!==_0x1dc5dc['y'])continue;if(_0x4401db['x']<=_0x276074['x']&&_0x276074['x']<=_0x1dc5dc['x']||_0x1dc5dc['x']<=_0x276074['x']&&_0x276074['x']<=_0x4401db['x'])return!![];}}return _0x4abd87;}var _0x4f7428=_0x571085[_0x2f63('0x2de')];var _0x3cfe50=this[_0x2f63('0x337')];if(_0x3cfe50[_0x2f63('0x38')]===0x0)return[];if(_0x1cf6c7===!![])return _0x44d2e9(_0x3cfe50);var _0x3ea82c,_0x3b27a3,_0x5025e3;var _0x536a13=[];if(_0x3cfe50[_0x2f63('0x38')]===0x1){_0x3b27a3=_0x3cfe50[0x0];_0x5025e3=new _0x4c44b5();_0x5025e3[_0x2f63('0x311')]=_0x3b27a3[_0x2f63('0x311')];_0x536a13[_0x2f63('0x34')](_0x5025e3);return _0x536a13;}var _0x12884f=!_0x4f7428(_0x3cfe50[0x0][_0x2f63('0x25c')]());_0x12884f=_0x553e26?!_0x12884f:_0x12884f;var _0x392bc1=[];var _0x3f3394=[];var _0x1cac28=[];var _0x47ff67=0x0;var _0x372b98;_0x3f3394[_0x47ff67]=undefined;_0x1cac28[_0x47ff67]=[];for(var _0x5eaaf0=0x0,_0x51cd7c=_0x3cfe50[_0x2f63('0x38')];_0x5eaaf0<_0x51cd7c;_0x5eaaf0++){_0x3b27a3=_0x3cfe50[_0x5eaaf0];_0x372b98=_0x3b27a3[_0x2f63('0x25c')]();_0x3ea82c=_0x4f7428(_0x372b98);_0x3ea82c=_0x553e26?!_0x3ea82c:_0x3ea82c;if(_0x3ea82c){if(!_0x12884f&&_0x3f3394[_0x47ff67])_0x47ff67++;_0x3f3394[_0x47ff67]={'s':new _0x4c44b5(),'p':_0x372b98};_0x3f3394[_0x47ff67]['s'][_0x2f63('0x311')]=_0x3b27a3[_0x2f63('0x311')];if(_0x12884f)_0x47ff67++;_0x1cac28[_0x47ff67]=[];}else{_0x1cac28[_0x47ff67]['push']({'h':_0x3b27a3,'p':_0x372b98[0x0]});}}if(!_0x3f3394[0x0])return _0x44d2e9(_0x3cfe50);if(_0x3f3394[_0x2f63('0x38')]>0x1){var _0x554437=![];var _0x5040c2=[];for(var _0x231b05=0x0,_0x5c4ed9=_0x3f3394[_0x2f63('0x38')];_0x231b05<_0x5c4ed9;_0x231b05++){_0x392bc1[_0x231b05]=[];}for(var _0x4926ef=0x0,_0x2a25d3=_0x3f3394['length'];_0x4926ef<_0x2a25d3;_0x4926ef++){var _0x244119=_0x1cac28[_0x4926ef];for(var _0x535e11=0x0;_0x535e11<_0x244119['length'];_0x535e11++){var _0x13e692=_0x244119[_0x535e11];var _0x423d16=!![];for(var _0x37d8a7=0x0;_0x37d8a7<_0x3f3394[_0x2f63('0x38')];_0x37d8a7++){if(!_0x531515(_0x13e692['p'],_0x3f3394[_0x37d8a7]['p'])){continue;}if(_0x4926ef!==_0x37d8a7)_0x5040c2[_0x2f63('0x34')]({'froms':_0x4926ef,'tos':_0x37d8a7,'hole':_0x535e11});if(_0x423d16){_0x423d16=![];_0x392bc1[_0x37d8a7]['push'](_0x13e692);}else{_0x554437=!![];}}if(!_0x423d16){continue;}_0x392bc1[_0x4926ef][_0x2f63('0x34')](_0x13e692);}}if(_0x5040c2[_0x2f63('0x38')]>0x0){if(!_0x554437)_0x1cac28=_0x392bc1;}}var _0x5e83e0;for(var _0x2307b3=0x0,_0x4ae7f4=_0x3f3394['length'];_0x2307b3<_0x4ae7f4;_0x2307b3++){_0x5025e3=_0x3f3394[_0x2307b3]['s'];if(_0x52f30b(_0x5025e3)>0x1){_0x536a13[_0x2f63('0x34')](_0x5025e3);}_0x5e83e0=_0x1cac28[_0x2307b3];for(var _0x48b972=0x0,_0x3e678c=_0x5e83e0[_0x2f63('0x38')];_0x48b972<_0x3e678c;_0x48b972++){_0x5025e3[_0x2f63('0x2dd')][_0x2f63('0x34')](_0x5e83e0[_0x48b972]['h']);}}return _0x536a13;}}]);return _0xc8ceb5;}();function _0x52f30b(_0x3f2933){var _0x403461={'x':Infinity,'y':Infinity};var _0x2c8faf={'x':-Infinity,'y':-Infinity};_0x3f2933[_0x2f63('0x311')]['forEach'](function(_0x304c2c){_0x304c2c[_0x2f63('0x326')](_0x403461,_0x2c8faf);});return Math[_0x2f63('0x113')](_0x403461['x']-_0x2c8faf['x'],_0x403461['y']-_0x2c8faf['y']);}var _0x2a6bf3=function(){function _0x2a6bf3(_0x90f709){_0x47c705(this,_0x2a6bf3);this['type']='Font';this[_0x2f63('0x208')]=_0x90f709;this['isFont']=!![];}_0x38642a(_0x2a6bf3,null,[{'key':_0x2f63('0x33c'),'value':function generateShapes(_0x4c39b1){var _0x399f69=arguments[_0x2f63('0x38')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:0x64;var _0x559492=arguments['length']>0x2?arguments[0x2]:undefined;var _0x15f590=arguments[_0x2f63('0x38')]>0x3?arguments[0x3]:undefined;var _0x21415a=[];var _0x264cc0=_0x2da20(_0x4c39b1,_0x399f69,_0x559492,_0x15f590);var _0x47ce09=_0x264cc0[_0x2f63('0x33d')];var _0x365889=[];var _0x33b404=0x0;for(var _0x4d188a=0x0;_0x4d188a<_0x47ce09[_0x2f63('0x38')];_0x4d188a++){var _0x8908f3=_0x47ce09[_0x4d188a][_0x2f63('0x33b')]();_0x21415a['push'][_0x2f63('0x10')](_0x21415a,_0x9959f(_0x8908f3));_0x365889['push'](_0x33b404);_0x33b404+=_0x8908f3[_0x2f63('0x38')];}var _0x4e4192={'shapes':_0x21415a};_0x4e4192[_0x2f63('0x33e')]=Object[_0x2f63('0xe2')]({},_0x264cc0[_0x2f63('0x33e')],{'charFlag':_0x365889});return _0x4e4192;}}]);return _0x2a6bf3;}();function _0x2da20(_0x153452){var _0x2f07a7=arguments[_0x2f63('0x38')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:0x64;var _0xf5c219=arguments[_0x2f63('0x38')]>0x2?arguments[0x2]:undefined;var _0x2e6b48=arguments[_0x2f63('0x38')]>0x3?arguments[0x3]:undefined;var _0x5554c2=_0xf5c219['letterSpacing'],_0x3e7b85=_0xf5c219[_0x2f63('0x33f')],_0x2bfb68=_0xf5c219[_0x2f63('0x340')],_0x14b599=_0xf5c219['textAlign'];var _0x2652b1=_0x2bfb68[_0x2f63('0x341')],_0xead065=_0x2652b1===void 0x0?0x400:_0x2652b1;var _0x258241=_0x2f07a7/_0xead065;var _0x1342dc=_0x2f07a7*_0x3e7b85;var _0x2f0b92=[];var _0x962bb3=[];var _0x3fc621=[0x0];var _0x4e94be=0x0;var _0xe0d01c=0x0;var _0xd7ad02=0x0;var _0x3bdd1b=-0x1;for(var _0x44fa01=0x0;_0x44fa01<_0x153452[_0x2f63('0x38')];_0x44fa01++){var _0x12e148=_0x153452[_0x44fa01];if(_0x12e148[_0x2f63('0x3c')]==='\x0a'){_0x3fc621[++_0x4e94be]=0x0;_0x3bdd1b=-0x1;}else{_0xe0d01c=_0x12e148['ha']*_0x258241*_0x2e6b48+_0x5554c2;_0x3fc621[_0x4e94be]+=_0xe0d01c;if(_0x12e148[_0x2f63('0x3c')]&&_0x12e148['name']!=='\x20'){_0x962bb3[_0x2f63('0x34')]({'rowNum':_0x4e94be,'columnNum':++_0x3bdd1b});}}}var _0x1fa6b6=Math['max'][_0x2f63('0x10')](Math,_0x3fc621);_0xe0d01c=0x0;_0x4e94be=0x0;for(var _0x38d50a=0x0;_0x38d50a<_0x153452['length'];_0x38d50a++){var _0x546420=_0x153452[_0x38d50a];if(_0x546420[_0x2f63('0x3c')]==='\x0a'){_0xd7ad02-=_0x1342dc;switch(_0x14b599){case'center':_0xe0d01c-=(_0x3fc621[_0x4e94be]+_0x3fc621[++_0x4e94be])/0x2;break;case'right':_0xe0d01c-=_0x3fc621[++_0x4e94be];break;default:_0xe0d01c=0x0;}}else if(_0x546420['name']==='\x20'||!_0x546420[_0x2f63('0x3c')]){_0xe0d01c+=_0x546420['ha']*_0x258241+_0x5554c2;}else{var _0x7c1d7=_0x12f66c(_0x546420,_0x258241,_0xe0d01c,_0xd7ad02,_0x2e6b48);_0xe0d01c+=_0x7c1d7[_0x2f63('0x342')]+_0x5554c2;_0x2f0b92[_0x2f63('0x34')](_0x7c1d7[_0x2f63('0x343')]);}}var _0x33088f={'paths':_0x2f0b92};_0x33088f[_0x2f63('0x33e')]={'baseLineHeight':_0x2f07a7,'charPosDatas':_0x962bb3,'realLineHeight':_0x1342dc,'maxLineWidth':_0x1fa6b6};return _0x33088f;}function _0x12f66c(_0xc3fe0a,_0xd2a382,_0x126b30,_0x2a9a00,_0xf76f93){if(!_0xc3fe0a)return;var _0x5d9a82=new _0xc8ceb5();var _0xe23506,_0x224512,_0x3df6da,_0xcd88a2,_0x103a6b,_0x2fb687,_0x113e1b,_0x3ab1d3;if(_0xc3fe0a['o']){var _0x22cc77=_0xc3fe0a['_cachedOutline']||(_0xc3fe0a[_0x2f63('0x344')]=_0xc3fe0a['o'][_0x2f63('0x182')]('\x20'));var _0x3488f1=0x0;var _0x456a3=0x0;for(var _0x2d246a=0x0,_0x188df6=_0x22cc77[_0x2f63('0x38')];_0x2d246a<_0x188df6;){var _0x28811a=_0x22cc77[_0x2d246a++];switch(_0x28811a){case'm':_0xe23506=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0x224512=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x5d9a82['moveTo'](_0xe23506,_0x224512);_0x3488f1=_0xe23506;_0x456a3=_0x224512;break;case'l':_0xe23506=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0x224512=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x5d9a82[_0x2f63('0x32c')](_0xe23506,_0x224512);break;case'q':_0x3df6da=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0xcd88a2=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x103a6b=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0x2fb687=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x5d9a82[_0x2f63('0x339')](_0x103a6b,_0x2fb687,_0x3df6da,_0xcd88a2);break;case'b':_0x3df6da=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0xcd88a2=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x103a6b=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0x2fb687=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x113e1b=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x126b30;_0x3ab1d3=_0x22cc77[_0x2d246a++]*_0xd2a382+_0x2a9a00;_0x5d9a82[_0x2f63('0x32d')](_0x103a6b,_0x2fb687,_0x113e1b,_0x3ab1d3,_0x3df6da,_0xcd88a2);break;case'z':_0xe23506=_0x3488f1;_0x224512=_0x456a3;_0x5d9a82[_0x2f63('0x32c')](_0xe23506,_0x224512);break;}}}return{'offsetX':_0xc3fe0a['ha']*_0xd2a382*_0xf76f93,'offsetY':_0xc3fe0a['ha']*_0xd2a382*_0xf76f93,'path':_0x5d9a82};}var _0x332179=null;function _0x221eb8(_0x5d55bd){var _0xa17214=arguments[_0x2f63('0x38')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:{'lineHeight':0x1,'letterSpacing':0x1};var _0x393e14=_0xa17214['font'];if(!_0x393e14||!_0x393e14[_0x2f63('0x345')]){console[_0x2f63('0xbb')]('THREE.TextBufferGeometry:\x20font\x20parameter\x20is\x20not\x20an\x20instance\x20of\x20THREE.Font.');return new _0x220e0c();}var _0x59c7cb=Array[_0x2f63('0x14d')]?Array['from'](_0x5d55bd):String(_0x5d55bd)[_0x2f63('0x182')]('');var _0x4fa6b4=_0x59c7cb[_0x2f63('0x185')](function(_0x72c34c){return Object[_0x2f63('0xe2')]({'name':_0x72c34c},_0x393e14[_0x2f63('0x208')][_0x2f63('0x346')][_0x72c34c]||_0x393e14[_0x2f63('0x208')][_0x2f63('0x346')]['?']);});var _0x1968a8={'lineHeightData':_0x393e14['data']['lineHeightData'],'resolution':_0x393e14[_0x2f63('0x208')]['resolution'],'boundingBox':_0x393e14[_0x2f63('0x208')][_0x2f63('0x1f0')],'lineHeight':_0xa17214[_0x2f63('0x33f')],'letterSpacing':_0xa17214['letterSpacing'],'textAlign':_0xa17214[_0x2f63('0x347')]};_0xa17214[_0x2f63('0x2cc')]=_0xa17214[_0x2f63('0x1db')]||0x32;_0xa17214['bevelThickness']=_0xa17214['bevelThickness']||0xa;_0xa17214[_0x2f63('0x2d1')]=_0xa17214[_0x2f63('0x2d1')]||0x1;_0xa17214[_0x2f63('0x2cf')]=_0xa17214['bevelEnabled']||![];_0xa17214[_0x2f63('0x2c8')]=_0xa17214['shadingSmoothAngle']||0x0;_0xa17214[_0x2f63('0x2d1')]=-Math[_0x2f63('0x75')](_0xa17214[_0x2f63('0x2d1')]);this['type']=_0x2f63('0x348');this[_0x2f63('0x242')]={'glyphs':_0x4fa6b4,'data':_0x1968a8,'options':_0xa17214};}_0x221eb8[_0x2f63('0x9')]=Object['create'](_0x35d4ed['prototype']);Object[_0x2f63('0xe2')](_0x221eb8[_0x2f63('0x9')],{'constructor':_0x221eb8,'init':function init(){var _0x4ccbf2=this;return _0x35333c(_0x2aac35[_0x2f63('0x3d')](function _callee(){var _0x29af57;return _0x2aac35[_0x2f63('0x2a')](function _callee$(_0x58754e){while(0x1){switch(_0x58754e['prev']=_0x58754e['next']){case 0x0:_0x29af57=new Promise(function(_0x13451c,_0x12dc05){if(_0x4ccbf2[_0x2f63('0x242')][_0x2f63('0x2e6')]['worker']){if(!_0x332179){_0x332179=new _0xacb876();}_0x332179['onmessage']=function(_0x5b94f2){Object['keys'](_0x5b94f2[_0x2f63('0x208')][_0x2f63('0xfe')])[_0x2f63('0x2c')](function(_0x4244fb){Object[_0x2f63('0x3e')](_0x5b94f2[_0x2f63('0x208')][_0x2f63('0xfe')][_0x4244fb],_0x1d56f8[_0x2f63('0x9')]);});Object[_0x2f63('0xe2')](_0x4ccbf2,_0x5b94f2[_0x2f63('0x208')]);Object[_0x2f63('0x3e')](_0x5b94f2[_0x2f63('0x208')]['boundingBox'],_0x5f39d5['prototype']);Object['setPrototypeOf'](_0x5b94f2['data']['boundingBox'][_0x2f63('0x5e')],_0x14b965[_0x2f63('0x9')]);Object[_0x2f63('0x3e')](_0x5b94f2['data'][_0x2f63('0x1f0')]['max'],_0x14b965[_0x2f63('0x9')]);_0x13451c(_0x4ccbf2);};_0x332179[_0x2f63('0x349')]=function(_0x2d38fc){_0x12dc05(_0x2d38fc);};_0x332179[_0x2f63('0x34a')](_0x4ccbf2['parameters']);}else{var _0x1d9d6f=_0x4ccbf2[_0x2f63('0x242')],_0xd7c0c7=_0x1d9d6f[_0x2f63('0x208')],_0x490c16=_0x1d9d6f[_0x2f63('0x346')],_0x3f364f=_0x1d9d6f[_0x2f63('0x2e6')];var _0x28b229=_0x3f364f[_0x2f63('0x1da')],_0x130a06=_0x3f364f[_0x2f63('0x34b')];var _0x3ab040=_0x2a6bf3[_0x2f63('0x33c')](_0x490c16,_0x28b229,_0xd7c0c7,_0x130a06),_0x4eb642=_0x3ab040['shapes'],_0x3952c0=_0x3ab040[_0x2f63('0x33e')];Object['assign'](_0x3f364f,_0x3952c0);_0x35d4ed[_0x2f63('0xb')](_0x4ccbf2,_0x4eb642,_0x3f364f);_0x13451c(_0x4ccbf2);}});return _0x58754e[_0x2f63('0x26')]('return',_0x29af57);case 0x2:case _0x2f63('0x4b'):return _0x58754e[_0x2f63('0x34c')]();}}},_callee);}))();}});function _0x3da9a9(_0x10bdb9){var _0x2e66e7=_0x564dfb[_0x2f63('0x14c')](_0x10bdb9);var _0x364d93=_0x2e66e7[_0x2f63('0x34d')]||0x800;var _0x5c2492=0x1;var _0x3953e6={'glyphs':{}};var _0x4a008a=Object['values'](_0x2e66e7['glyphs'][_0x2f63('0x346')]);_0x3953e6[_0x2f63('0x34e')]=[];_0x4a008a[_0x2f63('0x2c')](function(_0x4d5f24){if(_0x4d5f24['unicode']!==undefined){var _0x54d50e=String['fromCharCode'](_0x4d5f24[_0x2f63('0x34f')]);_0x3953e6[_0x2f63('0x34e')][_0x2f63('0x34')](_0x54d50e);Object[_0x2f63('0x5a')](_0x3953e6['glyphs'],_0x54d50e,{'get':function _0x4ff83e(){var _0x3becd0={};var _0x1b0387=_0x4d5f24[_0x2f63('0x343')][_0x2f63('0x350')];_0x3becd0['ha']=Math[_0x2f63('0xca')](_0x4d5f24[_0x2f63('0x351')]*_0x5c2492);_0x3becd0[_0x2f63('0x352')]=Math[_0x2f63('0xca')](_0x4d5f24[_0x2f63('0x353')]*_0x5c2492);_0x3becd0[_0x2f63('0x354')]=Math[_0x2f63('0xca')](_0x4d5f24['xMax']*_0x5c2492);_0x3becd0['o']='';var _0x1a7d0e=_0x3b4d3b(_0x1b0387);_0x1b0387=_0x137f90(_0x1b0387,_0x1a7d0e);var _0x489249=_0x7d1d79(_0x1b0387);var _0x16b836=_0x5a5085(_0x1b0387);_0x1b0387=_0x6f6d82(_0x16b836,_0x489249);_0x1b0387['forEach'](function(_0x1160d5){if(_0x1160d5['type']['toLowerCase']()==='c'){_0x1160d5[_0x2f63('0x28')]='b';}_0x3becd0['o']+=_0x1160d5[_0x2f63('0x28')][_0x2f63('0x158')]();_0x3becd0['o']+='\x20';if(_0x1160d5['x']!==undefined&&_0x1160d5['y']!==undefined){_0x3becd0['o']+=Math['round'](_0x1160d5['x']*_0x5c2492);_0x3becd0['o']+='\x20';_0x3becd0['o']+=Math[_0x2f63('0xca')](_0x1160d5['y']*_0x5c2492);_0x3becd0['o']+='\x20';}if(_0x1160d5['x1']!==undefined&&_0x1160d5['y1']!==undefined){_0x3becd0['o']+=Math[_0x2f63('0xca')](_0x1160d5['x1']*_0x5c2492);_0x3becd0['o']+='\x20';_0x3becd0['o']+=Math[_0x2f63('0xca')](_0x1160d5['y1']*_0x5c2492);_0x3becd0['o']+='\x20';}if(_0x1160d5['x2']!==undefined&&_0x1160d5['y2']!==undefined){_0x3becd0['o']+=Math[_0x2f63('0xca')](_0x1160d5['x2']*_0x5c2492);_0x3becd0['o']+='\x20';_0x3becd0['o']+=Math[_0x2f63('0xca')](_0x1160d5['y2']*_0x5c2492);_0x3becd0['o']+='\x20';}});return _0x3becd0;}});}});_0x3953e6['familyName']=_0x2e66e7[_0x2f63('0x355')];_0x3953e6[_0x2f63('0x340')]={'ascender':_0x2e66e7[_0x2f63('0x356')],'descender':_0x2e66e7['descender'],'emSize':_0x364d93};_0x3953e6[_0x2f63('0x357')]=Math[_0x2f63('0xca')](_0x2e66e7[_0x2f63('0x358')]['post'][_0x2f63('0x357')]*_0x5c2492);_0x3953e6[_0x2f63('0x359')]=Math[_0x2f63('0xca')](_0x2e66e7[_0x2f63('0x358')][_0x2f63('0x35a')][_0x2f63('0x359')]*_0x5c2492);var _0x587816=_0x2e66e7[_0x2f63('0x358')][_0x2f63('0x279')];_0x3953e6[_0x2f63('0x1f0')]={'yMin':Math[_0x2f63('0xca')](_0x587816[_0x2f63('0x35b')]*_0x5c2492),'xMin':Math['round'](_0x587816['xMin']*_0x5c2492),'yMax':Math[_0x2f63('0xca')](_0x587816[_0x2f63('0x35c')]*_0x5c2492),'xMax':Math[_0x2f63('0xca')](_0x587816[_0x2f63('0x35d')]*_0x5c2492)};_0x3953e6[_0x2f63('0x319')]=0x3e8;_0x3953e6[_0x2f63('0x35e')]=_0x2e66e7[_0x2f63('0x358')][_0x2f63('0x3c')];var _0x236f23=_0x2e66e7[_0x2f63('0x172')]['fontSubfamily']['en'];if(_0x236f23['toLowerCase']()[_0x2f63('0x53')](_0x2f63('0x35f'))>-0x1){_0x3953e6[_0x2f63('0x360')]=_0x2f63('0x35f');}else{_0x3953e6[_0x2f63('0x360')]='normal';}if(_0x236f23[_0x2f63('0x158')]()[_0x2f63('0x53')](_0x2f63('0x361'))>-0x1){_0x3953e6['cssFontStyle']='italic';}else{_0x3953e6[_0x2f63('0x362')]='normal';}return _0x3953e6;}function _0x137f90(_0x341490,_0x2e595a){if(_0x2e595a===undefined){_0x3a2596['log']('error:\x20reverseCommands:\x20not\x20specify\x20reverseTagList,\x20return\x20original\x20commands');return _0x341490;}var _0x1d4442=[];var _0x27f75c;_0x341490[_0x2f63('0x2c')](function(_0x37a87f){if(_0x37a87f[_0x2f63('0x28')][_0x2f63('0x158')]()==='m'){_0x27f75c=[_0x37a87f];_0x1d4442[_0x2f63('0x34')](_0x27f75c);}else if(_0x37a87f[_0x2f63('0x28')][_0x2f63('0x158')]()!=='z'){_0x27f75c['push'](_0x37a87f);}});var _0x2b3b12=[];for(var _0xf032e2=0x0;_0xf032e2<_0x1d4442[_0x2f63('0x38')];_0xf032e2++){if(!_0x2e595a[_0xf032e2]){var _0xc546dc=_0x1d4442[_0xf032e2];for(var _0x4c9b7e=0x0;_0x4c9b7e<_0xc546dc[_0x2f63('0x38')];_0x4c9b7e++){_0x2b3b12[_0x2f63('0x34')](_0xc546dc[_0x4c9b7e]);}var _0x8abdef={'type':'z'};_0x2b3b12[_0x2f63('0x34')](_0x8abdef);continue;}var _0x47f05f=_0x1d4442[_0xf032e2];var _0x2f1475={'type':'m','x':_0x47f05f[_0x47f05f[_0x2f63('0x38')]-0x1]['x'],'y':_0x47f05f[_0x47f05f[_0x2f63('0x38')]-0x1]['y']};_0x2b3b12[_0x2f63('0x34')](_0x2f1475);for(var _0x2146b0=_0x47f05f['length']-0x1;_0x2146b0>0x0;_0x2146b0--){var _0xd83179=_0x47f05f[_0x2146b0];_0x2f1475={'type':_0xd83179['type']};if(_0xd83179['x2']!==undefined&&_0xd83179['y2']!==undefined){_0x2f1475['x1']=_0xd83179['x2'];_0x2f1475['y1']=_0xd83179['y2'];_0x2f1475['x2']=_0xd83179['x1'];_0x2f1475['y2']=_0xd83179['y1'];}else if(_0xd83179['x1']!==undefined&&_0xd83179['y1']!==undefined){_0x2f1475['x1']=_0xd83179['x1'];_0x2f1475['y1']=_0xd83179['y1'];}_0x2f1475['x']=_0x47f05f[_0x2146b0-0x1]['x'];_0x2f1475['y']=_0x47f05f[_0x2146b0-0x1]['y'];_0x2b3b12[_0x2f63('0x34')](_0x2f1475);}_0x2f1475={'type':'z'};_0x2b3b12[_0x2f63('0x34')](_0x2f1475);}return _0x2b3b12;}function _0x40b074(_0x2950f0){var _0x3a5e68=_0x2950f0[_0x2f63('0x38')];var _0x5641ca=0x0;for(var _0x3e1a41=_0x3a5e68-0x1,_0x10f1ec=0x0;_0x10f1ec<_0x3a5e68;_0x3e1a41=_0x10f1ec++){_0x5641ca+=_0x2950f0[_0x3e1a41]['x']*_0x2950f0[_0x10f1ec]['y']-_0x2950f0[_0x10f1ec]['x']*_0x2950f0[_0x3e1a41]['y'];}return _0x5641ca*0.5;}function _0x71047b(_0x3ad3dc){var _0x4839f0=_0x3ad3dc['length'];var _0x4f9929=0x0;for(var _0x4a3701=_0x4839f0-0x1,_0x1ae4b0=0x0;_0x1ae4b0<_0x4839f0;_0x4a3701=_0x1ae4b0++){_0x4f9929+=_0x3ad3dc[_0x4a3701]['x']*_0x3ad3dc[_0x1ae4b0]['y']-_0x3ad3dc[_0x1ae4b0]['x']*_0x3ad3dc[_0x4a3701]['y'];}return Math[_0x2f63('0x75')](_0x4f9929*0.5);}function _0x4a2d9d(_0x30d247){return _0x40b074(_0x30d247)<0x0;}function _0x1bd273(_0x9652fe){var _0x5ddad6=[];var _0x1d1899;_0x9652fe['forEach'](function(_0x5b8fbc){if(_0x5b8fbc[_0x2f63('0x28')]['toLowerCase']()==='m'){_0x1d1899=[_0x5b8fbc];_0x5ddad6[_0x2f63('0x34')](_0x1d1899);}else if(_0x5b8fbc[_0x2f63('0x28')]['toLowerCase']()!=='z'){_0x1d1899[_0x2f63('0x34')](_0x5b8fbc);}});var _0x2c7874=[];_0x5ddad6[_0x2f63('0x2c')](function(_0x345d46){var _0x117cd4=[];for(var _0x37319a=0x0;_0x37319a<_0x345d46[_0x2f63('0x38')];_0x37319a++){var _0x56ef00=_0x345d46[_0x37319a];if(_0x56ef00['x2']!==undefined&&_0x56ef00['y2']!==undefined){var _0x36a462={'x':0x0,'y':0x0};_0x36a462['x']=_0x56ef00['x1'];_0x36a462['y']=_0x56ef00['y1'];_0x117cd4['push'](_0x36a462);var _0x4a0f56={'x':0x0,'y':0x0};_0x4a0f56['x']=_0x56ef00['x2'];_0x4a0f56['y']=_0x56ef00['y2'];_0x117cd4[_0x2f63('0x34')](_0x4a0f56);}else if(_0x56ef00['x1']!==undefined&&_0x56ef00['y1']!==undefined){var _0x322c67={'x':0x0,'y':0x0};_0x322c67['x']=_0x56ef00['x1'];_0x322c67['y']=_0x56ef00['y1'];_0x117cd4[_0x2f63('0x34')](_0x322c67);}var _0x47e1b5={'x':0x0,'y':0x0};_0x47e1b5['x']=_0x56ef00['x'];_0x47e1b5['y']=_0x56ef00['y'];_0x117cd4[_0x2f63('0x34')](_0x47e1b5);}if(!(_0x117cd4[0x0]['x']===_0x117cd4[_0x117cd4[_0x2f63('0x38')]-0x1]['x']&&_0x117cd4[0x0]['y']===_0x117cd4[_0x117cd4[_0x2f63('0x38')]-0x1]['y'])){var _0x539780={'x':_0x117cd4[0x0]['x'],'y':_0x117cd4[0x0]['y']};_0x117cd4[_0x2f63('0x34')](_0x539780);}_0x2c7874[_0x2f63('0x34')](_0x117cd4);});return _0x2c7874;}function _0x5a5085(_0x4016da){var _0xc83b1e=[];var _0x40f2f6;_0x4016da[_0x2f63('0x2c')](function(_0x5aa11e){if(_0x5aa11e[_0x2f63('0x28')][_0x2f63('0x158')]()==='m'){_0x40f2f6=[_0x5aa11e];_0xc83b1e[_0x2f63('0x34')](_0x40f2f6);}else if(_0x5aa11e[_0x2f63('0x28')][_0x2f63('0x158')]()!=='z'){_0x40f2f6[_0x2f63('0x34')](_0x5aa11e);}});return _0xc83b1e;}function _0x5dad95(_0x47e1b5,_0x278fa5){var _0x7a6107;var _0x3b1f1a;var _0x36ebe8=0x0;for(_0x7a6107=0x0,_0x3b1f1a=_0x278fa5[_0x2f63('0x38')]-0x1;_0x7a6107<_0x278fa5[_0x2f63('0x38')];_0x3b1f1a=_0x7a6107++){if(_0x278fa5[_0x7a6107]['y']>_0x47e1b5['y']!==_0x278fa5[_0x3b1f1a]['y']>_0x47e1b5['y']&&_0x47e1b5['x']<(_0x278fa5[_0x3b1f1a]['x']-_0x278fa5[_0x7a6107]['x'])*(_0x47e1b5['y']-_0x278fa5[_0x7a6107]['y'])/(_0x278fa5[_0x3b1f1a]['y']-_0x278fa5[_0x7a6107]['y'])+_0x278fa5[_0x7a6107]['x']){_0x36ebe8=!_0x36ebe8;}}return _0x36ebe8;}function _0x1a419a(_0x2adfda,_0x28540c){var _0x1378dc=0x0;for(var _0x558972=0x0;_0x558972<_0x28540c[_0x2f63('0x38')];_0x558972++){if(_0x558972===_0x2adfda)continue;if(_0x57034c(_0x2adfda,_0x558972,_0x28540c)){_0x1378dc++;}}if(_0x1378dc%0x2===0x0)return![];else return!![];}function _0x3b4d3b(_0x5f10e,_0xbab5dd){if(_0x5f10e[_0x2f63('0x38')]===0x0)return;var _0x551148=_0x1bd273(_0x5f10e);var _0x4214cf=[];for(var _0x47d61a=0x0;_0x47d61a<_0x551148[_0x2f63('0x38')];_0x47d61a++){var _0x59e03f=_0x551148[_0x47d61a];var _0x49d780=_0x1a419a(_0x47d61a,_0x551148);if(_0x49d780){if(_0x4a2d9d(_0x59e03f)){_0x4214cf[_0x2f63('0x34')](!![]);}else{_0x4214cf[_0x2f63('0x34')](![]);}}else{if(_0x4a2d9d(_0x59e03f)){_0x4214cf[_0x2f63('0x34')](![]);}else{_0x4214cf[_0x2f63('0x34')](!![]);}}}return _0x4214cf;}function _0x57034c(_0x2c2b55,_0x1428e1,_0x116a44){var _0x141b42=0x0;for(var _0x39a442=0x0;_0x39a442<_0x116a44[_0x2c2b55][_0x2f63('0x38')];_0x39a442++){if(_0x5dad95(_0x116a44[_0x2c2b55][_0x39a442],_0x116a44[_0x1428e1])){_0x141b42++;}}if(_0x141b42/_0x116a44[_0x2c2b55][_0x2f63('0x38')]>0.6){return!![];}else return![];}function _0x7d1d79(_0x5397e9,_0x383b0c){if(_0x5397e9['length']===0x0)return;var _0x4d8ecd=_0x1bd273(_0x5397e9);var _0x3c1335=[];for(var _0x5722f3=0x0;_0x5722f3<_0x4d8ecd[_0x2f63('0x38')];_0x5722f3++){var _0x5e2704=_0x4d8ecd[_0x5722f3];if(_0x4a2d9d(_0x5e2704)){var _0x378ce5={'hole':![],'parent':-0x1,'area':-0x1};_0x378ce5[_0x2f63('0x363')]=![];_0x378ce5[_0x2f63('0x364')]=_0x71047b(_0x5e2704);_0x3c1335[_0x2f63('0x34')](_0x378ce5);}else{var _0x3f5d59={'hole':![],'parent':-0x1,'area':-0x1};_0x3f5d59[_0x2f63('0x363')]=!![];_0x3f5d59[_0x2f63('0x364')]=_0x71047b(_0x5e2704);_0x3c1335['push'](_0x3f5d59);}}for(var _0x4acb2f=0x0;_0x4acb2f<_0x4d8ecd[_0x2f63('0x38')];_0x4acb2f++){var _0x2e000e=_0x3c1335[_0x4acb2f];if(_0x2e000e[_0x2f63('0x363')]){var _0xd8c159=Number[_0x2f63('0x308')];for(var _0x2fc13f=0x0;_0x2fc13f<_0x4d8ecd[_0x2f63('0x38')];_0x2fc13f++){if(_0x4acb2f===_0x2fc13f)continue;var _0x163e23=_0x3c1335[_0x2fc13f];if(_0x163e23['hole']||!_0x57034c(_0x4acb2f,_0x2fc13f,_0x4d8ecd)||_0x163e23[_0x2f63('0x364')]<=_0x2e000e['area']||_0x163e23[_0x2f63('0x364')]>=_0xd8c159){continue;}_0x2e000e[_0x2f63('0x11e')]=_0x2fc13f;_0xd8c159=_0x163e23[_0x2f63('0x364')];}if(_0x2e000e['parent']===-0x1){console[_0x2f63('0xbb')]('polyId',_0x4acb2f,_0x2f63('0x365'));}}}return _0x3c1335;}function _0x6f6d82(_0x4848ba,_0x31bc40){var _0x5f2083=[];for(var _0x105a5f=0x0;_0x105a5f<_0x4848ba[_0x2f63('0x38')];_0x105a5f++){var _0x1a6ce9=_0x31bc40[_0x105a5f];if(!_0x1a6ce9[_0x2f63('0x363')]){var _0x2d1c65={'path_id':_0x105a5f,'child':[]};_0x5f2083[_0x2f63('0x34')](_0x2d1c65);}}for(var _0x27e556=0x0;_0x27e556<_0x4848ba['length'];_0x27e556++){var _0x44153e=_0x31bc40[_0x27e556];if(_0x44153e[_0x2f63('0x363')]){for(var _0x518540=0x0;_0x518540<_0x5f2083['length'];_0x518540++){if(_0x5f2083[_0x518540][_0x2f63('0x366')]===_0x44153e[_0x2f63('0x11e')]){_0x5f2083[_0x518540][_0x2f63('0x367')][_0x2f63('0x34')](_0x27e556);}}}}var _0x1184f8=[];for(var _0xf72741=0x0;_0xf72741<_0x5f2083[_0x2f63('0x38')];_0xf72741++){var _0x559d66=_0x5f2083[_0xf72741];var _0x56d4af=_0x4848ba[_0x559d66[_0x2f63('0x366')]];for(var _0x36bf4e=0x0;_0x36bf4e<_0x56d4af[_0x2f63('0x38')];_0x36bf4e++){_0x1184f8['push'](_0x56d4af[_0x36bf4e]);}var _0x4ad900={'type':'z'};_0x1184f8[_0x2f63('0x34')](_0x4ad900);for(var _0xa014a1=0x0;_0xa014a1<_0x559d66[_0x2f63('0x367')][_0x2f63('0x38')];_0xa014a1++){var _0x42b3e4=_0x4848ba[_0x559d66[_0x2f63('0x367')][_0xa014a1]];for(var _0x1fffef=0x0;_0x1fffef<_0x42b3e4[_0x2f63('0x38')];_0x1fffef++){_0x1184f8[_0x2f63('0x34')](_0x42b3e4[_0x1fffef]);}var _0x536958={'type':'z'};_0x1184f8[_0x2f63('0x34')](_0x536958);}}return _0x1184f8;}var _0x3c5fd3=function(){function _0x3c5fd3(){_0x47c705(this,_0x3c5fd3);}_0x38642a(_0x3c5fd3,[{'key':'runPattern','value':function runPattern(_0x26de3f,_0x3413bd){var _0x11c2f9;var _0xb734f1;var _0x15b63a;var _0x123405=_0x3413bd[_0x2f63('0x368')],_0x57c48c=_0x123405===void 0x0?0x0:_0x123405;switch(_0x57c48c){case'0':_0x11c2f9=new _0x14b965(-0x1,0x0,0x0)[_0x2f63('0x7b')](Math['sign'](_0x3413bd[_0x2f63('0x369')]));_0xb734f1=new _0x14b965(0x0,0x0,0x1);_0x15b63a=Math['PI']*Math[_0x2f63('0x75')](_0x3413bd[_0x2f63('0x369')]);break;case'1':_0x11c2f9=new _0x14b965(0x0,0x1,0x0)[_0x2f63('0x7b')](Math[_0x2f63('0x2e2')](_0x3413bd[_0x2f63('0x369')]));_0xb734f1=new _0x14b965(0x0,0x0,0x1);_0x15b63a=Math['PI']*Math[_0x2f63('0x75')](_0x3413bd[_0x2f63('0x369')]);break;case'2':_0x11c2f9=new _0x14b965(0x0,0x0,0x1)[_0x2f63('0x7b')](Math[_0x2f63('0x2e2')](_0x3413bd[_0x2f63('0x369')]));_0xb734f1=new _0x14b965(0x0,0x1,0x0);_0x15b63a=Math['PI']*Math['abs'](_0x3413bd[_0x2f63('0x369')]);break;case'3':_0x11c2f9=new _0x14b965(0x0,0x0,0x1)[_0x2f63('0x7b')](Math[_0x2f63('0x2e2')](_0x3413bd[_0x2f63('0x369')]));_0xb734f1=new _0x14b965(0x1,0x0,0x0);_0x15b63a=Math['PI']*Math[_0x2f63('0x75')](_0x3413bd['bend_intersity']);}this[_0x2f63('0x36a')](_0x26de3f,_0x11c2f9,_0xb734f1,_0x15b63a);}},{'key':_0x2f63('0x36a'),'value':function RUN(_0x40e1dd,_0x42fe28,_0x18dc5a,_0x59616f){if(_0x59616f===0x0)return;var _0x99e7c7=new _0x14b965();_0x99e7c7[_0x2f63('0x76')](_0x42fe28,_0x18dc5a);var _0x363571=[];var _0x255c82=0x0;var _0xb79943=0x0;var _0x11a95e=0x0;var _0x8d0b48=0x0;var _0x57a836=0x0;var _0x268efc=0x0;var _0x3d9268=_0x40e1dd[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x1d0a31=parseInt(_0x3d9268['length']/0x3);for(var _0x14159f=0x0;_0x14159f<_0x1d0a31;_0x14159f++){var _0x5e8c6a=new _0x14b965();_0x5e8c6a[_0x2f63('0x69')](_0x3d9268,_0x14159f*0x3);_0x5e8c6a['x']=Math['meshGeometryBoundingBoxMaxx']=Math['max'](_0x255c82,_0x5e8c6a['x']);_0xb79943=Math[_0x2f63('0x5e')](_0xb79943,_0x5e8c6a['x']);_0x11a95e=Math[_0x2f63('0x5d')](_0x11a95e,_0x5e8c6a['y']);_0x8d0b48=Math['min'](_0x8d0b48,_0x5e8c6a['y']);_0x57a836=Math[_0x2f63('0x5d')](_0x57a836,_0x5e8c6a['z']);_0x268efc=Math[_0x2f63('0x5e')](_0x268efc,_0x5e8c6a['z']);}var _0x4bb8c3=_0x255c82-_0xb79943;var _0xb4cab8=new _0x14b965(0.5*(_0x255c82+_0xb79943),0.5*(_0x11a95e+_0x8d0b48),0.5*(_0x57a836+_0x268efc));var _0x54e7cc=_0x4bb8c3/_0x59616f;for(var _0x5ac81c=0x0;_0x5ac81c<_0x1d0a31;_0x5ac81c++){_0x363571[_0x5ac81c]=new _0x14b965();var _0x356136=new _0x14b965();_0x356136[_0x2f63('0x69')](_0x3d9268,_0x5ac81c*0x3);_0x363571[_0x5ac81c][_0x2f63('0x6a')](_0x356136)[_0x2f63('0xb5')](_0xb4cab8);var _0x1558bd=_0x363571[_0x5ac81c]['dot'](_0x99e7c7);var _0x224512=_0x363571[_0x5ac81c]['dot'](_0x42fe28);var _0x30aa03=_0x363571[_0x5ac81c]['dot'](_0x18dc5a);_0x363571[_0x5ac81c]=new _0x14b965(_0x1558bd,_0x224512,_0x30aa03);}var _0x1399bc=new _0x14b965(0x0,_0x54e7cc,0x0);for(var _0x8160f2=0x0;_0x8160f2<_0x1d0a31;_0x8160f2++){var _0x389309=_0x363571[_0x8160f2]['x'];var _0x16777a=_0x363571[_0x8160f2]['y'];var _0x24054f=_0x389309*_0x59616f/_0x4bb8c3;var _0x4c6237=(_0x54e7cc-_0x16777a)*Math[_0x2f63('0x87')](_0x24054f);var _0x27b69a=-(_0x54e7cc-_0x16777a)*Math[_0x2f63('0x86')](_0x24054f);var _0x136d9c=new _0x14b965(_0x4c6237,_0x27b69a,_0x363571[_0x8160f2]['z']);_0x363571[_0x8160f2]=new _0x14b965();_0x363571[_0x8160f2][_0x2f63('0xb0')](_0x1399bc)['add'](_0x136d9c);var _0x3f2413=new _0x14b965();_0x3f2413[_0x2f63('0xb0')](_0x99e7c7[_0x2f63('0x68')]()['multiplyScalar'](_0x363571[_0x8160f2]['x']));_0x3f2413[_0x2f63('0xb0')](_0x42fe28[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x363571[_0x8160f2]['y']));_0x3f2413['add'](_0x18dc5a[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x363571[_0x8160f2]['z']));_0x3f2413['add'](_0xb4cab8);_0x3d9268[_0x8160f2*0x3+0x0]=_0x3f2413['x'];_0x3d9268[_0x8160f2*0x3+0x1]=_0x3f2413['y'];_0x3d9268[_0x8160f2*0x3+0x2]=_0x3f2413['z'];}}}]);return _0x3c5fd3;}();function _0x381840(_0x1b04be){var _0x49e248=_0x4b7893();return function _createSuperInternal(){var _0x385385=_0x7200f8(_0x1b04be),_0x1b8a69;if(_0x49e248){var _0x138101=_0x7200f8(this)[_0x2f63('0x14')];_0x1b8a69=Reflect[_0x2f63('0x30a')](_0x385385,arguments,_0x138101);}else{_0x1b8a69=_0x385385[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x1b8a69);};}function _0x4b7893(){if(typeof Reflect===_0x2f63('0x8')||!Reflect['construct'])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')]['call'](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x57294e){return![];}}var _0x518eb0=function(_0xf47b7f){_0x2a2d9e(_0x518eb0,_0xf47b7f);var _0x49a82d=_0x381840(_0x518eb0);function _0x518eb0(_0x333f32,_0x2962d3,_0x4e03a2,_0x47efc8){var _0x11081a;_0x47c705(this,_0x518eb0);_0x11081a=_0x49a82d['call'](this);_0x11081a[_0x2f63('0x28')]='circleCurve';_0x11081a['center']=_0x333f32[_0x2f63('0x68')]();_0x11081a[_0x2f63('0xd9')]=_0x2962d3;_0x11081a['startNum']=_0x4e03a2;_0x11081a[_0x2f63('0x36b')]=_0x47efc8;_0x11081a['isCircleCurve']=!![];return _0x11081a;}_0x38642a(_0x518eb0,[{'key':'getPole','value':function getPole(_0x1caea9,_0x20e8f7){_0x1caea9['x']=Math[_0x2f63('0x5e')](_0x1caea9['x'],this[_0x2f63('0x10b')]['x']-this[_0x2f63('0xd9')]);_0x1caea9['y']=Math[_0x2f63('0x5e')](_0x1caea9['y'],this[_0x2f63('0x10b')]['y']-this[_0x2f63('0xd9')]);_0x20e8f7['x']=Math[_0x2f63('0x5d')](_0x20e8f7['x'],this[_0x2f63('0x10b')]['x']+this[_0x2f63('0xd9')]);_0x20e8f7['y']=Math[_0x2f63('0x5d')](_0x20e8f7['y'],this[_0x2f63('0x10b')]['y']+this['radius']);}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x857de6){var _0x1c8a5f=this[_0x2f63('0x305')](_0x857de6);var _0x42e703=this['radius'],_0x5593e4=this['center'];var _0x47e1b5=_0x5593e4['clone']()[_0x2f63('0xb4')](_0x1c8a5f,_0x42e703);return _0x47e1b5;}},{'key':_0x2f63('0x305'),'value':function getNormal(_0x314cf9){var _0x45f68b=this[_0x2f63('0x36c')],_0x47c007=this[_0x2f63('0x36b')];var _0x281d71=_0x314cf9*(_0x47c007-_0x45f68b)+_0x45f68b-0.5*Math['PI'];var _0x392bc8=new _0x2b6548(Math['cos'](_0x281d71),Math[_0x2f63('0x87')](_0x281d71));return _0x392bc8;}},{'key':_0x2f63('0x306'),'value':function getTangent(_0x23e86f){var _0x3e4f8e=this[_0x2f63('0x305')](_0x23e86f),_0x1c1c07=_0x3e4f8e['x'],_0x224512=_0x3e4f8e['y'];return new _0x2b6548(-_0x224512,_0x1c1c07);}}]);return _0x518eb0;}(_0x57c1bd);function _0x292d41(_0x4c9629){var _0x4e19be=_0x379c41();return function _createSuperInternal(){var _0x410cb6=_0x7200f8(_0x4c9629),_0x543ecf;if(_0x4e19be){var _0x46f8ef=_0x7200f8(this)[_0x2f63('0x14')];_0x543ecf=Reflect[_0x2f63('0x30a')](_0x410cb6,arguments,_0x46f8ef);}else{_0x543ecf=_0x410cb6[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x543ecf);};}function _0x379c41(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x4bcaf9){return![];}}var _0x2da5c3=function(_0x12c759){_0x2a2d9e(_0x2da5c3,_0x12c759);var _0x33e3cc=_0x292d41(_0x2da5c3);function _0x2da5c3(_0x3ed92d,_0x254c9d){var _0xfdbacd;_0x47c705(this,_0x2da5c3);_0xfdbacd=_0x33e3cc[_0x2f63('0xb')](this);_0xfdbacd[_0x2f63('0x28')]=_0x2f63('0x36d');_0xfdbacd['v1']=_0x3ed92d||new _0x14b965();_0xfdbacd['v2']=_0x254c9d||new _0x14b965();_0xfdbacd['isLineCurve3']=!![];return _0xfdbacd;}_0x38642a(_0x2da5c3,[{'key':_0x2f63('0x25b'),'value':function getPoint(_0x181e92){return new _0x14b965()[_0x2f63('0xcf')](this['v1'],this['v2'],_0x181e92);}},{'key':_0x2f63('0x2fa'),'value':function getPointAt(_0x3544b4){return this[_0x2f63('0x25b')](_0x3544b4);}}]);return _0x2da5c3;}(_0x57c1bd);function _0x2dada0(_0x15c51c){var _0x2b2f74=_0x224878();return function _createSuperInternal(){var _0x445c11=_0x7200f8(_0x15c51c),_0x353bbe;if(_0x2b2f74){var _0x111944=_0x7200f8(this)[_0x2f63('0x14')];_0x353bbe=Reflect[_0x2f63('0x30a')](_0x445c11,arguments,_0x111944);}else{_0x353bbe=_0x445c11['apply'](this,arguments);}return _0x207b42(this,_0x353bbe);};}function _0x224878(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')]['valueOf']['call'](Reflect['construct'](Boolean,[],function(){}));return!![];}catch(_0x33fcce){return![];}}var _0x103698=function(_0x3e1984){_0x2a2d9e(_0x103698,_0x3e1984);var _0x370a6f=_0x2dada0(_0x103698);function _0x103698(_0xf224a3,_0x3205cc,_0x57034d){var _0xd29a8f;_0x47c705(this,_0x103698);_0xd29a8f=_0x370a6f[_0x2f63('0xb')](this);_0xd29a8f['type']=_0x2f63('0x36e');_0xd29a8f['v0']=_0xf224a3||new _0x14b965();_0xd29a8f['v1']=_0x3205cc||new _0x14b965();_0xd29a8f['v2']=_0x57034d||new _0x14b965();return _0xd29a8f;}_0x38642a(_0x103698,[{'key':_0x2f63('0x25b'),'value':function getPoint(_0x25c57c){var _0x47e1b5=new _0x14b965();var _0x43cd11=this['v0'],_0x17e982=this['v1'],_0x5a55c8=this['v2'];_0x47e1b5['set'](_0x46ea92(_0x25c57c,_0x43cd11['x'],_0x17e982['x'],_0x5a55c8['x']),_0x46ea92(_0x25c57c,_0x43cd11['y'],_0x17e982['y'],_0x5a55c8['y']),_0x46ea92(_0x25c57c,_0x43cd11['z'],_0x17e982['z'],_0x5a55c8['z']));return _0x47e1b5;}},{'key':_0x2f63('0x6a'),'value':function copy(_0x1477c7){_0x260cbe(_0x7200f8(_0x103698[_0x2f63('0x9')]),'copy',this)['call'](_0x1477c7);this['v0'][_0x2f63('0x6a')](_0x1477c7['v0']);this['v1'][_0x2f63('0x6a')](_0x1477c7['v1']);this['v2'][_0x2f63('0x6a')](_0x1477c7['v2']);return this;}}]);return _0x103698;}(_0x57c1bd);function _0x33d271(_0x44dd75){var _0x201fe5=_0x5e4cfa();return function _createSuperInternal(){var _0x1ca2bf=_0x7200f8(_0x44dd75),_0x32f424;if(_0x201fe5){var _0x1d3183=_0x7200f8(this)[_0x2f63('0x14')];_0x32f424=Reflect['construct'](_0x1ca2bf,arguments,_0x1d3183);}else{_0x32f424=_0x1ca2bf[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x32f424);};}function _0x5e4cfa(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect['construct'][_0x2f63('0x30b')])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')]['call'](Reflect['construct'](Boolean,[],function(){}));return!![];}catch(_0xaf1037){return![];}}var _0x2735df=function(_0x568f44){_0x2a2d9e(_0x2735df,_0x568f44);var _0xf1ae41=_0x33d271(_0x2735df);function _0x2735df(_0x59132a,_0x50bd1f,_0x56c149){var _0x398c96;var _0x2b4f4c=arguments['length']>0x3&&arguments[0x3]!==undefined?arguments[0x3]:0x0;var _0x4772bb=arguments[_0x2f63('0x38')]>0x4&&arguments[0x4]!==undefined?arguments[0x4]:0x1;_0x47c705(this,_0x2735df);_0x398c96=_0xf1ae41['call'](this);_0x398c96[_0x2f63('0x28')]='PloygonCurve';_0x398c96[_0x2f63('0x10b')]=_0x59132a[_0x2f63('0x68')]();_0x398c96[_0x2f63('0xd9')]=_0x50bd1f;_0x398c96[_0x2f63('0x36f')]=Math[_0x2f63('0xca')](_0x56c149);_0x398c96[_0x2f63('0x36c')]=_0x2b4f4c;_0x398c96[_0x2f63('0x36b')]=_0x4772bb;_0x398c96[_0x2f63('0x370')]();return _0x398c96;}_0x38642a(_0x2735df,[{'key':_0x2f63('0x370'),'value':function init(){this[_0x2f63('0x371')]=[];this[_0x2f63('0x2c7')]=[];for(var _0x694769=0x0;_0x694769<this[_0x2f63('0x36f')];_0x694769++){var _0x410eaf=_0x694769*0x2*Math['PI']/this[_0x2f63('0x36f')];_0x410eaf-=0.5*Math['PI'];var _0x47e1b5=new _0x2b6548(this[_0x2f63('0xd9')]*Math[_0x2f63('0x86')](_0x410eaf),this[_0x2f63('0xd9')]*Math[_0x2f63('0x87')](_0x410eaf));_0x47e1b5[_0x2f63('0xb0')](this['center']);this[_0x2f63('0x2c7')][_0x2f63('0x34')](_0x47e1b5);}for(var _0x5711f6=0x0;_0x5711f6<this['num'];_0x5711f6++){var _0x3afd01=new _0x2cb418(this[_0x2f63('0x2c7')][_0x5711f6],this[_0x2f63('0x2c7')][(_0x5711f6+0x1)%this[_0x2f63('0x36f')]]);this[_0x2f63('0x371')][_0x2f63('0x34')](_0x3afd01);}}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x5e7e48){this[_0x2f63('0x372')](_0x5e7e48);var _0x47e1b5=this[_0x2f63('0x373')][_0x2f63('0x25b')](this['pointK']);return _0x47e1b5;}},{'key':_0x2f63('0x2fa'),'value':function getPointAt(_0x5e3fd1){return this[_0x2f63('0x25b')](_0x5e3fd1);}},{'key':_0x2f63('0x372'),'value':function getCurrentLine(_0x5a5a62){var _0x40ade4=(_0x5a5a62*(this[_0x2f63('0x36b')]-this[_0x2f63('0x36c')])+this[_0x2f63('0x36c')])%0x1;if(_0x40ade4<0x0){_0x40ade4+=0x1;}var _0x77dcd6=_0x40ade4*this[_0x2f63('0x36f')];var _0x41d11a=Math[_0x2f63('0xc9')](_0x77dcd6);this[_0x2f63('0x374')]=_0x77dcd6-_0x41d11a;this[_0x2f63('0x373')]=this[_0x2f63('0x371')][_0x41d11a];return this[_0x2f63('0x373')];}},{'key':'getTangent','value':function getTangent(_0x3b94d3){this[_0x2f63('0x372')](_0x3b94d3);var _0x39d7f0=this[_0x2f63('0x373')][_0x2f63('0x306')]();return _0x39d7f0[_0x2f63('0x74')]();}},{'key':'getNormal','value':function getNormal(_0x86a981){this[_0x2f63('0x372')](_0x86a981);var _0x43d9a6=this['currentLine'][_0x2f63('0x305')]();return _0x43d9a6['normalize']();}}]);return _0x2735df;}(_0x57c1bd);function _0x1ec391(_0x56bb50){var _0xa5a6ea=_0x2f1058();return function _createSuperInternal(){var _0x49c8e0=_0x7200f8(_0x56bb50),_0x3c6149;if(_0xa5a6ea){var _0x265a04=_0x7200f8(this)[_0x2f63('0x14')];_0x3c6149=Reflect[_0x2f63('0x30a')](_0x49c8e0,arguments,_0x265a04);}else{_0x3c6149=_0x49c8e0['apply'](this,arguments);}return _0x207b42(this,_0x3c6149);};}function _0x2f1058(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect['construct']['sham'])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x4c2087){return![];}}var _0x4605f3=function(_0x4e00a7){_0x2a2d9e(_0x4605f3,_0x4e00a7);var _0x4f9d2e=_0x1ec391(_0x4605f3);function _0x4605f3(_0x587cd2,_0x41df3f){var _0x11b1f0;var _0x17d6e5=arguments['length']>0x2&&arguments[0x2]!==undefined?arguments[0x2]:0x0;var _0x4d6d20=arguments[_0x2f63('0x38')]>0x3&&arguments[0x3]!==undefined?arguments[0x3]:0x1;_0x47c705(this,_0x4605f3);_0x11b1f0=_0x4f9d2e[_0x2f63('0xb')](this);_0x11b1f0[_0x2f63('0x28')]='RectangularCurve';_0x11b1f0[_0x2f63('0x10b')]=_0x587cd2[_0x2f63('0x68')]();_0x11b1f0['size']=_0x41df3f;_0x11b1f0[_0x2f63('0x36c')]=_0x17d6e5;_0x11b1f0[_0x2f63('0x36b')]=_0x4d6d20;_0x11b1f0['init']();return _0x11b1f0;}_0x38642a(_0x4605f3,[{'key':_0x2f63('0x370'),'value':function init(){this[_0x2f63('0x311')]=[];var _0x293111=this['center'],_0x217743=_0x293111['x'],_0x224512=_0x293111['y'];var _0x292d1a=new _0x2b6548(_0x217743+0.5*this[_0x2f63('0x1da')],_0x224512-0.5*this[_0x2f63('0x1da')]);var _0x3bb158=new _0x2b6548(_0x217743-0.5*this[_0x2f63('0x1da')],_0x224512-0.5*this[_0x2f63('0x1da')]);var _0x3f673f=new _0x2b6548(_0x217743,_0x224512+0.5*this['size']);var _0x1856fb=new _0x518eb0(_0x292d1a,Math[_0x2f63('0x375')]*this[_0x2f63('0x1da')],-0.25*Math['PI'],0.75*Math['PI']);var _0x2715ed=new _0x518eb0(_0x3bb158,Math[_0x2f63('0x375')]*this[_0x2f63('0x1da')],-0.75*Math['PI'],0.25*Math['PI']);var _0x2dc462=new _0x518eb0(_0x3f673f,0.5*Math[_0x2f63('0x375')]*this['size'],0.75*Math['PI'],1.25*Math['PI']);var _0x189270=new _0x2b6548(_0x217743,_0x224512+this['size']);var _0x5031e0=new _0x2b6548(_0x217743+this[_0x2f63('0x1da')],_0x224512);var _0x17aca0=_0x5031e0['clone']()['lerp'](_0x189270,0.75);var _0x30759c=new _0x2b6548(_0x217743-this[_0x2f63('0x1da')],_0x224512);var _0x3a5f50=_0x30759c[_0x2f63('0x68')]()['lerp'](_0x189270,0.75);var _0x143076=new _0x2cb418(_0x5031e0,_0x17aca0);var _0x5cae9d=new _0x2cb418(_0x3a5f50,_0x30759c);this['curves']['push'](_0x1856fb,_0x143076,_0x2dc462,_0x5cae9d,_0x2715ed);}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x305631){this[_0x2f63('0x372')](_0x305631);var _0x47e1b5=this[_0x2f63('0x376')][_0x2f63('0x25b')](this[_0x2f63('0x374')]);return _0x47e1b5;}},{'key':_0x2f63('0x2fa'),'value':function getPointAt(_0x1dfa28){return this['getPoint'](_0x1dfa28);}},{'key':_0x2f63('0x372'),'value':function getCurrentLine(_0x4591f9){var _0x1e263b=(_0x4591f9*(this['endNum']-this['startNum'])+this[_0x2f63('0x36c')])%0x1;if(_0x1e263b<0x0){_0x1e263b+=0x1;}_0x1e263b*=0x9*Math['PI']/0x8+1.5;var _0x29a295;var _0x2381ef=0.5*Math['PI'];if(_0x1e263b<_0x2381ef){_0x29a295=0x0;this[_0x2f63('0x374')]=_0x1e263b/_0x2381ef;}else if(_0x1e263b<_0x2381ef+0.75){_0x29a295=0x1;this[_0x2f63('0x374')]=(_0x1e263b-_0x2381ef)/0.75;}else if(_0x1e263b<0x5*Math['PI']/0x8+0.75){_0x29a295=0x2;this['pointK']=(_0x1e263b-_0x2381ef-0.75)/(Math['PI']/0x8);}else if(_0x1e263b<0x5*Math['PI']/0x8+1.5){_0x29a295=0x3;this[_0x2f63('0x374')]=(_0x1e263b-0x5*Math['PI']/0x8-0.75)/0.75;}else{_0x29a295=0x4;this[_0x2f63('0x374')]=(_0x1e263b-0x5*Math['PI']/0x8-1.5)/_0x2381ef;}this[_0x2f63('0x376')]=this[_0x2f63('0x311')][_0x29a295];return this[_0x2f63('0x376')];}},{'key':_0x2f63('0x306'),'value':function getTangent(_0x2c8acf){this[_0x2f63('0x372')](_0x2c8acf);var _0x1708a1=this[_0x2f63('0x376')][_0x2f63('0x306')](this['pointK']);return _0x1708a1[_0x2f63('0x74')]();}},{'key':_0x2f63('0x305'),'value':function getNormal(_0x4ff2a6){this[_0x2f63('0x372')](_0x4ff2a6);var _0x54e816=this[_0x2f63('0x376')][_0x2f63('0x305')](this[_0x2f63('0x374')]);return _0x54e816[_0x2f63('0x74')]();}}]);return _0x4605f3;}(_0x57c1bd);function _0x37afc3(_0x53c1c1){var _0x25d278=_0x451547();return function _createSuperInternal(){var _0x3e0c14=_0x7200f8(_0x53c1c1),_0x3e5b14;if(_0x25d278){var _0x546c1f=_0x7200f8(this)[_0x2f63('0x14')];_0x3e5b14=Reflect['construct'](_0x3e0c14,arguments,_0x546c1f);}else{_0x3e5b14=_0x3e0c14[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x3e5b14);};}function _0x451547(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')]['valueOf'][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x432632){return![];}}var _0x27f76e=function(_0x43df03){_0x2a2d9e(_0x27f76e,_0x43df03);var _0x2734e0=_0x37afc3(_0x27f76e);function _0x27f76e(_0x309d5a,_0x5d9d7d){var _0x5b17c1;var _0x3c3a8d=arguments[_0x2f63('0x38')]>0x2&&arguments[0x2]!==undefined?arguments[0x2]:0x1;var _0x5902e5=arguments[_0x2f63('0x38')]>0x3&&arguments[0x3]!==undefined?arguments[0x3]:0x0;var _0xa03f88=arguments['length']>0x4&&arguments[0x4]!==undefined?arguments[0x4]:0x1;_0x47c705(this,_0x27f76e);_0x5b17c1=_0x2734e0['call'](this);_0x5b17c1[_0x2f63('0x28')]=_0x2f63('0x377');_0x5b17c1[_0x2f63('0x10b')]=_0x309d5a['clone']();_0x5b17c1[_0x2f63('0x1da')]=_0x5d9d7d;_0x5b17c1[_0x2f63('0x378')]=_0x3c3a8d;_0x5b17c1[_0x2f63('0x36c')]=_0x5902e5;_0x5b17c1[_0x2f63('0x36b')]=_0xa03f88;_0x5b17c1[_0x2f63('0x370')]();return _0x5b17c1;}_0x38642a(_0x27f76e,[{'key':_0x2f63('0x370'),'value':function init(){this['curves']=[];var _0xb8ca69=this[_0x2f63('0x10b')],_0x2e7cdd=_0xb8ca69['x'],_0x224512=_0xb8ca69['y'];var _0x1c9235=[];var _0x5a807c=this[_0x2f63('0x1da')];var _0x43a559=this[_0x2f63('0x1da')]/this[_0x2f63('0x378')];_0x1c9235[0x0]=new _0x2b6548(_0x2e7cdd-_0x5a807c,_0x224512-_0x43a559);_0x1c9235[0x1]=new _0x2b6548(_0x2e7cdd+_0x5a807c,_0x224512-_0x43a559);_0x1c9235[0x2]=new _0x2b6548(_0x2e7cdd+_0x5a807c,_0x224512+_0x43a559);_0x1c9235[0x3]=new _0x2b6548(_0x2e7cdd-_0x5a807c,_0x224512+_0x43a559);for(var _0x596239=0x0;_0x596239<0x4;_0x596239++){this[_0x2f63('0x311')][_0x2f63('0x34')](new _0x2cb418(_0x1c9235[_0x596239],_0x1c9235[(_0x596239+0x1)%0x4]));}}},{'key':_0x2f63('0x25b'),'value':function getPoint(_0x56c6a3){this[_0x2f63('0x372')](_0x56c6a3);var _0x47e1b5=this[_0x2f63('0x373')][_0x2f63('0x25b')](this[_0x2f63('0x374')]);return _0x47e1b5;}},{'key':_0x2f63('0x2fa'),'value':function getPointAt(_0x246cf9){return this[_0x2f63('0x25b')](_0x246cf9);}},{'key':_0x2f63('0x372'),'value':function getCurrentLine(_0x199ee9){var _0xbaad7c=(_0x199ee9*(this['endNum']-this[_0x2f63('0x36c')])+this[_0x2f63('0x36c')])%0x1;if(_0xbaad7c<0x0){_0xbaad7c+=0x1;}_0xbaad7c*=(0x1+this[_0x2f63('0x378')])*0x2;var _0xe83778;if(_0xbaad7c<this[_0x2f63('0x378')]){_0xe83778=0x0;this[_0x2f63('0x374')]=_0xbaad7c/this[_0x2f63('0x378')];}else if(_0xbaad7c<this['ratio']+0x1){_0xe83778=0x1;this[_0x2f63('0x374')]=(_0xbaad7c-this[_0x2f63('0x378')])/0x1;}else if(_0xbaad7c<0x2*this[_0x2f63('0x378')]+0x1){_0xe83778=0x2;this['pointK']=(_0xbaad7c-this[_0x2f63('0x378')]-0x1)/this[_0x2f63('0x378')];}else{_0xe83778=0x3;this[_0x2f63('0x374')]=(_0xbaad7c-0x2*this[_0x2f63('0x378')]-0x1)/0x1;}this[_0x2f63('0x373')]=this[_0x2f63('0x311')][_0xe83778];return this[_0x2f63('0x373')];}},{'key':'getTangent','value':function getTangent(_0x187877){this[_0x2f63('0x372')](_0x187877);var _0x2bba0f=this[_0x2f63('0x373')][_0x2f63('0x306')]();return _0x2bba0f[_0x2f63('0x74')]();}},{'key':'getNormal','value':function getNormal(_0x1a55f1){this[_0x2f63('0x372')](_0x1a55f1);var _0x2e871e=this[_0x2f63('0x373')]['getNormal']();return _0x2e871e[_0x2f63('0x74')]();}}]);return _0x27f76e;}(_0x57c1bd);var _0x342d56=function(){function _0x342d56(){_0x47c705(this,_0x342d56);}_0x38642a(_0x342d56,[{'key':_0x2f63('0x379'),'value':function breakLine(_0x3a189c,_0x3216ed){var _0x5ae84e=arguments[_0x2f63('0x38')]>0x2&&arguments[0x2]!==undefined?arguments[0x2]:![];var _0x51ecbb=_0x3216ed[_0x2f63('0x5e')],_0x223195=_0x3216ed[_0x2f63('0x5d')];var _0x55f809=0.5*(_0x51ecbb['x']+_0x223195['x']);var _0x25b3eb=0.5*(_0x51ecbb['y']+_0x223195['y']);for(var _0x1eaa15=0x0;_0x1eaa15<_0x3a189c['length'];_0x1eaa15++){var _0x6e5978=_0x3a189c[_0x1eaa15][_0x2f63('0x337')];for(var _0x1d48c5=0x0;_0x1d48c5<_0x6e5978[_0x2f63('0x38')];_0x1d48c5++){var _0x9b9a16=_0x6e5978[_0x1d48c5][_0x2f63('0x311')];var _0xa1dae1=[];for(var _0x27256f=0x0;_0x27256f<_0x9b9a16[_0x2f63('0x38')];_0x27256f++){var _0xaea141=_0x9b9a16[_0x27256f];var _0x42fcfc=_0x5ae84e?{'y':_0x25b3eb}:{'x':_0x55f809};var _0x19d687=_0xaea141[_0x2f63('0x182')](_0x42fcfc);_0xa1dae1[_0x2f63('0x34')][_0x2f63('0x10')](_0xa1dae1,_0x9959f(_0x19d687));}_0x3a189c[_0x1eaa15]['subPaths'][_0x1d48c5]['curves']=_0xa1dae1;}}}},{'key':_0x2f63('0x37a'),'value':function getBoundingBoxOfPaths(_0x422c4f){var _0x278a32=arguments['length']>0x1&&arguments[0x1]!==undefined?arguments[0x1]:0x0;var _0x25133d=new _0x2b6548(-Infinity,-Infinity);var _0x49605f=new _0x2b6548(Infinity,Infinity);for(var _0x5ad0c7=0x0;_0x5ad0c7<_0x422c4f['length'];_0x5ad0c7++){var _0x38852b=_0x422c4f[_0x5ad0c7]['subPaths'];var _0xec1679=this['getExtremumOfSubPaths'](_0x38852b,_0x278a32),_0x1986ee=_0xec1679[_0x2f63('0x5d')],_0x55b212=_0xec1679[_0x2f63('0x5e')];_0x25133d['x']=Math[_0x2f63('0x5d')](_0x25133d['x'],_0x1986ee['x']);_0x25133d['y']=Math[_0x2f63('0x5d')](_0x25133d['y'],_0x1986ee['y']);_0x49605f['x']=Math[_0x2f63('0x5e')](_0x49605f['x'],_0x55b212['x']);_0x49605f['y']=Math['min'](_0x49605f['y'],_0x55b212['y']);}var _0x4b7e61=_0x25133d['x']-_0x49605f['x'];var _0x4fb58f=_0x25133d['y']-_0x49605f['y'];var _0x119d85={'max':_0x25133d,'min':_0x49605f,'width':_0x4b7e61,'height':_0x4fb58f};return _0x119d85;}},{'key':_0x2f63('0x37b'),'value':function boundingBoxOfAFont(_0x3878ac){var _0x4344ec=this[_0x2f63('0x37c')](_0x3878ac),_0x1fdc84=_0x4344ec[_0x2f63('0x5d')],_0x1fe947=_0x4344ec[_0x2f63('0x5e')];return[_0x1fdc84['x']-_0x1fe947['x'],_0x1fdc84['y']-_0x1fe947['y']];}},{'key':'centreOfAFont','value':function centreOfAFont(_0xeda049){var _0x2098d1=this[_0x2f63('0x37c')](_0xeda049),_0x30a357=_0x2098d1['max'],_0x5996a9=_0x2098d1['min'];var _0x268512=0.5*(_0x30a357['x']+_0x5996a9['x']);var _0x586020=0.5*(_0x30a357['y']+_0x5996a9['y']);return[_0x268512,_0x586020];}},{'key':_0x2f63('0x37d'),'value':function caculateCrossPoint(_0x30c8d6,_0x45a35c,_0x4d70b4,_0x2d8a25){var _0x3d5e2a=_0x30c8d6['x'],_0x4c7c8b=_0x30c8d6['y'];var _0x4e21e3=_0x45a35c['x'],_0x2fd88a=_0x45a35c['y'];var _0x30e55c=_0x4d70b4['x'],_0x357d87=_0x4d70b4['y'];var _0x43e49d=_0x2d8a25['x'],_0x2a8f47=_0x2d8a25['y'];var _0x224512=((_0x4c7c8b-_0x2fd88a)*(_0x2a8f47-_0x357d87)*_0x3d5e2a+(_0x2a8f47-_0x357d87)*(_0x4e21e3-_0x3d5e2a)*_0x4c7c8b+(_0x2fd88a-_0x4c7c8b)*(_0x2a8f47-_0x357d87)*_0x30e55c+(_0x30e55c-_0x43e49d)*(_0x2fd88a-_0x4c7c8b)*_0x357d87)/((_0x4e21e3-_0x3d5e2a)*(_0x2a8f47-_0x357d87)+(_0x4c7c8b-_0x2fd88a)*(_0x43e49d-_0x30e55c));var _0x46057a=_0x30e55c+(_0x43e49d-_0x30e55c)*(_0x224512-_0x357d87)/(_0x2a8f47-_0x357d87);return new _0x2b6548(_0x46057a,_0x224512);}},{'key':_0x2f63('0x37e'),'value':function makeTheJointSmooth(_0x18334a){for(var _0x3a4765=0x0;_0x3a4765<_0x18334a[_0x2f63('0x38')];_0x3a4765++){var _0x1a4f0a=_0x18334a[_0x3a4765][_0x2f63('0x337')];for(var _0x4125df=0x0;_0x4125df<_0x1a4f0a[_0x2f63('0x38')];_0x4125df++){var _0x87bf58=_0x1a4f0a[_0x4125df][_0x2f63('0x311')];for(var _0x1fbba2=0x0;_0x1fbba2<_0x87bf58[_0x2f63('0x38')];_0x1fbba2++){if(_0x87bf58[_0x1fbba2][_0x2f63('0x28')]===_0x2f63('0x327')&&_0x87bf58[_0x1fbba2][_0x2f63('0x37f')]){var _0x4b756d=_0x87bf58[_0x1fbba2],_0x3e2900=_0x4b756d['v0'],_0x43232e=_0x4b756d['v1'],_0x2d838b=_0x4b756d['v2'];_0x43232e['x']=0x2*_0x43232e['x']-0.5*(_0x3e2900['x']+_0x2d838b['x']);_0x43232e['y']=0x2*_0x43232e['y']-0.5*(_0x3e2900['y']+_0x2d838b['y']);}}_0x18334a[_0x3a4765][_0x2f63('0x337')][_0x4125df][_0x2f63('0x311')]=_0x87bf58;}}}},{'key':'lineToQuadraticBezier','value':function lineToQuadraticBezier(_0x369d3b){for(var _0x3e246d=0x0;_0x3e246d<_0x369d3b['length'];_0x3e246d++){var _0x23bdbd=_0x369d3b[_0x3e246d][_0x2f63('0x337')];for(var _0x4e30de=0x0;_0x4e30de<_0x23bdbd[_0x2f63('0x38')];_0x4e30de++){var _0x5314bb=_0x23bdbd[_0x4e30de][_0x2f63('0x311')];var _0x42d4ea=[];for(var _0x597b2e=0x0;_0x597b2e<_0x5314bb[_0x2f63('0x38')];_0x597b2e++){var _0x3403bb=_0x5314bb[_0x597b2e];if(_0x3403bb['type']===_0x2f63('0x30d')&&_0x3403bb[_0x2f63('0x301')]()>0x5){var _0x4d2f39=_0x3403bb['v1'],_0x2776c7=_0x3403bb['v2'];var _0x5dc88=new _0x2b6548(0.5*(_0x4d2f39['x']+_0x2776c7['x']),0.5*(_0x4d2f39['y']+_0x2776c7['y']));var _0x94a000=new _0x4a104b(_0x4d2f39,_0x5dc88,_0x2776c7);_0x94a000['isFromLine']=!![];_0x42d4ea[_0x2f63('0x34')](_0x94a000);}else{_0x42d4ea[_0x2f63('0x34')](_0x3403bb);}}_0x369d3b[_0x3e246d]['subPaths'][_0x4e30de][_0x2f63('0x311')]=_0x42d4ea;}}}},{'key':_0x2f63('0x380'),'value':function getWhetherParallel(_0x2dee58,_0x4d8a59,_0x28556e,_0x74a85b){var _0x283eba=_0x4d8a59['clone']()['sub'](_0x2dee58);var _0x138070=_0x74a85b[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x28556e);return _0x283eba[_0x2f63('0xd0')](_0x138070)<0x1;}},{'key':_0x2f63('0x37c'),'value':function getExtremumOfSubPaths(_0x4054f2){var _0x2dc0d2=arguments[_0x2f63('0x38')]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:0x0;var _0x203ccb=new _0x2b6548(-Infinity,-Infinity);var _0x7bfb01=new _0x2b6548(Infinity,Infinity);var _0x173e29=_0x4054f2[_0x2f63('0x38')]-_0x2dc0d2;for(var _0x232894=0x0;_0x232894<_0x173e29;_0x232894++){var _0x4e973f=_0x4054f2[_0x232894][_0x2f63('0x311')];for(var _0x4ca0c1=0x0;_0x4ca0c1<_0x4e973f[_0x2f63('0x38')];_0x4ca0c1++){_0x4e973f[_0x4ca0c1]['getPole'](_0x7bfb01,_0x203ccb);}}return{'max':_0x203ccb,'min':_0x7bfb01};}},{'key':_0x2f63('0x381'),'value':function getRandom(_0x2d4a3e){var _0x3ca0b2=Math[_0x2f63('0x87')](_0x2d4a3e)*43758.5453123;return _0x3ca0b2-Math[_0x2f63('0x382')](_0x3ca0b2);}},{'key':_0x2f63('0x383'),'value':function baseTransform(_0x18137b,_0x2c01af,_0x48ed59){var _0x3dfc5b=this[_0x2f63('0x33d')];var _0x18fe63=this[_0x2f63('0x2e6')][_0x2f63('0x384')];var _0xd82aaf=_0x48ed59&&_0x48ed59();var _0x5b8a2b=function _0x5b8a2b(_0x9ac356){var _0x7a2863=_0x3dfc5b[_0x9ac356][_0x2f63('0x337')];var _0x930051=_0x2c01af&&_0x2c01af(_0x9ac356,_0x18fe63[_0x9ac356],_0xd82aaf);for(var _0x5a11a1=0x0;_0x5a11a1<_0x7a2863[_0x2f63('0x38')];_0x5a11a1++){var _0x1adc4c=_0x7a2863[_0x5a11a1][_0x2f63('0x311')];for(var _0x113a4c=0x0;_0x113a4c<_0x1adc4c['length'];_0x113a4c++){_0x1adc4c[_0x113a4c][_0x2f63('0x30f')](function(_0x47e1b5){_0x18137b(_0x47e1b5,_0x930051);});}}};for(var _0x45ef5e=0x0;_0x45ef5e<_0x3dfc5b[_0x2f63('0x38')];_0x45ef5e++){_0x5b8a2b(_0x45ef5e);}}},{'key':'transform','value':function transform(_0x2a68bd,_0x39e065){this['paths']=_0x2a68bd;this[_0x2f63('0x2e6')]=_0x39e065;this[_0x2f63('0x385')]=Object[_0x2f63('0xe2')]([],_0x39e065[_0x2f63('0x385')]);this[_0x2f63('0x385')]['forEach'](function(_0x5b65ef,_0x31b765,_0x4d3003){_0x4d3003[_0x31b765]=_0x5b65ef/0x64;});this['boundingBox']=this['getBoundingBoxOfPaths'](_0x2a68bd);var _0x36700c=this[_0x2f63('0x1f0')],_0x5416fb=_0x36700c[_0x2f63('0x29d')],_0x5dd30f=_0x36700c[_0x2f63('0x1db')];this['isHorizontal']=/^hor/['test'](_0x39e065[_0x2f63('0x386')]);this[_0x2f63('0x387')]=this[_0x2f63('0x388')]?_0x5416fb:_0x5dd30f;this[_0x2f63('0x389')]=this['isHorizontal']?_0x5dd30f:_0x5416fb;this[_0x2f63('0x33f')]=_0x39e065[_0x2f63('0x38a')];}}]);return _0x342d56;}();function _0x54fc95(_0xc6fd38){var _0x50ff92=_0x37f4bf();return function _createSuperInternal(){var _0x484ae4=_0x7200f8(_0xc6fd38),_0x193390;if(_0x50ff92){var _0x487461=_0x7200f8(this)[_0x2f63('0x14')];_0x193390=Reflect[_0x2f63('0x30a')](_0x484ae4,arguments,_0x487461);}else{_0x193390=_0x484ae4[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x193390);};}function _0x37f4bf(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')]['sham'])return![];if(typeof Proxy==='function')return!![];try{Boolean[_0x2f63('0x9')][_0x2f63('0x30c')][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x5b2b51){return![];}}var _0x2b9d60=function(_0x499e7d){_0x2a2d9e(_0x2b9d60,_0x499e7d);var _0x1131e0=_0x54fc95(_0x2b9d60);function _0x2b9d60(){_0x47c705(this,_0x2b9d60);return _0x1131e0[_0x2f63('0x10')](this,arguments);}_0x38642a(_0x2b9d60,[{'key':_0x2f63('0x38b'),'value':function bend(_0xaa693e,_0x5766d5){var _0xddec9b=_0x5766d5[_0x2f63('0x28')];var _0x289414=this[_0x2f63('0x33f')]*0x2/Math['sin'](this['intensitys'][0x0]*Math['PI']*0.5);var _0x311b66=/^bend/['test'](_0xddec9b)?/Vertical$/[_0x2f63('0x151')](_0xddec9b):!this[_0x2f63('0x388')];var _0x1ffd4b=this[_0x2f63('0x1f0')];var _0x193114=_0x1ffd4b['max'],_0x4c734f=_0x1ffd4b[_0x2f63('0x5e')],_0x25dfec=_0x1ffd4b['width'],_0x314834=_0x1ffd4b['height'];var _0x1e81bf=(_0x311b66?_0x314834:_0x25dfec)/0x2/_0x289414;var _0x1041bb=_0x4c734f['clone']()[_0x2f63('0xce')](_0x193114,0.5);var _0x27276c;var _0x21c3fe=_0x1041bb[_0x2f63('0x68')]();if(_0x311b66){_0x27276c=0x0;_0x21c3fe['x']+=this[_0x2f63('0x387')]/0x2/Math['tan'](_0x1e81bf)+Math[_0x2f63('0x2e2')](_0x1e81bf)*_0x25dfec/0x2;}else{_0x27276c=1.5*Math['PI'];_0x21c3fe['y']+=this[_0x2f63('0x387')]/0x2/Math[_0x2f63('0x38c')](_0x1e81bf)+Math['sign'](_0x1e81bf)*_0x314834/0x2;}var _0x3dba45=function _0x3dba45(_0x4a9922){var _0x21001d=_0x289414+Math[_0x2f63('0x2e2')](_0x1e81bf)*_0x314834/0x2-(_0x4a9922['y']-_0x1041bb['y']);var _0x5ee2fb=_0x27276c+(_0x4a9922['x']-_0x21c3fe['x'])/_0x25dfec*0x2*_0x1e81bf;var _0x54b40a=_0x21c3fe['x']+_0x21001d*Math[_0x2f63('0x86')](_0x5ee2fb);var _0x224512=_0x21c3fe['y']+_0x21001d*Math[_0x2f63('0x87')](_0x5ee2fb);_0x4a9922[_0x2f63('0x67')](_0x54b40a,_0x224512);};var _0x500ff5=function _0x500ff5(_0x23fe1c){var _0x3c8709=_0x27276c+(_0x23fe1c['x']-_0x21c3fe['x'])/_0x25dfec*0x2*_0x1e81bf;var _0x5688fe=_0x21c3fe['x']+_0x289414*Math['cos'](_0x3c8709);var _0x224512=_0x21c3fe['y']+_0x289414*Math[_0x2f63('0x87')](_0x3c8709)-Math[_0x2f63('0x2e2')](_0x1e81bf)*_0x314834/0x2+(_0x23fe1c['y']-_0x1041bb['y']);_0x23fe1c[_0x2f63('0x67')](_0x5688fe,_0x224512);};var _0x4dbed8=function _0x4dbed8(_0x249b9f){var _0x477a94=_0x289414+Math[_0x2f63('0x2e2')](_0x1e81bf)*_0x25dfec/0x2+(_0x249b9f['x']-_0x1041bb['x']);var _0x59ae5d=_0x27276c+(_0x249b9f['y']-_0x21c3fe['y'])/_0x314834*0x2*_0x1e81bf;var _0x5f2e27=_0x21c3fe['x']+_0x477a94*Math[_0x2f63('0x86')](_0x59ae5d);var _0x224512=_0x21c3fe['y']+_0x477a94*Math[_0x2f63('0x87')](_0x59ae5d);_0x249b9f['set'](_0x5f2e27,_0x224512);};var _0x30818a=function _0x30818a(_0x474151){var _0xc05076=_0x27276c+(_0x474151['y']-_0x21c3fe['y'])/_0x314834*0x2*_0x1e81bf;var _0x109ac9=_0x21c3fe['x']+_0x289414*Math['cos'](_0xc05076)+Math[_0x2f63('0x2e2')](_0x1e81bf)*_0x25dfec/0x2+(_0x474151['x']-_0x1041bb['x']);var _0x224512=_0x21c3fe['y']+_0x289414*Math['sin'](_0xc05076);_0x474151[_0x2f63('0x67')](_0x109ac9,_0x224512);};var _0xd6e660;switch(_0xddec9b){case _0x2f63('0x38b'):_0xd6e660=_0x3dba45;break;case _0x2f63('0x38d'):_0xd6e660=_0x4dbed8;break;case _0x2f63('0x38e'):_0xd6e660=this['isHorizontal']?_0x500ff5:_0x30818a;}var _0x3f2372=function _0x3f2372(_0x47e1b5){_0xd6e660(_0x47e1b5);};this[_0x2f63('0x383')](_0x3f2372);}},{'key':_0x2f63('0x38f'),'value':function transform(_0x40833a,_0x48402d){_0x260cbe(_0x7200f8(_0x2b9d60[_0x2f63('0x9')]),_0x2f63('0x38f'),this)[_0x2f63('0xb')](this,_0x40833a,_0x48402d);if(Math[_0x2f63('0x113')][_0x2f63('0x10')](Math,_0x9959f(_0x48402d[_0x2f63('0x385')]))){this[_0x2f63('0x390')](_0x40833a);this[_0x2f63('0x38b')](_0x40833a,_0x48402d);this['makeTheJointSmooth'](_0x40833a);}return this['getBoundingBoxOfPaths'](_0x40833a);}}]);return _0x2b9d60;}(_0x342d56);var _0x50fa18=function(){function _0x50fa18(){_0x47c705(this,_0x50fa18);}_0x38642a(_0x50fa18,[{'key':_0x2f63('0x391'),'value':function _factorial(_0x5eefcd){var _0x4c65e3=0x1;for(var _0x5d69d8=0x2;_0x5d69d8<=_0x5eefcd;_0x5d69d8++){_0x4c65e3=_0x4c65e3*_0x5d69d8;}return _0x4c65e3;}},{'key':_0x2f63('0x392'),'value':function _combination(_0x4e3aea,_0xf12a62){return this['_factorial'](_0x4e3aea)/(this[_0x2f63('0x391')](_0xf12a62)*this['_factorial'](_0x4e3aea-_0xf12a62));}},{'key':_0x2f63('0x393'),'value':function _bernsteinBasis(_0xee3d58,_0x2f0b03,_0x389309){return this['_combination'](_0xee3d58,_0x2f0b03)*Math['pow'](_0x389309,_0x2f0b03)*Math[_0x2f63('0x61')](0x1-_0x389309,_0xee3d58-_0x2f0b03);}},{'key':_0x2f63('0x394'),'value':function _linearBasis(_0x42f70d,_0x3a2038,_0x389309){var _0x578d7c=_0x3a2038<_0x389309*_0x42f70d?_0x3a2038+0x1-_0x389309*_0x42f70d:_0x389309*_0x42f70d-_0x3a2038+0x1;return Math[_0x2f63('0x5d')](0x0,_0x578d7c);}},{'key':_0x2f63('0x395'),'value':function _basisFunction(_0xacd1bd,_0x3e9209,_0x389309,_0x5d9b7e){if(_0x5d9b7e===undefined)_0x5d9b7e='bernstein';if(_0x5d9b7e==='bernstein'){return this['_bernsteinBasis'](_0xacd1bd,_0x3e9209,_0x389309);}else if(_0x5d9b7e===_0x2f63('0x396')){return this[_0x2f63('0x394')](_0xacd1bd,_0x3e9209,_0x389309);}}},{'key':_0x2f63('0x397'),'value':function _calculateSTUfromX(_0x1eb07f){var _0x21bf25=this['S'];var _0x3cbbae=this['T'];var _0x4af960=this['U'];var _0x4121fa=this['P0'];var _0x3dd140=new _0x14b965(0x0,0x0,0x0);var _0x3a5d06=_0x3cbbae[_0x2f63('0x68')]()['cross'](_0x4af960)[_0x2f63('0xa1')](_0x1eb07f[_0x2f63('0x68')]()['sub'](_0x4121fa));var _0x4b8a4b=_0x3cbbae['clone']()[_0x2f63('0xd0')](_0x4af960)[_0x2f63('0xa1')](_0x21bf25);_0x3dd140['x']=_0x3a5d06/_0x4b8a4b;_0x3dd140['y']=_0x21bf25[_0x2f63('0x68')]()[_0x2f63('0xd0')](_0x4af960)[_0x2f63('0xa1')](_0x1eb07f[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x4121fa))/_0x21bf25[_0x2f63('0x68')]()[_0x2f63('0xd0')](_0x4af960)[_0x2f63('0xa1')](_0x3cbbae);_0x3dd140['z']=_0x21bf25['clone']()[_0x2f63('0xd0')](_0x3cbbae)[_0x2f63('0xa1')](_0x1eb07f[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x4121fa))/_0x21bf25[_0x2f63('0x68')]()[_0x2f63('0xd0')](_0x3cbbae)[_0x2f63('0xa1')](_0x4af960);return _0x3dd140;}},{'key':_0x2f63('0x398'),'value':function _calculateXfromSTU(_0x389309,_0x305dec,_0x339b1d,_0x41a171){var _0x2adfb6=new _0x14b965(0x0,0x0,0x0);for(var _0x14f710=0x0;_0x14f710<this['m'];_0x14f710++){for(var _0x47d1ab=0x0;_0x47d1ab<this['n'];_0x47d1ab++){for(var _0x1c468b=0x0;_0x1c468b<this['o'];_0x1c468b++){var _0x5c1b41=this[_0x2f63('0x395')](this['m']-0x1,_0x14f710,_0x389309,_0x41a171)*this[_0x2f63('0x395')](this['n']-0x1,_0x47d1ab,_0x305dec,_0x41a171)*this['_basisFunction'](this['o']-0x1,_0x1c468b,_0x339b1d,_0x41a171);_0x2adfb6[_0x2f63('0xb0')](this['P'][_0x14f710][_0x47d1ab][_0x1c468b][_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x5c1b41));}}}return _0x2adfb6;}},{'key':'_initP','value':function _initP(_0x213911,_0xf12a62,_0x16d4c7,_0x4cb2ae){var _0x4454d6=0x0;var _0x548756=0x0;var _0x5dda62=0x0;var _0x4c6f2e=0x0;var _0x1dba51=0x0;var _0x5852e6=0x0;for(var _0x121dbd=0x0;_0x121dbd<_0x213911['attributes'][_0x2f63('0xff')]['count'];_0x121dbd++){var _0x1bcd14=new _0x14b965()[_0x2f63('0x69')](_0x213911[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')],_0x121dbd*0x3);if(_0x1bcd14['x']>_0x4454d6){_0x4454d6=_0x1bcd14['x'];}if(_0x1bcd14['x']<_0x548756){_0x548756=_0x1bcd14['x'];}if(_0x1bcd14['y']>_0x5dda62){_0x5dda62=_0x1bcd14['y'];}if(_0x1bcd14['y']<_0x4c6f2e){_0x4c6f2e=_0x1bcd14['y'];}if(_0x1bcd14['z']>_0x1dba51){_0x1dba51=_0x1bcd14['z'];}if(_0x1bcd14['z']<_0x5852e6){_0x5852e6=_0x1bcd14['z'];}}var _0x291d91=new _0x14b965(_0x548756,_0x4c6f2e,_0x5852e6);var _0x2c3503=_0x4454d6-_0x548756;var _0xde9bed=_0x5dda62-_0x4c6f2e;var _0x1ed9ea=_0x1dba51-_0x5852e6;this[_0x2f63('0x399')]=_0x2c3503;this[_0x2f63('0x39a')]=_0xde9bed;this[_0x2f63('0x39b')]=_0x1ed9ea;var _0x1ebb16=new _0x14b965((_0x4454d6+_0x548756)*0.5,(_0x5dda62+_0x4c6f2e)*0.5,(_0x1dba51+_0x5852e6)*0.5);this[_0x2f63('0x10b')]=_0x1ebb16;this['m']=_0xf12a62;this['n']=_0x16d4c7;this['o']=_0x4cb2ae;var _0x28c92b=new Array(_0xf12a62);for(var _0x412e4c=0x0;_0x412e4c<_0xf12a62;_0x412e4c++){_0x28c92b[_0x412e4c]=new Array(_0x16d4c7);for(var _0x1912c2=0x0;_0x1912c2<_0x16d4c7;_0x1912c2++){_0x28c92b[_0x412e4c][_0x1912c2]=new Array(_0x4cb2ae);}}var _0x3228cd=_0x2c3503/(_0xf12a62-0x1);var _0x221e3c=_0xde9bed/(_0x16d4c7-0x1);var _0x39bf97=_0x1ed9ea/(_0x4cb2ae-0x1);for(var _0x4a1003=0x0;_0x4a1003<_0xf12a62;_0x4a1003++){for(var _0x7e2cda=0x0;_0x7e2cda<_0x16d4c7;_0x7e2cda++){for(var _0x372ac4=0x0;_0x372ac4<_0x4cb2ae;_0x372ac4++){var _0x2e8899=new _0x14b965(0x0,0x0,0x0);_0x2e8899['x']=_0x4a1003*_0x3228cd;_0x2e8899['y']=_0x7e2cda*_0x221e3c;_0x2e8899['z']=_0x372ac4*_0x39bf97;_0x28c92b[_0x4a1003][_0x7e2cda][_0x372ac4]=_0x291d91[_0x2f63('0x68')]()['add'](_0x2e8899);}}}this['P']=_0x28c92b;this['P0']=_0x291d91;this['S']=new _0x14b965(_0x2c3503,0x0,0x0);this['T']=new _0x14b965(0x0,_0xde9bed,0x0);this['U']=new _0x14b965(0x0,0x0,_0x1ed9ea);}},{'key':'_getP','value':function _getP(_0xff7734,_0x166452,_0x568e32){if(_0xff7734<0x0||_0xff7734>=this['m'])return;if(_0x166452<0x0||_0x166452>=this['n'])return;if(_0x568e32<0x0||_0x568e32>=this['o'])return;return this['P'][_0xff7734][_0x166452][_0x568e32];}},{'key':_0x2f63('0x39c'),'value':function _changeP(_0x3195a9,_0xff29ab,_0x259f38,_0xdf8749){if(!_0xdf8749['isVector3'])return;if(_0x3195a9<0x0||_0x3195a9>=this['m'])return;if(_0xff29ab<0x0||_0xff29ab>=this['n'])return;if(_0x259f38<0x0||_0x259f38>=this['o'])return;this['P'][_0x3195a9][_0xff29ab][_0x259f38]=_0xdf8749;}},{'key':_0x2f63('0x39d'),'value':function _addP(_0x39accd,_0x574d2e,_0x22c66e,_0x4fa124){if(!_0x4fa124['isVector3'])return;if(_0x39accd<0x0||_0x39accd>=this['m'])return;if(_0x574d2e<0x0||_0x574d2e>=this['n'])return;if(_0x22c66e<0x0||_0x22c66e>=this['o'])return;this['P'][_0x39accd][_0x574d2e][_0x22c66e][_0x2f63('0xb0')](_0x4fa124);}},{'key':_0x2f63('0x39e'),'value':function _initSTUs(_0x112278){var _0x19e6e6=[];for(var _0x1ead0a=0x0;_0x1ead0a<_0x112278['attributes']['position'][_0x2f63('0x1fc')];_0x1ead0a++){_0x19e6e6[_0x1ead0a]=this[_0x2f63('0x397')](new _0x14b965()[_0x2f63('0x69')](_0x112278[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')],_0x1ead0a*0x3));}this[_0x2f63('0x39f')]=_0x19e6e6;}},{'key':_0x2f63('0x3a0'),'value':function _calculateDeformedGeometry(_0x26475f,_0x972a5e){for(var _0x2027ba=0x0;_0x2027ba<_0x26475f[_0x2f63('0xfe')][_0x2f63('0xff')]['count'];_0x2027ba++){var _0x188693=this[_0x2f63('0x398')](this[_0x2f63('0x39f')][_0x2027ba]['x'],this['STUs'][_0x2027ba]['y'],this[_0x2f63('0x39f')][_0x2027ba]['z'],_0x972a5e);_0x26475f['attributes'][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x2027ba*0x3+0x0]=_0x188693['x'];_0x26475f['attributes']['position']['array'][_0x2027ba*0x3+0x1]=_0x188693['y'];_0x26475f[_0x2f63('0xfe')]['position'][_0x2f63('0x1f9')][_0x2027ba*0x3+0x2]=_0x188693['z'];}}},{'key':'_calculateBoundingBox','value':function _calculateBoundingBox(_0x60257){var _0x52d8d3=0x0;var _0x281a0d=0x0;var _0x7f8bb6=0x0;var _0x409df2=0x0;var _0x1ac458=0x0;var _0x428df0=0x0;for(var _0x24f047=0x0;_0x24f047<_0x60257['attributes'][_0x2f63('0xff')]['count'];_0x24f047++){if(_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x0]>_0x52d8d3){_0x52d8d3=_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x0];}if(_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x0]<_0x281a0d){_0x281a0d=_0x60257[_0x2f63('0xfe')]['position'][_0x2f63('0x1f9')][_0x24f047*0x3+0x0];}if(_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x1]>_0x7f8bb6){_0x7f8bb6=_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x1];}if(_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x1]<_0x409df2){_0x409df2=_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')]['array'][_0x24f047*0x3+0x1];}if(_0x60257[_0x2f63('0xfe')]['position']['array'][_0x24f047*0x3+0x2]>_0x1ac458){_0x1ac458=_0x60257['attributes']['position'][_0x2f63('0x1f9')][_0x24f047*0x3+0x2];}if(_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x2]<_0x428df0){_0x428df0=_0x60257[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')][_0x24f047*0x3+0x2];}}var _0x44fbef=_0x52d8d3-_0x281a0d;var _0xfa6015=_0x7f8bb6-_0x409df2;var _0x31531a=_0x1ac458-_0x428df0;return[_0x44fbef,_0xfa6015,_0x31531a];}},{'key':'RUN','value':function RUN(_0x414dcd,_0x3fed0c){var _0x152cb2=_0x3fed0c[_0x2f63('0x3a1')]?Number(_0x3fed0c[_0x2f63('0x3a1')]):0x1;_0x152cb2=parseInt(_0x152cb2);var _0x1a6971=_0x3fed0c[_0x2f63('0x3a2')]/0x64||0x0;var _0x5cea30=_0x3fed0c[_0x2f63('0x3a3')]/0x64||0x0;var _0x450b59=_0x3fed0c[_0x2f63('0x3a4')]||_0x2f63('0x3a5');if(_0x1a6971===0x0&&_0x5cea30===0x0)return;var _0x48ca45=0x64;var _0xf5c49b=0xc8;var _0x21b36d=0x12c;var _0xe7f8bd=0x190;var _0x308695=0x1f4;var _0x5ba140;var _0x4a0f2c;var _0x341514;if(_0x152cb2<=_0x48ca45){_0x5ba140=0x3;_0x4a0f2c=0x2;_0x341514=0x2;}else if(_0x152cb2>_0x48ca45&&_0x152cb2<_0xf5c49b){_0x5ba140=0x4;_0x4a0f2c=0x2;_0x341514=0x2;}else if(_0x152cb2>=_0xf5c49b&&_0x152cb2<_0x21b36d){_0x5ba140=0x4;_0x4a0f2c=0x4;_0x341514=0x2;}else if(_0x152cb2>=_0x21b36d&&_0x152cb2<_0xe7f8bd){_0x5ba140=0xa;_0x4a0f2c=0x2;_0x341514=0x2;}else if(_0x152cb2>=_0xe7f8bd&&_0x152cb2<_0x308695){_0x5ba140=0x2;_0x4a0f2c=0x3;_0x341514=0x2;}else if(_0x152cb2>=_0x308695){_0x5ba140=0x2;_0x4a0f2c=0x2;_0x341514=0x2;}this[_0x2f63('0x3a6')](_0x414dcd,_0x5ba140,_0x4a0f2c,_0x341514);var _0x3ec332=_0x3fed0c['baseLineHeight'],_0x59dc6a=_0x3ec332===void 0x0?0x64:_0x3ec332,_0x48de1c=_0x3fed0c[_0x2f63('0x3a7')],_0x35669b=_0x48de1c===void 0x0?0x190:_0x48de1c;this[_0x2f63('0x39e')](_0x414dcd);if(_0x152cb2===0x0){this[_0x2f63('0x39c')](0x0,0x0,0x0,new _0x14b965(-_0x1a6971,-_0x1a6971,0x0));}else if(_0x152cb2===0x1){var _0x224512=_0x1a6971*_0x59dc6a*0x2;this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x224512,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x224512,0x0));}else if(_0x152cb2===0x2){var _0x456f9d=_0x1a6971*_0x59dc6a;if(_0x456f9d>0x0)_0x456f9d=_0x456f9d*0.5;this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,-_0x456f9d,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,-_0x456f9d,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(0x0,_0x456f9d,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(0x0,_0x456f9d,0x0));var _0x296976=0x2;this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x296976*_0x456f9d,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x296976*_0x456f9d,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,-_0x296976*_0x456f9d,0x0));this['_addP'](0x1,0x0,0x1,new _0x14b965(0x0,-_0x296976*_0x456f9d,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,-_0x456f9d,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,-_0x456f9d,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(0x0,_0x456f9d,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(0x0,_0x456f9d,0x0));}else if(_0x152cb2===0x3){var _0x54543a=_0x1a6971*_0x59dc6a*0x2;this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x54543a,0x0));this['_addP'](0x1,0x1,0x1,new _0x14b965(0x0,_0x54543a,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,_0x54543a,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(0x0,_0x54543a,0x0));}else if(_0x152cb2===0x4){var _0x3b6744=_0x1a6971*_0x59dc6a*0x2;this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,_0x3b6744,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(0x0,_0x3b6744,0x0));}else if(_0x152cb2===0x5){var _0x15d0a7=_0x1a6971*_0x59dc6a;this['_addP'](0x0,0x0,0x0,new _0x14b965(0x0,_0x15d0a7,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(0x0,_0x15d0a7,0x0));this['_addP'](0x2,0x0,0x0,new _0x14b965(0x0,-_0x15d0a7,0x0));this['_addP'](0x2,0x0,0x1,new _0x14b965(0x0,-_0x15d0a7,0x0));var _0x19e0c9=this[_0x2f63('0x3a8')](0x0,0x1,0x0)[_0x2f63('0xd5')](this[_0x2f63('0x3a8')](0x0,0x0,0x0));var _0x2692a3=this[_0x2f63('0x3a8')](0x2,0x1,0x0)['distanceTo'](this[_0x2f63('0x3a8')](0x2,0x0,0x0));var _0x16764a=_0x19e0c9/(_0x19e0c9+_0x2692a3);this[_0x2f63('0x39c')](0x1,0x0,0x0,this[_0x2f63('0x3a8')](0x0,0x0,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x16764a)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x2,0x0,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x16764a)));this[_0x2f63('0x39c')](0x1,0x1,0x0,this[_0x2f63('0x3a8')](0x0,0x1,0x0)['clone']()[_0x2f63('0x7b')](0x1-_0x16764a)[_0x2f63('0xb0')](this['_getP'](0x2,0x1,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x16764a)));this[_0x2f63('0x39c')](0x1,0x0,0x1,this['_getP'](0x0,0x0,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x16764a)[_0x2f63('0xb0')](this['_getP'](0x2,0x0,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x16764a)));this[_0x2f63('0x39c')](0x1,0x1,0x1,this[_0x2f63('0x3a8')](0x0,0x1,0x1)['clone']()[_0x2f63('0x7b')](0x1-_0x16764a)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x2,0x1,0x1)['clone']()['multiplyScalar'](_0x16764a)));var _0x58bc52=_0x5cea30*_0x59dc6a;this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,_0x58bc52,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,_0x58bc52,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x58bc52,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x58bc52,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,_0x58bc52,0x0));this['_addP'](0x2,0x1,0x1,new _0x14b965(0x0,_0x58bc52,0x0));}else if(_0x152cb2===0x6){var _0x1e4beb=_0x1a6971*_0x59dc6a;this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,_0x1e4beb,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,_0x1e4beb,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,-_0x1e4beb,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,-_0x1e4beb,0x0));var _0xfe63fe=this[_0x2f63('0x3a8')](0x0,0x1,0x0)[_0x2f63('0xd5')](this[_0x2f63('0x3a8')](0x0,0x0,0x0));var _0x6a4aec=this[_0x2f63('0x3a8')](0x2,0x1,0x0)['distanceTo'](this[_0x2f63('0x3a8')](0x2,0x0,0x0));var _0x431bde=_0xfe63fe/(_0xfe63fe+_0x6a4aec);this[_0x2f63('0x39c')](0x1,0x0,0x0,this['_getP'](0x0,0x0,0x0)['clone']()[_0x2f63('0x7b')](0x1-_0x431bde)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x2,0x0,0x0)[_0x2f63('0x68')]()['multiplyScalar'](_0x431bde)));this[_0x2f63('0x39c')](0x1,0x1,0x0,this[_0x2f63('0x3a8')](0x0,0x1,0x0)['clone']()[_0x2f63('0x7b')](0x1-_0x431bde)['add'](this['_getP'](0x2,0x1,0x0)[_0x2f63('0x68')]()['multiplyScalar'](_0x431bde)));this['_changeP'](0x1,0x0,0x1,this[_0x2f63('0x3a8')](0x0,0x0,0x1)[_0x2f63('0x68')]()['multiplyScalar'](0x1-_0x431bde)['add'](this[_0x2f63('0x3a8')](0x2,0x0,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x431bde)));this['_changeP'](0x1,0x1,0x1,this[_0x2f63('0x3a8')](0x0,0x1,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x431bde)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x2,0x1,0x1)[_0x2f63('0x68')]()['multiplyScalar'](_0x431bde)));var _0x3f7be3=_0x5cea30*_0x59dc6a;this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,_0x3f7be3,0x0));this['_addP'](0x0,0x1,0x0,new _0x14b965(0x0,_0x3f7be3,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x3f7be3,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x3f7be3,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,_0x3f7be3,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,_0x3f7be3,0x0));}else if(_0x152cb2===0x7){var _0x18baa6=_0x1a6971*_0x35669b*0.5;this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(-_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(-_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(-_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(-_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(_0x18baa6,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(_0x18baa6,0x0,0x0));}else if(_0x152cb2===0x8){var _0x5959a4=_0x1a6971*_0x35669b*0.5;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(_0x5959a4,0x0,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(_0x5959a4,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(-_0x5959a4,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(-_0x5959a4,0x0,0x0));}else if(_0x152cb2===0x9){var _0x879311=_0x1a6971*_0x59dc6a;var _0x4be3bb=_0x5cea30*_0x35669b;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(-_0x879311,_0x4be3bb,0x0));this['_addP'](0x0,0x1,0x0,new _0x14b965(_0x879311,_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(-_0x879311,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(_0x879311,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(_0x879311,-_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(-_0x879311,-_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(-_0x879311,_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(_0x879311,_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(-_0x879311,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(_0x879311,0x0,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(_0x879311,-_0x4be3bb,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(-_0x879311,-_0x4be3bb,0x0));}else if(_0x152cb2===0xa){var _0x43e784=_0x1a6971*_0x59dc6a*0.5;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(0x0,_0x43e784,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(0x0,_0x43e784,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,-_0x43e784,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,-_0x43e784,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(0x0,-_0x43e784,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(0x0,-_0x43e784,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,_0x43e784,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,_0x43e784,0x0));var _0x58731a=this[_0x2f63('0x3a8')](0x0,0x1,0x0)['distanceTo'](this[_0x2f63('0x3a8')](0x0,0x0,0x0));var _0x3462ca=this[_0x2f63('0x3a8')](0x2,0x1,0x0)[_0x2f63('0xd5')](this[_0x2f63('0x3a8')](0x2,0x0,0x0));var _0x3144cd=_0x58731a/(_0x58731a+_0x3462ca);this['_changeP'](0x1,0x0,0x0,new _0x14b965()['lerpVectors'](this[_0x2f63('0x3a8')](0x0,0x0,0x0),this[_0x2f63('0x3a8')](0x2,0x0,0x0),_0x3144cd));this['_changeP'](0x1,0x1,0x0,new _0x14b965()[_0x2f63('0xcf')](this[_0x2f63('0x3a8')](0x0,0x1,0x0),this['_getP'](0x2,0x1,0x0),_0x3144cd));this[_0x2f63('0x39c')](0x1,0x0,0x1,new _0x14b965()[_0x2f63('0xcf')](this[_0x2f63('0x3a8')](0x0,0x0,0x1),this['_getP'](0x2,0x0,0x1),_0x3144cd));this[_0x2f63('0x39c')](0x1,0x1,0x1,new _0x14b965()[_0x2f63('0xcf')](this[_0x2f63('0x3a8')](0x0,0x1,0x1),this[_0x2f63('0x3a8')](0x2,0x1,0x1),_0x3144cd));var _0x467be3=_0x5cea30*_0x59dc6a;this['_addP'](0x0,0x1,0x1,new _0x14b965(0x0,_0x467be3,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,_0x467be3,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x467be3,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x467be3,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,_0x467be3,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,_0x467be3,0x0));}else if(_0x152cb2===0xe){var _0x47f67a=_0x1a6971*0x64;var _0x1f41cf=_0x5cea30*0x64;var _0x42a81f=this[_0x2f63('0x399')]*0.5*_0x47f67a;var _0x4754af=this[_0x2f63('0x39a')]*0.5*_0x1f41cf;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(-_0x42a81f,-_0x4754af,0x0));this['_addP'](0x0,0x1,0x0,new _0x14b965(-_0x42a81f,_0x4754af,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,-_0x4754af,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x4754af,0x0));this['_addP'](0x2,0x0,0x0,new _0x14b965(_0x42a81f,-_0x4754af,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(_0x42a81f,_0x4754af,0x0));}else if(_0x152cb2===0xf){var _0x3937e9=_0x1a6971*0x64;var _0x19f657=_0x5cea30*0x64;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));this['_addP'](0x1,0x0,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));this['_addP'](0x1,0x1,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(_0x3937e9,_0x19f657,0x0));}else if(_0x152cb2===0x10){var _0x5c2fec=_0x1a6971*_0x35669b;var _0x483f30=_0x5cea30*_0x35669b;this[_0x2f63('0x39d')](0x0,0x0,0x0,new _0x14b965(0x0,-_0x483f30,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,_0x483f30,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(0x0,-_0x483f30,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,-_0x5c2fec,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x5c2fec,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,-_0x5c2fec,0x0));this['_addP'](0x0,0x0,0x1,new _0x14b965(0x0,-_0x483f30,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(0x0,_0x483f30,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(0x0,-_0x483f30,0x0));this['_addP'](0x0,0x1,0x1,new _0x14b965(0x0,-_0x5c2fec,0x0));this['_addP'](0x1,0x1,0x1,new _0x14b965(0x0,_0x5c2fec,0x0));this['_addP'](0x2,0x1,0x1,new _0x14b965(0x0,-_0x5c2fec,0x0));}else if(_0x152cb2===_0x48ca45+0x1){var _0x289c0a=_0x1a6971*_0x59dc6a;this['_addP'](0x1,0x1,0x0,new _0x14b965(0x0,_0x289c0a,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x289c0a,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,_0x289c0a,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(0x0,_0x289c0a,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,-_0x289c0a,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,-_0x289c0a,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(0x0,-_0x289c0a,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(0x0,-_0x289c0a,0x0));}else if(_0x152cb2===_0x48ca45+0x2){var _0xef8ccb=_0x1a6971*_0x59dc6a;if(_0xef8ccb>0x0)_0xef8ccb=_0xef8ccb*0.5;this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,-_0xef8ccb,0x0));this['_addP'](0x0,0x1,0x1,new _0x14b965(0x0,-_0xef8ccb,0x0));this['_addP'](0x0,0x0,0x0,new _0x14b965(0x0,_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x0,0x0,0x1,new _0x14b965(0x0,_0xef8ccb,0x0));this['_addP'](0x1,0x1,0x0,new _0x14b965(0x0,_0xef8ccb,0x0));this['_addP'](0x1,0x1,0x1,new _0x14b965(0x0,_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(0x0,-_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(0x0,-_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x0,new _0x14b965(0x0,-_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x2,0x0,0x1,new _0x14b965(0x0,-_0xef8ccb,0x0));this['_addP'](0x3,0x1,0x0,new _0x14b965(0x0,-_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x3,0x1,0x1,new _0x14b965(0x0,-_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x3,0x0,0x0,new _0x14b965(0x0,_0xef8ccb,0x0));this[_0x2f63('0x39d')](0x3,0x0,0x1,new _0x14b965(0x0,_0xef8ccb,0x0));}else if(_0x152cb2===_0xf5c49b+0x1){var _0x4e4951=_0x1a6971*_0x59dc6a;this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,_0x4e4951,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x4e4951,0x0));this['_addP'](0x1,0x2,0x0,new _0x14b965(0x0,_0x4e4951,0x0));this['_addP'](0x1,0x2,0x1,new _0x14b965(0x0,_0x4e4951,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x0,new _0x14b965(0x0,-_0x4e4951,0x0));this[_0x2f63('0x39d')](0x2,0x1,0x1,new _0x14b965(0x0,-_0x4e4951,0x0));this[_0x2f63('0x39d')](0x2,0x2,0x0,new _0x14b965(0x0,-_0x4e4951,0x0));this[_0x2f63('0x39d')](0x2,0x2,0x1,new _0x14b965(0x0,-_0x4e4951,0x0));}else if(_0x152cb2===_0xe7f8bd+0x2){var _0x41c64f=_0x1a6971*_0x35669b*0.5;this[_0x2f63('0x39d')](0x0,0x2,0x0,new _0x14b965(_0x41c64f,0x0,0x0));this[_0x2f63('0x39d')](0x0,0x2,0x1,new _0x14b965(_0x41c64f,0x0,0x0));this['_addP'](0x1,0x2,0x0,new _0x14b965(-_0x41c64f,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x2,0x1,new _0x14b965(-_0x41c64f,0x0,0x0));this['_addP'](0x0,0x0,0x0,new _0x14b965(-_0x41c64f,0x0,0x0));this['_addP'](0x0,0x0,0x1,new _0x14b965(-_0x41c64f,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(_0x41c64f,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(_0x41c64f,0x0,0x0));var _0x1c1917=this[_0x2f63('0x3a8')](0x0,0x2,0x0)[_0x2f63('0xd5')](this['_getP'](0x1,0x2,0x0));var _0x286298=this['_getP'](0x0,0x0,0x0)[_0x2f63('0xd5')](this[_0x2f63('0x3a8')](0x1,0x0,0x0));var _0x3c80a6=_0x1c1917/(_0x1c1917+_0x286298);this[_0x2f63('0x39c')](0x0,0x1,0x0,this['_getP'](0x0,0x2,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x3c80a6)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x0,0x0,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x3c80a6)));this['_changeP'](0x1,0x1,0x0,this[_0x2f63('0x3a8')](0x1,0x2,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x3c80a6)['add'](this['_getP'](0x1,0x0,0x0)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x3c80a6)));this[_0x2f63('0x39c')](0x0,0x1,0x1,this[_0x2f63('0x3a8')](0x0,0x2,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](0x1-_0x3c80a6)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x0,0x0,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x3c80a6)));this[_0x2f63('0x39c')](0x1,0x1,0x1,this[_0x2f63('0x3a8')](0x1,0x2,0x1)['clone']()[_0x2f63('0x7b')](0x1-_0x3c80a6)[_0x2f63('0xb0')](this[_0x2f63('0x3a8')](0x1,0x0,0x1)[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x3c80a6)));var _0xfdc228=_0x5cea30*_0x59dc6a;this[_0x2f63('0x39d')](0x0,0x2,0x1,new _0x14b965(0x0,_0xfdc228,0x0));this['_addP'](0x0,0x2,0x0,new _0x14b965(0x0,_0xfdc228,0x0));this[_0x2f63('0x39d')](0x1,0x2,0x0,new _0x14b965(0x0,_0xfdc228,0x0));this['_addP'](0x1,0x2,0x1,new _0x14b965(0x0,_0xfdc228,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,0.5*_0xfdc228,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,0.5*_0xfdc228,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(0x0,0.5*_0xfdc228,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,0.5*_0xfdc228,0x0));}else if(_0x152cb2===_0x308695+0x1){var _0x5ae916=_0x1a6971*_0x35669b;this[_0x2f63('0x39d')](0x1,0x0,0x0,new _0x14b965(_0x5ae916,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x0,0x1,new _0x14b965(_0x5ae916,0x0,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x0,new _0x14b965(_0x5ae916,0x0,0x0));this['_addP'](0x1,0x1,0x1,new _0x14b965(_0x5ae916,0x0,0x0));}else if(_0x152cb2===_0x308695+0x2){var _0x2f726d=_0x1a6971*_0x59dc6a;this[_0x2f63('0x39d')](0x0,0x1,0x1,new _0x14b965(0x0,_0x2f726d,0x0));this[_0x2f63('0x39d')](0x0,0x1,0x0,new _0x14b965(0x0,_0x2f726d,0x0));this['_addP'](0x1,0x1,0x0,new _0x14b965(0x0,_0x2f726d,0x0));this[_0x2f63('0x39d')](0x1,0x1,0x1,new _0x14b965(0x0,_0x2f726d,0x0));}this[_0x2f63('0x3a0')](_0x414dcd,_0x450b59);}}]);return _0x50fa18;}();function _0x3a0aa5(_0x38b1bc){var _0x437cad=_0x8c5aa0();return function _createSuperInternal(){var _0x2985b0=_0x7200f8(_0x38b1bc),_0xe283ac;if(_0x437cad){var _0x528335=_0x7200f8(this)['constructor'];_0xe283ac=Reflect[_0x2f63('0x30a')](_0x2985b0,arguments,_0x528335);}else{_0xe283ac=_0x2985b0[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0xe283ac);};}function _0x8c5aa0(){if(typeof Reflect==='undefined'||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean[_0x2f63('0x9')]['valueOf'][_0x2f63('0xb')](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x69eb73){return![];}}var _0x4dae98=function(_0x30d9e2){_0x2a2d9e(_0x4dae98,_0x30d9e2);var _0x3b6641=_0x3a0aa5(_0x4dae98);function _0x4dae98(){_0x47c705(this,_0x4dae98);return _0x3b6641[_0x2f63('0x10')](this,arguments);}_0x38642a(_0x4dae98,[{'key':'creatFFDControlPoints','value':function creatFFDControlPoints(_0x4b9212,_0x38b51b,_0x12f456){var _0xeb2f3e=_0x4b9212[_0x2f63('0x5e')],_0x16d481=_0x4b9212[_0x2f63('0x5d')],_0x4e4721=_0x4b9212[_0x2f63('0x29d')],_0x48f01c=_0x4b9212[_0x2f63('0x1db')];var _0x36132f=[];if(this[_0x2f63('0x388')]){var _0x1a3b25=_0x4e4721/(_0x38b51b+0x1);var _0x1ca8d2=_0x48f01c/(_0x12f456+0x1);for(var _0x511d90=0x0;_0x511d90<_0x38b51b+0x2;_0x511d90++){for(var _0x46fb65=0x0;_0x46fb65<_0x12f456+0x2;_0x46fb65++){var _0x58f0f5=new _0x2b6548(_0xeb2f3e['x']+_0x511d90*_0x1a3b25,_0xeb2f3e['y']+_0x46fb65*_0x1ca8d2);_0x36132f[_0x2f63('0x34')](_0x58f0f5);}}}else{var _0x4af164=_0x4e4721/(_0x12f456+0x1);var _0x16815a=_0x48f01c/(_0x38b51b+0x1);for(var _0x1d8edc=0x0;_0x1d8edc<_0x38b51b+0x2;_0x1d8edc++){for(var _0x26350e=0x0;_0x26350e<_0x12f456+0x2;_0x26350e++){var _0x4c323f=new _0x2b6548(_0x16d481['x']-_0x26350e*_0x4af164,_0xeb2f3e['y']+_0x1d8edc*_0x16815a);_0x36132f[_0x2f63('0x34')](_0x4c323f);}}}return _0x36132f;}},{'key':_0x2f63('0x3a9'),'value':function adjustControlPoints(_0x47e1b5,_0x3cd92c){var _0x3e6cad=_0x3cd92c['x'],_0x224512=_0x3cd92c['y'];if(this[_0x2f63('0x388')]){_0x47e1b5['x']+=_0x3e6cad;_0x47e1b5['y']+=_0x224512;}else{_0x47e1b5['x']-=_0x224512;_0x47e1b5['y']+=_0x3e6cad;}}},{'key':'factorialForFFD','value':function factorialForFFD(_0x2d0bac){var _0x9ab709=0x1;for(var _0x3ca179=0x2;_0x3ca179<=_0x2d0bac;_0x3ca179++){_0x9ab709*=_0x3ca179;}return _0x9ab709;}},{'key':_0x2f63('0x3aa'),'value':function combineForFFD(_0x45b092,_0xd51625){var _0x56bfd1=this['factorialForFFD'](_0x45b092)/this[_0x2f63('0x3ab')](_0x45b092-_0xd51625)/this[_0x2f63('0x3ab')](_0xd51625);return _0x56bfd1;}},{'key':_0x2f63('0x3ac'),'value':function caculateForBezierFFD(_0x3e4a56,_0x2e5943,_0x70e915,_0x1d5cdb,_0x5e1cbc){var _0x322a96=this;var _0x5425e5=function _0x5425e5(_0x1d5cdb,_0x23a332,_0x389309){return _0x322a96[_0x2f63('0x3aa')](_0x1d5cdb+0x1,_0x23a332)*Math[_0x2f63('0x61')](0x1-_0x389309,_0x1d5cdb+0x1-_0x23a332)*Math[_0x2f63('0x61')](_0x389309,_0x23a332);};this[_0x2f63('0x3ad')](_0x5425e5,_0x3e4a56,_0x2e5943,_0x70e915,_0x1d5cdb,_0x5e1cbc);}},{'key':_0x2f63('0x3ae'),'value':function linearBasis(_0x12a506,_0x3a294b,_0x389309){var _0x4a28b3=_0x3a294b<_0x389309*_0x12a506?_0x3a294b+0x1-_0x389309*_0x12a506:_0x389309*_0x12a506-_0x3a294b+0x1;return Math[_0x2f63('0x5d')](0x0,_0x4a28b3);}},{'key':_0x2f63('0x3af'),'value':function caculateForLinearFFD(_0x2e4b5d,_0xd7695e,_0x4a69ad,_0x2df724,_0x2f0745){var _0x1b4199=this;var _0x34cf0c=function _0x34cf0c(_0x2df724,_0x2258d7,_0x389309){return _0x1b4199[_0x2f63('0x3ae')](_0x2df724+0x1,_0x2258d7,_0x389309);};this[_0x2f63('0x3ad')](_0x34cf0c,_0x2e4b5d,_0xd7695e,_0x4a69ad,_0x2df724,_0x2f0745);}},{'key':_0x2f63('0x3ad'),'value':function caculateForFFD(_0x113f00,_0x2fd4d0,_0x22b1ca,_0x5e35c0,_0x3ff40c,_0x42b079){var _0x55e35d=_0x22b1ca[_0x2f63('0x5e')],_0x4c74a2=_0x22b1ca['max'],_0xfe0717=_0x22b1ca['width'],_0x4da372=_0x22b1ca[_0x2f63('0x1db')];var _0x4be073;if(this[_0x2f63('0x388')]){_0x4be073=function _0x4be073(_0x47e1b5){var _0x4f7d55=(_0x47e1b5['x']-_0x55e35d['x'])/_0xfe0717;var _0x23a454=(_0x47e1b5['y']-_0x55e35d['y'])/_0x4da372;var _0x1a626c=0x0,_0x1ea47c=0x0;for(var _0x3229c4=0x0;_0x3229c4<_0x3ff40c+0x2;_0x3229c4++){var _0x1f5eaf=_0x113f00(_0x3ff40c,_0x3229c4,_0x4f7d55);for(var _0x13d695=0x0;_0x13d695<_0x42b079+0x2;_0x13d695++){var _0x54d739=_0x113f00(_0x42b079,_0x13d695,_0x23a454);var _0x1e4b81=_0x5e35c0[_0x3229c4*(_0x42b079+0x2)+_0x13d695];_0x1a626c+=_0x1f5eaf*_0x54d739*_0x1e4b81['x'];_0x1ea47c+=_0x1f5eaf*_0x54d739*_0x1e4b81['y'];}}_0x47e1b5[_0x2f63('0x67')](_0x1a626c,_0x1ea47c);};}else{_0x4be073=function _0x4be073(_0x47e1b5){var _0x33469b=(_0x4c74a2['x']-_0x47e1b5['x'])/_0xfe0717;var _0x4ac954=(_0x47e1b5['y']-_0x55e35d['y'])/_0x4da372;var _0x2aea5a=0x0,_0x2e8cd3=0x0;for(var _0x2a757a=0x0;_0x2a757a<_0x3ff40c+0x2;_0x2a757a++){var _0x515672=_0x113f00(_0x3ff40c,_0x2a757a,_0x4ac954);for(var _0x59cd25=0x0;_0x59cd25<_0x42b079+0x2;_0x59cd25++){var _0x7acc10=_0x113f00(_0x42b079,_0x59cd25,_0x33469b);var _0x290df1=_0x5e35c0[_0x2a757a*(_0x42b079+0x2)+_0x59cd25];_0x2aea5a+=_0x515672*_0x7acc10*_0x290df1['x'];_0x2e8cd3+=_0x515672*_0x7acc10*_0x290df1['y'];}}_0x47e1b5[_0x2f63('0x67')](_0x2aea5a,_0x2e8cd3);};}this[_0x2f63('0x383')](_0x4be073);}},{'key':'transform','value':function transform(_0x2d37b8,_0x2a14a9){var _0x39ef5f=_0x2a14a9[_0x2f63('0x28')],_0x4645e7=_0x2a14a9[_0x2f63('0x385')],_0xfb39f7=_0x2a14a9[_0x2f63('0x38a')],_0x94dec2=_0xfb39f7===void 0x0?0x64:_0xfb39f7,_0x5b700b=_0x2a14a9[_0x2f63('0x384')],_0x47fed2=_0x2a14a9[_0x2f63('0x386')],_0xf24d9a=_0x47fed2===void 0x0?_0x2f63('0x3b0'):_0x47fed2;_0x260cbe(_0x7200f8(_0x4dae98[_0x2f63('0x9')]),_0x2f63('0x38f'),this)[_0x2f63('0xb')](this,_0x2d37b8,{'intensitys':_0x4645e7,'maxFontSize':_0x94dec2,'charPosDatas':_0x5b700b,'writingMode':_0xf24d9a});if(Math[_0x2f63('0x113')][_0x2f63('0x10')](Math,_0x9959f(_0x4645e7))>0x0){var _0x1506e6=Math['PI']/0x3;var _0x5549e5=this[_0x2f63('0x389')],_0x5dcae0=this['baseWidth'],_0x132451=this[_0x2f63('0x1f0')],_0x295732=this[_0x2f63('0x388')];var _0x205be6=_0x21a939(this[_0x2f63('0x385')],0x2),_0x219773=_0x205be6[0x0],_0x2c583f=_0x205be6[0x1];var _0x4ecdd5=![];var _0x3a237a=['bevel','upperRoof',_0x2f63('0x3b1'),_0x2f63('0x3b2'),_0x2f63('0x3b3'),'flagCurve'];if(_0x3a237a[_0x2f63('0x328')](function(_0xf00223){return _0xf00223===_0x39ef5f;})){_0x4ecdd5=!![];}if(_0x4ecdd5){this[_0x2f63('0x379')](_0x2d37b8,this[_0x2f63('0x1f0')],!_0x295732);}if(/Curve$/['test'](_0x39ef5f)){this[_0x2f63('0x390')](_0x2d37b8);}var _0x2a7278,_0x48b901,_0x5b14cf,_0x24672d,_0x460981;var _0x169dc2=0x0;var _0x15177d=0x0;var _0x195e68=![];switch(_0x39ef5f){case'archCurve':_0x195e68=!![];_0x48b901=0.05/_0x94dec2*_0x5dcae0*_0x5dcae0*_0x219773;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);_0x460981=new _0x2b6548(0x0,-_0x48b901);this[_0x2f63('0x3a9')](_0x2a7278[0x2],_0x460981);this[_0x2f63('0x3a9')](_0x2a7278[0x3],_0x460981);break;case _0x2f63('0x3b5'):_0x195e68=!![];_0x48b901=_0x5549e5*_0x219773;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,0x2*_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,-_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,-0x2*_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,_0x48b901));break;case _0x2f63('0x3b6'):_0x195e68=!![];_0x48b901=(_0x219773>0x0?0.5*_0x5dcae0:0x2*_0x5549e5)*_0x219773;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-_0x48b901));break;case _0x2f63('0x3b7'):_0x195e68=!![];_0x2a7278=this['creatFFDControlPoints'](_0x132451,_0x169dc2,_0x15177d);_0x48b901=(_0x219773>0x0?0.5*_0x5dcae0:0x2*_0x5549e5)*_0x219773;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,+_0x48b901));break;case'bulbCurve':_0x195e68=!![];_0x48b901=-_0x5549e5*_0x219773;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,-0.5*_0x48b901));this['adjustControlPoints'](_0x2a7278[0x2],new _0x2b6548(0x0,0x2*_0x48b901));this['adjustControlPoints'](_0x2a7278[0x4],new _0x2b6548(0x0,-0.5*_0x48b901));this['adjustControlPoints'](_0x2a7278[0x1],new _0x2b6548(0x0,0.5*_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,-0x2*_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,0.5*_0x48b901));break;case _0x2f63('0x3b8'):_0x195e68=![];_0x169dc2=0x0;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);_0x48b901=_0x5549e5*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=_0x5dcae0*Math[_0x2f63('0x38c')](_0x2c583f*_0x1506e6);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(_0x48b901,0x0));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(_0x48b901,-_0x5b14cf));this['adjustControlPoints'](_0x2a7278[0x3],new _0x2b6548(0x0,-_0x5b14cf));break;case _0x2f63('0x3b9'):_0x195e68=!![];_0x48b901=0.5*_0x5dcae0*_0x219773;_0x169dc2=0x3;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,-_0x48b901));this['adjustControlPoints'](_0x2a7278[0x6],new _0x2b6548(0x0,_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x7],new _0x2b6548(0x0,_0x48b901));break;case _0x2f63('0x3ba'):_0x195e68=!![];_0x48b901=0.25*_0x5dcae0*_0x219773;_0x5b14cf=0.5*_0x5549e5*_0x2c583f;_0x24672d=0.5*(_0x219773+0x1);_0x169dc2=0x0;_0x15177d=0x1;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(+_0x48b901,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(-_0x48b901,+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(-_0x48b901,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(+_0x48b901,+_0x5b14cf));_0x2a7278[0x1]=new _0x2b6548()[_0x2f63('0xcf')](_0x2a7278[0x2],_0x2a7278[0x0],_0x24672d);_0x2a7278[0x4]=new _0x2b6548()['lerpVectors'](_0x2a7278[0x5],_0x2a7278[0x3],_0x24672d);break;case _0x2f63('0x3bb'):_0x195e68=!![];_0x48b901=_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=_0x5549e5*_0x2c583f;_0x24672d=0.5*(_0x219773+0x1);_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[_0x219773>0x0?0x1:0x5],new _0x2b6548(0x0,+Math[_0x2f63('0x75')](_0x48b901)));_0x2a7278[0x2]=new _0x2b6548()['lerpVectors'](_0x2a7278[0x0],_0x2a7278[0x4],_0x24672d);_0x2a7278[0x3]=new _0x2b6548()[_0x2f63('0xcf')](_0x2a7278[0x1],_0x2a7278[0x5],_0x24672d);break;case _0x2f63('0x3bc'):_0x195e68=!![];_0x48b901=_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=_0x5549e5*_0x2c583f;_0x24672d=0.5*(_0x219773+0x1);_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this['creatFFDControlPoints'](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,+_0x5b14cf));this['adjustControlPoints'](_0x2a7278[_0x219773>0x0?0x4:0x0],new _0x2b6548(0x0,-Math[_0x2f63('0x75')](_0x48b901)));_0x2a7278[0x2]=new _0x2b6548()['lerpVectors'](_0x2a7278[0x4],_0x2a7278[0x0],_0x24672d);_0x2a7278[0x3]=new _0x2b6548()[_0x2f63('0xcf')](_0x2a7278[0x5],_0x2a7278[0x1],_0x24672d);break;case _0x2f63('0x3bd'):_0x195e68=!![];_0x48b901=0.5*_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=0.5*_0x5549e5*_0x2c583f;_0x24672d=0.5+_0x219773*0.5;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this['creatFFDControlPoints'](_0x132451,_0x169dc2,_0x15177d);this['adjustControlPoints'](_0x2a7278[_0x219773>0x0?0x0:0x4],new _0x2b6548(0x0,-Math[_0x2f63('0x2e2')](_0x219773)*_0x48b901));this['adjustControlPoints'](_0x2a7278[_0x219773>0x0?0x1:0x5],new _0x2b6548(0x0,+Math[_0x2f63('0x2e2')](_0x219773)*_0x48b901));this['adjustControlPoints'](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,+_0x5b14cf));this['adjustControlPoints'](_0x2a7278[0x4],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,+_0x5b14cf));_0x2a7278[0x2]=new _0x2b6548()['lerpVectors'](_0x2a7278[0x0],_0x2a7278[0x4],_0x24672d);_0x2a7278[0x3]=new _0x2b6548()[_0x2f63('0xcf')](_0x2a7278[0x1],_0x2a7278[0x5],_0x24672d);break;case'bevel':_0x195e68=![];_0x48b901=0.5*_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=0.5*_0x5549e5*_0x2c583f;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this['creatFFDControlPoints'](_0x132451,_0x169dc2,_0x15177d);this['adjustControlPoints'](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,-_0x48b901+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,+_0x5b14cf));break;case'upperRoof':_0x195e68=![];_0x48b901=0.5*_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=_0x5549e5*_0x2c583f;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,+_0x219773*_0x5549e5-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,+_0x219773*_0x5549e5-_0x5b14cf));break;case _0x2f63('0x3b1'):_0x195e68=![];_0x48b901=0.5*_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*_0x1506e6);_0x5b14cf=_0x5549e5*_0x2c583f;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,-_0x219773*_0x5549e5+_0x5b14cf));this['adjustControlPoints'](_0x2a7278[0x3],new _0x2b6548(0x0,+_0x48b901+_0x5b14cf));this['adjustControlPoints'](_0x2a7278[0x5],new _0x2b6548(0x0,-_0x219773*_0x5549e5+_0x5b14cf));break;case'angledProjection':_0x195e68=![];_0x48b901=0.5*_0x5dcae0*Math[_0x2f63('0x38c')](_0x219773*0.5*_0x1506e6);_0x5b14cf=0.5*_0x5549e5*_0x2c583f;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,+0.5*_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-0x2*_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,0.5*_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,-0.5*_0x48b901+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,0x2*_0x48b901+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x5],new _0x2b6548(0x0,-0.5*_0x48b901+_0x5b14cf));break;case'foldedCorner':_0x195e68=![];_0x48b901=0.5*_0x5dcae0*Math['tan'](_0x219773*0.5*_0x1506e6);_0x5b14cf=0.5*_0x5549e5*_0x2c583f;_0x169dc2=0x1;_0x15177d=0x0;_0x2a7278=this['creatFFDControlPoints'](_0x132451,_0x169dc2,_0x15177d);this['adjustControlPoints'](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,+0.5*_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x4],new _0x2b6548(0x0,-_0x48b901-_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(0x0,+_0x48b901+_0x5b14cf));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,-0.5*_0x48b901+_0x5b14cf));this['adjustControlPoints'](_0x2a7278[0x5],new _0x2b6548(0x0,+_0x48b901+_0x5b14cf));break;case'lateralStretching':_0x195e68=![];_0x169dc2=0x0;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);_0x48b901=0.5*_0x5dcae0*_0x219773;this['adjustControlPoints'](_0x2a7278[0x0],new _0x2b6548(-_0x48b901,0x0));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(_0x48b901,0x0));this[_0x2f63('0x3a9')](_0x2a7278[0x1],new _0x2b6548(-_0x48b901,0x0));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(_0x48b901,0x0));break;case _0x2f63('0x3be'):_0x195e68=![];_0x169dc2=0x0;_0x15177d=0x0;_0x2a7278=this[_0x2f63('0x3b4')](_0x132451,_0x169dc2,_0x15177d);_0x48b901=0.5*_0x5549e5*_0x219773;this[_0x2f63('0x3a9')](_0x2a7278[0x0],new _0x2b6548(0x0,-_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x2],new _0x2b6548(0x0,-_0x48b901));this['adjustControlPoints'](_0x2a7278[0x1],new _0x2b6548(0x0,+_0x48b901));this[_0x2f63('0x3a9')](_0x2a7278[0x3],new _0x2b6548(0x0,+_0x48b901));break;}if(_0x195e68){this['caculateForBezierFFD'](_0x2d37b8,_0x132451,_0x2a7278,_0x169dc2,_0x15177d);this[_0x2f63('0x37e')](_0x2d37b8);}else{this[_0x2f63('0x3af')](_0x2d37b8,_0x132451,_0x2a7278,_0x169dc2,_0x15177d);}}return this[_0x2f63('0x37a')](_0x2d37b8);}}]);return _0x4dae98;}(_0x342d56);var _0x145fac=function(){function _0x145fac(){_0x47c705(this,_0x145fac);}_0x38642a(_0x145fac,[{'key':_0x2f63('0x3bf'),'value':function runPattern(_0x50a8fd,_0x2d0678){var _0x127246,_0x5990b7;if(_0x2d0678[_0x2f63('0x3a1')]==='0'){_0x127246=new _0x14b965(0x1,0x0,0x0);_0x5990b7=Math['PI']/0x4;}else if(_0x2d0678['pattern']==='1'){_0x127246=new _0x14b965(0x0,0x1,0x0);_0x5990b7=Math['PI']/0x4;}else if(_0x2d0678[_0x2f63('0x3a1')]==='2'){_0x127246=new _0x14b965(0x0,0x0,0x1);_0x5990b7=Math['PI']/0x4;}var _0x454d13=this[_0x2f63('0x36a')](_0x50a8fd,_0x127246,_0x5990b7,_0x2d0678['intensity']);return _0x454d13;}},{'key':_0x2f63('0x36a'),'value':function RUN(_0x3dc95b,_0x1fc85d,_0x242c22,_0x18d618){if(_0x18d618===0x0)return;_0x1fc85d[_0x2f63('0x74')]();var _0x3002ab=0x0;var _0x3dd249=0x0;var _0x26d428=0x0;var _0x10a0fc=0x0;var _0x1f673c=0x0;var _0x515b34=0x0;var _0x2a580d=_0x3dc95b[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x565c9a=parseInt(_0x2a580d['length']/0x3);for(var _0x4e7d9f=0x0;_0x4e7d9f<_0x565c9a;_0x4e7d9f++){var _0x52be06=new _0x14b965();_0x52be06[_0x2f63('0x69')](_0x2a580d,_0x4e7d9f*0x3);if(_0x52be06['x']>_0x3002ab){_0x3002ab=_0x52be06['x'];}if(_0x52be06['x']<_0x3dd249){_0x3dd249=_0x52be06['x'];}if(_0x52be06['y']>_0x26d428){_0x26d428=_0x52be06['y'];}if(_0x52be06['y']<_0x10a0fc){_0x10a0fc=_0x52be06['y'];}if(_0x52be06['z']>_0x1f673c){_0x1f673c=_0x52be06['z'];}if(_0x52be06['z']<_0x515b34){_0x515b34=_0x52be06['z'];}}var _0x5d4c2a=new _0x14b965(0.5*(_0x3dd249+_0x3002ab),0.5*(_0x10a0fc+_0x26d428),0.5*(_0x515b34+_0x1f673c));var _0x1ba7e1=new _0x367199();for(var _0x14d57e=0x0;_0x14d57e<_0x565c9a;_0x14d57e++){var _0x32564b=new _0x14b965();_0x32564b[_0x2f63('0x69')](_0x2a580d,_0x14d57e*0x3);var _0x1d424e=_0x32564b[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x5d4c2a)[_0x2f63('0xa1')](_0x1fc85d);var _0x46c7f4=0.01*_0x1d424e*_0x242c22*_0x18d618;_0x1ba7e1[_0x2f63('0x309')](_0x1fc85d,_0x46c7f4);var _0x1b2084=_0x32564b[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x5d4c2a)['applyMatrix4'](_0x1ba7e1)['add'](_0x5d4c2a);_0x2a580d[_0x14d57e*0x3+0x0]=_0x1b2084['x'];_0x2a580d[_0x14d57e*0x3+0x1]=_0x1b2084['y'];_0x2a580d[_0x14d57e*0x3+0x2]=_0x1b2084['z'];}}}]);return _0x145fac;}();var _0x1e9629=function(){function _0x1e9629(){_0x47c705(this,_0x1e9629);}_0x38642a(_0x1e9629,[{'key':_0x2f63('0x36a'),'value':function RUN(_0x442fe5,_0x384a88){if(_0x384a88[_0x2f63('0x3a2')]===0x0)return;if(_0x384a88[_0x2f63('0x3a1')]==='0'||_0x384a88[_0x2f63('0x3a1')]==='1'||_0x384a88[_0x2f63('0x3a1')]==='2'){this['runPattern0'](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='10'||_0x384a88[_0x2f63('0x3a1')]==='11'||_0x384a88[_0x2f63('0x3a1')]==='12'){this[_0x2f63('0x3c0')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='20'||_0x384a88[_0x2f63('0x3a1')]==='21'||_0x384a88[_0x2f63('0x3a1')]==='22'){this[_0x2f63('0x3c1')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='30'||_0x384a88[_0x2f63('0x3a1')]==='31'||_0x384a88[_0x2f63('0x3a1')]==='32'){this[_0x2f63('0x3c2')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='40'){this[_0x2f63('0x3c3')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='50'||_0x384a88[_0x2f63('0x3a1')]==='51'){this[_0x2f63('0x3c4')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='60'||_0x384a88[_0x2f63('0x3a1')]==='61'){this[_0x2f63('0x3c5')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='70'||_0x384a88[_0x2f63('0x3a1')]==='71'){this[_0x2f63('0x3c6')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='80'){this[_0x2f63('0x3c7')](_0x442fe5,_0x384a88);}else if(_0x384a88[_0x2f63('0x3a1')]==='90'){this['runPattern9'](_0x442fe5,_0x384a88);}}},{'key':_0x2f63('0x3c8'),'value':function runPattern0(_0x10b277,_0xa83301){var _0x970006=_0x10b277[_0x2f63('0xfe')][_0x2f63('0xff')]['array'];var _0x2d18cd=parseInt(_0x970006['length']/0x3);var _0x5a3ef2=new _0x14b965();if(_0xa83301[_0x2f63('0x3a1')]==='0'){_0x5a3ef2['x']=_0xa83301['intensity'];}else if(_0xa83301[_0x2f63('0x3a1')]==='1'){_0x5a3ef2['y']=_0xa83301[_0x2f63('0x3a2')];}else if(_0xa83301[_0x2f63('0x3a1')]==='2'){_0x5a3ef2['z']=_0xa83301[_0x2f63('0x3a2')];}var _0xf410dd=new _0x14b965();for(var _0x361558=0x0;_0x361558<_0x2d18cd;_0x361558++){_0xf410dd[_0x2f63('0x69')](_0x970006,_0x361558*0x3);var _0x2437b2=_0x10b277[_0x2f63('0x227')][_0x361558];if(_0x2437b2%0x2===0x0){_0xf410dd[_0x2f63('0xb0')](_0x5a3ef2);}else{_0xf410dd[_0x2f63('0xb5')](_0x5a3ef2);}_0x970006[_0x361558*0x3+0x0]=_0xf410dd['x'];_0x970006[_0x361558*0x3+0x1]=_0xf410dd['y'];_0x970006[_0x361558*0x3+0x2]=_0xf410dd['z'];}}},{'key':'runPattern1','value':function runPattern1(_0x4756a6,_0x47420a){var _0x1657d7=_0x4756a6[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x4906af=Math[_0x2f63('0x3c9')](_0x1657d7[_0x2f63('0x38')]/0x3);var _0x224a91=this[_0x2f63('0x3ca')](_0x4756a6,_0x47420a),_0x3d3248=_0x224a91[_0x2f63('0x228')];var _0x5c3ea7=_0x47420a[_0x2f63('0x3a2')],_0x32eabc=_0x47420a[_0x2f63('0x3a1')],_0x65f02=_0x47420a['maxLineWidth'];var _0x1c4167=new _0x14b965();switch(_0x32eabc){case'10':_0x1c4167['x']=0x1;break;case'11':_0x1c4167['y']=0x1;break;case'12':_0x1c4167['z']=0x1;break;}var _0x53d423=new _0x14b965();for(var _0x61fca1=0x0;_0x61fca1<_0x4906af;_0x61fca1++){_0x53d423[_0x2f63('0x69')](_0x1657d7,_0x61fca1*0x3);var _0x409c26=_0x4756a6[_0x2f63('0x227')][_0x61fca1];var _0x3f5d43=_0x3d3248[_0x409c26]*0.01*_0x5c3ea7*_0x65f02;_0x53d423['add'](_0x1c4167[_0x2f63('0x68')]()[_0x2f63('0x7b')](_0x3f5d43));_0x1657d7[_0x61fca1*0x3+0x0]=_0x53d423['x'];_0x1657d7[_0x61fca1*0x3+0x1]=_0x53d423['y'];_0x1657d7[_0x61fca1*0x3+0x2]=_0x53d423['z'];}}},{'key':_0x2f63('0x3c1'),'value':function runPattern2(_0x284cde,_0x310008){var _0x4189c2=this[_0x2f63('0x3ca')](_0x284cde,_0x310008),_0x5183fc=_0x4189c2['charCenterArrayT'];var _0x33d80c=_0x310008[_0x2f63('0x3a2')],_0x1150f0=_0x310008[_0x2f63('0x3a1')],_0xd2f17=_0x310008[_0x2f63('0x3a7')];var _0x2178ef=_0x284cde['attributes'][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x536af8=Math[_0x2f63('0x3c9')](_0x2178ef['length']/0x3);var _0x2457b9=new _0x14b965();var _0x30ca02=_0x33d80c*0.002*_0xd2f17;switch(_0x1150f0){case'20':_0x2457b9['x']=_0x30ca02;break;case'21':_0x2457b9['y']=_0x30ca02;break;case'22':_0x2457b9['z']=_0x30ca02;break;}for(var _0x4c7b39=0x0;_0x4c7b39<_0x536af8;_0x4c7b39++){var _0x28dd9f=_0x284cde[_0x2f63('0x227')][_0x4c7b39];var _0x21afdd=_0x5183fc[_0x28dd9f];var _0x235709=_0x2457b9[_0x2f63('0x68')]();_0x235709[_0x2f63('0x7b')](Math[_0x2f63('0x87')](_0x21afdd*Math['PI']));_0x2178ef[_0x4c7b39*0x3+0x0]+=_0x235709['x'];_0x2178ef[_0x4c7b39*0x3+0x1]+=_0x235709['y'];_0x2178ef[_0x4c7b39*0x3+0x2]+=_0x235709['z'];}}},{'key':_0x2f63('0x3c2'),'value':function runPattern3(_0x187a47,_0x244b4f){var _0x53577c=_0x187a47['attributes']['position'][_0x2f63('0x1f9')];var _0x2e9949=parseInt(_0x53577c[_0x2f63('0x38')]/0x3);var _0x32249e=this[_0x2f63('0x3ca')](_0x187a47,_0x244b4f),_0x320275=_0x32249e[_0x2f63('0x228')];var _0x3b5cb2=new _0x14b965();if(_0x244b4f[_0x2f63('0x3a1')]==='30'){_0x3b5cb2['x']=_0x244b4f[_0x2f63('0x3a2')];}else if(_0x244b4f[_0x2f63('0x3a1')]==='31'){_0x3b5cb2['y']=_0x244b4f[_0x2f63('0x3a2')];}else if(_0x244b4f[_0x2f63('0x3a1')]==='32'){_0x3b5cb2['z']=_0x244b4f[_0x2f63('0x3a2')];}for(var _0x47392a=0x0;_0x47392a<_0x2e9949;_0x47392a++){var _0x3a69b9=_0x187a47['charVertexFlagArray'][_0x47392a];var _0x2884fe=_0x320275[_0x3a69b9];var _0x2089a9=_0x3b5cb2['clone']()['multiplyScalar'](Math[_0x2f63('0x87')](_0x2884fe*Math['PI']*0x2));_0x53577c[_0x47392a*0x3+0x0]+=_0x2089a9['x'];_0x53577c[_0x47392a*0x3+0x1]+=_0x2089a9['y'];_0x53577c[_0x47392a*0x3+0x2]+=_0x2089a9['z'];}}},{'key':_0x2f63('0x3c3'),'value':function runPattern4(_0x40e69f,_0xb148d4){var _0x3e288b=_0x40e69f['attributes']['position'][_0x2f63('0x1f9')];var _0x4ea774=parseInt(_0x3e288b[_0x2f63('0x38')]/0x3);var _0x2b391a=0.1;var _0x16200a=[];var _0x1b61ac=new _0x14b965();for(var _0x2e180e=0x0;_0x2e180e<_0x4ea774;_0x2e180e++){_0x1b61ac[_0x2f63('0x69')](_0x3e288b,_0x2e180e*0x3);var _0x325a43=_0x40e69f['charVertexFlagArray'][_0x2e180e];if(_0x16200a[_0x325a43]===undefined){var _0x4ff990=new _0x14b965();_0x4ff990['y']=(Math[_0x2f63('0x5b')]()*0x2-0x1)*_0xb148d4[_0x2f63('0x3a2')]*_0x2b391a;_0x4ff990['z']=(Math[_0x2f63('0x5b')]()*0x2-0x1)*_0xb148d4['intensity']*_0x2b391a;_0x16200a[_0x325a43]=_0x4ff990;}_0x1b61ac[_0x2f63('0xb0')](_0x16200a[_0x325a43]);_0x3e288b[_0x2e180e*0x3+0x0]=_0x1b61ac['x'];_0x3e288b[_0x2e180e*0x3+0x1]=_0x1b61ac['y'];_0x3e288b[_0x2e180e*0x3+0x2]=_0x1b61ac['z'];}}},{'key':_0x2f63('0x3c4'),'value':function runPattern5(_0x44ae24,_0x191e03){var _0x422297=_0x44ae24['attributes'][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x178c33=parseInt(_0x422297[_0x2f63('0x38')]/0x3);var _0x14eadf=this['PerCharCalculation'](_0x44ae24,_0x191e03),_0x556395=_0x14eadf[_0x2f63('0x238')];var _0xf160ba=new _0x14b965();var _0x1c60e4=new _0x14b965(0x0,0x1,0x0);if(_0x191e03[_0x2f63('0x3a1')]==='50'){_0x1c60e4=new _0x14b965(0x0,0x1,0x0);}else if(_0x191e03['pattern']==='51'){_0x1c60e4=new _0x14b965(0x0,0x0,0x1);}for(var _0x52aceb=0x0;_0x52aceb<_0x178c33;_0x52aceb++){var _0x162fc6=_0x44ae24[_0x2f63('0x227')][_0x52aceb];_0xf160ba[_0x2f63('0x69')](_0x422297,_0x52aceb*0x3);_0xf160ba[_0x2f63('0xb5')](_0x556395[_0x162fc6]);_0xf160ba['applyAxisAngle'](_0x1c60e4,_0x191e03[_0x2f63('0x3a2')]/0xb4*Math['PI']);_0xf160ba[_0x2f63('0xb0')](_0x556395[_0x162fc6]);_0x422297[_0x52aceb*0x3+0x0]=_0xf160ba['x'];_0x422297[_0x52aceb*0x3+0x1]=_0xf160ba['y'];_0x422297[_0x52aceb*0x3+0x2]=_0xf160ba['z'];}}},{'key':'runPattern6','value':function runPattern6(_0x1e7b89,_0x31b467){var _0x5143b6=_0x1e7b89['attributes'][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x3dbd2c=parseInt(_0x5143b6[_0x2f63('0x38')]/0x3);var _0x3a7d3f=0.1;var _0x434ab4=this[_0x2f63('0x3ca')](_0x1e7b89,_0x31b467),_0x139801=_0x434ab4[_0x2f63('0x238')];var _0x2fa6e9=[];var _0x41888c=new _0x14b965();for(var _0xefb88b=0x0;_0xefb88b<_0x3dbd2c;_0xefb88b++){var _0x337299=_0x1e7b89[_0x2f63('0x227')][_0xefb88b];_0x41888c['fromArray'](_0x5143b6,_0xefb88b*0x3);_0x41888c[_0x2f63('0xb5')](_0x139801[_0x337299]);if(_0x2fa6e9[_0x337299]===undefined){var _0x3d1b33=new _0x14b965(Math['random']()*0x2-0x1,Math[_0x2f63('0x5b')]()*0x2-0x1,Math[_0x2f63('0x5b')]()*0x2-0x1);_0x3d1b33[_0x2f63('0x74')]();_0x2fa6e9[_0x337299]=_0x3d1b33;}_0x41888c[_0x2f63('0xbd')](_0x2fa6e9[_0x337299],_0x31b467[_0x2f63('0x3a2')]/0xb4*Math['PI']*_0x3a7d3f);_0x41888c['add'](_0x139801[_0x337299]);_0x5143b6[_0xefb88b*0x3+0x0]=_0x41888c['x'];_0x5143b6[_0xefb88b*0x3+0x1]=_0x41888c['y'];_0x5143b6[_0xefb88b*0x3+0x2]=_0x41888c['z'];}}},{'key':_0x2f63('0x3c6'),'value':function runPattern7(_0x3bb389,_0x54a48b){var _0x388fb0=_0x3bb389[_0x2f63('0xfe')]['position'][_0x2f63('0x1f9')];var _0x40169d=parseInt(_0x388fb0['length']/0x3);var _0x1f46ce=this[_0x2f63('0x3ca')](_0x3bb389,_0x54a48b),_0x1000d1=_0x1f46ce[_0x2f63('0x10b')],_0x4ecd69=_0x1f46ce[_0x2f63('0x3cb')],_0x4a8b32=_0x1f46ce[_0x2f63('0x3cc')],_0x491608=_0x1f46ce[_0x2f63('0x238')],_0x3dfa4c=_0x1f46ce[_0x2f63('0x228')],_0x577fbc=_0x1f46ce[_0x2f63('0x3cd')];var _0x45179c=[];var _0x3b1cfe=[];var _0x3b58e5=_0x3bb389['charVertexFlagArray'][_0x3bb389['charVertexFlagArray'][_0x2f63('0x38')]-0x1]+0x1;for(var _0x3dd616=0x0;_0x3dd616<_0x3b58e5;_0x3dd616++){var _0x3b8988=_0x3dd616;var _0x55733f=_0x54a48b['charPosDatas'][_0x3b8988][_0x2f63('0x3ce')];var _0x59c72b=_0x577fbc[_0x55733f];var _0x29d87c=new _0x14b965();_0x59c72b[_0x2f63('0xf6')](_0x29d87c);var _0x1b969a=void 0x0,_0x551036=void 0x0,_0x28845e=void 0x0;if(_0x54a48b['pattern']==='70'){_0x1b969a=new _0x14b965(_0x4ecd69,_0x29d87c['y'],_0x29d87c['z']);_0x551036=new _0x14b965(_0x1000d1['x'],_0x29d87c['y']+_0x54a48b[_0x2f63('0x3a2')],_0x29d87c['z']);_0x28845e=new _0x14b965(_0x4a8b32,_0x29d87c['y'],_0x29d87c['z']);}else if(_0x54a48b['pattern']==='71'){_0x1b969a=new _0x14b965(_0x4ecd69,_0x29d87c['y'],_0x29d87c['z']);_0x551036=new _0x14b965(_0x1000d1['x'],_0x29d87c['y'],_0x29d87c['z']+_0x54a48b[_0x2f63('0x3a2')]);_0x28845e=new _0x14b965(_0x4a8b32,_0x29d87c['y'],_0x29d87c['z']);}var _0x54ba59=new _0x103698(_0x1b969a,_0x551036,_0x28845e);var _0x41e554=new _0x2da5c3(new _0x14b965(_0x4ecd69,_0x29d87c['y'],_0x29d87c['z']),new _0x14b965(_0x4a8b32,_0x29d87c['y'],_0x29d87c['z']));var _0x3f00bd=_0x3dfa4c[_0x3dd616];if(_0x45179c[_0x3b8988]===undefined){var _0x59aa77=_0x491608[_0x3b8988],_0x48333e=_0x59aa77['x'],_0x224512=_0x59aa77['y'],_0x201d99=_0x59aa77['z'];var _0x270e58=new _0x14b965(_0x48333e,_0x224512,_0x201d99);var _0x3460a9=_0x270e58[_0x2f63('0xb5')](_0x41e554[_0x2f63('0x25b')](_0x3f00bd));var _0x42a13e=_0x54ba59[_0x2f63('0x2fa')](_0x3f00bd)[_0x2f63('0x68')]()[_0x2f63('0xb5')](_0x491608[_0x3b8988])[_0x2f63('0xb0')](_0x3460a9);var _0x504490=void 0x0,_0x2aed40=void 0x0,_0x1e330f=void 0x0;if(_0x54a48b['pattern']==='70'){_0x504490=_0x54ba59[_0x2f63('0x307')](_0x3f00bd)[_0x2f63('0x74')]();_0x1e330f=new _0x14b965(0x0,0x0,0x1);_0x2aed40=_0x1e330f[_0x2f63('0x68')]()[_0x2f63('0xd0')](_0x504490)[_0x2f63('0x74')]();}else if(_0x54a48b[_0x2f63('0x3a1')]==='71'){_0x504490=_0x54ba59[_0x2f63('0x307')](_0x3f00bd)['normalize']();_0x2aed40=new _0x14b965(0x0,0x1,0x0);_0x1e330f=_0x504490['clone']()[_0x2f63('0xd0')](_0x2aed40)[_0x2f63('0x74')]();}_0x45179c[_0x3b8988]=_0x42a13e;var _0x17bbdf=new _0x849ca1();_0x17bbdf[_0x2f63('0x67')](_0x504490['x'],_0x504490['y'],_0x504490['z'],_0x2aed40['x'],_0x2aed40['y'],_0x2aed40['z'],_0x1e330f['x'],_0x1e330f['y'],_0x1e330f['z']);_0x17bbdf[_0x2f63('0xe9')]();_0x3b1cfe[_0x3b8988]=_0x17bbdf;}}var _0x375358=new _0x14b965();for(var _0x390083=0x0;_0x390083<_0x40169d;_0x390083++){var _0x7b5f11=_0x3bb389[_0x2f63('0x227')][_0x390083];_0x375358['fromArray'](_0x388fb0,_0x390083*0x3);_0x375358[_0x2f63('0xb5')](_0x491608[_0x7b5f11]);_0x375358[_0x2f63('0xbe')](_0x3b1cfe[_0x7b5f11]);_0x375358['add'](_0x491608[_0x7b5f11]);_0x375358[_0x2f63('0xb0')](_0x45179c[_0x7b5f11]);_0x388fb0[_0x390083*0x3+0x0]=_0x375358['x'];_0x388fb0[_0x390083*0x3+0x1]=_0x375358['y'];_0x388fb0[_0x390083*0x3+0x2]=_0x375358['z'];}}},{'key':'runPattern8','value':function runPattern8(_0xed3333,_0x8d6b2b){var _0x4e7368=_0xed3333[_0x2f63('0xfe')][_0x2f63('0xff')][_0x2f63('0x1f9')];var _0x362b96=parseInt(_0x4e7368[_0x2f63('0x38')]/0x3);var _0x3dad8d=_0x8d6b2b['intensity'],_0x44847a=_0x8d6b2b['randNum'];var _0x4a5a9f=this[_0x2f63('0x3ca')](_0xed3333,_0x8d6b2b),_0x50b76f=_0x4a5a9f[_0x2f63('0x238')];var _0x3a228c=[];var _0x3a4643=[];for(var _0x204b8c=0x0;_0x204b8c<_0x362b96;_0x204b8c++){var _0x40e592=_0xed3333[_0x2f63('0x227')][_0x204b8c];var _0x2ec2f8=new _0x14b965();_0x2ec2f8['fromArray'](_0x4e7368,_0x204b8c*0x3);_0x2ec2f8[_0x2f63('0xb5')](_0x50b76f[_0x40e592]);if(_0x3a228c[_0x40e592]===undefined){var _0x667acf=new _0x14b965(this[_0x2f63('0x381')](_0x44847a+_0x40e592*Math['E']),this[_0x2f63('0x381')](_0x44847a+(_0x40e592+0x1)*Math['E']),this['getRandom'](_0x44847a+(_0x40e592+0x2)*Math['E']));_0x667acf[_0x2f63('0x74')]();_0x3a228c[_0x40e592]=_0x667acf;}if(_0x3a4643[_0x40e592]===undefined){var _0x1fa322=new _0x14b965(0x0,this[_0x2f63('0x381')](_0x44847a+_0x40e592*Math[_0x2f63('0x2e7')])*_0x3dad8d,this[_0x2f63('0x381')](_0x44847a+(_0x40e592+0x1)*Math[_0x2f63('0x2e7')])*_0x3dad8d);_0x3a4643[_0x40e592]=_0x1fa322;}_0x2ec2f8[_0x2f63('0xbd')](_0x3a228c[_0x40e592],_0x8d6b2b[_0x2f63('0x3a3')]/0x32*Math['PI']);_0x2ec2f8['add'](_0x3a4643[_0x40e592]);_0x2ec2f8['add'](_0x50b76f[_0x40e592]);_0x4e7368[_0x204b8c*0x3+0x0]=_0x2ec2f8['x'];_0x4e7368[_0x204b8c*0x3+0x1]=_0x2ec2f8['y'];_0x4e7368[_0x204b8c*0x3+0x2]=_0x2ec2f8['z'];}}},{'key':_0x2f63('0x3cf'),'value':function runPattern9(_0x20b625,_0x56da00){var _0x8d3f93=_0x20b625[_0x2f63('0xfe')]['position'][_0x2f63('0x1f9')];var _0x3faa42=parseInt(_0x8d3f93[_0x2f63('0x38')]/0x3);var _0x113913=this[_0x2f63('0x3ca')](_0x20b625,_0x56da00),_0x46c1e3=_0x113913[_0x2f63('0x10b')],_0x29ac7b=_0x113913[_0x2f63('0x238')],_0x2e4068=_0x113913[_0x2f63('0x228')];var _0x17cacc=_0x56da00[_0x2f63('0x3a2')]*0xa;var _0x211ff0=1.5*Math['PI']-(0x1-_0x56da00[_0x2f63('0x3a3')]/0x64)*Math['PI'];var _0x5d6f5c=-0.5*Math['PI']+(0x1-_0x56da00[_0x2f63('0x3a3')]/0x64)*Math['PI'];var _0x3df59b=new _0x2f7b3d(_0x46c1e3['x'],_0x46c1e3['y'],_0x17cacc,_0x17cacc,_0x211ff0,_0x5d6f5c,!![],0x0);var _0x4c1a3c=[];var _0x314d43=[];var _0x169f4d=_0x20b625[_0x2f63('0x227')][_0x20b625['charVertexFlagArray'][_0x2f63('0x38')]-0x1]+0x1;for(var _0x2891c9=0x0;_0x2891c9<_0x169f4d;_0x2891c9++){var _0x1ddcb4=_0x2891c9;var _0x2b3623=_0x2e4068[_0x2891c9];if(_0x169f4d===0x1)_0x2b3623=0.5;if(_0x4c1a3c[_0x1ddcb4]===undefined){var _0x212530=_0x3df59b[_0x2f63('0x25b')](_0x2b3623);var _0x9fc523=new _0x14b965(_0x212530['x'],_0x212530['y'],0x0)['sub'](_0x29ac7b[_0x1ddcb4]);var _0x321fa4=_0x3df59b['getTangentAt'](_0x2b3623)[_0x2f63('0x74')]();var _0x267365=new _0x14b965(_0x321fa4['x'],_0x321fa4['y'],0x0);var _0x131b62=new _0x14b965(0x0,0x0,0x1);var _0x51db24=_0x131b62[_0x2f63('0x68')]()['cross'](_0x267365)[_0x2f63('0x74')]();_0x4c1a3c[_0x1ddcb4]=_0x9fc523;var _0x232b2e=new _0x849ca1();_0x232b2e['set'](_0x267365['x'],_0x267365['y'],_0x267365['z'],_0x51db24['x'],_0x51db24['y'],_0x51db24['z'],_0x131b62['x'],_0x131b62['y'],_0x131b62['z']);_0x232b2e[_0x2f63('0xe9')]();_0x314d43[_0x1ddcb4]=_0x232b2e;}}var _0x3fedf5=new _0x14b965();for(var _0x1f01af=0x0;_0x1f01af<_0x3faa42;_0x1f01af++){var _0x47de60=_0x20b625['charVertexFlagArray'][_0x1f01af];_0x3fedf5[_0x2f63('0x69')](_0x8d3f93,_0x1f01af*0x3);_0x3fedf5[_0x2f63('0xb5')](_0x29ac7b[_0x47de60]);_0x3fedf5[_0x2f63('0xbe')](_0x314d43[_0x47de60]);_0x3fedf5['add'](_0x29ac7b[_0x47de60]);_0x3fedf5[_0x2f63('0xb0')](_0x4c1a3c[_0x47de60]);_0x8d3f93[_0x1f01af*0x3+0x0]=_0x3fedf5['x'];_0x8d3f93[_0x1f01af*0x3+0x1]=_0x3fedf5['y'];_0x8d3f93[_0x1f01af*0x3+0x2]=_0x3fedf5['z'];}this[_0x2f63('0x3d0')]=_0x3df59b;}},{'key':_0x2f63('0x3ca'),'value':function PerCharCalculation(_0x3cfb04,_0xfbbbcd){var _0xe8351d=new _0x14b965();_0x3cfb04[_0x2f63('0x1f0')][_0x2f63('0xf6')](_0xe8351d);var _0x49415b=_0x3cfb04[_0x2f63('0x238')],_0x5b10b4=_0x3cfb04[_0x2f63('0x228')],_0x1e06a7=_0x3cfb04[_0x2f63('0x229')];var _0x3cd7c3=_0x3cfb04[_0x2f63('0x1f0')][_0x2f63('0x5e')],_0x512dee=_0x3cd7c3['x'],_0x433976=_0x3cd7c3['y'],_0x1ab5e9=_0x3cd7c3['z'];var _0x7c30=_0x3cfb04[_0x2f63('0x1f0')][_0x2f63('0x5d')],_0x31d45c=_0x7c30['x'],_0x3b73f6=_0x7c30['y'],_0x33c5c2=_0x7c30['z'];var _0x145c46=[];for(var _0x2e84b7=0x0;_0x2e84b7<_0xfbbbcd['charPosDatas'][_0x2f63('0x38')];_0x2e84b7++){var _0x2864a3=_0xfbbbcd['charPosDatas'][_0x2e84b7][_0x2f63('0x3ce')];_0x145c46[_0x2864a3]=_0x145c46[_0x2864a3]||new _0x5f39d5();_0x145c46[_0x2864a3][_0x2f63('0x10a')](_0x1e06a7[_0x2e84b7]);}return{'center':_0xe8351d,'minX':_0x512dee,'maxX':_0x31d45c,'minY':_0x433976,'maxY':_0x3b73f6,'minZ':_0x1ab5e9,'maxZ':_0x33c5c2,'charCenterArray':_0x49415b,'charCenterArrayT':_0x5b10b4,'charBBoxArray':_0x1e06a7,'bboxPerLine':_0x145c46};}},{'key':_0x2f63('0x381'),'value':function getRandom(_0x4b6090){var _0x12efea=Math['sin'](_0x4b6090)*43758.5453123;return _0x12efea-Math[_0x2f63('0x382')](_0x12efea);}}]);return _0x1e9629;}();function _0x2a3d69(_0x5e1233){var _0x1be951=_0x2b685d();return function _createSuperInternal(){var _0xee1e1e=_0x7200f8(_0x5e1233),_0x4b43ca;if(_0x1be951){var _0xc8a729=_0x7200f8(this)[_0x2f63('0x14')];_0x4b43ca=Reflect[_0x2f63('0x30a')](_0xee1e1e,arguments,_0xc8a729);}else{_0x4b43ca=_0xee1e1e[_0x2f63('0x10')](this,arguments);}return _0x207b42(this,_0x4b43ca);};}function _0x2b685d(){if(typeof Reflect===_0x2f63('0x8')||!Reflect[_0x2f63('0x30a')])return![];if(Reflect[_0x2f63('0x30a')][_0x2f63('0x30b')])return![];if(typeof Proxy===_0x2f63('0x3'))return!![];try{Boolean['prototype']['valueOf']['call'](Reflect[_0x2f63('0x30a')](Boolean,[],function(){}));return!![];}catch(_0x1037f2){return![];}}var _0x32b882=function(_0x4e12de){_0x2a2d9e(_0x32b882,_0x4e12de);var _0x5da956=_0x2a3d69(_0x32b882);function _0x32b882(){_0x47c705(this,_0x32b882);return _0x5da956[_0x2f63('0x10')](this,arguments);}_0x38642a(_0x32b882,[{'key':_0x2f63('0x3d1'),'value':function patchwork(){var _0x239bae=this;var _0x304d66=function _0x304d66(_0x2cd4e9,_0x277e40){var _0x1a5352=_0x277e40['columnNum'],_0x589fa8=_0x277e40[_0x2f63('0x3d2')];var _0x1a6805=0.5*Math[_0x2f63('0x61')](-0x1,_0x1a5352+0x1)*_0x239bae[_0x2f63('0x385')][0x0]*_0x589fa8;var _0x34032b=_0x239bae['isHorizontal']?new _0x2b6548(0x0,-_0x1a6805):new _0x2b6548(_0x1a6805,0x0);return{'translateVec':_0x34032b};};var _0x52d833=function _0x52d833(_0x47e1b5,_0xb01601){_0x47e1b5['add'](_0xb01601[_0x2f63('0x3d3')]);};this[_0x2f63('0x383')](_0x52d833,_0x304d66);}},{'key':_0x2f63('0x3d4'),'value':function step(){var _0x23a0e9=this;var _0x320c68=function _0x320c68(_0x1902bf,_0x58a7e8){var _0x568851=_0x23a0e9[_0x2f63('0x1f0')]['min'];var _0x4c316a=_0x58a7e8[_0x2f63('0x3d5')];var _0xbf7c3c;if(_0x23a0e9[_0x2f63('0x388')]){var _0x4e10ee=(_0x4c316a['x']-_0x568851['x'])*_0x23a0e9[_0x2f63('0x385')][0x0];_0xbf7c3c=new _0x2b6548(0x0,-_0x4e10ee);}else{var _0x24865f=(_0x4c316a['y']-_0x568851['y'])*_0x23a0e9[_0x2f63('0x385')][0x0];_0xbf7c3c=new _0x2b6548(_0x24865f,0x0);}return{'translateVec':_0xbf7c3c};};var _0x1b8af7=function _0x1b8af7(_0x47e1b5,_0x115066){_0x47e1b5[_0x2f63('0xb0')](_0x115066[_0x2f63('0x3d3')]);};this[_0x2f63('0x383')](_0x1b8af7,_0x320c68);}},{'key':_0x2f63('0x3d6'),'value':function arch2(){var _0x4f9bb9=this;var _0x34db25=function _0x34db25(_0x307c08,_0x74d5d4){var _0xbdd661=_0x4f9bb9[_0x2f63('0x385')][0x0];var _0x869f03=_0x4f9bb9[_0x2f63('0x1f0')][_0x2f63('0x5e')];var _0x720fa=_0x74d5d4[_0x2f63('0x3d5')];var _0xecb323,_0x13ef73;if(_0x4f9bb9[_0x2f63('0x388')]){_0xecb323=(_0x720fa['x']-_0x869f03['x'])/_0x4f9bb9[_0x2f63('0x387')];var _0x4d331d=_0xecb323*(0x1-_0xecb323)*_0xbdd661*_0x4f9bb9[_0x2f63('0x387')];_0x13ef73=new _0x2b6548(0x0,-_0x4d331d);}else{_0xecb323=(_0x720fa['y']-_0x869f03['y'])/_0x4f9bb9[_0x2f63('0x387')];var _0x44d9cc=_0xecb323*(0x1-_0xecb323)*_0xbdd661*_0x4f9bb9[_0x2f63('0x387')];_0x13ef73=new _0x2b6548(_0x44d9cc,0x0);}return{'translateVec':_0x13ef73};};var _0x1c083e=function _0x1c083e(_0x47e1b5,_0x429150){_0x47e1b5['add'](_0x429150[_0x2f63('0x3d3')]);};this[_0x2f63('0x383')](_0x1c083e,_0x34db25);}},{'key':'wave','value':function wave(){var _0x3a035c=this;var _0x35eaf3=function _0x35eaf3(_0x10040c,_0x34f871){var _0xb7fa1b=_0x3a035c[_0x2f63('0x385')][0x0];var _0x35b184=_0x3a035c['boundingBox'],_0x5a8ec6=_0x35b184['width'],_0x4cd7c7=_0x35b184[_0x2f63('0x1db')],_0x54570c=_0x35b184[_0x2f63('0x5e')];var _0x3da9b7=_0x34f871[_0x2f63('0x3d5')];var _0x46fcbf,_0x51b93f;if(_0x3a035c[_0x2f63('0x388')]){_0x46fcbf=(_0x3da9b7['x']-_0x54570c['x'])/_0x5a8ec6;_0x46fcbf*=0x2*Math['PI'];var _0x2dcaa0=0.25*Math['sin'](_0x46fcbf)*_0xb7fa1b*_0x5a8ec6;_0x51b93f=new _0x2b6548(0x0,-_0x2dcaa0);}else{_0x46fcbf=(_0x3da9b7['y']-_0x54570c['y'])/_0x4cd7c7;_0x46fcbf*=0x2*Math['PI'];var _0x2f5011=0.25*Math[_0x2f63('0x87')](_0x46fcbf)*_0xb7fa1b*_0x4cd7c7;_0x51b93f=new _0x2b6548(_0x2f5011,0x0);}return{'translateVec':_0x51b93f};};var _0x4eb77a=function _0x4eb77a(_0x47e1b5,_0x3f70b6){_0x47e1b5[_0x2f63('0xb0')](_0x3f70b6[_0x2f63('0x3d3')]);};this['baseTransform'](_0x4eb77a,_0x35eaf3);}},{'key':_0x2f63('0x3d7'),'value':function stepFarAndNear(){var _0x54f595=this;var _0x7212c2=function _0x7212c2(_0x3e4731,_0x46417a){var _0x21f2ea=_0x46417a[_0x2f63('0x3d5')];var _0x233a66=_0x54f595[_0x2f63('0x385')][0x0];var _0x57f800=_0x54f595[_0x2f63('0x1f0')],_0x3d1676=_0x57f800[_0x2f63('0x5e')],_0x3ac239=_0x57f800[_0x2f63('0x29d')],_0x3417d1=_0x57f800['height'];var _0x2ad08f,_0x2c9308,_0x3ca949;if(_0x54f595[_0x2f63('0x388')]){_0x2ad08f=(_0x21f2ea['x']-_0x3d1676['x'])/_0x3ac239;_0x2c9308=(_0x21f2ea['x']-_0x3d1676['x'])*(_0x233a66*_0x2ad08f+0x1-_0x233a66)+_0x3d1676['x'];_0x3ca949=_0x21f2ea['y'];}else{_0x2ad08f=(_0x21f2ea['y']-_0x3d1676['y'])/_0x3417d1;_0x2c9308=_0x21f2ea['x'];_0x3ca949=(_0x21f2ea['y']-_0x3d1676['y'])*(_0x233a66*_0x2ad08f+0x1-_0x233a66)+_0x3d1676['y'];}var _0x224512=0x2*(_0x2ad08f-0.5)*_0x233a66+0x1;return{'centerX':_0x2c9308,'centerY':_0x3ca949,'t':_0x224512,'centerPos':_0x21f2ea};};var _0x258bf2=function _0x258bf2(_0x47e1b5,_0x482aa1){var _0x12b010=_0x482aa1[_0x2f63('0x3d8')],_0x584ec3=_0x482aa1[_0x2f63('0x3d9')],_0x2894fe=_0x482aa1['t'],_0x389f40=_0x482aa1[_0x2f63('0x3d5')];var _0x161c60=(_0x47e1b5['x']-_0x389f40['x'])*_0x2894fe+_0x12b010;var _0x224512=(_0x47e1b5['y']-_0x389f40['y'])*_0x2894fe+_0x584ec3;_0x47e1b5['set'](_0x161c60,_0x224512);};this[_0x2f63('0x383')](_0x258bf2,_0x7212c2);}},{'key':'archFarAndNear','value':function archFarAndNear(){var _0x9a5685=this;var _0x2bf74d=function _0x2bf74d(){var _0x58fdc9=_0x9a5685[_0x2f63('0x1f0')],_0x20713e=_0x58fdc9[_0x2f63('0x29d')],_0x37db2d=_0x58fdc9[_0x2f63('0x1db')],_0x4ef396=_0x58fdc9[_0x2f63('0x5e')];var _0xc055ed=new _0x2b6548(_0x4ef396['x']+0.5*_0x20713e,_0x4ef396['y']+0.5*_0x37db2d);return{'width':_0x20713e,'height':_0x37db2d,'min':_0x4ef396,'boxCenter':_0xc055ed};};var _0x3f6c5a=function _0x3f6c5a(_0x54454f,_0x5c14fc,_0x4c8df9){var _0x126437=_0x9a5685[_0x2f63('0x385')][0x0];var _0x4df194=_0x5c14fc[_0x2f63('0x3d5')];var _0x590375=_0x4c8df9[_0x2f63('0x3da')],_0x3f526d=_0x4c8df9[_0x2f63('0x29d')],_0x3495ed=_0x4c8df9['height'];var _0x206a55,_0x475496,_0x263cb8;if(_0x9a5685['isHorizontal']){_0x206a55=0x2*Math[_0x2f63('0x75')](_0x4df194['x']-_0x590375['x'])/_0x3f526d;_0x475496=(_0x4df194['x']-_0x590375['x'])*(-_0x126437*_0x206a55+0x1+_0x126437)+_0x590375['x'];_0x263cb8=_0x4df194['y'];}else{_0x206a55=0x2*Math[_0x2f63('0x75')](_0x4df194['y']-_0x590375['y'])/_0x3495ed;_0x475496=_0x4df194['x'];_0x263cb8=(_0x4df194['y']-_0x590375['y'])*(-_0x126437*_0x206a55+0x1+_0x126437)+_0x590375['y'];}var _0x224512=-0x2*(_0x206a55-0.5)*_0x126437+0x1;return{'centerX':_0x475496,'centerY':_0x263cb8,'t':_0x224512,'centerPos':_0x4df194};};var _0x23a1ab=function _0x23a1ab(_0x47e1b5,_0x399f56){var _0x56120b=_0x399f56[_0x2f63('0x3d8')],_0x1b01d7=_0x399f56[_0x2f63('0x3d9')],_0x229b44=_0x399f56['t'],_0xcf1dbd=_0x399f56[_0x2f63('0x3d5')];var _0x3cb557=(_0x47e1b5['x']-_0xcf1dbd['x'])*_0x229b44+_0x56120b;var _0x224512=(_0x47e1b5['y']-_0xcf1dbd['y'])*_0x229b44+_0x1b01d7;_0x47e1b5['set'](_0x3cb557,_0x224512);};this[_0x2f63('0x383')](_0x23a1ab,_0x3f6c5a,_0x2bf74d);}},{'key':_0x2f63('0x3db'),'value':function horizontalRotate(){var _0x5197e2=this;var _0x325c5b=function _0x325c5b(_0x1614a9,_0x31914d){var _0x3404fb=_0x31914d[_0x2f63('0x3d5')];var _0x205666=0.333*_0x5197e2[_0x2f63('0x385')][0x0]*Math['PI'];var _0x588063=Math[_0x2f63('0x86')](_0x205666);var _0xcca308=Math[_0x2f63('0x87')](_0x205666);return{'cos':_0x588063,'sin':_0xcca308,'centerPos':_0x3404fb};};var _0x393002=function _0x393002(_0x47e1b5,_0x2fb9a1){var _0x504f57=_0x2fb9a1[_0x2f63('0x86')],_0x53b37e=_0x2fb9a1[_0x2f63('0x87')],_0x169b4c=_0x2fb9a1[_0x2f63('0x3d5')];var _0x3705d3=_0x47e1b5['x']-_0x169b4c['x'];var _0x44ebed=_0x47e1b5['y']-_0x169b4c['y'];var _0x84a063=_0x169b4c['x']+_0x3705d3*_0x504f57-_0x44ebed*_0x53b37e;var _0x224512=_0x169b4c['y']+_0x3705d3*_0x53b37e+_0x44ebed*_0x504f57;_0x47e1b5['set'](_0x84a063,_0x224512);};this[_0x2f63('0x383')](_0x393002,_0x325c5b);}},{'key':_0x2f63('0x3dc'),'value':function horizontalCurvedRotate(){var _0x45235a=this;var _0x353d9b=function _0x353d9b(){var _0x242834=_0x45235a[_0x2f63('0x1f0')],_0x14ce7d=_0x242834[_0x2f63('0x29d')],_0x308894=_0x242834[_0x2f63('0x1db')],_0x13e47b=_0x242834[_0x2f63('0x5e')];var _0x1c7634=new _0x2b6548(_0x13e47b['x']+_0x14ce7d/0x2,_0x13e47b['y']+_0x308894/0x2);var _0x5c9ca3=_0x45235a[_0x2f63('0x33f')]*0x2/Math[_0x2f63('0x87')](_0x45235a[_0x2f63('0x385')][0x0]*Math['PI']*0.5);var _0x56ee40=0.5*_0x45235a['baseWidth']/_0x5c9ca3;var _0xc52082=_0x45235a[_0x2f63('0x388')]?0x0:0.5*Math['PI'];var _0x366621=new _0x518eb0(_0x1c7634,_0x5c9ca3,_0xc52082-_0x56ee40,_0xc52082+_0x56ee40);return{'width':_0x14ce7d,'min':_0x13e47b,'height':_0x308894,'curve':_0x366621,'isHorizontal':_0x45235a[_0x2f63('0x388')]};};var _0x39edbf=this[_0x2f63('0x3dd')](!![]),_0x5bd514=_0x39edbf[_0x2f63('0x3de')],_0x92781b=_0x39edbf[_0x2f63('0x3df')];this[_0x2f63('0x383')](_0x92781b,_0x5bd514,_0x353d9b);}},{'key':_0x2f63('0x3e0'),'value':function arbitraryOffsetRotate(){var _0x525a89=this;var _0x3fe883=this[_0x2f63('0x2e6')][_0x2f63('0x3e1')];var _0x32800a=function _0x32800a(_0x4e4bf0,_0x461d50){var _0x348525=_0x461d50[_0x2f63('0x3d2')],_0x5d4851=_0x461d50[_0x2f63('0x3d5')];var _0x189e2c=_0x525a89[_0x2f63('0x381')](_0x3fe883+_0x4e4bf0*Math['E']);var _0x218899=0.5*_0x525a89[_0x2f63('0x385')][0x1]*Math['PI']*_0x189e2c;var _0x15d4cc=Math[_0x2f63('0x86')](_0x218899);var _0xd29f4=Math[_0x2f63('0x87')](_0x218899);_0x189e2c=_0x525a89[_0x2f63('0x381')](_0x3fe883+_0x4e4bf0*_0x4e4bf0*Math['E']);var _0x20d973=0.5*_0x525a89[_0x2f63('0x385')][0x0]*_0x189e2c*_0x348525;return{'cos':_0x15d4cc,'sin':_0xd29f4,'diviate':_0x20d973,'centerPos':_0x5d4851};};var _0x150315=function _0x150315(_0x47e1b5,_0x2498aa){var _0x1026ca=_0x2498aa[_0x2f63('0x86')],_0x32af39=_0x2498aa[_0x2f63('0x3e2')],_0x420666=_0x2498aa['sin'],_0xab837a=_0x2498aa['centerPos'];var _0xc1b49c=_0x47e1b5['x']-_0xab837a['x'];var _0x8e2fcd=_0x47e1b5['y']-_0xab837a['y'];var _0xbfedcb,_0x224512;if(_0x525a89[_0x2f63('0x388')]){_0xbfedcb=_0xab837a['x']+_0xc1b49c*_0x1026ca-_0x8e2fcd*_0x420666;_0x224512=_0xab837a['y']+_0x32af39+_0xc1b49c*_0x420666+_0x8e2fcd*_0x1026ca;}else{_0xbfedcb=_0xab837a['x']+_0x32af39+_0xc1b49c*_0x1026ca-_0x8e2fcd*_0x420666;_0x224512=_0xab837a['y']+_0xc1b49c*_0x420666+_0x8e2fcd*_0x1026ca;}_0x47e1b5[_0x2f63('0x67')](_0xbfedcb,_0x224512);};this[_0x2f63('0x383')](_0x150315,_0x32800a);}},{'key':_0x2f63('0x3e3'),'value':function ellipse(){var _0xa30abf=this;var _0x49d11c=function _0x49d11c(){var _0x3c54d9=_0xa30abf[_0x2f63('0x1f0')],_0xab37f2=_0x3c54d9[_0x2f63('0x29d')],_0x289d88=_0x3c54d9[_0x2f63('0x1db')],_0x3be294=_0x3c54d9[_0x2f63('0x5e')];var _0x59926d=_0xa30abf[_0x2f63('0x385')][0x3]||0x0;var _0x541081,_0x1953ba,_0x586c1d,_0x4080bc;if(_0xa30abf[_0x2f63('0x388')]){_0x541081=_0x3be294['x']+0.5*_0xab37f2;_0x1953ba=_0x3be294['y'];_0x586c1d=0.5*_0xab37f2*_0xa30abf[_0x2f63('0x385')][0x0];_0x4080bc=Math['sqrt'](0x1-_0x59926d*_0x59926d)*_0x586c1d;}else{_0x541081=_0x3be294['x'];_0x1953ba=_0x3be294['y']+0.5*_0x289d88;_0x4080bc=0.5*_0x289d88*_0xa30abf['intensitys'][0x0];_0x586c1d=Math[_0x2f63('0x84')](0x1-_0x59926d*_0x59926d)*_0x4080bc;}var _0x66ce1f=(_0xa30abf[_0x2f63('0x385')][0x1]/1.8+(_0xa30abf[_0x2f63('0x388')]?0x1:1.5))*Math['PI'];var _0x5c948c=_0x66ce1f+_0xa30abf[_0x2f63('0x385')][0x2]/1.8*Math['PI'];var _0x3e1b4a=![];var _0x254b78=new _0x2f7b3d(_0x541081,_0x1953ba,_0x586c1d,_0x4080bc,_0x66ce1f,_0x5c948c,_0x3e1b4a);return{'width':_0xab37f2,'min':_0x3be294,'height':_0x289d88,'curve':_0x254b78,'isHorizontal':_0xa30abf[_0x2f63('0x388')]};};var _0x5348eb=this[_0x2f63('0x3dd')](this[_0x2f63('0x2e6')][_0x2f63('0x3e4')]),_0x2912f8=_0x5348eb['funcPerChar'],_0x7920be=_0x5348eb['funcPerCurve'];this['baseTransform'](_0x7920be,_0x2912f8,_0x49d11c);}},{'key':'triangle','value':function _0x35036b(){this['polygon']();}},{'key':_0x2f63('0x3e5'),'value':function rectangular(){var _0x4318b2=this;var _0x526404=function _0x526404(){var _0x1174ed=_0x4318b2[_0x2f63('0x1f0')],_0x120d66=_0x1174ed['width'],_0x18d4e6=_0x1174ed[_0x2f63('0x1db')],_0x30494f=_0x1174ed['min'];var _0x46ff23,_0x34a1b1;if(_0x4318b2[_0x2f63('0x388')]){_0x46ff23=new _0x2b6548(_0x30494f['x']+0.5*_0x120d66,_0x30494f['y']);_0x34a1b1=0.5*_0x4318b2[_0x2f63('0x385')][0x0]*_0x120d66;}else{_0x46ff23=new _0x2b6548(_0x30494f['x'],_0x30494f['y']+0.5*_0x18d4e6);_0x34a1b1=0.5*_0x4318b2[_0x2f63('0x385')][0x0]*_0x18d4e6;}var _0x43b61a=_0x4318b2[_0x2f63('0x385')][0x1];var _0x3ebe09=_0x4318b2['intensitys'][0x2];var _0x20132f=_0x3ebe09+_0x4318b2['intensitys'][0x3];var _0x33aa0b=new _0x27f76e(_0x46ff23,_0x34a1b1,_0x43b61a,_0x3ebe09,_0x20132f);return{'width':_0x120d66,'min':_0x30494f,'height':_0x18d4e6,'curve':_0x33aa0b,'isHorizontal':_0x4318b2[_0x2f63('0x388')]};};var _0x598d98=this['getPerCharAndCurveFunc'](this['options'][_0x2f63('0x3e4')]),_0x5c743b=_0x598d98['funcPerChar'],_0x1c0051=_0x598d98[_0x2f63('0x3df')];this[_0x2f63('0x383')](_0x1c0051,_0x5c743b,_0x526404);}},{'key':_0x2f63('0x3e6'),'value':function pentagon(){this[_0x2f63('0x3e7')]();}},{'key':_0x2f63('0x3e7'),'value':function polygon(){var _0x391ab9=this;var _0x265a31=function _0x265a31(){var _0x3a07c8=_0x391ab9[_0x2f63('0x1f0')],_0x5e42ad=_0x3a07c8[_0x2f63('0x29d')],_0x7125d6=_0x3a07c8[_0x2f63('0x1db')],_0x45af8e=_0x3a07c8['min'];var _0x4ee15c,_0x2eeaf0;if(_0x391ab9[_0x2f63('0x388')]){_0x4ee15c=new _0x2b6548(_0x45af8e['x']+0.5*_0x5e42ad,_0x45af8e['y']);_0x2eeaf0=0.5*_0x391ab9[_0x2f63('0x385')][0x0]*_0x5e42ad;}else{_0x4ee15c=new _0x2b6548(_0x45af8e['x'],_0x45af8e['y']+0.5*_0x7125d6);_0x2eeaf0=0.5*_0x391ab9[_0x2f63('0x385')][0x0]*_0x7125d6;}var _0x119d62=_0x391ab9[_0x2f63('0x385')][0x1]*0x64;var _0x10b636=_0x391ab9[_0x2f63('0x385')][0x2];var _0x5d1856=_0x10b636+_0x391ab9[_0x2f63('0x385')][0x3];var _0x2293a2=new _0x2735df(_0x4ee15c,_0x2eeaf0,_0x119d62,_0x10b636,_0x5d1856);return{'width':_0x5e42ad,'min':_0x45af8e,'height':_0x7125d6,'curve':_0x2293a2,'isHorizontal':_0x391ab9['isHorizontal'],'needExpandAlongNormal':!![]};};var _0x4a9857=this[_0x2f63('0x3dd')](this[_0x2f63('0x2e6')][_0x2f63('0x3e4')]),_0x40ffed=_0x4a9857['funcPerChar'],_0x1ad8d2=_0x4a9857[_0x2f63('0x3df')];this[_0x2f63('0x383')](_0x1ad8d2,_0x40ffed,_0x265a31);}},{'key':_0x2f63('0x3e8'),'value':function heart(){var _0x111a49=this;var _0x198d69=function _0x198d69(){var _0x4b885c=_0x111a49[_0x2f63('0x1f0')],_0x3394e8=_0x4b885c[_0x2f63('0x29d')],_0x188fc3=_0x4b885c[_0x2f63('0x1db')],_0x19a843=_0x4b885c[_0x2f63('0x5e')];var _0x287b59,_0x2c0386;if(_0x111a49[_0x2f63('0x388')]){_0x287b59=new _0x2b6548(_0x19a843['x']+0.5*_0x3394e8,_0x19a843['y']);_0x2c0386=0.5*_0x111a49[_0x2f63('0x385')][0x0]*_0x3394e8;}else{_0x287b59=new _0x2b6548(_0x19a843['x'],_0x19a843['y']+0.5*_0x188fc3);_0x2c0386=0.5*_0x111a49[_0x2f63('0x385')][0x0]*_0x188fc3;}var _0x482b06=_0x111a49[_0x2f63('0x385')][0x1];var _0x4206ee=_0x482b06+_0x111a49[_0x2f63('0x385')][0x2];var _0x34364d=new _0x4605f3(_0x287b59,_0x2c0386,_0x482b06,_0x4206ee);return{'width':_0x3394e8,'min':_0x19a843,'height':_0x188fc3,'curve':_0x34364d,'isHorizontal':_0x111a49[_0x2f63('0x388')]};};var _0x46d7f0=this[_0x2f63('0x3dd')](this[_0x2f63('0x2e6')][_0x2f63('0x3e4')]),_0x32d8af=_0x46d7f0['funcPerChar'],_0x3cf980=_0x46d7f0[_0x2f63('0x3df')];this[_0x2f63('0x383')](_0x3cf980,_0x32d8af,_0x198d69);}},{'key':_0x2f63('0x3dd'),'value':function getPerCharAndCurveFunc(_0x2d1394){var _0x11c044,_0x4e7e51;if(_0x2d1394){_0x11c044=this[_0x2f63('0x3e9')];_0x4e7e51=this[_0x2f63('0x3ea')];}else{_0x11c044=this['calculateNewCenterWithoutRotate'];_0x4e7e51=this[_0x2f63('0x3eb')];}return{'funcPerChar':_0x11c044,'funcPerCurve':_0x4e7e51};}},{'key':_0x2f63('0x3e9'),'value':function calculateNewCenter(_0x1107cb,_0x5c2260,_0x3e101a){var _0x266e96=_0x3e101a[_0x2f63('0x29d')],_0xbda0fa=_0x3e101a[_0x2f63('0x1db')],_0x4dc6cc=_0x3e101a[_0x2f63('0x5e')],_0x3cda1b=_0x3e101a[_0x2f63('0x3d0')],_0x5d37b0=_0x3e101a['isHorizontal'],_0x502ab5=_0x3e101a['needExpandAlongNormal'],_0x229715=_0x502ab5===void 0x0?![]:_0x502ab5;var _0x194962=_0x5c2260[_0x2f63('0x3d5')],_0x490af0=_0x5c2260['centerDiviation'];var _0x5b4ba2=_0x5d37b0?(_0x194962['x']-_0x4dc6cc['x'])/_0x266e96:(_0x194962['y']-_0x4dc6cc['y'])/_0xbda0fa;var _0x2d82ef=_0x5d37b0?new _0x2b6548(0x0,_0x194962['y']-_0x4dc6cc['y']):new _0x2b6548(_0x194962['x']-_0x4dc6cc['x'],0x0);if(_0x229715){var _0x50d17f=_0x3cda1b[_0x2f63('0x305')](_0x5b4ba2);_0x2d82ef['addScaledVector'](_0x50d17f,-_0x490af0);}var _0x3c45a5=_0x3cda1b[_0x2f63('0x2fa')](_0x5b4ba2)[_0x2f63('0xb0')](_0x2d82ef);var _0x46d8c0=_0x3cda1b[_0x2f63('0x306')](_0x5b4ba2);var _0x135fb9=_0x46d8c0['x'];var _0xd6ded3=_0x46d8c0['y'];return{'cos':_0x135fb9,'sin':_0xd6ded3,'newCenterPos':_0x3c45a5,'centerPos':_0x194962};}},{'key':_0x2f63('0x3ec'),'value':function calculateNewCenterWithoutRotate(_0x16bfcd,_0x49eb9b,_0xd74ebb){var _0x594471=_0xd74ebb['width'],_0x1111f2=_0xd74ebb['height'],_0x1117f5=_0xd74ebb['min'],_0x4700bc=_0xd74ebb[_0x2f63('0x3d0')],_0x48f461=_0xd74ebb['isHorizontal'];var _0x1bb618=_0x49eb9b['centerPos'];var _0x172289=_0x48f461?(_0x1bb618['x']-_0x1117f5['x'])/_0x594471:(_0x1bb618['y']-_0x1117f5['y'])/_0x1111f2;var _0x3132b8=_0x48f461?new _0x2b6548(0x0,_0x1bb618['y']-_0x1117f5['y']):new _0x2b6548(_0x1bb618['x']-_0x1117f5['x'],0x0);var _0x15832e=_0x4700bc[_0x2f63('0x2fa')](_0x172289)[_0x2f63('0xb0')](_0x3132b8);return{'newCenterPos':_0x15832e,'centerPos':_0x1bb618};}},{'key':_0x2f63('0x3ea'),'value':function resetPointPos(_0x47e1b5,_0x21cc9b){var _0x4f53f7=_0x21cc9b[_0x2f63('0x3ed')],_0x2b5b0c=_0x21cc9b[_0x2f63('0x86')],_0x5211e2=_0x2b5b0c===void 0x0?0x1:_0x2b5b0c,_0x5cc8ef=_0x21cc9b[_0x2f63('0x87')],_0x1f544=_0x5cc8ef===void 0x0?0x0:_0x5cc8ef,_0x4ce26b=_0x21cc9b[_0x2f63('0x3d5')];var _0x3d8ab5=_0x47e1b5['x']-_0x4ce26b['x'];var _0x1d2b93=_0x47e1b5['y']-_0x4ce26b['y'];var _0x223485=_0x4f53f7['x']+_0x3d8ab5*_0x5211e2-_0x1d2b93*_0x1f544;var _0x224512=_0x4f53f7['y']+_0x3d8ab5*_0x1f544+_0x1d2b93*_0x5211e2;_0x47e1b5['set'](_0x223485,_0x224512);}},{'key':_0x2f63('0x3eb'),'value':function resetPointPosWithoutRotate(_0x47e1b5,_0x529fc4){var _0x2f729d=_0x529fc4[_0x2f63('0x3ed')],_0x36be3f=_0x529fc4[_0x2f63('0x3d5')];var _0x37250d=_0x47e1b5['x']-_0x36be3f['x']+_0x2f729d['x'];var _0x224512=_0x47e1b5['y']-_0x36be3f['y']+_0x2f729d['y'];_0x47e1b5[_0x2f63('0x67')](_0x37250d,_0x224512);}},{'key':_0x2f63('0x38f'),'value':function transform(_0x5bacf1,_0x5177af){if(Math[_0x2f63('0x113')]['apply'](Math,_0x9959f(_0x5177af['intensitys']))){_0x260cbe(_0x7200f8(_0x32b882[_0x2f63('0x9')]),_0x2f63('0x38f'),this)['call'](this,_0x5bacf1,_0x5177af);var _0x54df04=this['options'][_0x2f63('0x28')][_0x2f63('0x179')](/-byWord$/,'');this[_0x54df04]&&this[_0x54df04]();}return this[_0x2f63('0x37a')](_0x5bacf1);}}]);return _0x32b882;}(_0x342d56);function _0x120868(_0xa22ecf,_0x5f3d7f,_0x11c5ea){var _0x1533e4={'pattern':0x3,'intensity':_0x11c5ea,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0x1533e4,_0x5f3d7f);var _0x4eb9f4=new _0x50fa18();_0x4eb9f4[_0x2f63('0x36a')](_0xa22ecf,_0x1533e4);return _0xa22ecf;}function _0x173c7b(_0x309ded,_0x10c3d1,_0x166645,_0xf658a8){var _0x48f105={'pattern':0x5,'intensity':_0x166645,'intensity1':_0xf658a8,'basisType':'bernstein'};Object[_0x2f63('0xe2')](_0x48f105,_0x10c3d1);var _0x6a1e3c=new _0x50fa18();_0x6a1e3c['RUN'](_0x309ded,_0x48f105);return _0x309ded;}function _0xaba3f7(_0x4d4ca7,_0x59dc98,_0x217699){var _0x45277a={'pattern':0x1f5,'intensity':_0x217699,'basisType':'linear'};Object[_0x2f63('0xe2')](_0x45277a,_0x59dc98);var _0x5211e1=new _0x50fa18();_0x5211e1[_0x2f63('0x36a')](_0x4d4ca7,_0x45277a);return _0x4d4ca7;}function _0xb7ec8c(_0x2c5b6a,_0x42be76,_0x36fa96){var _0x8f0050={'pattern':0x1f6,'intensity':_0x36fa96,'basisType':_0x2f63('0x396')};Object['assign'](_0x8f0050,_0x42be76);var _0x58c17b=new _0x50fa18();_0x58c17b['RUN'](_0x2c5b6a,_0x8f0050);return _0x2c5b6a;}function _0x1c7cb4(_0x14f55f,_0x1f6664,_0x30441e){var _0x247bd1={'pattern':0x4,'intensity':_0x30441e,'basisType':_0x2f63('0x3a5')};Object['assign'](_0x247bd1,_0x1f6664);var _0x51c10c=new _0x50fa18();_0x51c10c['RUN'](_0x14f55f,_0x247bd1);return _0x14f55f;}function _0x2bf01a(_0x436967,_0xbc80a4,_0x573db9){var _0x2e06af={'pattern':0xe,'intensity':_0xbc80a4,'intensity1':_0x573db9,'basisType':_0x2f63('0x396')};var _0x4fd449=new _0x50fa18();_0x4fd449['RUN'](_0x436967,_0x2e06af);return _0x436967;}function _0x2aa853(_0x85ed43,_0x28dc22,_0x15cd60){var _0x5c9061={'pattern':0x65,'intensity':_0x15cd60,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0x5c9061,_0x28dc22);var _0x1f3175=new _0x50fa18();_0x1f3175['RUN'](_0x85ed43,_0x5c9061);return _0x85ed43;}function _0x50bdba(_0x2f8766,_0x2d6b6d){var _0x493562=arguments[_0x2f63('0x38')]>0x2&&arguments[0x2]!==undefined?arguments[0x2]:0x0;var _0x35785b=arguments['length']>0x3&&arguments[0x3]!==undefined?arguments[0x3]:0x0;var _0x30d771={'pattern':0x9,'intensity':_0x493562,'intensity1':_0x35785b,'basisType':_0x2f63('0x396')};Object['assign'](_0x30d771,_0x2d6b6d);var _0x52f6a8=new _0x50fa18();_0x52f6a8[_0x2f63('0x36a')](_0x2f8766,_0x30d771);return _0x2f8766;}function _0x1c1d0f(_0x12af9f,_0x1210bd,_0x550b46,_0x48c1a0){var _0xf76430={'pattern':0xa,'intensity':_0x550b46,'intensity1':_0x48c1a0,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0xf76430,_0x1210bd);var _0x9891ae=new _0x50fa18();_0x9891ae[_0x2f63('0x36a')](_0x12af9f,_0xf76430);return _0x12af9f;}function _0x2d36b3(_0x223b44,_0x21869d,_0x3340b3,_0x3d37a3){var _0x1c21a6={'pattern':0x6,'intensity':_0x3340b3,'intensity1':_0x3d37a3,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0x1c21a6,_0x21869d);var _0x36bc6f=new _0x50fa18();_0x36bc6f[_0x2f63('0x36a')](_0x223b44,_0x1c21a6);return _0x223b44;}function _0x136fca(_0x3da490,_0x65d828,_0x1d3a2e,_0x1f1a44){var _0x51429a={'pattern':0x192,'intensity':_0x1d3a2e,'intensity1':_0x1f1a44,'basisType':_0x2f63('0x3a5')};Object['assign'](_0x51429a,_0x65d828);var _0x4ec40d=new _0x50fa18();_0x4ec40d[_0x2f63('0x36a')](_0x3da490,_0x51429a);return _0x3da490;}function _0x49bfd4(_0x3e4330,_0x5e62aa,_0x50d271){var _0xa6161b={'pattern':0x1,'intensity':_0x50d271,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0xa6161b,_0x5e62aa);var _0x32afe1=new _0x50fa18();_0x32afe1['RUN'](_0x3e4330,_0xa6161b);return _0x3e4330;}function _0x23caf5(_0x31829a,_0x4d6e42,_0xb11f0a){var _0x589e72={'pattern':0x2,'intensity':_0xb11f0a,'basisType':_0x2f63('0x3a5')};Object[_0x2f63('0xe2')](_0x589e72,_0x4d6e42);var _0x15d29e=new _0x50fa18();_0x15d29e[_0x2f63('0x36a')](_0x31829a,_0x589e72);return _0x31829a;}function _0x1cfe04(_0x74e6fd,_0x47fecc,_0x1a3b19,_0x310e88){var _0x45310b={'pattern':0x10,'intensity':_0x1a3b19,'intensity1':_0x310e88,'basisType':_0x2f63('0x396')};Object[_0x2f63('0xe2')](_0x45310b,_0x47fecc);var _0x662685=new _0x50fa18();_0x662685[_0x2f63('0x36a')](_0x74e6fd,_0x45310b);return _0x74e6fd;}function _0x2f9d4f(_0x5734e4,_0x584cf9){var _0x2684c9=new _0x1e9629();_0x2684c9['RUN'](_0x5734e4,_0x584cf9);return _0x5734e4;}var _0xe2c25a=new _0x3f879b[(_0x2f63('0x3ee'))](0x5);_0x3a2596[_0x2f63('0x64')]('version',''[_0x2f63('0x184')](_0x1a835f));var _0x327133={'size':0x64,'height':0xa,'steps':0x1,'curveSegments':0xa,'bevelEnabled':![],'bevelThickness':0x1,'bevelSize':-0x5,'bevelSegments':0x4,'bevelType':'quad_ellipse','extrudeOffsetX':0x0,'extrudeOffsetY':0x0,'laplacianIterationNumb':0x0,'shrink_factor':0x0,'enable_collision_detection':![],'expand':0x0,'triangulateMethod':_0x2f63('0x2b7'),'horizon':!![],'offsetScale':0x1,'shadingSmoothAngle':0x32,'lineHeight':0x1,'letterSpacing':0x1,'modelRotate':[0x0,0x0,0x0],'textAlign':_0x2f63('0x10b'),'writingMode':_0x2f63('0x3b0'),'worker':!![],'isDeformationON':![]};function _0x486042(_0x4f7db5){return _0x39411d[_0x2f63('0x10')](this,arguments);}function _0x39411d(){_0x39411d=_0x35333c(_0x2aac35[_0x2f63('0x3d')](function _callee(_0x51393d){var _0x123800,_0x1f6bcd,_0x25f48a;return _0x2aac35[_0x2f63('0x2a')](function _callee$(_0x788f5c){while(0x1){switch(_0x788f5c[_0x2f63('0x46')]=_0x788f5c[_0x2f63('0x21')]){case 0x0:_0x788f5c[_0x2f63('0x21')]=0x2;return fetch(_0x51393d);case 0x2:_0x123800=_0x788f5c[_0x2f63('0x23')];_0x788f5c[_0x2f63('0x21')]=0x5;return _0x123800['arrayBuffer']();case 0x5:_0x1f6bcd=_0x788f5c['sent'];_0x25f48a=_0x3da9a9(_0x1f6bcd);return _0x788f5c[_0x2f63('0x26')](_0x2f63('0x25'),new _0x2a6bf3(_0x25f48a));case 0x8:case'end':return _0x788f5c[_0x2f63('0x34c')]();}}},_callee);}));return _0x39411d[_0x2f63('0x10')](this,arguments);}function _0xd13db9(_0x410dc7,_0xd18e7e){return _0x5e5d27['apply'](this,arguments);}function _0x5e5d27(){_0x5e5d27=_0x35333c(_0x2aac35['mark'](function _callee2(_0x46dd47,_0x29892c){var _0x3451e1,_0xd63929,_0xc0c726,_0x18472d,_0xc1ee5b,_0x21e39f,_0x9cf665,_0x2ad0ca,_0x14e8f3,_0x5a5ec1,_0x55b40d,_0x5c178e,_0x59a07f,_0x480029,_0x306045,_0x4a5758,_0x161f4b,_0x20da08,_0xd278e5,_0x40eb95,_0x4fde92,_0x2b4f18,_0x51dfa4,_0x18c190,_0x4e125b,_0x4e95f4,_0x5a5d09,_0xe6faf,_0x382671,_0x5e1dc3,_0x4de6fd,_0x5e8b1d,_0x2fe459,_0x34afa1,_0x3cf9c5,_0x5c3e96,_0x5b2c6b,_0x106f6b,_0x29a297,_0x2ecae0,_0x2ee459,_0xdf0c23,_0x43d2c6,_0x4b80ec,_0x30bfa4,_0x18e212,_0x574edc;return _0x2aac35[_0x2f63('0x2a')](function _callee2$(_0x190023){while(0x1){switch(_0x190023[_0x2f63('0x46')]=_0x190023[_0x2f63('0x21')]){case 0x0:_0x3451e1=_0x5aa5e8(_0x463546(_0x29892c,_0x4b59bd),_0x327133);_0x3a2596[_0x2f63('0x64')](_0x2f63('0x3ef'),_0x3451e1);_0xd63929=_0x29892c[_0x2f63('0x3f0')],_0xc0c726=_0x29892c['warpByWord'];_0x18472d=_0xd63929['intensity'],_0xc1ee5b=_0xd63929['type'],_0x21e39f=_0xd63929[_0x2f63('0x3a3')];_0x9cf665=/Curve$/[_0x2f63('0x151')](_0xc1ee5b);if(_0x9cf665&&_0xd63929[_0x2f63('0x3a2')]){_0x3451e1[_0x2f63('0x2c4')]=!![];}if(_0xc0c726[_0x2f63('0x16e')]&&_0xc0c726['pattern']==='90'){_0x46dd47=_0x46dd47[_0x2f63('0x179')](/\n/,'');}_0x2ad0ca=_0x46dd47+_0x29892c['font'][_0x2f63('0x3f1')];for(_0x14e8f3 in _0x29892c){_0x5a5ec1=_0x29892c[_0x14e8f3];if(!(_0x5a5ec1 instanceof Object)){_0x2ad0ca+='_'+_0x14e8f3+'_'+_0x5a5ec1;}}_0x55b40d=_0xe2c25a[_0x2f63('0x1e4')](_0x2ad0ca);if(_0x55b40d){_0x190023[_0x2f63('0x21')]=0x1a;break;}_0x55b40d=new _0x221eb8(_0x46dd47,_0x3451e1);_0x190023[_0x2f63('0x46')]=0xc;_0x190023[_0x2f63('0x21')]=0xf;return _0x55b40d[_0x2f63('0x370')]();case 0xf:_0x190023['next']=0x15;break;case 0x11:_0x190023[_0x2f63('0x46')]=0x11;_0x190023['t0']=_0x190023[_0x2f63('0x3f2')](0xc);console[_0x2f63('0x3f3')](_0x190023['t0']);throw new Error(_0x2f63('0x3f4'));case 0x15:_0x5c178e=_0x30b7a9[_0x2f63('0x3f5')](_0x55b40d);_0x5c178e[_0x2f63('0x3f6')]=_0x55b40d[_0x2f63('0xfe')][_0x2f63('0xff')]['array'][_0x2f63('0x48')]();_0xe2c25a[_0x2f63('0x67')](_0x2ad0ca,_0x5c178e);_0x190023[_0x2f63('0x21')]=0x1b;break;case 0x1a:_0x55b40d['attributes'][_0x2f63('0xff')][_0x2f63('0x1f9')]=_0x55b40d[_0x2f63('0x3f6')][_0x2f63('0x48')]();case 0x1b:_0x59a07f=_0x55b40d[_0x2f63('0x242')][_0x2f63('0x2e6')],_0x480029=_0x59a07f[_0x2f63('0x384')],_0x306045=_0x59a07f[_0x2f63('0x347')],_0x4a5758=_0x59a07f[_0x2f63('0x3f7')],_0x161f4b=_0x59a07f[_0x2f63('0x3a7')];if(_0xc0c726[_0x2f63('0x16e')]){_0x20da08=_0xc0c726[_0x2f63('0x3a2')],_0xd278e5=_0xc0c726[_0x2f63('0x3a3')],_0x40eb95=_0xc0c726[_0x2f63('0x3e1')],_0x4fde92=_0xc0c726[_0x2f63('0x3a1')],_0x2b4f18=_0xc0c726[_0x2f63('0x342')],_0x51dfa4=_0x2b4f18===void 0x0?0x0:_0x2b4f18;_0x18c190={'pattern':_0x4fde92,'offsetX':_0x51dfa4,'intensity':_0x20da08,'intensity1':_0xd278e5,'charPosDatas':_0x480029,'textAlign':_0x306045,'randNum':_0x40eb95,'maxLineWidth':_0x161f4b};_0x2f9d4f(_0x55b40d,_0x18c190);}_0x4e125b={'baseLineHeight':_0x4a5758,'maxLineWidth':_0x161f4b};_0x190023['t1']=_0xc1ee5b;_0x190023[_0x2f63('0x21')]=_0x190023['t1']==='none'?0x21:_0x190023['t1']===_0x2f63('0x38e')?0x22:_0x190023['t1']===_0x2f63('0x3b5')?0x24:_0x190023['t1']===_0x2f63('0x3b6')?0x26:_0x190023['t1']===_0x2f63('0x3b7')?0x28:_0x190023['t1']===_0x2f63('0x3f8')?0x2a:_0x190023['t1']===_0x2f63('0x3b8')?0x2c:_0x190023['t1']===_0x2f63('0x3b9')?0x2e:_0x190023['t1']===_0x2f63('0x3ba')?0x30:_0x190023['t1']===_0x2f63('0x3bb')?0x32:_0x190023['t1']===_0x2f63('0x3bc')?0x34:_0x190023['t1']==='horizontalTrapezoid'?0x36:_0x190023['t1']===_0x2f63('0x3f9')?0x38:_0x190023['t1']===_0x2f63('0x3fa')?0x3a:_0x190023['t1']===_0x2f63('0x3b1')?0x3c:_0x190023['t1']===_0x2f63('0x3b2')?0x3e:_0x190023['t1']==='foldedCorner'?0x40:_0x190023['t1']==='lateralStretching'?0x42:_0x190023['t1']===_0x2f63('0x3be')?0x44:0x46;break;case 0x21:return _0x190023['abrupt'](_0x2f63('0x4d'),0x46);case 0x22:_0x120868(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023['abrupt'](_0x2f63('0x4d'),0x46);case 0x24:_0x23caf5(_0x55b40d,_0x4e125b,-_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x26:_0x49bfd4(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x28:_0x1c7cb4(_0x55b40d,_0x4e125b,-_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x2a:_0x23caf5(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x2c:_0x50bdba(_0x55b40d,_0x4e125b,_0x18472d,-_0x21e39f);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x2e:_0x2aa853(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023['abrupt'](_0x2f63('0x4d'),0x46);case 0x30:_0x136fca(_0x55b40d,_0x4e125b,_0x18472d,_0x21e39f);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x32:_0x173c7b(_0x55b40d,_0x4e125b,-_0x18472d,_0x21e39f);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x34:_0x2d36b3(_0x55b40d,_0x4e125b,-_0x18472d,_0x21e39f);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x36:_0x1c1d0f(_0x55b40d,_0x4e125b,-_0x18472d,_0x21e39f);return _0x190023['abrupt']('break',0x46);case 0x38:_0x1cfe04(_0x55b40d,_0x4e125b,_0x18472d,_0x18472d);return _0x190023['abrupt']('break',0x46);case 0x3a:_0x1cfe04(_0x55b40d,_0x4e125b,_0x18472d,0x0);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x3c:_0x1cfe04(_0x55b40d,_0x4e125b,0x0,-_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x3e:_0x1cfe04(_0x55b40d,_0x4e125b,_0x18472d,-_0x18472d);return _0x190023[_0x2f63('0x26')]('break',0x46);case 0x40:_0x1cfe04(_0x55b40d,_0x4e125b,-_0x18472d,_0x18472d);return _0x190023[_0x2f63('0x26')]('break',0x46);case 0x42:_0xaba3f7(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023['abrupt']('break',0x46);case 0x44:_0xb7ec8c(_0x55b40d,_0x4e125b,_0x18472d);return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x46);case 0x46:_0x3a2596['time'](_0x2f63('0x3fb'));_0x2bf01a(_0x55b40d,_0xd63929[_0x2f63('0x3fc')],_0xd63929[_0x2f63('0x3fd')]);_0x3a2596['timeEnd'](_0x2f63('0x3fb'));_0x55b40d[_0x2f63('0x10b')]();_0x55b40d['computeBoundingBox']();_0x4e95f4=_0x55b40d[_0x2f63('0x1f8')];_0x5a5d09=_0x55b40d[_0x2f63('0x3fe')](_0x2f63('0xff'));_0xe6faf=_0x55b40d[_0x2f63('0x3fe')](_0x2f63('0x27'));_0x382671=_0x55b40d['getAttribute']('uv');_0x5e1dc3=_0x55b40d,_0x4de6fd=_0x5e1dc3[_0x2f63('0x1f0')],_0x5e8b1d=_0x5e1dc3['groups'];_0x3a2596[_0x2f63('0x64')]('bufferGeometry\x20vertex\x20count'+_0x5a5d09[_0x2f63('0x1fc')]);_0x2fe459=_0x3451e1[_0x2f63('0x2cf')];_0x34afa1=0x0,_0x3cf9c5=0x0,_0x5c3e96=0x0;_0x5b2c6b=0x0;case 0x54:if(!(_0x5b2c6b<_0x5e8b1d[_0x2f63('0x38')])){_0x190023[_0x2f63('0x21')]=0x62;break;}_0x106f6b=_0x2fe459?_0x5b2c6b%0x3:_0x5b2c6b%0x2*0x2;_0x190023['t2']=_0x106f6b;_0x190023[_0x2f63('0x21')]=_0x190023['t2']===0x0?0x59:_0x190023['t2']===0x1?0x5b:_0x190023['t2']===0x2?0x5d:0x5f;break;case 0x59:_0x5c3e96+=_0x5e8b1d[_0x5b2c6b][_0x2f63('0x1fc')];return _0x190023['abrupt'](_0x2f63('0x4d'),0x5f);case 0x5b:_0x3cf9c5+=_0x5e8b1d[_0x5b2c6b][_0x2f63('0x1fc')];return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x5f);case 0x5d:_0x34afa1+=_0x5e8b1d[_0x5b2c6b][_0x2f63('0x1fc')];return _0x190023[_0x2f63('0x26')](_0x2f63('0x4d'),0x5f);case 0x5f:_0x5b2c6b++;_0x190023[_0x2f63('0x21')]=0x54;break;case 0x62:_0x29a297=[new Uint32Array(_0x5c3e96),new Uint32Array(_0x3cf9c5),new Uint32Array(_0x34afa1)];_0x2ecae0=[0x0,0x0,0x0];for(_0x2ee459=0x0;_0x2ee459<_0x5e8b1d[_0x2f63('0x38')];_0x2ee459++){_0xdf0c23=_0x2fe459?_0x2ee459%0x3:_0x2ee459%0x2*0x2;_0x43d2c6=_0x5e8b1d[_0x2ee459],_0x4b80ec=_0x43d2c6[_0x2f63('0x1fb')],_0x30bfa4=_0x43d2c6[_0x2f63('0x1fc')];if(_0x29a297[_0xdf0c23][_0x2f63('0x38')]){_0x29a297[_0xdf0c23]['set'](_0x4e95f4[_0x2f63('0x1f9')][_0x2f63('0x48')](_0x4b80ec,_0x4b80ec+_0x30bfa4),_0x2ecae0[_0xdf0c23]);}_0x2ecae0[_0xdf0c23]+=_0x5e8b1d[_0x2ee459][_0x2f63('0x1fc')];}_0x18e212={'position':new Float32Array(_0x5a5d09['array']),'normal':new Float32Array(_0xe6faf[_0x2f63('0x1f9')]),'texCoord':new Float32Array(_0x382671[_0x2f63('0x1f9')])};_0x574edc={'data':_0x18e212,'indexArray':_0x29a297,'boundingBox':{'min':[_0x4de6fd['min']['x'],_0x4de6fd[_0x2f63('0x5e')]['y'],_0x4de6fd[_0x2f63('0x5e')]['z']],'max':[_0x4de6fd[_0x2f63('0x5d')]['x'],_0x4de6fd[_0x2f63('0x5d')]['y'],_0x4de6fd[_0x2f63('0x5d')]['z']]}};return _0x190023[_0x2f63('0x26')](_0x2f63('0x25'),_0x574edc);case 0x68:case _0x2f63('0x4b'):return _0x190023['stop']();}}},_callee2,null,[[0xc,0x11]]);}));return _0x5e5d27['apply'](this,arguments);}_0x468769[_0x2f63('0x3ff')]=_0x3c5fd3;_0x468769[_0x2f63('0x400')]=_0x2b9d60;_0x468769['FFD']=_0x50fa18;_0x468769[_0x2f63('0x401')]=_0x4dae98;_0x468769[_0x2f63('0x336')]=_0xc8ceb5;_0x468769[_0x2f63('0x402')]=_0x145fac;_0x468769[_0x2f63('0x403')]=_0x1e9629;_0x468769[_0x2f63('0x404')]=_0x32b882;_0x468769[_0x2f63('0x405')]=_0xd13db9;_0x468769[_0x2f63('0x406')]=_0x486042;Object[_0x2f63('0x5a')](_0x468769,_0x2f63('0x11'),{'value':!![]});}));
